{"version":3,"sources":["components/QrcodeModal/img/WconfAndroid.png","components/QrcodeModal/img/WconfIos.png","services/api.js","layout/themeContext.js","context/ActiveMenuContext/index.js","config.js","components/BackdropLoading/index.js","translate/languages/pt.js","translate/languages/index.js","translate/languages/en.js","translate/languages/es.js","translate/i18n.js","components/MarkdownWrapper/index.js","errors/toastError.js","services/SocketWorker.js","services/socket.js","hooks/useAuth.js/index.js","context/Auth/AuthContext.js","assets/instagram.png","assets/whatsapp.png","context/Tickets/TicketsContext.js","components/TicketListItem/index.js","hooks/useTickets/index.js","hooks/useSettings/companySettings.js","components/NotificationsPopOver/index.js","hooks/useWhatsApps/index.js","components/QueueSelect/index.js","components/AvatarUpload/index.js","rules.js","components/Can/index.js","components/TabPanel/index.js","components/UserModal/index.js","hooks/useHelps/index.js","context/WhatsApp/WhatsAppsContext.js","hooks/usePlans/index.js","hooks/useVersion/index.js","layout/MainListItems.js","components/AnnouncementsPopover/index.js","components/UserLanguageSelector/index.js","hooks/useDate/index.js","hooks/useSettings/index.js","pages/Chat/ChatPopover.js","components/VersionControl/index.js","layout/AppListItems.js","components/NotificationsVolume/index.js","layout/index.js","components/Dashboard/TableAttendantsStatus.js","components/ForbiddenPage/index.js","hooks/useDashboard/index.js","pages/Dashboard/index.js","utils/FormatMask.js","utils/formatSerializedId.js","components/ModalImageCors/index.js","components/ContactDrawerSkeleton/index.js","components/ContactForm/index.js","components/TagsContainer/index.js","components/ContactModal/index.js","components/ContactNotesDialogListItem/index.js","components/ConfirmationModal/index.js","components/ContactNotesEditModal/index.js","components/ButtonWithSpinner/index.js","hooks/useTicketNotes/index.js","components/ContactNotes/index.js","components/TagsKanbanContainer/index.js","components/ContactDrawer/index.js","context/ReplyingMessage/ReplyingMessageContext.js","components/MessageInput/RecordingTimer.js","hooks/useQuickMessages/index.js","components/ShowTicketOpenModal/index.js","components/ContactSendModal/index.js","components/CameraModal/index.js","context/ForwarMessage/ForwardMessageContext.js","components/AudioModal/index.js","components/MessageUploadMedias/index.js","context/EditingMessage/EditingMessageContext.js","components/OutlinedDiv/index.js","components/MessageVariablesPicker/index.js","hooks/useQueues/index.js","components/UserModal/statusIcon.js","components/ScheduleModal/index.js","components/ToolTips/index.js","components/MessageInput/index.js","components/TicketHeaderSkeleton/index.js","components/TicketHeader/index.js","components/TicketInfo/index.js","components/TransferTicketModalCustom/index.js","components/AcceptTicketWithoutQueueModal/index.js","components/ShowTicketLogModal/index.js","assets/wa-background-dark.png","assets/wa-background.png","components/LocationPreview/index.js","components/InformationModal/index.js","components/ForwardMessageModal/index.js","components/MessageOptionsMenu/index.js","components/ModalYoutubeCors/index.js","components/VcardPreview/index.js","context/QueuesSelected/QueuesSelectedContext.js","components/MessagesList/SelectMessageCheckbox.js","components/MessagesList/index.js","components/TicketMessagesDialog/index.js","components/TicketActionButtonsCustom/index.js","components/Ticket/index.js","components/NewTicketModal/index.js","components/ContactTag/index.js","components/ConnectionIcon/index.js","components/TicketListItemCustom/index.js","components/TicketsListSkeleton/index.js","components/TicketsListCustom/index.js","components/TicketsQueueSelect/index.js","components/TagsFilter/index.js","components/UsersFilter/index.js","components/StatusFilter/index.js","components/WhatsappsFilter/index.js","components/TicketsManagerTabs/index.js","pages/TicketsCustom/index.js","components/TicketAdvancedLayout/index.js","pages/TicketsAdvanced/index.js","pages/TicketResponsiveContainer/index.js","utils/countryRules.js","pages/Signup/index.js","pages/Login/index.js","components/MainContainer/index.js","components/MainHeader/index.js","components/MainHeaderButtonsWrapper/index.js","components/TableRowSkeleton/index.js","components/Title/index.js","components/QrcodeModal/index.js","components/SchedulesForm/index.js","components/WhatsAppModal/index.js","pages/Connections/index.js","hooks/useCompanies/index.js","components/ModalUsers/index.js","components/CompaniesManager/index.js","components/PlansManager/index.js","components/HelpsManager/index.js","components/Settings/Options.js","components/OnlyForSuperUser/index.js","components/ColorPicker/index.js","assets/logo.png","assets/logo-black.png","components/ColorBoxModal/index.js","components/Settings/Whitelabel.js","pages/SettingsCustom/index.js","components/FormFields/InputField.js","components/FormFields/SelectField.js","components/CheckoutPage/Forms/AddressForm.js","components/CheckoutPage/Forms/PaymentForm.js","components/CheckoutPage/ReviewOrder/styles.js","components/CheckoutPage/ReviewOrder/ShippingDetails.js","components/CheckoutPage/ReviewOrder/PaymentDetails.js","components/CheckoutPage/ReviewOrder/index.js","components/CheckoutPage/ReviewOrder/ReviewOrder.js","components/CheckoutPage/CheckoutSuccess/style.js","components/CheckoutPage/CheckoutSuccess/CheckoutSuccess.js","components/CheckoutPage/CheckoutSuccess/index.js","components/CheckoutPage/FormModel/checkoutFormModel.js","components/CheckoutPage/FormModel/validationSchema.js","components/CheckoutPage/FormModel/formInitialValues.js","components/CheckoutPage/styles.js","components/CheckoutPage/index.js","components/CheckoutPage/CheckoutPage.js","components/SubscriptionModal/index.js","pages/Financeiro/index.js","pages/Users/index.js","components/ContactImportWpModal/index.js","pages/Contacts/index.js","assets/upload.gif","hooks/useWindowDimensions/index.js","components/ContactImport/index.js","pages/Contacts/import.js","components/MomentsUser/index.js","pages/Moments/index.js","components/ChatBots/options.js","components/QueueModal/index.js","pages/Queues/index.js","components/ContactTagListModal/index.js","components/TagModal/index.js","pages/Tags/index.js","pages/MessagesAPI/index.js","pages/Helps/index.js","components/ContactListDialog/index.js","pages/ContactLists/index.js","components/ContactListItemModal/index.js","hooks/useContactLists/index.js","pages/ContactListItems/index.js","components/CompaniesModal/index.js","pages/Companies/index.js","components/QuickMessageDialog/index.js","pages/QuickMessages/index.js","routes/Route.js","pages/Schedules/index.js","components/CampaignModal/index.js","pages/Campaigns/index.js","pages/CampaignsConfig/index.js","components/Dashboard/CardCounter.js","pages/CampaignReport/index.js","components/AnnouncementModal/index.js","pages/Annoucements/index.js","pages/Chat/ChatList.js","pages/Chat/ChatMessages.js","pages/Chat/index.js","components/QueueSelectSingle/index.js","components/PromptModal/index.js","pages/Prompts/index.js","components/WhatsAppModalAdmin/index.js","components/CompanyWhatsapps/index.js","pages/AllConnections/index.js","components/QueueSelectCustom/index.js","pages/Reports/index.js","stores/useNodeStorage.js","pages/FlowBuilderConfig/nodes/messageNode.js","components/FlowBuilderAddTextModal/index.js","components/FlowBuilderIntervalModal/index.js","pages/FlowBuilderConfig/nodes/startNode.js","pages/FlowBuilderConfig/nodes/conditionNode.js","pages/FlowBuilderConfig/nodes/menuNode.js","pages/FlowBuilderConfig/nodes/intervalNode.js","pages/FlowBuilderConfig/nodes/imgNode.js","pages/FlowBuilderConfig/nodes/randomizerNode.js","pages/FlowBuilderConfig/nodes/videoNode.js","components/FlowBuilderConditionModal/index.js","components/FlowBuilderMenuModal/index.js","components/FlowBuilderAddImgModal/index.js","components/FlowBuilderAddTicketModal/index.js","components/FlowBuilderAddAudioModal/index.js","pages/FlowBuilderConfig/nodes/audioNode.js","components/FlowBuilderRandomizerModal/index.js","components/FlowBuilderAddVideoModal/index.js","utils/capitalize.js","components/FlowBuilderSingleBlockModal/index.js","pages/FlowBuilderConfig/nodes/singleBlockNode.js","pages/FlowBuilderConfig/nodes/ticketNode.js","pages/FlowBuilderConfig/index.js","pages/FlowBuilderConfig/nodes/removeEdge.js","styles/styles.js","components/FlowBuilderModal/index.js","pages/FlowBuilder/index.js","context/Socket/SocketContext.js","pages/FlowDefault/index.js","components/CampaignModalPhrase/index.js","pages/CampaignsPhrase/index.js","pages/Subscription/index.js","assets/flowbuilders.png","assets/n8n.png","assets/webhook.png","components/QueueIntegrationModal/index.js","pages/QueueIntegration/index.js","components/FileModal/index.js","pages/Files/index.js","pages/ToDoList/index.js","pages/Kanban/index.js","pages/TagsKanban/index.js","components/ModalPlantao/index.js","pages/Plantao/index.js","routes/index.js","App.js","index.js","serviceWorker.js","assets/favicon.ico","assets/flag-brazil.png","assets/planilha.xlsx","assets/flag-united-states.png","assets/flag-spain.png","assets/flag-turkey.png","assets/nopicture.png","assets/facebook.png","assets/sound.mp3","assets/chat_notify.mp3","assets/dialogflow.png","assets/typebot.jpg"],"names":["module","exports","api","axios","create","baseURL","process","withCredentials","openApi","ColorModeContext","React","createContext","toggleColorMode","setPrimaryColorLight","_","setPrimaryColorDark","setAppLogoLight","setAppLogoDark","setAppLogoFavicon","ActiveMenuContext","useActiveMenu","useContext","ActiveMenuProvider","_ref","children","activeMenu","setActiveMenu","useState","createElement","Provider","value","getConfig","name","defaultValue","arguments","length","undefined","window","ENV","getBackendUrl","useStyles","makeStyles","theme","backdrop","zIndex","drawer","color","BackdropLoading","classes","Backdrop","className","open","CircularProgress","messages","_objectSpread","pt","translations","signup","title","toasts","success","fail","form","email","password","company","phone","buttons","submit","login","button","register","companies","plan","token","auth","dueDate","expiration","days","day","expirationToday","dashboard","tabs","indicators","assessments","attendants","charts","perDay","cards","inAttendance","waiting","activeAttendants","finalized","newContacts","totalReceivedMessages","totalSentMessages","averageServiceTime","averageWaitingTime","status","activeTickets","passiveTickets","groups","users","numberAppointments","statusNow","totalCallsUser","totalAttendances","date","initialDate","finalDate","licence","available","totalCalls","callsWaitRating","callsWithoutRating","ratedCalls","evaluationIndex","score","prosecutors","neutral","detractors","reports","operator","period","until","reportTitle","calls","search","durationCalls","grupoSessions","groupTicketsReports","timezone","msgToast","errorToast","back","groupServiceReport","loading","contact","dateOpen","dateLastUpdated","agent","agentClosed","waitingAssistance","researchReports","response","active","inactive","quantity","percentage","activeSearch","inactiveSearch","ticketDurationDetail","startService","lastUpdated","lastAgent","durationFinished","ticketDuration","pending","finished","durationAfterFinished","actions","ticketReports","pdf","exportTitle","todo","newTask","add","task","contactImportWpModal","downloadModel","closed","import","connections","waitConnection","newConnection","restartConnections","callSupport","deleted","closedimported","confirmationModal","closedImportedTitle","closedImportedMessage","deleteTitle","deleteMessage","disconnectTitle","disconnectMessage","disconnect","tryAgain","qrcode","newQr","closedImported","preparing","importing","processed","in","connecting","typography","toolTips","disconnected","content","connected","timeout","table","lastUpdate","default","session","number","showTicketOpenModal","header","message","user","queue","messageWait","showTicketLogModal","options","chatBot","access","transfered","receivedTransfer","reopen","redirect","whatsappModal","edit","general","integrations","schedules","importOldMessagesEnable","importOldMessages","importRecentMessages","importOldMessagesGroups","closedTicketsPostImported","queueRedirection","queueRedirectionDesc","group","timeSendQueue","importAlert","groupAsTicket","timeCreateNewTicket","maxUseBotQueues","timeUseBotQueues","expiresTicket","expiresTicketNPS","maxUseBotQueuesNPS","closeLastMessageOptions1","closeLastMessageOptions2","outOfHoursMessage","greetingMessage","complationMessage","lgpdLinkPrivacy","lgpdMessage","lgpdDeletedMessages","lgpdSendMessage","ratingMessage","sendIdQueue","inactiveMessage","timeInactiveMessage","whenExpiresTicket","expiresInactiveMessage","prompt","collectiveVacationEnd","collectiveVacationStart","collectiveVacationMessage","queueIdImportMessages","okAdd","okEdit","cancel","menuItem","enabled","disabled","minutes","errorSendQueue","errorExpiresNPS","errorRatingMessage","qrCode","contacts","searchPlaceholder","importTitlte","exportContact","blockContact","unblockContact","importMessage","importChat","wantImport","deleteAllContact","deleteAllTitle","export","deleteAllContacts","whatsapp","lastMessage","menu","importYourPhone","importToExcel","forwardMessage","text","forwardMessageModal","ok","promptModal","voice","max_tokens","temperature","apikey","max_messages","voiceKey","voiceRegion","prompts","contactModal","mainInfo","extraInfo","extraName","extraValue","chatBotContact","termsLGDP","addExtraInfo","flowbuilderModal","flowNotIdPhrase","queueModal","queueData","confirmationDelete","orderQueue","rotate","timeRotate","integrationId","fileListId","closeTicket","queueType","integration","file","bot","toolTipTitle","toolTip","selectOption","attendent","toolTipMessageTitle","toolTipMessageContent","selectUser","selectQueue","selectIntegration","addOptions","serviceHours","dayWeek","startTimeA","endTimeA","startTimeB","endTimeB","monday","tuesday","wednesday","thursday","friday","saturday","sunday","queueIntegrationModal","id","type","projectName","language","jsonContent","urlN8N","typebotSlug","typebotExpires","typebotKeywordFinish","typebotKeywordRestart","typebotRestartMessage","typebotUnknownMessage","typebotDelayMessage","test","testSuccess","addSuccess","editSuccess","userModal","warning","updateImage","removeImage","farewellMessage","profile","startWork","endWork","allTicketEnable","allTicketDisable","allTicket","allowGroup","defaultMenuOpen","defaultMenuClosed","defaultMenu","defaultTheme","defaultThemeDark","defaultThemeLight","allHistoric","allHistoricEnabled","allHistoricDisabled","allUserChat","userClosePendingTicket","showDashboard","allowRealTime","allowConnections","permissions","addImage","editImage","companyModal","passwordDefault","numberAttendants","numberConections","scheduleModal","body","sendAt","sentAt","assinar","addSchedule","tagModal","addKanban","editKanban","timeLane","nextLaneId","greetingMessageLane","rollbackLaneId","successKanban","fileModal","fileOptions","chat","noTicketMessage","uploads","titles","titleUploadMsgDragDrop","titleFileList","chatInternal","new","modal","conversation","filterUsers","save","modalDelete","ticketsManager","questionCloseTicket","yes","not","newTicket","resolveAll","close","ticketsQueueSelect","placeholder","tickets","inbox","closedAllTickets","closedAll","no","resolverd","notification","filterConections","filterConectionsOptions","filterContacts","ticketsPerPage","showAll","returnQueue","scredule","deleteTicket","closedTicket","closedMessage","closedNotMessage","transferTicketModal","fieldLabel","fieldQueueLabel","fieldQueuePlaceholder","fieldWhatsapp","noOptions","msgTransfer","ticketsList","called","today","missedCall","pendingHeader","assignedHeader","groupingHeader","noTicketsTitle","noTicketsMessage","noQueue","accept","start","transfer","ignore","exportAsPDF","kanbanActions","acceptModal","newTicketModal","SendContactModal","mainDrawer","listItems","chatsTempoReal","quickMessages","queues","tags","administration","settings","files","helps","messagesAPI","campaigns","flowbuilder","campaignFlow","conversationFlow","annoucements","chats","financeiro","queueIntegration","version","kanban","allConnections","management","notifyUser","appBar","logout","messageEnd","goodMorning","myName","continuity","virtualAssistant","location","notRegister","refresh","appBarListem","newVersion","ticket","notificationUser","quickResponse","schedule","chatBots","dark","light","vertical","languages","es","en","tr","textMessage","userId","queueId","mediaMessage","media","API","methods","messagesText","messagesMidia","instructions","comments","comments1","comments2","codeCountry","code","notifications","noTickets","noAttachment","attach","dialog","shortcode","geral","visao","mediaName","contactLists","contactListItems","lists","subMenus","list","listContacts","randomInterval","noBreak","intervalGapAfter","laggerTriggerRange","addVar","shortcut","contactList","option","scheduledAt","completedAt","confirmation","update","readonly","help","message1","message2","message3","message4","message5","confirmationMessage1","confirmationMessage2","confirmationMessage3","confirmationMessage4","confirmationMessage5","messagePlaceholder","tagList","statusTicket","openTicketStatus","pendingTicketStatus","closedTicketStatus","enabledOpenTicket","disabledOpenTicket","openTicket","okadd","restart","campaignReport","scheduled","cancelled","campaign","validContacts","confirmationsRequested","confirmations","deliver","connection","conclusion","announcements","priority","mediaPath","high","medium","low","campaignsConfig","greeting","ID","queueSelect","inputLabel","inputLabelRO","withoutQueue","dateClose","NPS","supportTime","filter","onlyRated","compaies","namePlan","numberQueues","useCampaigns","useExternalApi","useFacebook","useInstagram","useWhatsapp","useInternalChat","useSchedules","createdAt","lastLogin","money","document","recurrence","monthly","bimonthly","quarterly","semester","yearly","clear","delete","plans","public","codeVideo","description","tagsKanban","laneDefault","deletedAll","deleteAll","deleteAllMessage","userCreation","updating","creationCompanyUser","evaluations","officeScheduling","queueManagement","companyManagement","connectionManagement","sendGreetingAccepted","sendMsgTransfTicket","checkMsgIsGroup","chatBotType","userRandom","showHiddenMessageButton","showButtonCamera","showButtonSendAudio","showButtonSendContact","showButtonSendUrlVideoCall","acceptCallWhatsapp","sendSignMessage","sendGreetingMessageOneQueues","sendQueuePosition","sendFarewellWaitingTicket","acceptAudioMessageContact","enableLGPD","requiredTag","closeTicketOnTransfer","DirectTicketsToWallets","showNotificationPending","customMessages","sendQueuePositionMessage","AcceptCallWhatsappMessage","greetingAcceptedMessage","transferMessage","LGPD","welcome","linkLGPD","obfuscateMessageDelete","alwaysConsent","obfuscatePhoneUser","messagesList","assignedTo","dialogRatingTitle","dialogClosingTitle","dialogRatingCancel","dialogRatingSuccess","dialogRatingWithoutFarewellMsg","ratingTitle","notMessage","amount","return","resolve","rating","enableIntegration","disableIntegration","logTicket","messagesInput","placeholderPrivateMessage","placeholderOpen","placeholderClosed","signMessage","privateMessage","contactDrawer","block","unblock","messageVariablesPicker","label","vars","contactFirstName","contactName","protocolNumber","hour","ticket_id","ticketOptionsMenu","registerAppointment","resolveWithNoFarewell","acceptAudioMessage","appointmentsModal","textarea","titleFrom","confirm","messageInput","tooltip","signature","meet","imageVideo","cam","messageOptionsMenu","reply","forward","toForward","talkTo","react","reactions","like","love","haha","reactionSuccess","invoices","details","expirationDate","action","backendErrors","ERR_INSUFFICIENT_QUOTA","ERR_NO_OTHER_WHATSAPP","ERR_NO_DEF_WAPP_FOUND","ERR_WAPP_NOT_INITIALIZED","ERR_WAPP_CHECK_CONTACT","ERR_WAPP_INVALID_CONTACT","ERR_WAPP_DOWNLOAD_MEDIA","ERR_INVALID_CREDENTIALS","ERR_SENDING_WAPP_MSG","ERR_DELETE_WAPP_MSG","ERR_OTHER_OPEN_TICKET","ERR_SESSION_EXPIRED","ERR_USER_CREATION_DISABLED","ERR_NO_PERMISSION","ERR_DUPLICATED_CONTACT","ERR_NO_SETTING_FOUND","ERR_NO_CONTACT_FOUND","ERR_NO_TICKET_FOUND","ERR_NO_USER_FOUND","ERR_NO_WAPP_FOUND","ERR_CREATING_MESSAGE","ERR_CREATING_TICKET","ERR_FETCH_WAPP_MSG","ERR_QUEUE_COLOR_ALREADY_EXISTS","ERR_WAPP_GREETING_REQUIRED","ERR_OUT_OF_HOURS","ERR_COMAPANY_REGISTRED","billete","QuickResponse","Kanban","contactos","horario","etiquetas","configuración","oscuro","luz","notificación","perfil","resolvAll","ratings","i18n","use","LanguageDetector","init","debug","defaultNS","fallbackLng","ns","resources","elements","allowedElements","CustomLink","props","_objectWithoutProperties","_excluded","Object","assign","target","rel","MarkdownWrapper","_ref2","boldRegex","tildaRegex","includes","replace","RegExp","useMemo","markdownOptions","disableParsingRawHTML","forceInline","overrides","a","component","forEach","element","el","Markdown","toastError","err","_err$response","_err$response$data","errorMsg","data","error","exists","concat","toast","t","toastId","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","isString","SocketWorker","constructor","companyId","instance","this","socket","configureSocket","eventListeners","publicToken","localStorage","getItem","io","autoConnect","reconnection","reconnectionDelay","reconnectionAttempts","Infinity","query","on","console","log","reason","_this$socket","reconnectAfterDelay","event","callback","connect","push","emit","off","cb","setTimeout","_this$socket2","sessionToken","opts","forceReconnect","socketConnection","params","_params$user","_params$user2","isObject","useAuth","history","useHistory","isAuth","setIsAuth","setLoading","setUser","setSocket","isHorizontal","setIsHorizontal","interceptors","request","config","headers","JSON","parse","Promise","reject","async","_error$response","_error$response2","originalRequest","_retry","post","setItem","stringify","defaults","Authorization","removeItem","useEffect","keys","handleLogin","userData","has","isArray","companieSettings","setting","find","s","key","signEnable","profileImage","moment","locale","format","vencimento","diff","before","isBefore","dias","duration","asDays","Math","round","warn","handleLogout","getCurrentUserInfo","get","AuthContext","AuthProvider","TicketsContext","TicketsContextProvider","currentTicket","setCurrentTicket","tabOpen","setTabOpen","uuid","position","pendingTicket","cursor","noTicketsDiv","display","height","margin","flexDirection","alignItems","justifyContent","noTicketsText","textAlign","fontSize","lineHeight","fontWeight","contactNameWrapper","lastMessageTime","marginRight","right","bottom","closedBadge","alignSelf","justifySelf","marginLeft","contactLastMessage","paddingRight","newMessagesCount","bottomButton","top","badgeStyle","backgroundColor","green","acceptButton","left","ticketQueueColor","flex","width","userTag","palette","background","primary","main","border","padding","paddingLeft","borderRadius","divTags","flexWrap","divUser","tagsWrapper","badge","boxShadow","paper","animation","transform","opacity","SmallAvatar","withStyles","root","Avatar","TicketListItem","_ticket$queue","_ticket$queue2","_ticket$contact","_ticket$contact2","_ticket$whatsapp","_ticket$userRating","_ticket$user","_ticket$tags","ticketId","useParams","isMounted","useRef","current","handleClosedTicket","put","sendFarewellMessage","amountUsedBotQueues","renderUserName","emojiRegex","trim","split","Fragment","ListItem","dense","onClick","e","uuidv4","handleSelectTicket","selected","clsx","Tooltip","arrow","placement","style","ListItemAvatar","Badge","overlap","anchorOrigin","horizontal","badgeContent","alt","channel","src","facebookIcon","whatsappIcon","insatagramIcon","urlPicture","ListItemText","disableTypography","Typography","noWrap","variant","isSameDay","parseISO","updatedAt","Date","whatsappId","secondary","userRating","rate","icon","getRatingIcon","unreadMessages","IconButton","toString","isBot","handleAcepptTicketBot","handleAcepptTicket","CheckIcon","isGroup","toUpperCase","ClearOutlinedIcon","handleViewTicket","ReplayIcon","handleReopenTicket","Divider","useTickets","searchParam","pageNumber","queueIds","withUnreadMessages","whatsappIds","statusFilter","forceSearch","userFilter","sortTickets","searchOnMessages","hasMore","setHasMore","setTickets","count","setCount","delayDebounceFn","whatsapps","dateStart","sub","dateEnd","item","fetchTickets","clearTimeout","useCompanySettings","getAll","url","method","responseData","tabContainer","overflowY","maxHeight","scrollbarStyles","popoverPaper","maxWidth","spacing","breakpoints","down","noShadow","NotificationsPopOver","volume","useTheme","ticketIdUrl","pathname","ticketIdRef","anchorEl","isOpen","setIsOpen","setNotifications","getSetting","map","q","showTicketWithoutQueue","setShowTicketWithoutQueue","setShowNotificationPending","showGroupNotification","setShowGroupNotification","setDesktopNotifications","play","useSound","alertSound","soundAlertRef","historyRef","column","fetchSettings","Notification","requestPermission","onConnectNotificationsPopover","onCompanyTicketNotificationsPopover","prevState","ticketIndex","findIndex","splice","notfiticationIndex","n","tag","String","onCompanyAppMessageNotificationsPopover","_data$ticket","_data$ticket2","_user$queues","_data$ticket3","_data$ticket4","_data$ticket5","_data$ticket6","_data$ticket6$whatsap","fromMe","read","some","_data$ticket7","_data$ticket7$whatsap","visibilityState","handleNotifications","renotify","onclick","preventDefault","focus","handleClickAway","NotificationTicket","substring","appName","Favicon","animated","appLogoFavicon","defaultLogoFavicon","alertCount","iconSize","handleClick","ref","aria-label","size","MessageCircleMore","Popover","disableScrollLock","transformOrigin","onClose","List","reducer","state","payload","whatsApp","whatsAppIndex","retries","whatsAppId","useWhatsApps","whatsApps","dispatch","useReducer","fetchSession","onCompanyWhatsapp","onCompanyWhatsappSession","chips","chip","QueueSelect","selectedQueueIds","onChange","setQueues","marginTop","FormControl","fullWidth","InputLabel","Select","multiple","labelWidth","MenuProps","getContentAnchorEl","renderValue","Chip","MenuItem","avatar","AvatarUploader","setAvatar","selectedFile","setSelectedFile","previewImage","setPreviewImage","Box","reader","FileReader","onload","result","readAsDataURL","htmlFor","Button","startIcon","CloudUploadIcon","rules","static","admin","Can","role","perform","check","staticPermissions","dynamicPermissions","dynamic","permissionCondition","defaultProps","TabPanel","rest","aria-labelledby","backendUrl","require","multFieldLine","btnWrapper","buttonProgress","formControl","minWidth","textField","container","updateDiv","updateInput","updateLabel","textTransform","errorUpdate","errorText","UserSchema","Yup","shape","min","max","required","nullable","UserModal","initialState","loggedInUser","setSelectedQueueIds","setWhatsappId","profileUrl","setProfileUrl","tab","setTab","startWorkRef","endWorkRef","_data$queues","userQueueIds","fetchUser","handleClose","handleTabChange","newValue","Dialog","scroll","DialogTitle","Formik","initialValues","enableReinitialize","validationSchema","onSubmit","values","uploadAvatar","formData","FormData","append","reload","handleSaveUser","setSubmitting","touched","errors","isSubmitting","setFieldValue","Form","Paper","mainPaper","elevation","Tabs","indicatorColor","textColor","scrollButtons","Tab","DialogContent","dividers","Grid","alignContent","xs","md","xl","Field","as","TextField","autoFocus","Boolean","helperText","labelId","ampm","inputRef","InputLabelProps","shrink","inputProps","step","multiline","rows","DialogActions","usePlans","findAll","remove","WhatsAppsContext","WhatsAppsProvider","getPlanList","getPlanCompany","useVersion","getVersion","listItem","listItemText","mode","avatarActive","avatarHover","iconHoverActive","ListItemLink","to","showBadge","useLocation","isActive","renderLink","forwardRef","itemProps","RouterLink","ConditionalTooltip","tooltipEnabled","ListItemIcon","newChats","chatIndex","u","chatId","MainListItems","collapsed","drawerClose","connectionWarning","setConnectionWarning","openCampaignSubmenu","setOpenCampaignSubmenu","openFlowSubmenu","setOpenFlowSubmenu","openDashboardSubmenu","setOpenDashboardSubmenu","showCampaigns","setShowCampaigns","showKanban","setShowKanban","showOpenAi","setShowOpenAi","showIntegrations","setShowIntegrations","greaterThenSm","useMediaQuery","up","showSchedules","setShowSchedules","showInternalChat","setShowInternalChat","showExternalApi","setShowExternalApi","invisible","setInvisible","setPageNumber","setVersion","managementHover","setManagementHover","campaignHover","setCampaignHover","flowHover","setFlowHover","useHelps","hasHelps","setHasHelps","checkHelps","isManagementActive","startsWith","isCampaignRouteActive","isFlowbuilderRouteActive","_version","fetchVersion","planConfigs","useKanban","useOpenAi","useIntegrations","fetchData","fetchChats","onCompanyChatMainListItems","unreadsCount","chatUser","unreads","whats","records","MenuIcon","prev","onMouseEnter","onMouseLeave","HomeTrendUp","ExpandLessIcon","ExpandMoreIcon","Collapse","unmountOnExit","small","DashboardOutlinedIcon","Notepad2","Grid1","Whatsapp","Ri24HoursFill","Flash","UserAdd","Calendar","Tag","MessageFavorite","CalendarEdit","ListSubheader","inset","VolumeHigh","disablePadding","VolumeUp","Profile2User","Setting2","HierarchySquare3","Messages1","super","Information","CodeCircle","People","ArrowSquare","KeyboardOpen","Hierarchy","ArrowSwapHorizontal","Brodcast","Paperclip","MoneySend","Setting","Buliding","handleClickLogout","Logout","AnnouncementDialog","announcement","aria-describedby","backgroundRepeat","backgroundSize","backgroundPosition","DialogContentText","whiteSpace","newAnnouncements","announcementIndex","announcementId","AnnouncementsPopover","setAnchorEl","setAnnouncement","showAnnouncementDialog","setShowAnnouncementDialog","fetchAnnouncements","onCompanyAnnouncement","record","currentTarget","MessageSquareMore","onScroll","scrollTop","scrollHeight","clientHeight","borderLeft","flagIcon","smallButton","minHeight","iconContainer","UserLanguageSelector","langueMenuAnchorEl","setLangueMenuAnchorEl","selectedFlag","setSelectedFlag","flagBrasil","i18nlocale","flagUsa","flagSpain","flagTurkey","handleCloseLanguageMenu","handleChangeLanguage","flag","changeLanguage","Menu","keepMounted","gap","useDate","dateToClient","strDate","isValid","datetimeToClient","dateToDatabase","returnDays","data1","getTime","ceil","useSettings","param","getPublicSetting","ChatPopover","notifySound","onCompanyChatPopover","newMessage","senderId","ForumIcon","goToMessages","href","packageVersion","VersionControl","storedVersion","paddingTop","caches","then","names","TriangleAlert","AppListItems","menuOpen","setMenuOpen","selectedSubMenu","setSelectedSubMenu","activeButton","setActiveButton","submenuAnchorEl","setSubmenuAnchorEl","userModalOpen","setUserModalOpen","handleSubmenuClose","handleMenuClose","handleMenuClick","buttonIndex","handleSubMenuClick","submenu","paddingInline","fontFamily","LayoutDashboard","AnimatePresence","motion","span","initial","animate","exit","transition","overflow","ArrowRight","icons","customBadge","NotificationsVolume","setVolume","VolumeDownIcon","Slider","Number","handleVolumeChange","VolumeUpIcon","fancyBackground","toolbar","barraSuperior","toolbarIcon","transitions","easing","sharp","leavingScreen","appBarShift","enteringScreen","menuButtonHidden","containerMenuButton","menuButton","flexGrow","drawerPaper","overflowX","drawerPaperClose","appBarSpacer","appBarSpacerVertical","paddingBottom","containerWithScroll","logo","calculatedLogoLight","calculatedLogoDark","hideLogo","avatar2","hideSideBar","hideTopBar","StyledBadge","LoggedInLayout","themeToggle","userToken","setUserToken","loadingUserToken","setLoadingUserToken","drawerOpen","setDrawerOpen","drawerVariant","setDrawerVariant","colorMode","isDrawerOpen","setIsDrawerOpen","offsetWidth","ImageUrl","FRONTEND_URL","onCompanyAuthLayout","interval","setInterval","clearInterval","handleCloseMenu","Drawer","ChevronLeftIcon","ChevronRight","edge","AppBar","Toolbar","MoonStar","Sun","onImageUpdate","newProfileUrl","handleOpenUserModal","grey","pointer","TableAttendantsStatus","formatTime","startOf","Skeleton","TableContainer","Table","TableHead","TableRow","TableCell","align","TableBody","k","countRating","avgWaitTime","avgSupportTime","online","CheckCircleIcon","ErrorIcon","marginBottom","boxContainer","tabHeaderBackground","ForbiddenPage","Container","useDashboard","getReport","Dashboard","counters","setCounters","setAttendants","dateStartTicket","setDateStartTicket","dateEndTicket","setDateEndTicket","firstLoad","isEmpty","date_from","date_to","generateChartData","baseValue","variation","points","lastValue","i","change","random","GetMessages","all","MetricCard","trend","chartData","trendIsPositive","parseFloat","Card","sx","backdropFilter","CardContent","Stack","direction","mb","WebkitBackgroundClip","WebkitTextFillColor","mt","ArrowUpward","ArrowDownward","abs","bgcolor","ResponsiveContainer","AreaChart","x1","y1","x2","y2","offset","stopColor","stopOpacity","Area","dataKey","stroke","fill","strokeWidth","PerformanceCard","toFixed","LinearProgress","py","Grid2","sm","supportHappening","CallIcon","supportPending","HourglassEmptyIcon","supportFinished","MessageIcon","lg","leads","GroupAddIcon","GetUsers","avgResponseTime","maxResponseTime","gutterBottom","LineChart","atendimento","aguardando","finalizados","hora","CartesianGrid","strokeDasharray","XAxis","tickFormatter","YAxis","contentStyle","formatter","labelFormatter","Legend","iconType","Line","dot","r","activeDot","PieChart","Pie","cx","cy","innerRadius","outerRadius","paddingAngle","Cell","exportarGridParaExcel","ws","XLSX","table_to_sheet","getElementById","wb","book_new","book_append_sheet","SaveAlt","FormatMask","setPhoneFormatMask","phoneToFormat","phoneNumberFormatted","match","removeMask","maskPhonePattern","phoneNumber","formatSerializedId","serializedId","_formatMask$setPhoneF","formatMask","messageMedia","objectFit","borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius","ModalImageCors","imageUrl","fetching","setFetching","blobUrl","setBlobUrl","responseType","URL","createObjectURL","Blob","fetchImage","ModalImage","smallSrcSet","large","showRotate","ContactDrawerSkeleton","square","contactHeader","contactAvatar","contactDetails","contactExtraInfo","extraAttr","textCenter","ContactSchema","ContactForm","initialContact","onSave","onCancel","setContact","handleSaveContact","TagsContainer","setTags","selecteds","setSelecteds","loadTags","Array","createTag","optionsChanged","newTag","getRandomHexColor","syncTags","contactId","red","floor","blue","padStart","Autocomplete","freeSolo","v","getOptionLabel","renderTags","getTagProps","index","renderInput","PaperComponent","ContactModal","disableBot","lgpdAcceptedAt","setDisableBot","fetchContact","Switch","checked","FieldArray","_ref3","info","DeleteOutlineIcon","inline","ContactNotesDialogListItem","note","deleteItem","editItem","ListItemSecondaryAction","DeleteIcon","ConfirmationModal","onConfirm","ContactNotesEditModal","editedNote","setEditedNote","handleSave","ButtonWithSpinner","useTicketNotes","saveNote","deleteNote","listNotes","NoteSchema","ContactNotes","newNote","setNewNote","showOnDeleteDialog","setShowOnDeleteDialog","selectedNote","setSelectedNote","notes","setNotes","editingNote","setEditingNote","handleResetState","loadNotes","openAndFetchData","handleChangeComment","handleOpenDialogDelete","renderNoteList","handleEdit","setErrors","menuListItem","TagsKanbanContainer","setSelected","renderSelectedValue","selectedTag","flexShrink","borderTop","borderRight","borderBottom","inputBackground","ContactDrawer","_contact$extraInfo","handleDrawerClose","modalOpen","setModalOpen","blockingContact","setBlockingContact","openForm","setOpenForm","hideNum","setHideNum","setAcceptAudio","anchor","PaperProps","BackdropProps","ModalProps","CloseIcon","handleContactToggleAcceptAudio","CardHeader","titleTypographyProps","subheaderTypographyProps","CreateIcon","subheader","slice","Link","handleBlockContact","handleUnBlockContact","contactTags","ReplyMessageContext","ReplyMessageProvider","replyingMessage","setReplyingMessage","timerBox","RecordingTimer","timer","setTimer","seconds","addZero","useQuickMessages","deleteRecord","list2","listNotCategory","ShowTicketOpen","offline","createFilterOptions","ContactSendModal","setOptions","setSearchParam","selectedContact","setSelectedContact","newContact","setNewContact","contactModalOpen","setContactModalOpen","fetchContacts","handleSendVcard","createAddContactOption","filterOptions","filtered","inputValue","renderOption","renderOptionLabel","handleCloseContactModal","clearOnBlur","autoHighlight","clearOnEscape","handleSelectOption","onKeyPress","InputProps","endAdornment","Modal","setAppElement","customStyles","overlay","ModalCamera","onRequestClose","onCapture","capturedImage","setCapturedImage","Camera","onTakePhoto","dataUri","idealFacingMode","FACING_MODES","ENVIRONMENT","isImageMirror","fetch","res","blob","ForwardMessageContext","ForwardMessageProvider","showSelectMessageCheckbox","setShowSelectMessageCheckbox","selectedMessages","setSelectedMessages","forwardMessageModalOpen","setForwardMessageModalOpen","AudioModal","audioRef","audioRate","setAudioRate","showButtonRate","setShowButtonRate","isIOS","navigator","userAgent","MSStream","playbackRate","onplaying","onpause","onended","controls","getAudioSource","sourceUrl","toggleRate","newRate","pdfjs","GlobalWorkerOptions","workerSrc","messageInputWrapperPrivate","buttonEnable","buttonDisable","MessageUploadMedias","onSend","onCancelSelection","currentIndex","setCurrentIndex","captions","setCaptions","numPages","setNumPages","componentMounted","setComponentMounted","isTyping","setIsTyping","firstTyping","setFirstTyping","onDocumentLoadSuccess","handlePrev","handleNext","handleSend","selectedMedias","caption","renderFileContent","currentFile","Document","onLoadSuccess","Page","InputBase","minRows","maxRows","prevCaptions","updatedCaptions","onBlur","handleTextFieldBlur","onKeyDown","shiftKey","SkipPrevious","Cancel","Send","SkipNext","EditMessageContext","EditMessageProvider","editingMessage","setEditingMessage","InputComponent","other","OutlinedDiv","_excluded2","inputComponent","MessageVariablesPicker","msgVars","msgVar","onMouseDown","useQueues","UserStatusIcon","ScheduleSchema","ScheduleModal","scheduleId","cleanContact","ticketUserId","intervalo","valorIntervalo","enviarQuantasVezes","tipoDias","setSchedule","currentContact","setCurrentContact","setContacts","setIntervalo","setTipoDias","attachment","setAttachment","attachmentFile","confirmationOpen","setConfirmationOpen","messageInputRef","channelFilter","setChannelFilter","setWhatsapps","selectedWhatsapps","setSelectedWhatsapps","allQueues","setAllQueues","selectedUser","setSelectedUser","selectedQueue","setSelectedQueue","findAllQueues","loadQueues","fetchUsers","mappedWhatsapps","c","customList","ticketUser","Facebook","verticalAlign","Instagram","WhatsApp","IconChannel","capitalize","head","handleAttachmentFile","scheduleData","handleSaveSchedule","getOptionSelected","setValueFunc","firstHalfText","selectionStart","secondHalfText","selectionEnd","newCursorPos","setSelectionRange","handleClickMsgVar","noOptionsText","FormControlLabel","control","AttachFile","DeleteOutline","click","customTableCell","pxToRem","tooltipPopper","ToolTip","popper","Mp3Recorder","MicRecorder","bitRate","mainWrapper","dropInfo","dropInfoOut","gridFiles","newMessageBox","messageInputWrapper","messageInputPrivate","sendMessageIcons","ForwardMessageIcons","uploadInput","viewMediaInputWrapper","emojiBox","circleLoading","audioLoading","recorderWrapper","cancelAudioIcon","sendAudioIcon","replyginMsgWrapper","optionsBackground","replyginMsgContainer","replyginMsgBody","replyginContactMsgSideColor","replyginSelfMsgSideColor","messageContactName","messageQuickAnswersWrapper","listStyle","textOverflow","invertedFabMenu","invertedFabMenuMP","invertedFabMenuCont","invertedFabMenuMeet","invertedFabMenuDoc","invertedFabMenuCamera","pink","flexContainer","flexItem","MessageInput","ticketStatus","droppedFiles","ticketChannel","mediasUpload","setMediasUpload","inputMessage","setInputMessage","showEmoji","setShowEmoji","recording","setRecording","quickAnswers","setQuickAnswer","typeBar","setTypeBar","onDragEnter","setOnDragEnter","appointmentModalOpen","setAppointmentModalOpen","signMessagePar","setSignMessagePar","setSignMessage","setPrivateMessage","privateMessageInputVisible","setPrivateMessageInputVisible","senVcardModalOpen","setSenVcardModalOpen","showModalMedias","setShowModalMedias","mediaUrl","setMediaUrl","setMediaName","setShowButtonSendUrlVideoCall","setShowButtonCamera","setShowButtonSendContact","setShowHiddenMessageButton","setShowButtonSendAudio","listQuickMessages","isMobile","placeholderText","setPlaceHolderText","maxLength","from","columns","signMessageStorage","isNil","handleSendLinkVideo","link","handleChangeInput","handlePrivateMessage","handleQuickAnswersClick","handleUploadQuickMessageMedia","handleAddEmoji","emoji","native","modalCameraOpen","setModalCameraOpen","handleCapture","imageData","handleUploadCamera","handleChangeMedias","handleChangeSign","getStatusSingMessageLocalstogare","handleOpenModalForward","handleInputPaste","clipboardData","handleInputDrop","dataTransfer","handleUploadMedia","handleSendMessage","userName","sendMessage","quotedMsg","isPrivate","handleMenuItemClick","handleStartRecording","mediaDevices","getUserMedia","audio","m","truncatedMessage","firstWord","charAt","indexOf","filteredOptions","toLowerCase","disableOption","filename","extension","handleUploadAudio","stop","getMp3","handleCloseModalMedias","handleCancelAudio","handleOpenMenuClick","handleSendContactModalOpen","handleCameraModalOpen","handleCancelSelection","renderReplyingMessage","_message$contact","Clear","onDrop","CameraModal","vcard","vCard","handleSendContatcMessage","Hidden","only","Mood","ClickAwayListener","onClickAway","Picker","perLine","showPreview","showSkinTones","onSelect","Fab","AddIcon","PermMedia","CameraAlt","Description","Person","Duo","Create","Comment","aria-controls","aria-haspopup","MoreVert","input","onPaste","messageQuickAnswersWrapperItem","Timer","Reply","HighlightOff","CheckCircleOutline","Mic","ticketHeader","TicketHeaderSkeleton","total","TicketHeader","handleBack","ArrowBackIos","TicketInfo","setAmount","TransferTicketModalCustom","ticketid","setMsgTransfer","isTransfered","handleSaveTicket","autoComplete","buttonColorError","borderColor","AcceptTicketWithouSelectQueue","openAlert","setOpenAlert","userTicketOpen","setUserTicketOpen","queueTicketOpen","setQueueTicketOpen","handleUpdateTicketStatus","otherTicket","settingMessage","isGreetingMessage","msg","handleCloseAlert","ShowTicketLogModal","activeStep","setActiveStep","logs","setLogs","typeDescriptions","fetchLogs","Stepper","orientation","_log$user","_log$queue","_log$queue2","_log$user2","Step","StepLabel","LocationPreview","image","handleLocation","float","dangerouslySetInnerHTML","__html","InformationModal","ForwardMessageModal","optionsContacts","setOptionsContacts","sending","setSending","messageSending","setMessageSending","sleep","ms","optionL","labelPlacement","responseList","messageId","contactL","handleForwardMessage","iconButton","gridContainer","popoverContent","webkitBoxShadow","hideScrollbar","MessageOptionsMenu","editingContext","acceptTicketWithouSelectQueueOpen","setAcceptTicketWithouSelectQueueOpen","ticketOpen","setTicketOpen","showTranscribedText","setShowTranscribedText","audioMessageTranscribeToText","setAudioMessageTranscribeToText","reactionAnchorEl","setReactionAnchorEl","moreAnchorEl","setMoreAnchorEl","closeReactionsMenu","handleReactToMessage","reactionType","availableReactions","AcceptTicketWithoutQueue","ForwardModal","handleCloseFowardMessageModal","mediaType","extractedPart","Error","transcribedText","hanldeReplyMessage","handleSetShowSelectCheckbox","reaction","AddCircleOutlineIcon","closeMoreReactionsMenu","YouTubePreview","videoUrl","videoId","setVideoId","ampersandPosition","YouTube","VcardPreview","numbers","profilePicUrl","getData","obj","contactObj","QueueSelectedContext","QueueSelectedProvider","selectedQueuesMessage","setSelectedQueuesMessage","SelectMessageCheckbox","isChecked","setIsChecked","Checkbox","handleSelectMessage","messagesListWrapper","currentTick","currentTicktText","backgroundImage","whatsBackground","whatsBackgroundDark","dragElement","messageLeft","quotedContainerLeft","quotedSideColorLeft","messageRight","messageRightPrivate","quotedContainerRight","quotedMsgRight","quotedSideColorRight","messageActionsButton","textContentItem","overflowWrap","textContentItemDeleted","fontStyle","timestamp","reactionAreaRigth","reactionAreaLeft","reactionMsg","dailyTimestamp","dailyTimestampText","ackIcons","deletedIcon","ackDoneAllIcon","ackPlayedIcon","downloadMedia","messageCenter","deletedMessage","newMessages","messageIndex","messageReaction","quotedMsgId","reactionObject","hasOwnProperty","reactionsMsg","reactionIndex","reactionId","messageToUpdate","MessagesList","loadingMore","setLoadingMore","lastMessageRef","selectedMessage","setSelectedMessage","messageOptionsMenuOpen","currentTicketId","dragActive","setDragActive","lgpdDeleteMessage","setLGPDDeleteMessage","settinglgpdDeleteMessage","settingEnableLGPD","entries","queueMessage","selectedQueues","scrollToBottom","fetchMessages","connectEventMessagesList","onAppMessageMessagesList","_data$message","_data$message2","_data$message2$ticket","_data$message3","_data$message4","_data$message5","_data$message6","_data$message6$ticket","_data$message7","_data$message8","_data$message9","scrollIntoView","handleOpenMessageOptionsMenu","checkMessageMedia","locationParts","imageLocation","linkLocation","descriptionLocation","_obj$","_message$ticket","_message$ticket2","array","ind","GetApp","renderDailyTimestamps","messageDay","previousMessageDay","renderTicketsSeparator","_messagesList","lastTicket","_message$ticket3","_message$ticket4","_message$ticket4$queu","_message$ticket5","_message$ticket5$queu","renderMessageDivider","path","renderQuotedMessage","_message$quotedMsg","_message$quotedMsg2","_message$quotedMsg3","_message$quotedMsg3$c","_message$quotedMsg4","_message$quotedMsg5","handleDrag","stopPropagation","isYouTubeLink","xmlRegex","onDragLeave","onDragOver","prevPageNumber","renderMessages","reactionList","arrayReaction","contagem","quantidade","contarOcorrencias","_message$queue2","_message$queue","_message$contact2","_message$contact3","xmlString","isDeleted","ExpandMore","xmlns","viewBox","d","onDoubleClick","isForwarded","basename","isEdited","ack","AccessTime","Done","DoneAll","renderMessageAck","mainWrapperShift","easeOut","TicketMessagesDialog","setTicket","exportedToPDF","setExportedToPDF","handleExportToPDF","messagesListElement","headerElement","pdfOPtions","quality","html2canvas","scale","jsPDF","unit","headerClone","cloneNode","messagesListClone","containerElement","appendChild","html2pdf","set","handleExportAndClose","actionButtons","bottomButtonVisibilityIcon","botoes","SessionSchema","ratingId","TicketActionButtonsCustom","setIsMounted","setOpen","formRef","transferTicketModalOpen","setTransferTicketModalOpen","scheduleModalOpen","setScheduleModalOpen","setContactId","showTicketLogOpen","setShowTicketLogOpen","openTicketMessageDialog","setOpenTicketMessageDialog","setEnableIntegration","useIntegration","setLogTicket","resetForm","handleOpenAcceptTicketWithouSelectQueue","_setting","handleOpenWavoipCall","_ticket$whatsapp2","wavoip","Phone","Replay","HighlightOffIcon","UndoIcon","SwapHorizOutlined","handleContactToggleDisableBot","handleCloseTransferTicketModal","paddingHorizontal","innerRef","handleCloseTicketWithoutFarewellMsg","Ticket","dragDropFiles","setDragDropFiles","fetchTicket","onConnectTicket","onCompanyTicket","onCompanyContactTicket","_data$contact","handleDrawerOpen","useCallback","TicketActionButtons","NewTicketModal","selectedWhatsapp","setSelectedWhatsapp","displayEmpty","w","ContactTag","ConnectionIcon","connectionType","WhatsAppIcon","InstagramIcon","FacebookIcon","queueTag","connectionTag","lastMessageTimeUnread","contactLastMessageUnread","ticketInfo","secondaryContentSecond","ticketInfo1","Radiusdot","connectionIcon","TicketListItemCustom","truncate","str","len","_setting2","tagName","GroupIcon","secondaryContentSecond1","handleOpenTransferModal","SwapHoriz","handleCloseTicket","handleCloseIgnoreTicket","TicketsSkeleton","ticketsListWrapper","ticketsListHeader","ticketsCount","ticketSortAsc","b","ticketSortDesc","sortDir","unshift","sort","TicketsListCustom","updateCount","shouldUpdateTicket","onCompanyTicketTicketsList","onCompanyAppMessageTicketsList","onCompanyContactTicketsList","onConnectTicketsList","TicketsListSkeleton","TicketsQueueSelect","userQueues","MenuListProps","TagsFilter","onFiltered","textShadow","UsersFilter","initialUsers","setUsers","loadUsers","userList","getUserProps","StatusFilter","WhatsappsFilter","initialWhatsapps","loadWhatsapps","whatsappList","getWhatsappProps","ticketsWrapper","tabsHeader","settingsIcon","borderWidth","borderStyle","tabPanelItem","tabIndicator","tabsBadge","ticketOptionsBox","serachInputWrapper","searchIcon","searchInput","show","hide","closeAllFab","speedDial","snackbar","yesButton","noButton","filterIcon","buttonOpen","TicketsManagerTabs","newTicketModalOpen","setNewTicketModalOpen","showAllTickets","setShowAllTickets","setSortTickets","searchInputRef","setSearchOnMessages","openCount","setOpenCount","pendingCount","setPendingCount","groupingCount","setGroupingCount","selectedTags","setSelectedTags","selectedUsers","setSelectedUsers","setForceSearch","selectedStatus","setSelectedStatus","setFilter","snackbarOpen","setSnackbarOpen","hoveredButton","setHoveredButton","isHoveredAll","setIsHoveredAll","isHoveredNew","setIsHoveredNew","isHoveredResolve","setIsHoveredResolve","isHoveredOpen","setIsHoveredOpen","isHoveredClosed","setIsHoveredClosed","isHoveredSort","setIsHoveredSort","isFilterActive","setIsFilterActive","searchTimeout","handleChangeTab","applyPanelStyle","handleSnackbarClose","handleFilter","hidden","setHidden","handleCloseOrOpenTicket","SearchIcon","searchedTerm","FilterAlt","FilterAltOff","ToggleButton","VisibilityIcon","VisibilityOffIcon","Snackbar","ContentProps","handleSnackbarOpen","PlaylistAddCheckOutlined","MoveToInboxIcon","CheckBoxIcon","TextRotationDown","TextRotateUp","handleChangeTabOpen","MessageSharpIcon","ClockIcon","Group","TicketsList","val","chatContainer","chatContainerHorizontal","chatPapper","contactsWrapper","messagesWrapper","welcomeMsg","dragger","userSelect","TicketsCustom","ticketsManagerWidth","defaultTicketsManagerWidth","setTicketsManagerWidth","ticketsManagerWidthRef","handleMouseMove","newWidth","clientX","offsetLeft","handleMouseUp","removeEventListener","TicketsManager","addEventListener","TicketAdvancedLayout","styled","gridTemplateRows","placeholderContainer","placeholderItem","TicketAdvanced","setOption","BottomNavigation","showLabels","BottomNavigationAction","ChatIcon","QuestionAnswerIcon","withWidth","isWidthUp","Tickets","boxSizing","rightScreen","logoImg","spanRed","iconPassword","MuiCard","SignUpContainer","StyledTextField","StyledFormLabel","FormLabel","StyledLink","StyledSelect","_ref4","getPhoneValidationSchema","_ref5","_ref6","countryCode","matches","companyName","termo","oneOf","SignUp","setPlans","showPassword","setShowPassword","phoneValidationSchema","setPhoneValidationSchema","qs","calculateProgress","planId","handleTogglePasswordVisibility","planList","listPublic","Helmet","CssBaseline","enableColorScheme","fields","handleSignUp","_ref7","startAdornment","InputAdornment","Business","gridTemplateColumns","Mail","VisibilityOff","Visibility","endIcon","SendIcon","leftScreen","signupButton","powered","SignInContainer","Login","emailError","setEmailError","emailErrorMessage","setEmailErrorMessage","passwordError","setPasswordError","passwordErrorMessage","setPasswordErrorMessage","allowSignup","setAllowSignup","catch","Brightness7Icon","Brightness4Icon","noValidate","validateInputs","my","p","ml","mainContainer","mainContainerHorizontal","contentWrapper","MainContainer","contactsHeader","MainHeader","MainHeaderButtonsWrapper","TableRowSkeleton","Title","dialogPaper","qrCodeContainer","subText","stepImageIOS","stepImageAndroid","stepText1","stepText","helpText","memo","setQrCode","QRCode","textfield","row","buttonContainer","SchedulesForm","labelSaveButton","setSchedules","weekday","weekdayEn","render","arrayHelpers","FastField","abel","field","NumberFormat","customInput","tokenRefresh","autoToken","setAutoToken","inputFileRef","attachmentName","setAttachmentName","isDefault","provider","enableImportMessage","greetingMediaAttachment","setWhatsApp","setEnableImportMessage","setImportOldMessagesGroups","setClosedTicketsPostImported","setImportOldMessages","setImportRecentMessages","copied","setCopied","schedulesEnabled","setSchedulesEnabled","NPSEnabled","setNPSEnabled","selectedPrompt","setSelectedPrompt","setPrompts","webhooks","setWebhooks","flowIdNotPhrase","setFlowIdNotPhrase","flowIdWelcome","setFlowIdWelcome","selectedIntegration","setSelectedIntegration","setIntegrations","generateRandomCode","settingSchedules","scheduleType","settingNPS","handleEnableImportMessage","flowDefault","selectedFlowIdNotPhrase","flow","selectedFlowIdWelcome","promptId","whatsQueueIds","queueIntegrations","flows","handleChangeIntegration","handleChangeFlowIdNotPhrase","handleChangeFlowIdWelcome","handleChangePrompt","charset","randomIndex","handleRefreshToken","handleCopyToken","clipboard","writeText","handleSaveSchedules","handleFileUpload","handleDeleFile","whatsappData","dir","handleSaveWhatsApp","_values$collectiveVac","_values$collectiveVac2","Autorenew","FileCopy","selectedIds","webhook","CircularProgressWithLabel","CustomToolTip","Connections","whatsAppModalOpen","setWhatsAppModalOpen","statusImport","setStatusImport","qrModalOpen","setQrModalOpen","selectedWhatsApp","setSelectedWhatsApp","confirmModalOpen","setConfirmModalOpen","confirmationModalInitialState","confirmModalInfo","setConfirmModalInfo","planConfig","setPlanConfig","responseFacebook","accessToken","facebookUserId","facebookUserToken","responseInstagram","addInstagram","go","handleCloseWhatsAppModal","handleCloseQrModal","handleOpenConfirmationModal","renderActionButtons","handleOpenQrModal","handleStartWhatsAppSession","handleRequestNewQrCode","statusImportMessages","isNaN","ultimoStatus","renderImportButton","QrcodeModal","WhatsAppModal","openInNewTab","REACT_APP_NUMBER_SUPPORT","PopupState","popupId","popupState","_planConfig$plan","_process$env$REACT_AP","_process$env$REACT_AP2","bindTrigger","bindMenu","FacebookLogin","appId","REACT_APP_FACEBOOK_APP_ID","autoLoad","scope","REACT_APP_REQUIRE_BUSINESS_MANAGEMENT","renderProps","_planConfig$plan2","_planConfig$plan3","SignalCellularConnectedNoInternet0Bar","CropFree","SignalCellular4Bar","SignalCellularConnectedNoInternet2Bar","renderStatusToolTips","CheckCircle","handleEditWhatsApp","Edit","useCompanies","updateSchedules","ModalUsers","tableContainer","textRight","CompanyForm","onDelete","initialValue","modalUser","setModalUser","firstUser","setFirstUser","setRecord","listPlans","handleCloseModalUsers","handleSubmit","setValues","incrementDueDate","CompaniesManagerGrid","rowStyle","now","EditIcon","renderPlan","toLocaleString","minimumFractionDigits","renderPlanValue","renderStatus","CompaniesManager","showConfirmDialog","setShowConfirmDialog","setRecords","paymentMethod","loadPlans","companyList","handleCancel","handleOpenDeleteDialog","handleDelete","PlanManagerForm","isPublic","PlansManagerGrid","renderWhatsapp","renderFacebook","renderInstagram","renderCampaigns","renderSchedules","renderInternalChat","renderExternalApi","renderKanban","renderOpenAi","renderIntegrations","PlansManager","_data$amount","HelpManagerForm","HelpsManagerGrid","video","HelpsManager","loadHelps","helpList","fixedHeightPaper","cardAvatar","cardTitle","cardSubtitle","alignRight","selectContainer","Options","oldSettings","scheduleTypeChanged","setUserRating","setScheduleType","setChatBotType","loadingUserRating","setLoadingUserRating","loadingScheduleType","setLoadingScheduleType","setUserCreation","loadingUserCreation","setLoadingUserCreation","SendGreetingAccepted","setSendGreetingAccepted","loadingSendGreetingAccepted","setLoadingSendGreetingAccepted","UserRandom","setUserRandom","loadingUserRandom","setLoadingUserRandom","SettingsTransfTicket","setSettingsTransfTicket","loadingSettingsTransfTicket","setLoadingSettingsTransfTicket","AcceptCallWhatsapp","setAcceptCallWhatsapp","loadingAcceptCallWhatsapp","setLoadingAcceptCallWhatsapp","setSendSignMessage","loadingSendSignMessage","setLoadingSendSignMessage","setSendGreetingMessageOneQueues","loadingSendGreetingMessageOneQueues","setLoadingSendGreetingMessageOneQueues","setSendQueuePosition","loadingSendQueuePosition","setLoadingSendQueuePosition","setSendFarewellWaitingTicket","loadingSendFarewellWaitingTicket","setLoadingSendFarewellWaitingTicket","setAcceptAudioMessageContact","loadingAcceptAudioMessageContact","setLoadingAcceptAudioMessageContact","setEnableLGPD","loadingEnableLGPD","setLoadingEnableLGPD","setLGPDMessage","loadinglgpdMessage","setLoadingLGPDMessage","lgpdLink","setLGPDLink","loadingLGPDLink","setLoadingLGPDLink","loadingLGPDDeleteMessage","setLoadingLGPDDeleteMessage","lgpdConsent","setLGPDConsent","loadingLGPDConsent","setLoadingLGPDConsent","lgpdHideNumber","setLGPDHideNumber","loadingLGPDHideNumber","setLoadingLGPDHideNumber","setRequiredTag","loadingRequiredTag","setLoadingRequiredTag","setCloseTicketOnTransfer","loadingCloseTicketOnTransfer","setLoadingCloseTicketOnTransfer","directTicketsToWallets","setDirectTicketsToWallets","loadingDirectTicketsToWallets","setLoadingDirectTicketsToWallets","setTransferMessage","loadingTransferMessage","setLoadingTransferMessage","setGreetingAcceptedMessage","loadingGreetingAcceptedMessage","setLoadingGreetingAcceptedMessage","setAcceptCallWhatsappMessage","loadingAcceptCallWhatsappMessage","setLoadingAcceptCallWhatsappMessage","setSendQueuePositionMessage","loadingSendQueuePositionMessage","setLoadingSendQueuePositionMessage","loadingShowNotificationPending","setLoadingShowNotificationPending","ShowHiddenMessageButton","loadingShowHiddenMessageButton","setLoadingShowHiddenMessageButton","ShowButtonCamera","loadingShowButtonCamera","setLoadingShowButtonCamera","ShowButtonSendAudio","loadingShowButtonSendAudio","setLoadingShowButtonSendAudio","ShowButtonSendContact","loadingShowButtonSendContact","setLoadingShowButtonSendContact","ShowButtonSendUrlVideoCall","loadingShowButtonSendUrlVideoCall","setLoadingShowButtonSendUrlVideoCall","updateUserCreation","userPar","handleChangeUserCreation","FormHelperText","handleChangeUserRating","handleScheduleType","handleSendGreetingAccepted","handleUserRandom","handleShowHiddenMessageButton","handleShowButtonCamera","handleShowButtonSendAudio","handleShowButtonSendContact","handleShowButtonSendUrlVideoCall","handleChatBotType","handleAcceptCallWhatsapp","handleSendSignMessage","handleSendGreetingMessageOneQueues","handleSendQueuePosition","handleSendFarewellWaitingTicket","handleAcceptAudioMessageContact","handleEnableLGPD","handleRequiredTag","handleCloseTicketOnTransfer","handleShowNotificationPending","handleLGPDMessage","handleLGPDLink","handleLGPDDeleteMessage","handleLGPDConsent","handleLGPDHideNumber","handletransferMessage","handleGreetingAcceptedMessage","handleAcceptCallWhatsappMessage","handlesendQueuePositionMessage","OnlyForSuperUser","ColorPicker","ColorBoxModal","currentColor","selectedColor","setSelectedColor","ColorBox","disableAlpha","hslGradient","handleOk","colorAdorment","appLogoLightPreviewDiv","appLogoDarkPreviewDiv","appLogoFaviconPreviewDiv","appLogoLightPreviewImg","appLogoDarkPreviewImg","appLogoFaviconPreviewImg","Whitelabel","settingsLoaded","setSettingsLoaded","currentUser","setCurrentUser","primaryColorLightModalOpen","setPrimaryColorLightModalOpen","primaryColorDarkModalOpen","setPrimaryColorDarkModalOpen","logoLightInput","logoDarkInput","logoFaviconInput","appNameInput","setAppName","updateSettingsLoaded","newSettings","handleSaveSetting","_settings$find","_settings$find2","_settings$find3","_settings$find4","_settings$find5","_settings$find6","primaryColorLight","primaryColorDark","appLogoLight","appLogoDark","uploadLogo","onUploadProgress","loaded","Colorize","hex","defaultLogoLight","Delete","defaultLogoDark","SettingsCustom","setCompany","setSettings","setOldSettings","getAllSettings","getAllSettingsOld","settingList","settingListOld","findData","isSuper","InputField","meta","useField","at","_renderHelperText","SelectField","selectedValue","isError","AddressForm","billingName","setBillingName","addressZipCode","setAddressZipCode","addressStreet","setAddressStreet","addressState","setAddressState","addressCity","setAddressCity","formField","firstName","address1","city","zipcode","country","ul","cardHeader","cardPricing","footer","divider","customCard","custom","Pricing","usersPlans","setUsersPlans","connectionsPlans","setConnectionsPlans","storagePlans","setStoragePlans","price","buttonText","buttonVariant","customValuePlans","setCustomValuePlans","tier","StarIcon","line","MinimizeIcon","handleChangeMin","handleChangeAdd","handleChangeConnectionsMin","handleChangeConnectionsAdd","CardActions","PaymentDetails","formValues","newPlan","address2","ReviewOrder","useFormikContext","ShippingDetails","div","_templateObject","_taggedTemplateLiteral","Total","_templateObject2","SuccessContent","_templateObject3","_templateObject4","CheckoutSuccess","pix","pixString","onCompanyPayment","valor","original","CopyToClipboard","onCopy","handleCopyQR","FaCheckCircle","FaCopy","formId","requiredErrorMsg","lastName","invalidErrorMsg","useAddressForPaymentDetails","nameOnCard","cardNumber","expiryDate","cvv","checkoutFormModel","stepper","wrapper","CheckoutPage","steps","datePayment","setDatePayment","invoiceId","setinvoiceId","Invoice","currentValidationSchema","isLastStep","_handleBack","formInitialValues","newValues","_submitForm","setTouched","PaymentForm","_renderStepContent","invoice","onPayClick","detail","currency","handlePayClick","linkInvoice","newUsers","userIndex","Invoices","selectedContactId","setSelectedContactId","fetchInvoices","SubscriptionModal","userAvatar","avatarDiv","loadingContainer","loadingText","Users","deletingUser","setDeletingUser","onCompanyUser","handleDeleteUser","handleCloseUserModal","prevPage","AccountCircle","renderProfileImage","handleEditUser","colSpan","btns","ContactImportWpModal","userProfile","contactsToImport","setContactsToImport","statusMessage","setStatusMessage","handleClosed","handleOnExportContacts","model","allDatas","contactTag","_element$tags","tagsContact","join","contactWithTags","exportData","json_to_sheet","handleimportContact","contactIndex","Contacts","importContactModalOpen","setImportContactModalOpen","deletingContact","setDeletingContact","ImportContacts","setImportContacts","unBlockingContact","setUnBlockingContact","confirmOpen","setConfirmOpen","setExportContact","confirmChatsOpen","setConfirmChatsOpen","contactTicket","setContactTicket","fileUploadRef","deletingAllContact","setDeletingAllContact","onContactEvent","handleDeleteContact","handleDeleteAllContact","handleImportExcel","handleimportChats","ArrowDropDown","ContactPhone","Backup","handleOpenContactModal","_formatSerializedId","_contact$number","_contact$whatsapp","CancelIcon","hadleEditContact","BlockIcon","getWindowDimensions","innerWidth","innerHeight","xlsTable","importOptions","buttonImport","select","backButtonContainer","ContactImport","windowDimensions","setWindowDimensions","handleResize","useWindowDimensions","setRows","setColumns","contactFieldsAvailable","setContactFieldsAvailable","columnValue","setColumnValue","selectedFields","setSelectedFields","openingFile","setOpeningFile","selection","setSelection","invalidFile","setInvalidFile","setError","countCreated","setCountCreated","countIgnored","setCountIgnored","uploading","setUploading","imported","setImported","selectedRows","setSelectedRows","validateContact","setValidateContact","contactFields","handleSelectChange","columnKey","oldValue","prevSelectedFields","newSelectedFields","prevColumnValue","newColumnValue","prevSelection","newSelection","renderXls","stickyHeader","newSelectedRows","contactField","renderSelectbox","rowIndex","prevSelectedRows","columnIndex","getRootProps","getInputProps","useDropzone","acceptedFiles","Sheets","SheetNames","utils","sheet_to_json","defval","range","decode_range","encode_col","WorksheetToDatagrid","readAsArrayBuffer","maxFiles","FormGroup","contactData","selectedField","prevCount","alert","processImport","upload","scrollbarStylesSoftBig","ContactImportPage","cardHeaderPending","card","changeWarap","yellow","DashboardManage","setUpdate","ticketNot","setTicketNot","onAppMessage","_err$response2","Moments","reduce","userTickets","_group$user","_group$userTickets","_ticket$contact$name","_ticket$contact3","_ticket$lastMessage","VisibilityOutlined","MomentsPending","pendingTickets","ReportProblem","_ticket$contact4","_ticket$lastMessage2","_ticket$queue3","_ticket$queue4","ChatMoments","MomentsUser","QueueSchema","of","textField1","customHeight","VerticalLinearStepper","optQueueId","setSteps","isStepContent","setIsStepContent","isNameEdit","setIsNamedEdit","isGreetingMessageEdit","setGreetingMessageEdit","setFile","selectedQueueOption","setSelectedQueueOption","userOptions","setUserOptions","handleSaveBot","chatBotId","fetchList","_steps$options$active","handleCloseConfirmationModal","handleDeleteQueue","validateOnChange","nonLinear","_steps$options$index","_touched$options","_touched$options$inde","_errors$options","_errors$options$index","_touched$options2","_touched$options2$ind","_errors$options2","_errors$options2$inde","_touched$options3","_touched$options3$ind","_errors$options3","_errors$options3$inde","_touched$options4","_touched$options4$ind","_errors$options4","_errors$options4$inde","_touched$options5","_touched$options5$ind","_errors$options5","_errors$options5$inde","_touched$options6","_touched$options6$ind","_errors$options6","_errors$options6$inde","_touched$options7","_touched$options7$ind","_errors$options7","_errors$options7$inde","_touched$options8","_touched$options8$ind","_errors$options8","_errors$options8$inde","SaveIcon","StepContent","HelpOutlineOutlinedIcon","helpertext","optIntegrationId","optFileId","f","chatbots","QueueModal","onEdit","tempoRoteador","ativarRoteador","colorPickerModalOpen","setColorPickerModalOpen","setQueue","greetingRef","initialStateSchedule","_queue$chatbots$activ","optionsId","handleSaveQueue","onFocus","selectField","_queue$chatbots$index","_touched$chatbots","_touched$chatbots$ind","_errors$chatbots","_errors$chatbots$inde","_touched$chatbots2","_touched$chatbots2$in","_errors$chatbots2","_errors$chatbots2$ind","_queue$chatbots$index2","_touched$chatbots3","_touched$chatbots3$in","_errors$chatbots3","_errors$chatbots3$ind","_touched$chatbots4","_touched$chatbots4$in","_errors$chatbots4","_errors$chatbots4$ind","_touched$chatbots5","_touched$chatbots5$in","_errors$chatbots5","_errors$chatbots5$ind","_touched$chatbots6","_touched$chatbots6$in","_errors$chatbots6","_errors$chatbots6$ind","_touched$chatbots7","_touched$chatbots7$in","_errors$chatbots7","_errors$chatbots7$ind","_touched$chatbots8","_touched$chatbots8$in","_errors$chatbots8","_errors$chatbots8$ind","OptionsChatBot","newQueues","queueIndex","Queues","queueModalOpen","setQueueModalOpen","onQueueEvent","handleEditQueue","handleCloseQueueModal","handleOpenQueueModal","shadows","closeButton","ContactTagListModal","setTagList","onCompanyTags","_data$tag","_data$tag$contacts","_data$tag2","_data$tag2$contacts","closeAfterTransition","BackdropComponent","Fade","tagId","handleRemoveContactTag","TagSchema","TagModal","lanes","setLanes","selectedLane","setSelectedLane","selectedRollbackLane","setSelectedRollbackLane","setTag","fetchTags","tagData","handleSaveTag","lane","tagIndex","Tags","selectedTagContacts","setSelectedTagContacts","selectedTagName","setSelectedTagName","setSelectedTag","deletingTag","setDeletingTag","tagModalOpen","setTagModalOpen","fetchMoreTags","handleDeleteTag","handleCloseTagModal","newSearchParam","handleOpenTagModal","_tag$contacts","_tag$contacts2","handleShowContacts","MoreHoriz","handleEditTag","mainHeader","elementMargin","formContainer","MessagesAPI","formMessageTextData","formMessageMediaData","medias","handleSendTextMessage","firstFile","handleSendMediaMessage","mainPaperContainer","helpPaper","paperHover","videoThumbnail","videoTitle","videoDescription","videoModal","videoModalContent","outline","aspectRatio","Helps","selectedVideo","setSelectedVideo","closeVideoModal","handleModalClose","openVideoModal","frameBorder","allow","allowFullScreen","ContactListSchema","ContactListModal","contactListId","setContactList","fetchContactList","contactListData","handleSaveContactList","newContactLists","contactListIndex","ContactLists","selectedContactList","setSelectedContactList","deletingContactList","setDeletingContactList","contactListModalOpen","setContactListModalOpen","fetchContactLists","onContactListEvent","handleDeleteContactList","ContactListDialog","handleCloseContactListModal","handleOpenContactListModal","contactsCount","planilhaExemplo","download","DownloadIcon","goToContacts","PeopleIcon","handleEditContactList","ContactListItemModal","useContactLists","findById","ContactListItems","contactListItemModalOpen","setContactListItemModalOpen","findContactList","onCompanyContactLists","handleCloseContactListItemModal","handleImportContacts","goToContactLists","handleOpenContactListItemModal","isWhatsappValid","titleAccess","htmlColor","CompanySchema","CompanyModal","fetchCompany","companyData","handleSaveCompany","newCompanies","companyIndex","Companies","selectedCompany","setSelectedCompany","deletingCompany","setDeletingCompany","companyModalOpen","setCompanyModalOpen","fetchCompanies","handleDeleteCompany","handleCloseCompanyModal","_company$plan","folderSize","numberFileFolder","updatedAtFolder","QuickeMessageSchema","SelectQuickMessages","setValue","listCategories","setListCategories","getListQuickMessages","category","QuickMessageDialog","quickemessageId","isCategory","categoryId","quickemessage","setQuickemessage","quickemessageData","isMedia","handleSaveQuickeMessage","AttachFileIcon","quickmessages","newQuickmessages","quickemessageIndex","Quickemessages","selectedQuickemessage","setSelectedQuickemessage","deletingQuickemessage","setDeletingQuickemessage","quickemessageModalOpen","setQuickMessageDialogOpen","quickemessages","fetchQuickemessages","onQuickMessageEvent","handleDeleteQuickemessage","resetPagination","handleCloseQuickMessageDialog","handleOpenQuickMessageDialog","_quickemessage$mediaN","backgroundDark","handleEditQuickemessage","Route","Component","Redirect","RouterRoute","eventTitleStyle","localizer","momentLocalizer","defaultMessages","time","allDay","week","work_week","month","previous","next","yesterday","tomorrow","agenda","noEventsInRange","showMore","newSchedules","scheduleIndex","calendarToolbar","Schedules","selectedSchedule","setSelectedSchedule","deletingSchedule","setDeletingSchedule","paramName","URLSearchParams","fetchSchedules","handleOpenScheduleModalFromContactId","handleOpenScheduleModal","onCompanySchedule","handleDeleteSchedule","handleCloseScheduleModal","formats","agendaDateFormat","weekdayFormat","events","_schedule$contact","handleEditSchedule","end","startAccessor","endAccessor","CampaignSchema","CampaignModal","campaignId","tagListId","setCampaign","setContactLists","tagLists","setTagLists","messageTab","setMessageTab","campaignEditable","setCampaignEditable","formattedTagLists","prevCampaignData","moreThenAnHour","isEditable","renderMessageField","identifier","renderConfirmationMessageField","dataValues","handleSaveCampaign","_ref8","centered","restartCampaign","cancelCampaign","newCampaigns","campaignIndex","Campaigns","selectedCampaign","setSelectedCampaign","deletingCampaign","setDeletingCampaign","campaignModalOpen","setCampaignModalOpen","fetchCampaigns","onCompanyCampaign","handleDeleteCampaign","handleCloseCampaignModal","handleOpenCampaignModal","formatStatus","PauseCircleOutlineIcon","PlayCircleOutlineIcon","DescriptionIcon","handleEditCampaign","tabPanelsContainer","initialSettings","messageInterval","longerIntervalAfter","greaterInterval","variables","sabado","domingo","startHour","endHour","CampaignsConfig","showVariablesForm","setShowVariablesForm","selectedKey","setSelectedKey","variable","setVariable","setSabado","setDomingo","setStartHour","setEndHour","settingsList","fromEntries","handleOnChangeSettings","changedProp","removeVariable","newList","CardCounter","CampaignReport","setValidContacts","delivered","setDelivered","confirmationRequested","setConfirmationRequested","confirmed","setConfirmed","percent","setPercent","mounted","findCampaign","valids","isNull","deliveredAt","confirmationRequestedAt","onCampaignEvent","DoneIcon","DoneAllIcon","ListAltIcon","ScheduleIcon","EventAvailableIcon","AnnouncementSchema","AnnouncementModal","announcementData","handleSaveAnnouncement","Announcements","selectedAnnouncement","setSelectedAnnouncement","deletingAnnouncement","setDeletingAnnouncement","announcementModalOpen","setAnnouncementModalOpen","handleDeleteAnnouncement","handleCloseAnnouncementModal","handleOpenAnnouncementModal","_announcement$mediaNa","handleEditAnnouncement","chatList","listItemActive","ChatList","handleSelectChat","handleDeleteChat","handleEditChat","pageInfo","selectedChat","setSelectedChat","getPrimaryText","mainText","getSecondaryText","ownerId","messageList","inputArea","buttonSend","boxLeft","boxRight","ChatMessages","handleLoadMore","scrollToBottomRef","baseRef","contentMessage","setContentMessage","sender","Input","onKeyUp","gridItem","gridItemTab","btnContainer","ChatModal","handleLoadNewChat","setTitle","showDialog","setShowDialog","dialogType","setDialogType","currentChat","setCurrentChat","setChats","chatsPageInfo","setChatsPageInfo","setMessages","messagesPageInfo","setMessagesPageInfo","messagesPage","setMessagesPage","findChats","selectChat","findMessages","onChatUser","changedChats","onChat","filteredChats","onCurrentChat","deleteChat","loadMoreMessages","QueueSelectSingle","PromptModal","selectedVoice","setSelectedVoice","showApiKey","setShowApiKey","handleToggleApiKey","maxTokens","apiKey","maxMessages","setPrompt","fetchPrompt","handleChangeVoice","promptData","handleSavePrompt","newPrompts","promptIndex","Prompts","promptModalOpen","setPromptModalOpen","onPromptEvent","handleDeletePrompt","handleClosePromptModal","handleOpenPromptModal","handleEditPrompt","filteredWhatsapps","companyInfos","loadingComp","setLoadingComp","setCompanies","WhatsAppModalAdmin","AllConnections","loadingWhatsapp","setLoadingWhatsapp","setWhats","filterConnections","setFilterConnections","companyWhatsApps","setCompanyWhatsApps","loadCompanies","handleOpenWhatsAppModal","whatsappsFilter","comp","WhatsAppModalCompany","QueueSelectCustom","mainPaperTable","mainPaperFilter","mainHeaderBlock","filterItem","Reports","pageSize","setPageSize","setQueueIds","userIds","setUserIds","dateFrom","setDateFrom","dateTo","setDateTo","setOnlyRated","totalTickets","setTotalTickets","page","mainHeaderFilter","ticketsData","closedAt","dataFechamento","toLocaleDateString","horaFechamento","toLocaleTimeString","dataCriacao","horaCriacao","Conexão","whatsappName","Contato","Usuário","Fila","queueName","Status","ÚltimaMensagem","DataAbertura","HoraAbertura","DataFechamento","HoraFechamento","TempoDeAtendimento","nps","History","Forward","Pagination","useNodeStorage","node","setNodesStorage","setConnectsStorage","connects","setAct","act","isConnectable","storageItems","Handle","onConnect","ArrowForwardIos","pointerEvents","ContentCopy","Message","FlowBuilderAddTextModal","onUpdate","activeModal","setActiveModal","labels","setLabels","btn","textDig","setTextDig","FlowBuilderIntervalModal","timerSec","setTimerSec","sec","parseInt","RocketLaunch","ImportExport","condition","DynamicFeed","arrayOption","Image","CallSplit","Videocam","selectFieldStyles","FlowBuilderConditionModal","rule","setRule","valueCondition","setValueCondition","FlowBuilderMenuModal","setArrayOption","old","AddCircle","newArr","removeOption","FlowBuilderAddImgModal","preview","setPreview","oldImage","setOldImage","setMedias","idx","Compressor","FlowBuilderTicketModal","setQueueSelected","FlowBuilderAddAudioModal","MicNone","FlowBuilderRandomizerModal","valueLabelDisplay","handleValue","marks","FlowBuilderAddVideoModal","FlowBuilderSingleBlockModal","setElements","elementsSeq","setElementsSeq","elementsSeqEdit","setElementsSeqEdit","elementsEdit","setElementsEdit","numberMessages","setNumberMessages","numberMessagesLast","setNumberMessagesLast","numberInterval","setNumberInterval","numberIntervalLast","setNumberIntervalLast","numberAudio","setNumberAudio","numberAudioLast","setNumberAudioLast","numberVideo","setNumberVideo","numberVideoLast","setNumberVideoLast","numberImg","setNumberImg","numberImgLast","setNumberImgLast","previewImg","setPreviewImg","previewAudios","setPreviewAudios","previewVideos","setPreviewVideos","handleElements","newNameFiles","elementsSequence","newArrMessage","newArrInterval","newArrImg","newArrAudio","newArrVideo","querySelector","onlyImg","onlyImgNameOriginal","itemSelectedEdit","indexElem","onlyAudio","onlyAudioNameOriginal","onlyVideo","onlyVideoNameOriginal","deleteElementsTypeOne","oldMedia","mediaItem","handleChangeMediasImg","imgBlob","handleChangeAudios","audioBlob","innerHTML","handleChangeVideos","videoBlob","divConteudo","imgLayout","valueDefault","audioLayout","valueRecordDefault","defaultChecked","videoLayout","messageLayout","intervalLayout","seq","elementsEditLoc","sequence","itemNode","inode","numberLoc","elm","arrNumberMax","apply","verifyButtonsUpload","scrollBehavior","oldEleme","mountData","handleSaveNode","LibraryBooks","itemLoc","ConfirmationNumber","speeddial","geraStringAleatoria","tamanho","stringAleatoria","caracteres","nodeTypes","messageNode","startNode","conditionNode","menuNode","intervalNode","img","imgNode","audioNode","randomizer","randomizerNode","videoNode","singleBlock","singleBlockNode","ticketNode","edgeTypes","buttonedge","sourceX","sourceY","targetX","targetY","sourcePosition","targetPosition","arrowHeadType","markerEndId","edgePath","getBezierPath","markerEnd","getMarkerEnd","edgeCenterX","edgeCenterY","getEdgeCenter","x","foreignObjectSize","y","requiredExtensions","initialNodes","initialEdges","FlowBuilderConfig","dataNode","setDataNode","modalAddText","setModalAddText","modalAddInterval","setModalAddInterval","modalAddCondition","setModalAddCondition","modalAddMenu","setModalAddMenu","modalAddImg","setModalAddImg","modalAddAudio","setModalAddAudio","modalAddRandomizer","setModalAddRandomizer","modalAddVideo","setModalAddVideo","modalAddSingleBlock","setModalAddSingleBlock","modalAddTicket","setModalAddTicket","addNode","posY","nodes","posX","setNodes","setEdges","source","nodeDuplicate","maioresX","maiorX","finalY","nodeNew","onNodesChange","useNodesState","edges","onEdgesChange","useEdgesState","eds","addEdge","updateNode","dataAlter","SpeedDial","ariaLabel","SpeedDialIcon","SpeedDialAction","tooltipTitle","tooltipOpen","tooltipPlacement","clickActions","idFlow","saveFlow","ReactFlow","deleteKeyCode","onNodeDoubleClick","doubleClick","onNodeClick","clickNode","onEdgeClick","clickEdge","fitView","connectionLineStyle","defaultEdgeOptions","Controls","MiniMap","Background","FlowBuilderModal","flowId","nameWebhook","FlowBuilder","selectedWebhookName","setSelectedWebhookName","confirmDuplicateOpen","setConfirmDuplicateOpen","reloadData","setReloadData","webhookId","handleDeleteWebhook","handleDuplicateFlow","DevicesFold","aria-expanded","FlowDefault","CampaignModalPhrase","FlowCampaignId","dataItem","setDataItem","phrase","dataItemError","setDataItemError","flowSelected","setFlowSelected","flowsData","setFlowsData","flowsDataComplete","setFlowsDataComplete","whatsAppNames","setWhatsAppNames","setWhatsApps","whatsAppSelected","setWhatsAppSelected","setActive","openModal","getFlows","nameFlow","itemFlows","detailsPhrase","clearData","applicationSaveAndEdit","disablePortal","CampaignsPhrase","campaignflows","setCampaignFlows","ModalOpenPhrase","setModalOpenPhrase","campaignflowSelected","setCampaignFlowSelected","getCampaigns","onSaveModal","TextFields","btnLeft","DialogflowSchema","QueueIntegration","setIntegration","handleSaveDialogflow","handleTestSession","newIntegrations","integrationIndex","fetchIntegrations","handleDeleteIntegration","IntegrationModal","handleCloseIntegrationModal","dialogflow","n8n","typebot","handleEditIntegration","FileListSchema","FilesModal","setFiles","selectedFileNames","setSelectedFileNames","fileList","setFileList","uploadFiles","filesOptions","fileOption","fileData","handleSaveFileList","updatedOptions","updatedFileNames","newFiles","fileListIndex","FileLists","selectedFileList","setSelectedFileList","deletingFileList","setDeletingFileList","fileListModalOpen","setFileListModalOpen","fetchFileLists","onFileEvent","fileId","handleDeleteFileList","FileModal","handleCloseFileListModal","handleOpenFileListModal","handleEditFileList","inputContainer","listContainer","ToDoList","setTask","tasks","setTasks","editIndex","setEditIndex","savedTasks","handleAddTask","newTasks","handleEditTask","handleDeleteTask","kanbanContainer","cardButton","common","white","dateInput","startDate","setStartDate","endDate","setEndDate","jsonString","UserQueue","fetchedTags","lista","popularCards","filteredTickets","handleCardClick","_ticket$user2","handleAddConnectionClick","mx","handleSearchClick","Board","onCardMoveAcrossLanes","cardId","sourceLaneId","targetLaneId","newTags","onTagsEvent","handleReturnToKanban","_tag$ticketTags","ticketTags","selectDaysModal","startTime","endTime","parent","ModalPlantao","plantaoId","plantao","setPlantao","handleGetPlantaoDetails","handleUpdatePlantao","UsersContainer","_errors$days","_errors$days$index","_errors$days2","_errors$days2$index","_touched$days","_touched$days$index","_touched$days2","_touched$days2$index","startTimeError","endTimeError","startTimeTouched","endTimeTouched","listUsersAttendance","setListUsersAttendance","fetchUsersAttendance","ITEM_HEIGHT","Plantao","setOpenModal","setPlantaoId","listPlantao","setListPlantao","modalConfirmationOpen","setModalConfirmationOpen","handleGetPlantao","_users$user","dia","Routes","BrowserRouter","exact","Signup","Financeiro","TicketResponsiveContainer","QuickMessages","Annoucements","Chat","Files","TagsKanban","ToastContainer","queryClient","QueryClient","App","setLocale","appColorLocalStorage","appNameLocalStorage","prefersDarkMode","preferredTheme","setMode","prevMode","newMode","createTheme","scrollbarStylesSoft","textPrimary","borderPrimary","fontColor","messageIcons","ptBR","documentElement","setProperty","fetchVersionData","ThemeProvider","QueryClientProvider","client","ReactDOM","finishProgress","swUrl","serviceWorker","registration"],"mappings":"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KACA,KACA,QACA,WACA,aACA,SACA,SACA,OACA,KACA,KACA,KACA,KACA,KACA,KACA,OACA,SACA,SACA,KACA,OACA,IACA,SACA,MACA,QACA,MACA,MACA,SACA,QACA,SACA,KACA,OACA,OACA,MACA,OACA,UACA,OACA,WACA,OACA,QACA,MACA,WACA,SACA,KACA,WACA,SACA,SACA,IACA,QACA,UACA,MACA,WACA,IACA,KACA,KACA,OACA,IACA,OACA,SACA,UACA,SACA,QACA,SACA,OACA,SACA,QACA,MACA,UACA,MACA,QACA,QACA,KACA,WACA,QACA,KACA,QACA,OACA,QACA,KACA,QACA,IACA,KACA,MACA,QACA,MAGA,SACA,WACA,OACA,UACA,gBACA,IACA,QACA,OACA,iBACA,SACA,OACA,OACA,UACA,UACA,WACA,iBACA,OACA,OACA,MACA,OACA,SAGKC,GAAkB,CAAC,IAAK,IAAK,SAAU,KAAM,IAAK,OAAQ,OAE1DC,GAAanxB,IAAA,IAAC,SAAEC,GAAoBD,EAAPoxB,EAAKC,aAAArxB,EAAAsxB,IAAA,OACvCnyB,IAAAkB,cAAA,IAAAkxB,OAAAC,OAAA,GAAOJ,EAAK,CAAEK,OAAO,SAASC,IAAI,wBAChCzxB,IAgDY0xB,OA5CSC,IAAmB,IAAlB,SAAE3xB,GAAU2xB,EACpC,MAAMC,EAAY,aACZC,EAAa,WAIf7xB,GAAYA,EAAS8xB,SAAS,SACjC9xB,EAAWA,EAAS+xB,QAAQ,UAHX,qBAMd/xB,GAAY4xB,EAAUvc,KAAKrV,KAC9BA,EAAWA,EAAS+xB,QAAQH,EAAW,WAGpC5xB,GAAYA,EAAS8xB,SAVP,sBAWjB9xB,EAAWA,EAAS+xB,QAAQ,IAAIC,OAXf,mBAWiC,KAAM,QAGrDhyB,GAAY6xB,EAAWxc,KAAKrV,KAC/BA,EAAWA,EAAS+xB,QAAQF,EAAY,WAEzC,MAAM/lB,EAAU5M,IAAM+yB,QAAQ,KAC7B,MAAMC,EAAkB,CACvBC,uBAAuB,EACvBC,aAAa,EACbC,UAAW,CACVC,EAAG,CAAEC,UAAWrB,MAUlB,OANAF,GAASwB,QAAQC,IAC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ETz8D,EAAUR,KAaVk3E,EAAqBA,KACzBH,EAAoB,MACpBlnC,KAyFIsnC,EAAuBzgD,UAC3B,UACQh5B,EAAIq5B,KAAK,aAAD3E,OAAc3nB,EAAQ+I,GAAE,cAAc,CAClDC,KAAM2jE,IAER/kD,IAAMjxB,QAAQmuB,KAAK+C,EAAE,uCACrB,MAAOT,GACPD,GAAWC,GAEbqlD,KAIIG,EAAqB,CACzB,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,GACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,GACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,GACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,eACA,gBAuDF,OACEn5E,IAAAkB,cAAAlB,IAAA2gC,SAAA,KACE3gC,IAAAkB,cAACk4E,GAAwB,CACvB3f,UAAW2e,EACX/sC,QAAUtK,GAAMs3C,GAAqC,GACrDv4D,OAAQw4D,EACRx4C,SAAoB,OAAVw4C,QAAU,IAAVA,OAAU,EAAVA,EAAYhjE,KAExBtV,IAAAkB,cAAC86D,GAAc,CACbh1B,OAAQ4tC,EACRjjC,YAzLmB4jC,KACvBV,GAAa,GACbA,GAAa,GACbE,EAAkB,IAClBE,EAAmB,KAsLfzoE,KAAMsoE,EACNroE,MAAOuoE,IAETh1E,IAAAkB,cAAC21D,GAAiB,CAChB7zD,MAAOquB,KAAK+C,EAAE,8CACd3xB,KAAM+iE,EACNn6B,QAASo6B,EACT3O,UArLsBt+B,UAC1B,UACQh5B,EAAIooB,OAAO,aAADsM,OAAc3nB,EAAQ+I,KACtC,MAAOqe,GACPD,GAAWC,MAmLRtC,KAAK+C,EAAE,iDAGVp0B,IAAAkB,cAAC21E,GAAgB,CACf7zE,MAAOquB,KAAK+C,EAAE,iCACd3xB,KAAM+1E,EACNntC,QAASotC,GAERC,G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","file":"static/js/main.5b354926.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABkCAYAAADE6GNbAAAACXBIWXMAAAsTAAALEwEAmpwYAAABNmlDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjarY6xSsNQFEDPi6LiUCsEcXB4kygotupgxqQtRRCs1SHJ1qShSmkSXl7VfoSjWwcXd7/AyVFwUPwC/0Bx6uAQIYODCJ7p3MPlcsGo2HWnYZRhEGvVbjrS9Xw5+8QMUwDQCbPUbrUOAOIkjvjB5ysC4HnTrjsN/sZ8mCoNTIDtbpSFICpA/0KnGsQYMIN+qkHcAaY6addAPAClXu4vQCnI/Q0oKdfzQXwAZs/1fDDmADPIfQUwdXSpAWpJOlJnvVMtq5ZlSbubBJE8HmU6GmRyPw4TlSaqo6MukP8HwGK+2G46cq1qWXvr/DOu58vc3o8QgFh6LFpBOFTn3yqMnd/n4sZ4GQ5vYXpStN0ruNmAheuirVahvAX34y/Axk/96FpPYgAAACBjSFJNAAB6JQAAgIMAAPn/AACA6AAAUggAARVYAAA6lwAAF2/XWh+QAAADpElEQVR42uybXWjOURzHP8+GvAwxscmFC2HY2AVaWDJpzYXCckG51C4kyp0L7MqFXHEjhbyUpslL7YWLrcfLirKat42kpGw0Gzazclw8//H05OH/nP/vnP9J51fn6unU+eycnd/3+/udf0Ipxf8Q43QnJhKJv/28CKgCaoBSYAYwBLwAWoGbwONsk7X+uEoprZElVgAXARVi3AGqpdYkCXIgJEDmOOkSyAlNiLHR7ALIwYgQY+NSnCAlQhBjY2tcIK3CIO+BfJ315EW4usuAjcLpYDawRWdiFJDNhnLbDtsgawyBVNsGWW4IZKJtkGmGQEZsg4wYAsm3DfLKJSEbBaTdEEiHbZDbhkCuatkKXWMV+JHXwHxBiB9AkVKqz+aOANQJ78ZhoE9rpoD6bRTSWT1xy/g8oDMixCdgXhSQPKFzvSrTHOUQT4Fy4G2kVQh79n3Au5C78AU4/qcEqLOeqLdWNq1UB1QCq4HitN8GgfvAA+AU0CtVRTEBkpmlS4BZwGegO4D55ylxDUT7uNvOI86EB/EgHsSDeBAP4kE8SO5RoFuvMlpDChEVpGrDlcDSNPXbA7QFMr5JXGkKGqsK4HpIY5UEaqXWJAlSr+nXz7sEcjZi8SHpAkg9MuWga3GClCLbQ9wZV/GhLbiZpOIDMFcpNWozj5QLQxBc09tsJ0RTzdBa2yBrDYFssg2yzBDIeNsgUw2BfLcN8s0l/RcFpNslRR4FJGkI5K5tkBZDIA1aCTpiZn8GLBaEGAXmKKX6bTvE/cK7cQTo15opoH4vCwnGJy74kSTRX84VuuIQr2hCPASKXLK6AHuCAkMYgH7gqIue/deFBuwGLgRHJn3xg8AtUs3SQsn/W9M9xAnBsZkcaKiPwECYC8h2HjESvhnqQTyIB/EgHsSDeBAPklNMCVSxsTDVDF0HbAcWAAv53Qx9GdTDmkhr7IgpTUE/sj4H29tF0NhxzVjpflTZSEbhOk6QhojFh850mLhAjgmVg1riBClDthm6Ky7P3kHqXbxUDJBqhg7ZzCMrhSEApgfXttWEaKoZah3E1JehG2yDLDEEYv07xAJDIKO2QYZd0n9RQJ4bAknYBjHVDG23DdJkCCSWZmgXqceXUjEMFCulBmzuCMBe4d04RIi2gyljdVpIMD5ywY80R4R4Q9ojnbgd4hlNiDZgpktWF1Kv37pCAvSS+pJU5Libar3VBCapCpiUvkbgHnAOuAF8zQZi7fr1lUZD8XMANRAgSXSLAdwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,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\"","import axios from \"axios\";\r\n\r\nconst api = axios.create({\r\n\tbaseURL: process.env.REACT_APP_BACKEND_URL,\r\n\twithCredentials: true,\r\n});\r\n\r\nexport const openApi = axios.create({\r\n\tbaseURL: process.env.REACT_APP_BACKEND_URL\r\n\t\r\n});\r\n\r\nexport default api;\r\n","import React from \"react\";\r\n\r\nconst ColorModeContext = React.createContext({\r\n    toggleColorMode: () => { },\r\n    setPrimaryColorLight: (_) => { },\r\n    setPrimaryColorDark: (_) => { },\r\n    setAppLogoLight: (_) => { },\r\n    setAppLogoDark: (_) => { },\r\n    setAppLogoFavicon: (_) => { },\r\n});\r\n\r\nexport default ColorModeContext;","import React, { createContext, useContext, useState } from \"react\";\r\n\r\nconst ActiveMenuContext = createContext();\r\n\r\nexport const useActiveMenu = () => useContext(ActiveMenuContext);\r\n\r\nexport const ActiveMenuProvider = ({ children }) => {\r\n  const [activeMenu, setActiveMenu] = useState(\"\");\r\n\r\n  return (\r\n    <ActiveMenuContext.Provider value={{ activeMenu, setActiveMenu }}>\r\n      {children}\r\n    </ActiveMenuContext.Provider>\r\n  );\r\n};","function getConfig(name, defaultValue = null) {\r\n    // If inside a docker container, use window.ENV\r\n    if (window.ENV !== undefined) {\r\n        return window.ENV[name] || defaultValue;\r\n    }\r\n\r\n    return process.env[name] || defaultValue;\r\n}\r\n\r\nexport function getBackendUrl() {\r\n    return getConfig('REACT_APP_BACKEND_URL');\r\n}\r\n\r\nexport function getHoursCloseTicketsAuto() {\r\n    return getConfig('REACT_APP_HOURS_CLOSE_TICKETS_AUTO');\r\n}\r\n\r\nexport function getFrontendPort() {\r\n    return getConfig('SERVER_PORT');\r\n}\r\n\r\nexport function getPrimaryColor() {\r\n    return getConfig(\"REACT_APP_PRIMARY_COLOR\");\r\n}\r\n\r\nexport function getPrimaryDark() {\r\n    return getConfig(\"REACT_APP_PRIMARY_DARK\");\r\n}\r\n\r\nexport function getNumberSupport() {\r\n    return getConfig(\"REACT_APP_NUMBER_SUPPORT\");\r\n}","import React from \"react\";\r\n\r\nimport Backdrop from \"@material-ui/core/Backdrop\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbackdrop: {\r\n\t\tzIndex: theme.zIndex.drawer + 1,\r\n\t\tcolor: \"#fff\",\r\n\t},\r\n}));\r\n\r\nconst BackdropLoading = () => {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<Backdrop className={classes.backdrop} open={true}>\r\n\t\t\t<CircularProgress color=\"inherit\" />\r\n\t\t</Backdrop>\r\n\t);\r\n};\r\n\r\nexport default BackdropLoading;\r\n","const messages = {\r\n  pt: {\r\n    translations: {\r\n      signup: {\r\n        title: \"Cadastre-se\",\r\n        toasts: {\r\n          success: \"Usuário criado com sucesso! Faça seu login!!!.\",\r\n          fail: \"Erro ao criar usuário. Verifique os dados informados.\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n          company: \"Nome da Organização\",\r\n          phone: \"Whatsapp (DDD + NÚMERO)\",\r\n        },\r\n        buttons: {\r\n          submit: \"Cadastrar\",\r\n          login: \"Já tem uma conta? Entre!\",\r\n        },\r\n      },\r\n      login: {\r\n        title: \"Login\",\r\n        form: {\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n          button: \"Acessar\",\r\n        },\r\n        buttons: {\r\n          submit: \"Entrar\",\r\n          register: \"Não tem um conta? Cadastre-se!\",\r\n        },\r\n      },\r\n      companies: {\r\n        title: \"Cadastrar Empresa\",\r\n        form: {\r\n          name: \"Nome da Empresa\",\r\n          plan: \"Plano\",\r\n          token: \"Token\",\r\n          submit: \"Cadastrar\",\r\n          success: \"Empresa criada com sucesso!\",\r\n        },\r\n      },\r\n      auth: {\r\n        toasts: {\r\n          success: \"Login efetuado com sucesso!\",\r\n        },\r\n        dueDate: {\r\n          expiration: \"Sua assinatura expira em\",\r\n          days: \"dias!\",\r\n          day: \"dia!\",\r\n          expirationToday: \"Sua assinatura expira hoje!\",\r\n        },\r\n        token: \"Token\",\r\n      },\r\n      dashboard: {\r\n        tabs: {\r\n          indicators: \"Indicadores\",\r\n          assessments: \"NPS\",\r\n          attendants: \"Atendentes\",\r\n        },\r\n        charts: {\r\n          perDay: {\r\n            title: \"Atendimentos hoje: \",\r\n          },\r\n        },\r\n        cards: {\r\n          inAttendance: \"Em Atendimento\",\r\n          waiting: \"Aguardando\",\r\n          activeAttendants: \"Atendentes Ativos\",\r\n          finalized: \"Finalizados\",\r\n          newContacts: \"Novos Contatos\",\r\n          totalReceivedMessages: \"Mensagens Recebidas\",\r\n          totalSentMessages: \"Mensagens Enviadas\",\r\n          averageServiceTime: \"T.M. de Atendimento\",\r\n          averageWaitingTime: \"T.M. de Espera\",\r\n          status: \"Status (Atual)\",\r\n          activeTickets: \"Tickets Ativos\",\r\n          passiveTickets: \"Tickets Passivos\",\r\n          groups: \"Grupos\",\r\n        },\r\n        users: {\r\n          name: \"Nome\",\r\n          numberAppointments: \"Quantidade de Atendimentos\",\r\n          statusNow: \"Atual\",\r\n          totalCallsUser: \"Total de atendimentos por usuario\",\r\n          totalAttendances: \"Total de atendimentos\",\r\n        },\r\n        date: {\r\n          initialDate: \"Data Inicial\",\r\n          finalDate: \"Data Final\",\r\n        },\r\n        licence: {\r\n          available: \"Disponível até\",\r\n        },\r\n        assessments: {\r\n          totalCalls: \"Total de Atendimentos\",\r\n          callsWaitRating: \"Atendimentos aguardando avaliação\",\r\n          callsWithoutRating: \"Atendimentos sem avaliação\",\r\n          ratedCalls: \"Atendimentos avaliados\",\r\n          evaluationIndex: \"Índice de avaliação\",\r\n          score: \"Pontuação\",\r\n          prosecutors: \"Promotores\",\r\n          neutral: \"Neutros\",\r\n          detractors: \"Detratores\",\r\n        },\r\n      },\r\n      reports: {\r\n        title: \"Relatório de Pesquisas Realizadas\",\r\n        operator: \"Operador\",\r\n        period: \"Período\",\r\n        until: \"Até\",\r\n        date: \"Data\",\r\n        reportTitle: \"Relatórios\",\r\n        calls: \"Atendimentos\",\r\n        search: \"Pesquisas\",\r\n        durationCalls: \"Duracão dos atendimentos\",\r\n        grupoSessions: \"Atendimentos em grupos\",\r\n        groupTicketsReports: {\r\n          timezone: \"America/Sao_Paulo\",\r\n          msgToast: \"Gerando relatório compactado, por favor aguarde.\",\r\n          errorToast: \"Erro ao gerar o relatório\",\r\n          back: \"Voltar\",\r\n          groupServiceReport: \"Relatório de Atendimento em Grupos\",\r\n          loading: \"Carregando...\",\r\n          contact: \"Contato\",\r\n          dateOpen: \"Data abertura\",\r\n          dateLastUpdated: \"Data Última Atualização\",\r\n          agent: \"Quem atendeu\",\r\n          agentClosed: \"Quem fechou\",\r\n          waitingAssistance: \"Aguardando atendimento\",\r\n          process: \"Em atendimento\",\r\n        },\r\n        researchReports: {\r\n          response: \"resposta\",\r\n          active: \"(Ativa)\",\r\n          inactive: \"(Inativa)\",\r\n          quantity: \"Quantidade\",\r\n          percentage: \"porcentagem\",\r\n          title: \"Relatório de Pesquisas Realizadas\",\r\n          activeSearch: \"Pesquisa ativa\",\r\n          inactiveSearch: \"Pesquisa inativa\",\r\n        },\r\n        ticketDurationDetail: {\r\n          msgToast: \"Gerando relatório compactado, por favor aguarde.\",\r\n          title: \"Relatório de Duração do Atendimento\",\r\n          startService: \"Início do atendimento\",\r\n          lastUpdated: \"Última atualização\",\r\n          lastAgent: \"Último atendente\",\r\n          durationFinished: \"Duração após finalizado\",\r\n        },\r\n        ticketDuration: {\r\n          title: \"Relatório de Duração dos Atendimento\",\r\n          contact: \"Contato\",\r\n          open: \"Abertos\",\r\n          pending: \"Pendentes\",\r\n          finished: \"Finalizados\",\r\n          durationFinished: \"Duração dos finalizados\",\r\n          durationAfterFinished: \"Duração após finalizado\",\r\n          actions: \"Ações\",\r\n        },\r\n        ticketReports: {\r\n          msgToast: \"Gerando relatório compactado, por favor aguarde.\",\r\n          title: \"Relatório de Atendimento\",\r\n        },\r\n        pdf: {\r\n          title: \"Relação de Atendimentos Realizados\",\r\n          exportTitle: \"Relação de Atendimentos em Grupos Realizados\",\r\n        },\r\n      },\r\n      todo: {\r\n        newTask: \"Nova Tarefa\",\r\n        add: \"Adicionar\",\r\n        task: \"Tarefas\",\r\n      },\r\n      contactImportWpModal: {\r\n        title: \"Exportar Contatos para o Excel\",\r\n        buttons: {\r\n          downloadModel: \"Download modelo do excel para importação\",\r\n          closed: \"Fechar\",\r\n          import: \"Selecione o arquivo do excel para importar Contatos\",\r\n        },\r\n      },\r\n      connections: {\r\n        title: \"Conexões\",\r\n        waitConnection: \"Aguarde... Suas conexões serão reiniciadas!\",\r\n        newConnection: \"Nova Conexão\",\r\n        restartConnections: \"Reiniciar Conexões\",\r\n        callSupport: \"Chamar Suporte\",\r\n        newConnection: \"Nova Conexão\",\r\n        toasts: {\r\n          deleted: \"Conexão excluída com sucesso!\",\r\n          closedimported:\r\n            \"Estamos fechando os tickets importados, por favor aguarde uns instantes\",\r\n        },\r\n        confirmationModal: {\r\n          closedImportedTitle: \"Fechar tickets importados\",\r\n          closedImportedMessage:\r\n            \"Se você confirmar todos os tickets importados serão fechados\",\r\n          deleteTitle: \"Deletar\",\r\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida.\",\r\n          disconnectTitle: \"Desconectar\",\r\n          disconnectMessage:\r\n            \"Tem certeza? Você precisará ler o QR Code novamente.\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar Conexão\",\r\n          disconnect: \"desconectar\",\r\n          tryAgain: \"Tentar novamente\",\r\n          qrcode: \"QR CODE\",\r\n          newQr: \"Novo QR CODE\",\r\n          closedImported: \"Fechar todos os tickets Importados\",\r\n          preparing: \"Preparando mensagens para importação\",\r\n          importing: \"Importando Mensagens do WhatsApp\",\r\n          newQr: \"Novo QR CODE\",\r\n          processed: \"Processado\",\r\n          in: \"de\",\r\n          connecting: \"Conectando\",\r\n        },\r\n        typography: {\r\n          processed: \"Processado\",\r\n          in: \"de\",\r\n          date: \"Data da mensagem\",\r\n        },\r\n        toolTips: {\r\n          disconnected: {\r\n            title: \"Falha ao iniciar sessão do WhatsApp\",\r\n            content:\r\n              \"Certifique-se de que seu celular esteja conectado à internet e tente novamente, ou solicite um novo QR Code\",\r\n          },\r\n          qrcode: {\r\n            title: \"Esperando leitura do QR Code\",\r\n            content:\r\n              \"Clique no botão 'QR CODE' e leia o QR Code com o seu celular para iniciar a sessão\",\r\n          },\r\n          connected: {\r\n            title: \"Conexão estabelecida!\",\r\n          },\r\n          timeout: {\r\n            title: \"A conexão com o celular foi perdida\",\r\n            content:\r\n              \"Certifique-se de que seu celular esteja conectado à internet e o WhatsApp esteja aberto, ou clique no botão 'Desconectar' para obter um novo QR Code\",\r\n          },\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          status: \"Status\",\r\n          lastUpdate: \"Última atualização\",\r\n          default: \"Padrão\",\r\n          actions: \"Ações\",\r\n          session: \"Sessão\",\r\n          number: \"Número do Whatsapp\",\r\n        },\r\n      },\r\n      showTicketOpenModal: {\r\n        title: {\r\n          header: \"Atendimento Existente\",\r\n        },\r\n        form: {\r\n          message: \"Este contato já está em atendimento:\",\r\n          user: \"Atendente\",\r\n          queue: \"Fila\",\r\n          messageWait:\r\n            \"Este contato já está aguardando atendimento. Veja na aba Aguardando!\",\r\n        },\r\n      },\r\n      showTicketLogModal: {\r\n        title: {\r\n          header: \"Logs\",\r\n        },\r\n        options: {\r\n          create: \"Ticket criado.\",\r\n          chatBot: \"ChatBot iniciado.\",\r\n          queue: \" - Fila definida.\",\r\n          open: \" iniciou o atendimento.\",\r\n          access: \"acessou o ticket.\",\r\n          transfered: \"transferiu o ticket.\",\r\n          receivedTransfer: \"recebeu o ticket transferido.\",\r\n          pending: \"devolveu a fila.\",\r\n          closed: \"fechou o ticket\",\r\n          reopen: \"reabriu o ticket\",\r\n          redirect: \"- redirecionado\",\r\n        },\r\n      },\r\n      whatsappModal: {\r\n        title: {\r\n          add: \"Adicionar Conexão\",\r\n          edit: \"Editar Conexão\",\r\n        },\r\n        tabs: {\r\n          general: \"Geral\",\r\n          messages: \"Mensagens\",\r\n          assessments: \"NPS\",\r\n          integrations: \"Integrações\",\r\n          schedules: \"Horário de expediente\",\r\n        },\r\n        form: {\r\n          importOldMessagesEnable: \"Importar mensagens do aparelho\",\r\n          importOldMessages: \"Data de inicio da importação\",\r\n          importRecentMessages: \"Data de termino da importação\",\r\n          importOldMessagesGroups: \"Importar mensagens de grupo\",\r\n          closedTicketsPostImported: \"Encerrar tickets após importação\",\r\n          name: \"Nome\",\r\n          queueRedirection: \"Redirecionamento de Fila\",\r\n          queueRedirectionDesc:\r\n            \"Selecione uma fila para os contatos que não possuem fila serem redirecionados\",\r\n          default: \"Padrão\",\r\n          group: \"Permitir grupos\",\r\n          timeSendQueue: \"Tempo em minutos para redirecionar para fila\",\r\n          importAlert:\r\n            \"ATENÇÃO: Ao salvar, sua conexão será encerrada, será necessário ler novamente o QR Code para importar as mensagens\",\r\n          groupAsTicket: \"Tratar grupos como ticket\",\r\n          timeCreateNewTicket: \"Criar novo ticket em x minutos\",\r\n          maxUseBotQueues: \"Enviar bot x vezes\",\r\n          timeUseBotQueues: \"Enviar bot em x minutos\",\r\n          expiresTicket: \"Encerrar chats abertos após x minutos\",\r\n          expiresTicketNPS:\r\n            \"Encerrar chats aguardando avaliação após x minutos\",\r\n          maxUseBotQueuesNPS:\r\n            \"Quantidade máxima de vezes que a avaliaçao vai ser enviada\",\r\n          closeLastMessageOptions1: \"Do atendente/Cliente\",\r\n          closeLastMessageOptions2: \"Do atendente\",\r\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\r\n          greetingMessage: \"Mensagem de saudação\",\r\n          complationMessage: \"Mensagem de conclusão\",\r\n          lgpdLinkPrivacy: \"Link para política de privacidade\",\r\n          lgpdMessage: \"Mensagem de saudaçao LGPD\",\r\n          lgpdDeletedMessages: \"Ofuscar mensagem apagada pelo contato\",\r\n          lgpdSendMessage: \"Sempre solicitar confirmação do contato\",\r\n          ratingMessage: \"Mensagem de avaliaçao - Escala deve ser de 0 a 10\",\r\n          token: \"Token para integração externa\",\r\n          sendIdQueue: \"Fila\",\r\n          inactiveMessage: \"Mensagem de inatividade\",\r\n          timeInactiveMessage:\r\n            \"Tempo em minutos para envio do aviso de inatividade\",\r\n          whenExpiresTicket:\r\n            \"Encerrar chats abertos quando última mensagem for\",\r\n          expiresInactiveMessage: \"Mensagem de encerramento por inatividade\",\r\n          prompt: \"Prompt\",\r\n          collectiveVacationEnd: \"Data final\",\r\n          collectiveVacationStart: \"Data inicial\",\r\n          collectiveVacationMessage: \"Mensagem de férias coletivas\",\r\n          queueIdImportMessages: \"Fila para importar as mensagens\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        menuItem: {\r\n          enabled: \"Habilitado\",\r\n          disabled: \"Desabilitado\",\r\n          minutes: \"minutos\",\r\n        },\r\n        success: \"Conexão salvo com sucesso.\",\r\n        errorSendQueue:\r\n          \"Foi informado tempo para redirecionar fila, porém não foi selecionada fila para redirecionar. Os dois campos precisam estar preenchidos\",\r\n        errorExpiresNPS:\r\n          \"É obrigado informar um tempo para avaliação quando se utiliza o NPS.\",\r\n        errorRatingMessage:\r\n          \"É obrigado informar uma mensagem de avaliação quando se utiliza o NPS.\",\r\n      },\r\n      qrCode: {\r\n        message: \"Leia o QrCode para iniciar a sessão\",\r\n      },\r\n      contacts: {\r\n        title: \"Contatos\",\r\n        toasts: {\r\n          deleted: \"Contato excluído com sucesso!\",\r\n        },\r\n        searchPlaceholder: \"Pesquisar...\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Deletar \",\r\n          importTitlte: \"Importar contatos\",\r\n          exportContact: \"Exportar contatos\",\r\n          deleteMessage:\r\n            \"Tem certeza que deseja deletar este contato? Todos os atendimentos relacionados serão perdidos.\",\r\n          blockContact: \"Tem certeza que deseja bloquear este contato?\",\r\n          unblockContact: \"Tem certeza que deseja desbloquear este contato?\",\r\n          importMessage: \"Deseja importar todos os contatos do telefone?\",\r\n          importChat: \"Importar Conversas\",\r\n          wantImport: \"Deseja importar todas as conversas do telefone?\",\r\n          deleteAllContact:\r\n            \"Tem certeza que deseja deletar todos os contatos? Todos os atendimentos relacionados serão perdidos.\",\r\n          deleteAllTitle: \"Deletar Contatos\",\r\n        },\r\n        buttons: {\r\n          import: \"Importar Contatos\",\r\n          add: \"Adicionar Contato\",\r\n          export: \"Exportar Contato\",\r\n          deleteAllContacts: \"Deletar todos os contatos\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          whatsapp: \"Conexão\",\r\n          email: \"Email\",\r\n          actions: \"Ações\",\r\n          lastMessage: \"Última Mensagem\",\r\n        },\r\n        menu: {\r\n          importYourPhone: \"Importar do aparelho padrão\",\r\n          importToExcel: \"Importar / Exportar do Excel\",\r\n        },\r\n      },\r\n      forwardMessage: {\r\n        text: \"Encaminhada\",\r\n      },\r\n      forwardMessageModal: {\r\n        title: \"Encaminhar mensagem\",\r\n        buttons: {\r\n          ok: \"Encaminhar\",\r\n        },\r\n      },\r\n      promptModal: {\r\n        form: {\r\n          name: \"Nome\",\r\n          prompt: \"Prompt\",\r\n          voice: \"Voz\",\r\n          max_tokens: \"Máximo de Tokens na resposta\",\r\n          temperature: \"Temperatura\",\r\n          apikey: \"API Key\",\r\n          max_messages: \"Máximo de mensagens no Histórico\",\r\n          voiceKey: \"Chave da API de Voz\",\r\n          voiceRegion: \"Região de Voz\",\r\n        },\r\n        success: \"Prompt salvo com sucesso!\",\r\n        title: {\r\n          add: \"Adicionar Prompt\",\r\n          edit: \"Editar Prompt\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      prompts: {\r\n        title: \"Prompts\",\r\n        table: {\r\n          name: \"Nome\",\r\n          queue: \"Setor/Fila\",\r\n          max_tokens: \"Máximo Tokens Resposta\",\r\n          actions: \"Ações\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Você tem certeza? Essa ação não pode ser revertida!\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar Prompt\",\r\n        },\r\n      },\r\n      contactModal: {\r\n        title: {\r\n          add: \"Adicionar contato\",\r\n          edit: \"Editar contato\",\r\n        },\r\n        form: {\r\n          mainInfo: \"Dados do contato\",\r\n          extraInfo: \"Informações adicionais\",\r\n          name: \"Nome\",\r\n          number: \"Número do Whatsapp\",\r\n          email: \"Email\",\r\n          extraName: \"Nome do campo\",\r\n          extraValue: \"Valor\",\r\n          chatBotContact: \"Desabilitar chatbot\",\r\n          termsLGDP: \"Termos LGPD aceito em:\",\r\n          whatsapp: \"Conexão Origem: \",\r\n        },\r\n        buttons: {\r\n          addExtraInfo: \"Adicionar informação\",\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Contato salvo com sucesso.\",\r\n      },\r\n      flowbuilderModal: {\r\n        flowNotIdPhrase: \"Fluxo padrão\",\r\n      },\r\n      queueModal: {\r\n        title: {\r\n          queueData: \"Dados da fila\",\r\n          text: \"Horários de atendimento\",\r\n          add: \"Adicionar fila\",\r\n          edit: \"Editar fila\",\r\n          confirmationDelete:\r\n            \"Tem certeza? Todas as opções de integrações serão deletadas.\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          orderQueue: \"Ordem da fila (Bot)\",\r\n          rotate: \"Rodízio\",\r\n          timeRotate: \"Tempo de Rodízio\",\r\n          greetingMessage: \"Mensagem de saudação\",\r\n          complationMessage: \"Mensagem de conclusão\",\r\n          outOfHoursMessage: \"Mensagem de fora de expediente\",\r\n          token: \"Token\",\r\n          integrationId: \"Integração\",\r\n          fileListId: \"Lista de arquivos\",\r\n          closeTicket: \"Fechar ticket\",\r\n          queueType: \"Tipo de menu\",\r\n          message: \"Mensagem de retorno\",\r\n          queue: \"Fila para transferência\",\r\n          integration: \"Integração\",\r\n          file: \"Lista de arquivos\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        bot: {\r\n          title: \"Opções\",\r\n          toolTipTitle: \"Adicione opções para construir um chatbot\",\r\n          toolTip:\r\n            \"Se houver apenas uma opção, ela será escolhida automaticamente, fazendo com que o bot responda com a mensagem da opção e siga adiante\",\r\n          selectOption: \"Selecione uma opção\",\r\n          text: \"Texto\",\r\n          attendent: \"Atendente\",\r\n          queue: \"Fila\",\r\n          integration: \"Integração\",\r\n          file: \"Arquivo\",\r\n          toolTipMessageTitle:\r\n            \"A mensagem é obrigatória para seguir ao próximo nível\",\r\n          toolTipMessageContent:\r\n            \"A mensagem é obrigatória para seguir ao próximo nível\",\r\n          selectUser: \"Selecione um Usuário\",\r\n          selectQueue: \"Selecione uma Fila\",\r\n          selectIntegration: \"Selecione uma Integração\",\r\n          addOptions: \"Adicionar opções\",\r\n        },\r\n        serviceHours: {\r\n          dayWeek: \"Dia da semana\",\r\n          startTimeA: \"Hora Inicial - Turno A\",\r\n          endTimeA: \"Hora Final - Turno A\",\r\n          startTimeB: \"Hora Inicial - Turno B\",\r\n          endTimeB: \"Hora Final - Turno B\",\r\n          monday: \"Segunda-feira\",\r\n          tuesday: \"Terça-feira\",\r\n          wednesday: \"Quarta-feira\",\r\n          thursday: \"Quinta-feira\",\r\n          friday: \"Sexta-feira\",\r\n          saturday: \"Sábado\",\r\n          sunday: \"Domingo\",\r\n        },\r\n      },\r\n      queueIntegrationModal: {\r\n        title: {\r\n          add: \"Adicionar projeto\",\r\n          edit: \"Editar projeto\",\r\n        },\r\n        form: {\r\n          id: \"ID\",\r\n          type: \"Tipo\",\r\n          name: \"Nome\",\r\n          projectName: \"Nome do Projeto\",\r\n          language: \"Linguagem\",\r\n          jsonContent: \"JsonContent\",\r\n          urlN8N: \"URL\",\r\n          typebotSlug: \"Typebot - Slug\",\r\n          typebotExpires: \"Tempo em minutos para expirar uma conversa\",\r\n          typebotKeywordFinish: \"Palavra para finalizar o ticket\",\r\n          typebotKeywordRestart: \"Palavra para reiniciar o fluxo\",\r\n          typebotRestartMessage: \"Mensagem ao reiniciar a conversa\",\r\n          typebotUnknownMessage: \"Mensagem de opção inválida\",\r\n          typebotDelayMessage: \"Intervalo (ms) entre mensagens\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n          test: \"Testar Bot\",\r\n        },\r\n        messages: {\r\n          testSuccess: \"Integração testada com sucesso!\",\r\n          addSuccess: \"Integração adicionada com sucesso.\",\r\n          editSuccess: \"Integração editada com sucesso.\",\r\n        },\r\n      },\r\n      userModal: {\r\n        warning:\r\n          \"Para fazer a importação das mensagens é necessário ler o qrCode novamente !!!\",\r\n        title: {\r\n          add: \"Adicionar usuário\",\r\n          edit: \"Editar usuário\",\r\n          updateImage: \"Atualizar imagem\",\r\n          removeImage: \"Excluir imagem\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n          farewellMessage: \"Mensagem de despedida\",\r\n          profile: \"Perfil\",\r\n          startWork: \"Inicio de trabalho\",\r\n          endWork: \"Fim de trabalho\",\r\n          whatsapp: \"Conexão Padrão\",\r\n          allTicketEnable: \"Habilitado\",\r\n          allTicketDisable: \"Desabilitado\",\r\n          allTicket: \"Visualizar chamados sem fila\",\r\n          allowGroup: \"Permitir Grupos\",\r\n          defaultMenuOpen: \"Aberto\",\r\n          defaultMenuClosed: \"Fechado\",\r\n          defaultMenu: \"Menu padrão\",\r\n          defaultTheme: \"Tema Padrão\",\r\n          defaultThemeDark: \"Escuro\",\r\n          defaultThemeLight: \"Claro\",\r\n          allHistoric: \"Ver conversas de outras filas\",\r\n          allHistoricEnabled: \"Habilitado\",\r\n          allHistoricDisabled: \"Desabilitado\",\r\n          allUserChat: \"Ver conversas de outros usuários\",\r\n          userClosePendingTicket: \"Permitir fechar tickets pendentes\",\r\n          showDashboard: \"Ver Dashboard\",\r\n          allowRealTime: \"Ver Painel de Atendimentos\",\r\n          allowConnections: \"Permitir ações nas conexões\",\r\n        },\r\n        tabs: {\r\n          general: \"Geral\",\r\n          permissions: \"Permissões\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n          addImage: \"Adicionar Imagem\",\r\n          editImage: \"Editar Imagem\",\r\n        },\r\n        success: \"Usuário salvo com sucesso.\",\r\n      },\r\n      companyModal: {\r\n        title: {\r\n          add: \"Adicionar empresa\",\r\n          edit: \"Editar empresa\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          passwordDefault: \"Senha\",\r\n          numberAttendants: \"Usuários\",\r\n          numberConections: \"Conexões\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Empresa salvo com sucesso.\",\r\n      },\r\n      scheduleModal: {\r\n        title: {\r\n          add: \"Novo Agendamento\",\r\n          edit: \"Editar Agendamento\",\r\n        },\r\n        form: {\r\n          body: \"Mensagem\",\r\n          contact: \"Contato\",\r\n          sendAt: \"Data de Agendamento\",\r\n          sentAt: \"Data de Envio\",\r\n          assinar: \"Enviar Assinatura\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n          addSchedule: \"Adicionar agendamento\",\r\n        },\r\n        success: \"Agendamento salvo com sucesso.\",\r\n      },\r\n      tagModal: {\r\n        title: {\r\n          add: \"Nova Tag\",\r\n          edit: \"Editar Tag\",\r\n          addKanban: \"Nova Lane\",\r\n          editKanban: \"Editar Lane\",\r\n        },\r\n        form: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          timeLane: \"Tempo em horas para redirecionar para lane\",\r\n          nextLaneId: \"Lane\",\r\n          greetingMessageLane: \"Mensagem de saudação da lane\",\r\n          rollbackLaneId: \"Voltar para Lane após retomar atendimento\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Adicionar\",\r\n          okEdit: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Tag salva com sucesso.\",\r\n        successKanban: \"Lane salva com sucesso.\",\r\n      },\r\n      fileModal: {\r\n        title: {\r\n          add: \"Adicionar lista de arquivos\",\r\n          edit: \"Editar lista de arquivos\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Salvar\",\r\n          okEdit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n          fileOptions: \"Adicionar arquivo\",\r\n        },\r\n        form: {\r\n          name: \"Nome da lista de arquivos\",\r\n          message: \"Detalhes da lista\",\r\n          fileOptions: \"Lista de arquivos\",\r\n          extraName: \"Mensagem para enviar com arquivo\",\r\n          extraValue: \"Valor da opção\",\r\n        },\r\n        success: \"Lista de arquivos salva com sucesso!\",\r\n      },\r\n      chat: {\r\n        noTicketMessage: \"Selecione um ticket para começar a conversar.\",\r\n      },\r\n      uploads: {\r\n        titles: {\r\n          titleUploadMsgDragDrop:\r\n            \"⬇️ ARRASTE E SOLTE ARQUIVOS NO CAMPO ABAIXO ⬇️\",\r\n          titleFileList: \"Lista de arquivo(s)\",\r\n        },\r\n      },\r\n      chatInternal: {\r\n        new: \"Nova\",\r\n        modal: {\r\n          conversation: \"Conversa\",\r\n          title: \"Título\",\r\n          filterUsers: \"Filtro por Usuários\",\r\n          cancel: \"Fechar\",\r\n          save: \"Salvar\",\r\n        },\r\n        modalDelete: {\r\n          title: \"Excluir Conversa\",\r\n          message: \"Esta ação não pode ser revertida, confirmar?\",\r\n        },\r\n      },\r\n      ticketsManager: {\r\n        questionCloseTicket: \"VOCÊ DESEJA FECHAR TODOS OS TICKETS?\",\r\n        yes: \"SIM\",\r\n        not: \"NÃO\",\r\n        buttons: {\r\n          newTicket: \"Novo\",\r\n          resolveAll: \"Resolver Todos\",\r\n          close: \"Fechar\",\r\n          new: \"Novo\",\r\n        },\r\n      },\r\n      ticketsQueueSelect: {\r\n        placeholder: \"Filas\",\r\n      },\r\n      tickets: {\r\n        inbox: {\r\n          closedAllTickets: \"Fechar todos os tickets?\",\r\n          closedAll: \"Fechar Todos\",\r\n          newTicket: \"Novo Ticket\",\r\n          yes: \"SIM\",\r\n          no: \"NÃO\",\r\n          open: \"Abertos\",\r\n          resolverd: \"Resolvidos\",\r\n        },\r\n        toasts: {\r\n          deleted: \"O atendimento que você estava foi deletado.\",\r\n        },\r\n        notification: {\r\n          message: \"Mensagem de\",\r\n        },\r\n        tabs: {\r\n          open: { title: \"Abertas\" },\r\n          closed: { title: \"Resolvidos\" },\r\n          search: { title: \"Busca\" },\r\n        },\r\n        search: {\r\n          placeholder: \"Buscar atendimento e mensagens\",\r\n          filterConections: \"Filtro por Conexão\",\r\n          filterConectionsOptions: {\r\n            open: \"Aberto\",\r\n            closed: \"Fechado\",\r\n            pending: \"Pendente\",\r\n          },\r\n          filterUsers: \"Filtro por Usuarios\",\r\n          filterContacts: \"Filtro por Contatos\",\r\n          ticketsPerPage: \"Tickets por página\",\r\n        },\r\n        buttons: {\r\n          showAll: \"Todos\",\r\n          returnQueue: \"Devolver a Fila\",\r\n          scredule: \"Agendamento\",\r\n          deleteTicket: \"Deletar Ticket\",\r\n        },\r\n        closedTicket: {\r\n          closedMessage: \"Fechar Ticket Com Mensagem de Despedida\",\r\n          closedNotMessage: \"Fechar Ticket Sem Mensagem de Despedida\",\r\n        },\r\n      },\r\n      transferTicketModal: {\r\n        title: \"Transferir Ticket\",\r\n        fieldLabel: \"Digite para buscar usuários\",\r\n        fieldQueueLabel: \"Transferir para fila\",\r\n        fieldQueuePlaceholder: \"Selecione uma fila\",\r\n        fieldWhatsapp: \"Selecione um whatsapp\",\r\n        noOptions: \"Nenhum usuário encontrado com esse nome\",\r\n        msgTransfer: \"Observações - mensagem interna, não vai para o cliente\",\r\n        buttons: {\r\n          ok: \"Transferir\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      chatInternal: {\r\n        new: \"Nova\",\r\n        modal: {\r\n          conversation: \"Conversa\",\r\n          title: \"Título\",\r\n          filterUsers: \"Filtro por Usuários\",\r\n          cancel: \"Fechar\",\r\n          save: \"Salvar\",\r\n        },\r\n        modalDelete: {\r\n          title: \"Excluir Conversa\",\r\n          message: \"Esta ação não pode ser revertida, confirmar?\",\r\n        },\r\n      },\r\n      ticketsList: {\r\n        called: \"Chamado\",\r\n        today: \"Hoje\",\r\n        missedCall: \"Chamada de voz/vídeo perdida às\",\r\n        pendingHeader: \"Aguardando\",\r\n        assignedHeader: \"Atendendo\",\r\n        groupingHeader: \"Grupos\",\r\n        noTicketsTitle: \"Nada aqui!\",\r\n        noTicketsMessage:\r\n          \"Nenhum atendimento encontrado com esse status ou termo pesquisado\",\r\n        noQueue: \"Sem Fila\",\r\n        buttons: {\r\n          accept: \"Aceitar\",\r\n          cancel: \"Cancelar\",\r\n          start: \"iniciar\",\r\n          closed: \"Fechar\",\r\n          reopen: \"Reabrir\",\r\n          transfer: \"Transferir\",\r\n          ignore: \"Ignorar\",\r\n          exportAsPDF: \"Exportar para PDF\",\r\n          kanbanActions: \"Opções de Kanban\",\r\n        },\r\n        acceptModal: {\r\n          title: \"Aceitar Chat\",\r\n          queue: \"Selecionar setor\",\r\n        },\r\n      },\r\n      newTicketModal: {\r\n        title: \"Criar Ticket\",\r\n        fieldLabel: \"Digite para pesquisar o contato\",\r\n        add: \"Adicionar\",\r\n        buttons: {\r\n          ok: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      SendContactModal: {\r\n        title: \"Enviar contato\",\r\n        fieldLabel: \"Digite para pesquisar o contato\",\r\n        add: \"Adicionar\",\r\n        buttons: {\r\n          ok: \"Enviar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      mainDrawer: {\r\n        listItems: {\r\n          dashboard: \"Dashboard\",\r\n          connections: \"Conexões\",\r\n          chatsTempoReal: \"Painel\",\r\n          tickets: \"Atendimentos\",\r\n          quickMessages: \"Respostas rápidas\",\r\n          contacts: \"Contatos\",\r\n          queues: \"Filas & Chatbot\",\r\n          tags: \"Tags\",\r\n          administration: \"Administração\",\r\n          companies: \"Empresas\",\r\n          users: \"Usuários\",\r\n          settings: \"Configurações\",\r\n          files: \"Lista de arquivos\",\r\n          helps: \"Ajuda\",\r\n          messagesAPI: \"API\",\r\n          schedules: \"Agendamentos\",\r\n          campaigns: \"Campanhas\",\r\n          flowbuilder: \"Flowbuilder\",\r\n          campaignFlow: \"Fluxo de Campanha\",\r\n          conversationFlow: \"Fluxo de conversa\",\r\n          annoucements: \"Informativos\",\r\n          chats: \"Chat Interno\",\r\n          financeiro: \"Financeiro\",\r\n          queueIntegration: \"Integrações\",\r\n          version: \"Versão\",\r\n          kanban: \"Kanban\",\r\n          prompts: \"Talk.Ai\",\r\n          allConnections: \"Gerenciar conexões\",\r\n          reports: \"Relatórios\",\r\n          management: \"Gerência\",\r\n          notifyUser: \"Notificação do Usuário\",\r\n        },\r\n        appBar: {\r\n          user: {\r\n            profile: \"Perfil\",\r\n            logout: \"Sair\",\r\n            message: \"Olá\",\r\n            messageEnd: \"seja bem-vindo a\",\r\n            active: \"Ativo até\",\r\n            goodMorning: \"Oi,\",\r\n            myName: \"meu nome é\",\r\n            continuity: \"e darei continuidade em seu atendimento.\",\r\n            virtualAssistant: \"Assistente Virtual\",\r\n            token:\r\n              \"Token inválido, por favor entre em contato com o administrador da plataforma.\",\r\n          },\r\n          message: {\r\n            location: \"Localização\",\r\n            contact: \"Contato\",\r\n          },\r\n          notRegister: \"Nenhum registro\",\r\n          refresh: \"Atualizar\",\r\n        },\r\n      },\r\n      appBarListem: {\r\n        newVersion: \"Nova versão disponível! Clique aqui para atualizar\",\r\n        ticket: \"Atendimento\",\r\n        notificationUser: \"Notificação usuário\",\r\n        quickResponse: \"Respostas rápidas\",\r\n        kanban: \"Kanban\",\r\n        contacts: \"Contatos\",\r\n        schedule: \"Agendamentos\",\r\n        tags: \"Tags\",\r\n        chats: \"Chats\",\r\n        chatBots: \"ChatBots\",\r\n        settings: \"Configurações\",\r\n        dark: \"Dark\",\r\n        light: \"Light\",\r\n        notification: \"Notificações\",\r\n        language: \"Idioma\",\r\n        profile: \"Perfil\",\r\n        vertical: \"Menu Vertical\",\r\n        reports: \"Relatórios\",\r\n      },\r\n      languages: {\r\n        undefined: \"Idioma\",\r\n        \"pt-BR\": \"Português\",\r\n        es: \"Español\",\r\n        en: \"English\",\r\n        tr: \"Türkçe\",\r\n      },\r\n      messagesAPI: {\r\n        title: \"API\",\r\n        textMessage: {\r\n          number: \"Número\",\r\n          body: \"Mensagem\",\r\n          token: \"Token cadastrado\",\r\n          userId: \"ID do usuário/atendente\",\r\n          queueId: \"ID da Fila\",\r\n        },\r\n        mediaMessage: {\r\n          number: \"Número\",\r\n          body: \"Nome do arquivo\",\r\n          media: \"Arquivo\",\r\n          token: \"Token cadastrado\",\r\n        },\r\n        API: {\r\n          title: \"Documentação para envio de mensagens\",\r\n          methods: {\r\n            title: \"Métodos de Envío\",\r\n            messagesText: \"Mensagens de Texto\",\r\n            messagesMidia: \"Mensagens de Media\",\r\n          },\r\n          instructions: {\r\n            title: \"Instruções\",\r\n            comments: \"Observações Importantes\",\r\n            comments1:\r\n              \"Antes de enviar mensagens, é necessário o cadastro do token vinculado à conexão que enviará as mensagens. <br />Para realizar o cadastro acesse o menu 'Conexões', clique no botão editar da conexão e insira o token no devido campo.\",\r\n            comments2:\r\n              \"O número para envio não deve ter mascara ou caracteres especiais e deve ser composto por:\",\r\n            codeCountry: \"Código do País\",\r\n            code: \"DDD\",\r\n            number: \"Número\",\r\n          },\r\n          text: {\r\n            title: \"1. Mensagens de Texto\",\r\n            instructions:\r\n              \"Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:\",\r\n          },\r\n          media: {\r\n            title: \"2. Mensagens de Media\",\r\n            instructions:\r\n              \"Seguem abaixo a lista de informações necessárias para envio das mensagens de texto:\",\r\n          },\r\n        },\r\n      },\r\n      notifications: {\r\n        noTickets: \"Nenhuma notificação.\",\r\n      },\r\n      quickMessages: {\r\n        title: \"Respostas Rápidas\",\r\n        searchPlaceholder: \"Pesquisar...\",\r\n        noAttachment: \"Sem anexo\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Exclusão\",\r\n          deleteMessage: \"Esta ação é irreversível! Deseja prosseguir?\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar\",\r\n          attach: \"Anexar Arquivo\",\r\n          cancel: \"Cancelar\",\r\n          edit: \"Editar\",\r\n        },\r\n        toasts: {\r\n          success: \"Atalho adicionado com sucesso!\",\r\n          deleted: \"Atalho removido com sucesso!\",\r\n        },\r\n        dialog: {\r\n          title: \"Mensagem Rápida\",\r\n          shortcode: \"Atalho\",\r\n          message: \"Resposta\",\r\n          save: \"Salvar\",\r\n          cancel: \"Cancelar\",\r\n          geral: \"Permitir editar\",\r\n          add: \"Adicionar\",\r\n          edit: \"Editar\",\r\n          visao: \"Permitir visão\",\r\n        },\r\n        table: {\r\n          shortcode: \"Atalho\",\r\n          message: \"Mensagem\",\r\n          actions: \"Ações\",\r\n          mediaName: \"Nome do Arquivo\",\r\n          status: \"Status\",\r\n        },\r\n      },\r\n      contactLists: {\r\n        title: \"Listas de Contatos\",\r\n        table: {\r\n          name: \"Nome\",\r\n          contacts: \"Contatos\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Nova Lista\",\r\n        },\r\n        dialog: {\r\n          name: \"Nome\",\r\n          company: \"Empresa\",\r\n          okEdit: \"Editar\",\r\n          okAdd: \"Adicionar\",\r\n          add: \"Adicionar\",\r\n          edit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      contactListItems: {\r\n        title: \"Contatos\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        buttons: {\r\n          add: \"Novo\",\r\n          lists: \"Listas\",\r\n          import: \"Importar\",\r\n        },\r\n        dialog: {\r\n          name: \"Nome\",\r\n          number: \"Número\",\r\n          whatsapp: \"Whatsapp\",\r\n          email: \"E-mail\",\r\n          okEdit: \"Editar\",\r\n          okAdd: \"Adicionar\",\r\n          add: \"Adicionar\",\r\n          edit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          number: \"Número\",\r\n          whatsapp: \"Whatsapp\",\r\n          email: \"E-mail\",\r\n          actions: \"Ações\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n          importMessage: \"Deseja importar os contatos desta planilha? \",\r\n          importTitlte: \"Importar\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n\r\n      kanban: {\r\n        title: \"Kanban\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        subMenus: {\r\n          list: \"Painel\",\r\n          tags: \"Lanes\",\r\n        },\r\n      },\r\n\r\n      campaigns: {\r\n        title: \"Campanhas\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        subMenus: {\r\n          list: \"Listagem\",\r\n          listContacts: \"Lista de contatos\",\r\n          settings: \"Configurações\",\r\n        },\r\n        settings: {\r\n          randomInterval: \"Intervalo Randômico de Disparo\",\r\n          noBreak: \"Sem Intervalo\",\r\n          intervalGapAfter: \"Intervalo maior após\",\r\n          undefined: \"Não definido\",\r\n          messages: \"mensagens\",\r\n          laggerTriggerRange: \"Intervalo de disparo maior\",\r\n          addVar: \"Adicionar variável\",\r\n          save: \"Salvar\",\r\n          close: \"Fechar\",\r\n          add: \"Adicionar\",\r\n          shortcut: \"Atalho\",\r\n          content: \"Conteúdo\",\r\n        },\r\n        buttons: {\r\n          add: \"Nova Campanha\",\r\n          contactLists: \"Listas de Contatos\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          whatsapp: \"Conexão\",\r\n          contactList: \"Lista de Contatos\",\r\n          option: \"Nenhuma\",\r\n          disabled: \"Desabilitada\",\r\n          enabled: \"Habilitada\",\r\n          status: \"Status\",\r\n          scheduledAt: \"Agendamento\",\r\n          completedAt: \"Concluída\",\r\n          confirmation: \"Confirmação\",\r\n          actions: \"Ações\",\r\n        },\r\n        dialog: {\r\n          new: \"Nova Campanha\",\r\n          update: \"Editar Campanha\",\r\n          readonly: \"Apenas Visualização\",\r\n          help: \"Utilize variáveis como {nome}, {numero}, {email} ou defina variáveis personalizadas.\",\r\n          form: {\r\n            name: \"Nome\",\r\n            message1: \"Mensagem 1\",\r\n            message2: \"Mensagem 2\",\r\n            message3: \"Mensagem 3\",\r\n            message4: \"Mensagem 4\",\r\n            message5: \"Mensagem 5\",\r\n            confirmationMessage1: \"Mensagem de Confirmação 1\",\r\n            confirmationMessage2: \"Mensagem de Confirmação 2\",\r\n            confirmationMessage3: \"Mensagem de Confirmação 3\",\r\n            confirmationMessage4: \"Mensagem de Confirmação 4\",\r\n            confirmationMessage5: \"Mensagem de Confirmação 5\",\r\n            messagePlaceholder: \"Conteúdo da mensagem\",\r\n            whatsapp: \"Conexão\",\r\n            status: \"Status\",\r\n            scheduledAt: \"Agendamento\",\r\n            confirmation: \"Confirmação\",\r\n            contactList: \"Lista de Contato\",\r\n            tagList: \"Tags\",\r\n            statusTicket: \"Status do Ticket\",\r\n            openTicketStatus: \"Aberto\",\r\n            pendingTicketStatus: \"Pendente\",\r\n            closedTicketStatus: \"Fechado\",\r\n            enabledOpenTicket: \"Habilitado\",\r\n            disabledOpenTicket: \"Desabilitado\",\r\n            openTicket: \"Abrir ticket\",\r\n          },\r\n          buttons: {\r\n            add: \"Adicionar\",\r\n            edit: \"Atualizar\",\r\n            okadd: \"Ok\",\r\n            cancel: \"Cancelar Disparos\",\r\n            restart: \"Reiniciar Disparos\",\r\n            close: \"Fechar\",\r\n            attach: \"Anexar Arquivo\",\r\n          },\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        toasts: {\r\n          success: \"Operação realizada com sucesso\",\r\n          cancel: \"Campanha cancelada\",\r\n          restart: \"Campanha reiniciada\",\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      campaignReport: {\r\n        title: \"Relatório de\",\r\n        inactive: \"Inativa\",\r\n        scheduled: \"Programada\",\r\n        process: \"Em Andamento\",\r\n        cancelled: \"Cancelada\",\r\n        finished: \"Finalizada\",\r\n        campaign: \"Campanha\",\r\n        validContacts: \"Contatos Válidos\",\r\n        confirmationsRequested: \"Confirmações Solicitadas\",\r\n        confirmations: \"Confirmações\",\r\n        deliver: \"Entregues\",\r\n        connection: \"Conexão\",\r\n        contactLists: \"Lista de Contatos\",\r\n        schedule: \"Agendamento\",\r\n        conclusion: \"Conclusão\",\r\n      },\r\n      announcements: {\r\n        title: \"Informativos\",\r\n        searchPlaceholder: \"Pesquisa\",\r\n        active: \"Ativo\",\r\n        inactive: \"Inativo\",\r\n        buttons: {\r\n          add: \"Novo Informativo\",\r\n          contactLists: \"Listas de Informativos\",\r\n        },\r\n        table: {\r\n          priority: \"Prioridade\",\r\n          title: \"Title\",\r\n          text: \"Texto\",\r\n          mediaName: \"Arquivo\",\r\n          status: \"Status\",\r\n          actions: \"Ações\",\r\n        },\r\n        dialog: {\r\n          edit: \"Edição de Informativo\",\r\n          add: \"Novo Informativo\",\r\n          update: \"Editar Informativo\",\r\n          readonly: \"Apenas Visualização\",\r\n          form: {\r\n            priority: \"Prioridade\",\r\n            title: \"Title\",\r\n            text: \"Texto\",\r\n            mediaPath: \"Arquivo\",\r\n            status: \"Status\",\r\n            high: \"Alta\",\r\n            medium: \"Média\",\r\n            low: \"Baixa\",\r\n            active: \"Ativo\",\r\n            inactive: \"Inativo\",\r\n          },\r\n          buttons: {\r\n            add: \"Adicionar\",\r\n            edit: \"Atualizar\",\r\n            okadd: \"Ok\",\r\n            cancel: \"Cancelar\",\r\n            close: \"Fechar\",\r\n            attach: \"Anexar Arquivo\",\r\n          },\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        toasts: {\r\n          success: \"Operação realizada com sucesso\",\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      campaignsConfig: {\r\n        title: \"Configurações de Campanhas\",\r\n      },\r\n      queues: {\r\n        title: \"Filas & Chatbot\",\r\n        table: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          greeting: \"Mensagem de saudação\",\r\n          orderQueue: \"Ordenação da fila (bot)\",\r\n          actions: \"Ações\",\r\n          ID: \"ID\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar fila\",\r\n        },\r\n        toasts: {\r\n          success: \"Fila salva com sucesso\",\r\n          deleted: \"Fila exclu[ida com sucesso\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Você tem certeza? Essa ação não pode ser revertida! Os atendimentos dessa fila continuarão existindo, mas não terão mais nenhuma fila atribuída.\",\r\n        },\r\n      },\r\n      queue: {\r\n        queueData: \"Dados\",\r\n      },\r\n      queueSelect: {\r\n        inputLabel: \"Filas\",\r\n        inputLabelRO: \"Filas somente leitura\",\r\n        withoutQueue: \"Sem fila\",\r\n      },\r\n      reports: {\r\n        title: \"Relatórios de Atendimentos\",\r\n        table: {\r\n          id: \"Ticket\",\r\n          user: \"Usuário\",\r\n          dateOpen: \"Data Abertura\",\r\n          dateClose: \"Data Fechamento\",\r\n          NPS: \"NPS\",\r\n          status: \"Status\",\r\n          whatsapp: \"Conexão\",\r\n          queue: \"Fila\",\r\n          actions: \"Ações\",\r\n          lastMessage: \"Últ. Mensagem\",\r\n          contact: \"Cliente\",\r\n          supportTime: \"Tempo de Atendimento\",\r\n        },\r\n        buttons: {\r\n          filter: \"Aplicar Filtro\",\r\n          onlyRated: \"Apenas Avaliados\",\r\n        },\r\n        searchPlaceholder: \"Pesquisar...\",\r\n      },\r\n      queueIntegration: {\r\n        title: \"Integrações\",\r\n        table: {\r\n          id: \"ID\",\r\n          type: \"Tipo\",\r\n          name: \"Nome\",\r\n          projectName: \"Nome do Projeto\",\r\n          language: \"Linguagem\",\r\n          lastUpdate: \"Ultima atualização\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar Projeto\",\r\n        },\r\n        searchPlaceholder: \"Pesquisar...\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Você tem certeza? Essa ação não pode ser revertida! e será removida das filas e conexões vinculadas\",\r\n        },\r\n      },\r\n      users: {\r\n        title: \"Usuários\",\r\n        table: {\r\n          status: \"Status\",\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          profile: \"Perfil\",\r\n          startWork: \"Inicio de trabalho\",\r\n          endWork: \"Fim de trabalho\",\r\n          actions: \"Ações\",\r\n          ID: \"ID\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar usuário\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Usuário excluído com sucesso.\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Todos os dados do usuário serão perdidos. Os atendimento abertos deste usuário serão movidos para a fila.\",\r\n        },\r\n      },\r\n      compaies: {\r\n        title: \"Empresas\",\r\n        table: {\r\n          ID: \"ID\",\r\n          status: \"Ativo\",\r\n          name: \"Nome\",\r\n          email: \"Email\",\r\n          password: \"Senha\",\r\n          phone: \"Telefone\",\r\n          plan: \"Plano\",\r\n          active: \"Ativo\",\r\n          numberAttendants: \"Atendentes\",\r\n          numberConections: \"Conexões\",\r\n          value: \"Valor\",\r\n          namePlan: \"Nome Plano\",\r\n          numberQueues: \"Filas\",\r\n          useCampaigns: \"Campanhas\",\r\n          useExternalApi: \"Rest API\",\r\n          useFacebook: \"Facebook\",\r\n          useInstagram: \"Instagram\",\r\n          useWhatsapp: \"Whatsapp\",\r\n          useInternalChat: \"Chat Interno\",\r\n          useSchedules: \"Agendamento\",\r\n          createdAt: \"Criada Em\",\r\n          dueDate: \"Vencimento\",\r\n          lastLogin: \"Ult. Login\",\r\n          actions: \"Ações\",\r\n          money: \"R$\",\r\n          yes: \"Sim\",\r\n          no: \"Não\",\r\n          document: \"CNPJ/CPF\",\r\n          recurrence: \"Recorrência\",\r\n          monthly: \"Mensal\",\r\n          bimonthly: \"Bimestral\",\r\n          quarterly: \"Trimestral\",\r\n          semester: \"Semestral\",\r\n          yearly: \"Anual\",\r\n          clear: \"Limpar\",\r\n          delete: \"Excluir\",\r\n          user: \"Usuário\",\r\n          save: \"Salvar\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar empresa\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Empresa excluído com sucesso.\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Todos os dados da empresa serão perdidos. Os tickets abertos deste usuário serão movidos para a fila.\",\r\n        },\r\n      },\r\n      plans: {\r\n        form: {\r\n          name: \"Nome\",\r\n          users: \"Usuários\",\r\n          connections: \"Conexões\",\r\n          campaigns: \"Campanhas\",\r\n          schedules: \"Agendamentos\",\r\n          enabled: \"Habilitadas\",\r\n          disabled: \"Desabilitadas\",\r\n          clear: \"Cancelar\",\r\n          delete: \"Excluir\",\r\n          save: \"Salvar\",\r\n          yes: \"Sim\",\r\n          no: \"Não\",\r\n          money: \"R$\",\r\n          public: \"Público\",\r\n        },\r\n      },\r\n      helps: {\r\n        title: \"Central de Ajuda\",\r\n        settings: {\r\n          codeVideo: \"Código do Video\",\r\n          description: \"Descrição\",\r\n          clear: \"Limpar\",\r\n          delete: \"Excluir\",\r\n          save: \"Salvar\",\r\n        },\r\n      },\r\n      schedules: {\r\n        title: \"Agendamentos\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Você tem certeza que quer excluir este Agendamento?\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        table: {\r\n          contact: \"Contato\",\r\n          body: \"Mensagem\",\r\n          sendAt: \"Data de Agendamento\",\r\n          sentAt: \"Data de Envio\",\r\n          status: \"Status\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Novo Agendamento\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Agendamento excluído com sucesso.\",\r\n        },\r\n      },\r\n      tags: {\r\n        title: \"Tags\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Você tem certeza que quer excluir esta Tag?\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        table: {\r\n          id: \"ID\",\r\n          name: \"Nome\",\r\n          kanban: \"Kanban\",\r\n          color: \"Cor\",\r\n          tickets: \"Registros Tags\",\r\n          contacts: \"Contatos\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Nova Tag\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Tag excluído com sucesso.\",\r\n        },\r\n      },\r\n\r\n      tagsKanban: {\r\n        title: \"Lanes\",\r\n        laneDefault: \"Em aberto\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Você tem certeza que quer excluir esta Lane?\",\r\n          deleteMessage: \"Esta ação não pode ser revertida.\",\r\n        },\r\n        table: {\r\n          name: \"Nome\",\r\n          color: \"Cor\",\r\n          tickets: \"Tickets\",\r\n          actions: \"Ações\",\r\n        },\r\n        buttons: {\r\n          add: \"Nova Lane\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Lane excluída com sucesso.\",\r\n        },\r\n      },\r\n\r\n      files: {\r\n        title: \"Lista de arquivos\",\r\n        table: {\r\n          name: \"Nome\",\r\n          contacts: \"Contatos\",\r\n          actions: \"Ação\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Lista excluída com sucesso!\",\r\n          deletedAll: \"Todas as listas foram excluídas com sucesso!\",\r\n        },\r\n        buttons: {\r\n          add: \"Adicionar\",\r\n          deleteAll: \"Deletar Todos\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Deletar\",\r\n          deleteAllTitle: \"Deletar Todos\",\r\n          deleteMessage: \"Tem certeza que deseja deletar esta lista?\",\r\n          deleteAllMessage: \"Tem certeza que deseja deletar todas as listas?\",\r\n        },\r\n      },\r\n      settings: {\r\n        success: \"Configurações salvas com sucesso.\",\r\n        title: \"Configurações\",\r\n        tabs: {\r\n          options: \"Opções\",\r\n          plans: \"Planos\",\r\n          helps: \"Ajuda\",\r\n        },\r\n        settings: {\r\n          userCreation: {\r\n            name: \"Criação de usuário\",\r\n            options: {\r\n              enabled: \"Ativado\",\r\n              disabled: \"Desativado\",\r\n            },\r\n          },\r\n          tabs: {\r\n            options: \"Opções\",\r\n            schedules: \"Horários\",\r\n            plans: \"Planos\",\r\n            help: \"Ajuda\",\r\n          },\r\n          options: {\r\n            disabled: \"Desabilitado\",\r\n            enabled: \"Habilitado\",\r\n            updating: \"Atualizando...\",\r\n            creationCompanyUser: \"Criação de Company/Usuário\",\r\n            evaluations: \"Avaliações\",\r\n            officeScheduling: \"Agendamento de Expediente\",\r\n            queueManagement: \"Gerenciamento por Fila\",\r\n            companyManagement: \"Gerenciamento por Empresa\",\r\n            connectionManagement: \"Gerenciamento por Conexão\",\r\n            sendGreetingAccepted: \"Enviar saudação ao aceitar o ticket\",\r\n            sendMsgTransfTicket:\r\n              \"Enviar mensagem transferência de setor/atendente\",\r\n            checkMsgIsGroup: \"Ignorar Mensagens de Grupos\",\r\n            chatBotType: \"Tipo do Bot\",\r\n            userRandom: \"Escolher atendente aleatório\",\r\n            showHiddenMessageButton: \"Mostrar botão de enviar mensagens ocultas\",\r\n            showButtonCamera: \"Mostrar botão de enviar foto\",\r\n            showButtonSendAudio: \"Mostrar botão de enviar audio\",\r\n            showButtonSendContact: \"Mostrar botão de enviar contato\",\r\n            showButtonSendUrlVideoCall: \"Mostrar botão de videochamada\",            \r\n            buttons: \"Botões\",\r\n            acceptCallWhatsapp: \"Informar que não aceita ligação no whatsapp?\",\r\n            sendSignMessage: \"Permite atendente escolher ENVIAR Assinatura\",\r\n            sendGreetingMessageOneQueues:\r\n              \"Enviar saudação quando houver somente 1 fila\",\r\n            sendQueuePosition: \"Enviar mensagem com a posição da fila\",\r\n            sendFarewellWaitingTicket:\r\n              \"Enviar mensagem de despedida no Aguardando\",\r\n            acceptAudioMessageContact:\r\n              \"Aceita receber audio de todos contatos?\",\r\n            enableLGPD: \"Habilitar tratamento LGPD\",\r\n            requiredTag: \"Tag obrigatoria para fechar ticket\",\r\n            closeTicketOnTransfer:\r\n              \"Fechar ticket ao transferir para outra fila\",\r\n            DirectTicketsToWallets:\r\n              \"Mover automaticamente cliente para carteira\",\r\n            showNotificationPending:\r\n              \"Mostrar notificação para tickets pendentes\",\r\n          },\r\n          customMessages: {\r\n            sendQueuePositionMessage: \"Mensagem de posição na fila\",\r\n            AcceptCallWhatsappMessage:\r\n              \"Mensagem para informar que não aceita ligações\",\r\n            greetingAcceptedMessage: \"Mensagem de Saudação ao aceitar ticket\",\r\n            transferMessage:\r\n              \"Mensagem de transferência - ${queue.name} = fila destino\",\r\n          },\r\n          LGPD: {\r\n            title: \"LGPD\",\r\n            welcome: \"Mensagem de boas vindas(LGPD)\",\r\n            linkLGPD: \"Link da política de privacidade\",\r\n            obfuscateMessageDelete: \"Ofuscar mensagem apagada\",\r\n            alwaysConsent: \"Sempre solicitar consentimento\",\r\n            obfuscatePhoneUser: \"Ofuscar número telefone para usuários\",\r\n            enabled: \"Habilitado\",\r\n            disabled: \"Desabilitado\",\r\n          },\r\n        },\r\n      },\r\n      messagesList: {\r\n        header: {\r\n          assignedTo: \"Atribuído à:\",\r\n          dialogRatingTitle:\r\n            \"Deseja deixar uma avaliação de atendimento para o cliente?\",\r\n          dialogClosingTitle: \"Finalizando o atendimento com o cliente!\",\r\n          dialogRatingCancel: \"Resolver COM Mensagem de Despedida\",\r\n          dialogRatingSuccess: \"Resolver e Enviar Avaliação\",\r\n          dialogRatingWithoutFarewellMsg: \"Resolver SEM Mensagem de Despedida\",\r\n          ratingTitle: \"Escolha um menu de avaliação\",\r\n          notMessage: \"Nenhuma mensagem selecionada\",\r\n          amount: \"Valor de prospecção\",\r\n          buttons: {\r\n            return: \"Retornar\",\r\n            resolve: \"Resolver\",\r\n            reopen: \"Reabrir\",\r\n            accept: \"Aceitar\",\r\n            rating: \"Enviar Avaliação\",\r\n            enableIntegration: \"Habilitar integração\",\r\n            disableIntegration: \"Desabilitar integração\",\r\n            logTicket: \"Logs do Ticket\",\r\n            requiredTag: \"Você deve atribuir uma tag antes de fechar o ticket.\",\r\n          },\r\n        },\r\n      },\r\n      messagesInput: {\r\n        placeholderPrivateMessage:\r\n          \"Digite uma mensagem ou aperte / para respostas rápidas\",\r\n        placeholderOpen:\r\n          \"Digite uma mensagem ou aperte / para respostas rápidas\",\r\n        placeholderClosed:\r\n          \"Reabra ou aceite esse ticket para enviar uma mensagem.\",\r\n        signMessage: \"Assinar\",\r\n        privateMessage: \"Mensagem Privada\",\r\n      },\r\n      contactDrawer: {\r\n        header: \"Dados do contato\",\r\n        buttons: {\r\n          edit: \"Editar contato\",\r\n          block: \"Bloquear\",\r\n          unblock: \"Desbloquear\",\r\n        },\r\n        extraInfo: \"Outras informações\",\r\n      },\r\n      messageVariablesPicker: {\r\n        label: \"Variavéis disponíveis\",\r\n        vars: {\r\n          contactFirstName: \"Primeiro Nome\",\r\n          contactName: \"Nome\",\r\n          user: \"Atendente\",\r\n          greeting: \"Saudação\",\r\n          protocolNumber: \"Protocolo\",\r\n          date: \"Data\",\r\n          hour: \"Hora\",\r\n          ticket_id: \"Nº do Chamado\",\r\n          queue: \"Setor\",\r\n          connection: \"Conexão\",\r\n        },\r\n      },\r\n      ticketOptionsMenu: {\r\n        schedule: \"Agendamento\",\r\n        delete: \"Deletar\",\r\n        transfer: \"Transferir\",\r\n        registerAppointment: \"Observações do Contato\",\r\n        resolveWithNoFarewell: \"Finalizar sem despedida\",\r\n        acceptAudioMessage: \"Aceitar áudios do contato?\",\r\n        appointmentsModal: {\r\n          title: \"Observações do Ticket\",\r\n          textarea: \"Observação\",\r\n          placeholder: \"Insira aqui a informação que deseja registrar\",\r\n        },\r\n        confirmationModal: {\r\n          title: \"Deletar o ticket do contato\",\r\n          titleFrom: \"do contato \",\r\n          message:\r\n            \"Atenção! Todas as mensagens relacionadas ao ticket serão perdidas.\",\r\n        },\r\n        buttons: {\r\n          delete: \"Excluir\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      confirmationModal: {\r\n        buttons: {\r\n          confirm: \"Ok\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      messageInput: {\r\n        tooltip: {\r\n          signature: \"Habilitar/Desabilitar Assinatura\",\r\n          privateMessage: \"Habilitar/Desabilitar Mensagem Privada\",\r\n          meet: \"Enviar link para videoconferencia\",\r\n        },\r\n        type: {\r\n          imageVideo: \"Fotos e vídeos\",\r\n          cam: \"Câmera\",\r\n          contact: \"Contato\",\r\n          meet: \"Vídeo chamada\",\r\n        },\r\n      },\r\n      messageOptionsMenu: {\r\n        delete: \"Deletar\",\r\n        reply: \"Responder\",\r\n        edit: \"Editar\",\r\n        forward: \"Encaminhar\",\r\n        toForward: \"Encaminhar\",\r\n        talkTo: \"Conversar Com\",\r\n        react: \"Reagir\",\r\n        reactions: {\r\n          like: \"Like\",\r\n          love: \"Love\",\r\n          haha: \"Haha\",\r\n        },\r\n        reactionSuccess: \"Reação adicionada com sucesso!\",\r\n        confirmationModal: {\r\n          title: \"Apagar mensagem?\",\r\n          message: \"Esta ação não pode ser revertida.\",\r\n        },\r\n      },\r\n      invoices: {\r\n        table: {\r\n          invoices: \"Faturas\",\r\n          details: \"Detalhes\",\r\n          users: \"Usuários\",\r\n          connections: \"Conexões\",\r\n          queue: \"Filas\",\r\n          value: \"Valor\",\r\n          expirationDate: \"Data Venc.\",\r\n          action: \"Ação\",\r\n        },\r\n      },\r\n      backendErrors: {\r\n        ERR_INSUFFICIENT_QUOTA:\r\n          \"Cota insuficiente. Verifique seu plano e detalhes de cobrança na OpenAI.\",\r\n        ERR_NO_OTHER_WHATSAPP: \"Deve haver pelo menos um WhatsApp padrão.\",\r\n        ERR_NO_DEF_WAPP_FOUND:\r\n          \"Nenhum WhatsApp padrão encontrado. Verifique a página de conexões.\",\r\n        ERR_WAPP_NOT_INITIALIZED:\r\n          \"Esta sessão do WhatsApp não foi inicializada. Verifique a página de conexões.\",\r\n        ERR_WAPP_CHECK_CONTACT:\r\n          \"Não foi possível verificar o contato do WhatsApp. Verifique a página de conexões\",\r\n        ERR_WAPP_INVALID_CONTACT: \"Este não é um número de Whatsapp válido.\",\r\n        ERR_WAPP_DOWNLOAD_MEDIA:\r\n          \"Não foi possível baixar mídia do WhatsApp. Verifique a página de conexões.\",\r\n        ERR_INVALID_CREDENTIALS:\r\n          \"Erro de autenticação. Por favor, tente novamente.\",\r\n        ERR_SENDING_WAPP_MSG:\r\n          \"Erro ao enviar mensagem do WhatsApp. Verifique a página de conexões.\",\r\n        ERR_DELETE_WAPP_MSG: \"Não foi possível excluir a mensagem do WhatsApp.\",\r\n        ERR_OTHER_OPEN_TICKET: \"Já existe um tíquete aberto para este contato.\",\r\n        ERR_SESSION_EXPIRED: \"Sessão expirada. Por favor entre.\",\r\n        ERR_USER_CREATION_DISABLED:\r\n          \"A criação do usuário foi desabilitada pelo administrador.\",\r\n        ERR_NO_PERMISSION: \"Você não tem permissão para acessar este recurso.\",\r\n        ERR_DUPLICATED_CONTACT: \"Já existe um contato com este número.\",\r\n        ERR_NO_SETTING_FOUND: \"Nenhuma configuração encontrada com este ID.\",\r\n        ERR_NO_CONTACT_FOUND: \"Nenhum contato encontrado com este ID.\",\r\n        ERR_NO_TICKET_FOUND: \"Nenhum tíquete encontrado com este ID.\",\r\n        ERR_NO_USER_FOUND: \"Nenhum usuário encontrado com este ID.\",\r\n        ERR_NO_WAPP_FOUND: \"Nenhum WhatsApp encontrado com este ID.\",\r\n        ERR_CREATING_MESSAGE: \"Erro ao criar mensagem no banco de dados.\",\r\n        ERR_CREATING_TICKET: \"Erro ao criar tíquete no banco de dados.\",\r\n        ERR_FETCH_WAPP_MSG:\r\n          \"Erro ao buscar a mensagem no WhtasApp, talvez ela seja muito antiga.\",\r\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\r\n          \"Esta cor já está em uso, escolha outra.\",\r\n        ERR_WAPP_GREETING_REQUIRED:\r\n          \"A mensagem de saudação é obrigatório quando há mais de uma fila.\",\r\n        ERR_OUT_OF_HOURS: \"Fora do Horário de Expediente!\",\r\n        ERR_COMAPANY_REGISTRED: \"Empresa já cadastrada.\",\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport { messages };\r\n","import { messages as portugueseMessages } from \"./pt\";\r\nimport { messages as englishMessages } from \"./en\";\r\nimport { messages as spanishMessages } from \"./es\";\r\n\r\nconst messages = {\r\n\t...portugueseMessages,\r\n\t...englishMessages,\r\n\t...spanishMessages,\r\n};\r\n\r\nexport { messages };\r\n","const messages = {\r\n  en: {\r\n    translations: {\r\n      signup: {\r\n        title: \"Sign up\",\r\n        toasts: {\r\n          success: \"User created successfully! Please login!\",\r\n          fail: \"Error creating user. Check the reported data.\",\r\n        },\r\n        form: {\r\n          name: \"Name\",\r\n          email: \"Email\",\r\n          password: \"Password\",\r\n        },\r\n        buttons: {\r\n          submit: \"Register\",\r\n          login: \"Already have an account? Log in!\",\r\n        },\r\n      },\r\n      appBarListem: {\r\n        newVersion: \"New version available! Click here to update\",\r\n        ticket: \"Support\",\r\n        notificationUser: \"User notification\",\r\n        quickResponse: \"Quick responses\",\r\n        kanban: \"Kanban\",\r\n        contacts: \"Contacts\",\r\n        schedule: \"Schedules\",\r\n        tags: \"Tags\",\r\n        chats: \"Chats\",\r\n        chatBots: \"ChatBots\",\r\n        settings: \"Settings\",\r\n        dark: \"Dark\",\r\n        light: \"Light\",\r\n        notification: \"Notifications\",\r\n        language: \"Language\",\r\n        profile: \"Profile\",\r\n        vertical: \"Vertical Menu\",\r\n        reports: \"Informes\",\r\n      },\r\n      login: {\r\n        title: \"Login\",\r\n        form: {\r\n          email: \"Email\",\r\n          password: \"Password\",\r\n        },\r\n        buttons: {\r\n          submit: \"Enter\",\r\n          register: \"Don't have an account? Register!\",\r\n        },\r\n      },\r\n      auth: {\r\n        toasts: {\r\n          success: \"Login successfully!\",\r\n        },\r\n      },\r\n      dashboard: {\r\n        charts: {\r\n          perDay: {\r\n            title: \"Tickets today: \",\r\n          },\r\n        },\r\n      },\r\n      connections: {\r\n        title: \"Connections\",\r\n        toasts: {\r\n          deleted: \"WhatsApp connection deleted sucessfully!\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Delete\",\r\n          deleteMessage: \"Are you sure? It cannot be reverted.\",\r\n          disconnectTitle: \"Disconnect\",\r\n          disconnectMessage: \"Are you sure? You'll need to read QR Code again.\",\r\n        },\r\n        buttons: {\r\n          add: \"Add WhatsApp\",\r\n          disconnect: \"Disconnect\",\r\n          tryAgain: \"Try Again\",\r\n          qrcode: \"QR CODE\",\r\n          newQr: \"New QR CODE\",\r\n          connecting: \"Connectiing\",\r\n        },\r\n        toolTips: {\r\n          disconnected: {\r\n            title: \"Failed to start WhatsApp session\",\r\n            content:\r\n              \"Make sure your cell phone is connected to the internet and try again, or request a new QR Code\",\r\n          },\r\n          qrcode: {\r\n            title: \"Waiting for QR Code read\",\r\n            content:\r\n              \"Click on 'QR CODE' button and read the QR Code with your cell phone to start session\",\r\n          },\r\n          connected: {\r\n            title: \"Connection established\",\r\n          },\r\n          timeout: {\r\n            title: \"Connection with cell phone has been lost\",\r\n            content:\r\n              \"Make sure your cell phone is connected to the internet and WhatsApp is open, or click on 'Disconnect' button to get a new QRcode\",\r\n          },\r\n        },\r\n        table: {\r\n          name: \"Name\",\r\n          status: \"Status\",\r\n          lastUpdate: \"Last Update\",\r\n          default: \"Default\",\r\n          actions: \"Actions\",\r\n          session: \"Session\",\r\n        },\r\n      },\r\n      whatsappModal: {\r\n        title: {\r\n          add: \"Add WhatsApp\",\r\n          edit: \"Edit WhatsApp\",\r\n        },\r\n        form: {\r\n          name: \"Name\",\r\n          default: \"Default\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Add\",\r\n          okEdit: \"Save\",\r\n          cancel: \"Cancel\",\r\n        },\r\n        success: \"WhatsApp saved successfully.\",\r\n      },\r\n      qrCode: {\r\n        message: \"Read QrCode to start the session\",\r\n      },\r\n      contacts: {\r\n        title: \"Contacts\",\r\n        toasts: {\r\n          deleted: \"Contact deleted sucessfully!\",\r\n        },\r\n        searchPlaceholder: \"Search ...\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Delete\",\r\n          importTitlte: \"Import contacts\",\r\n          deleteMessage:\r\n            \"Are you sure you want to delete this contact? All related tickets will be lost.\",\r\n          importMessage: \"Do you want to import all contacts from the phone?\",\r\n          deleteAllContact:\r\n            \"Are you sure you want to delete all contacts? All related services will be lost.\",\r\n          deleteAllTitle: \"Delete Contacts\",\r\n        },\r\n        buttons: {\r\n          import: \"Import Contacts\",\r\n          add: \"Add Contact\",\r\n          deleteAllContacts: \"Delete all contacts\",\r\n          deleteAllContacts: \"Deletar todos os contatos\",\r\n        },\r\n        table: {\r\n          name: \"Name\",\r\n          whatsapp: \"WhatsApp\",\r\n          email: \"Email\",\r\n          actions: \"Actions\",\r\n        },\r\n      },\r\n      contactModal: {\r\n        title: {\r\n          add: \"Add contact\",\r\n          edit: \"Edit contact\",\r\n        },\r\n        form: {\r\n          mainInfo: \"Contact details\",\r\n          extraInfo: \"Additional information\",\r\n          name: \"Name\",\r\n          number: \"Whatsapp number\",\r\n          email: \"Email\",\r\n          extraName: \"Field name\",\r\n          extraValue: \"Value\",\r\n        },\r\n        buttons: {\r\n          addExtraInfo: \"Add information\",\r\n          okAdd: \"Add\",\r\n          okEdit: \"Save\",\r\n          cancel: \"Cancel\",\r\n        },\r\n        success: \"Contact saved successfully.\",\r\n      },\r\n      queueModal: {\r\n        title: {\r\n          add: \"Add queue\",\r\n          edit: \"Edit queue\",\r\n        },\r\n        form: {\r\n          name: \"Name\",\r\n          color: \"Color\",\r\n          greetingMessage: \"Greeting Message\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Add\",\r\n          okEdit: \"Save\",\r\n          cancel: \"Cancel\",\r\n        },\r\n      },\r\n      userModal: {\r\n        title: {\r\n          add: \"Add user\",\r\n          edit: \"Edit user\",\r\n        },\r\n        form: {\r\n          name: \"Name\",\r\n          email: \"Email\",\r\n          password: \"Password\",\r\n          profile: \"Profile\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Add\",\r\n          okEdit: \"Save\",\r\n          cancel: \"Cancel\",\r\n        },\r\n        success: \"User saved successfully.\",\r\n      },\r\n      chat: {\r\n        noTicketMessage: \"Select a ticket to start chatting.\",\r\n      },\r\n      ticketsManager: {\r\n        buttons: {\r\n          newTicket: \"New\",\r\n        },\r\n      },\r\n      ticketsQueueSelect: {\r\n        placeholder: \"Queues\",\r\n      },\r\n      tickets: {\r\n        toasts: {\r\n          deleted: \"The ticket you were on has been deleted.\",\r\n        },\r\n        notification: {\r\n          message: \"Message from\",\r\n        },\r\n        tabs: {\r\n          open: { title: \"Inbox\" },\r\n          closed: { title: \"Resolved\" },\r\n          search: { title: \"Search\" },\r\n        },\r\n        search: {\r\n          placeholder: \"Search tickets and messages.\",\r\n        },\r\n        buttons: {\r\n          showAll: \"All\",\r\n        },\r\n      },\r\n      transferTicketModal: {\r\n        title: \"Transfer Ticket\",\r\n        fieldLabel: \"Type to search for users\",\r\n        noOptions: \"No user found with this name\",\r\n        buttons: {\r\n          ok: \"Transfer\",\r\n          cancel: \"Cancel\",\r\n        },\r\n      },\r\n      ticketsList: {\r\n        pendingHeader: \"Queue\",\r\n        assignedHeader: \"Working on\",\r\n        noTicketsTitle: \"Nothing here!\",\r\n        noTicketsMessage: \"No tickets found with this status or search term.\",\r\n        buttons: {\r\n          accept: \"Accept\",\r\n        },\r\n      },\r\n      newTicketModal: {\r\n        title: \"Create Ticket\",\r\n        fieldLabel: \"Type to search for a contact\",\r\n        add: \"Add\",\r\n        buttons: {\r\n          ok: \"Save\",\r\n          cancel: \"Cancel\",\r\n        },\r\n      },\r\n      mainDrawer: {\r\n        listItems: {\r\n          dashboard: \"Dashboard\",\r\n          connections: \"Connections\",\r\n          tickets: \"Tickets\",\r\n          contacts: \"Contacts\",\r\n          queues: \"Queues\",\r\n          administration: \"Administration\",\r\n          users: \"Users\",\r\n          settings: \"Settings\",\r\n          flowbuilder: \"Flowbuilder\",\r\n          campaignFlow: \"Campaign flow\",\r\n          conversationFlow: \"Conversation Flow\",\r\n          notifyUser: \"User Notification\",\r\n        },\r\n        appBar: {\r\n          user: {\r\n            profile: \"Profile\",\r\n            logout: \"Logout\",\r\n          },\r\n        },\r\n      },\r\n      notifications: {\r\n        noTickets: \"No notifications.\",\r\n      },\r\n      queues: {\r\n        title: \"Queues\",\r\n        table: {\r\n          name: \"Name\",\r\n          color: \"Color\",\r\n          greeting: \"Greeting message\",\r\n          actions: \"Actions\",\r\n        },\r\n        buttons: {\r\n          add: \"Add queue\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Delete\",\r\n          deleteMessage:\r\n            \"Are you sure? It cannot be reverted! Tickets in this queue will still exist, but will not have any queues assigned.\",\r\n        },\r\n      },\r\n      queueSelect: {\r\n        inputLabel: \"Queues\",\r\n      },\r\n      users: {\r\n        title: \"Users\",\r\n        table: {\r\n          name: \"Name\",\r\n          email: \"Email\",\r\n          profile: \"Profile\",\r\n          actions: \"Actions\",\r\n        },\r\n        buttons: {\r\n          add: \"Add user\",\r\n        },\r\n        toasts: {\r\n          deleted: \"User deleted sucessfully.\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Delete\",\r\n          deleteMessage:\r\n            \"All user data will be lost. Users' open tickets will be moved to queue.\",\r\n        },\r\n      },\r\n      settings: {\r\n        success: \"Settings saved successfully.\",\r\n        title: \"Settings\",\r\n        settings: {\r\n          userCreation: {\r\n            name: \"User creation\",\r\n            options: {\r\n              enabled: \"Enabled\",\r\n              disabled: \"Disabled\",\r\n            },\r\n          },\r\n        },\r\n      },\r\n      messagesList: {\r\n        header: {\r\n          assignedTo: \"Assigned to:\",\r\n          buttons: {\r\n            return: \"Return\",\r\n            resolve: \"Resolve\",\r\n            reopen: \"Reopen\",\r\n            accept: \"Accept\",\r\n          },\r\n        },\r\n      },\r\n      messagesInput: {\r\n        placeholderOpen: \"Type a message\",\r\n        placeholderClosed: \"Reopen or accept this ticket to send a message.\",\r\n        signMessage: \"Sign\",\r\n      },\r\n      contactDrawer: {\r\n        header: \"Contact details\",\r\n        buttons: {\r\n          edit: \"Edit contact\",\r\n        },\r\n        extraInfo: \"Other information\",\r\n      },\r\n      ticketOptionsMenu: {\r\n        delete: \"Delete\",\r\n        transfer: \"Transfer\",\r\n        confirmationModal: {\r\n          title: \"Delete ticket #\",\r\n          titleFrom: \"from contact \",\r\n          message: \"Attention! All ticket's related messages will be lost.\",\r\n        },\r\n        buttons: {\r\n          delete: \"Delete\",\r\n          cancel: \"Cancel\",\r\n        },\r\n      },\r\n      confirmationModal: {\r\n        buttons: {\r\n          confirm: \"Ok\",\r\n          cancel: \"Cancel\",\r\n        },\r\n      },\r\n      messageOptionsMenu: {\r\n        delete: \"Delete\",\r\n        reply: \"Reply\",\r\n        react: \"React\",\r\n        reactions: {\r\n          like: \"Like\",\r\n          love: \"Love\",\r\n          haha: \"Haha\",\r\n        },\r\n        reactionSuccess: \"Reaction added successfully!\",\r\n        confirmationModal: {\r\n          title: \"Delete message?\",\r\n          message: \"This action cannot be reverted.\",\r\n        },\r\n      },\r\n      backendErrors: {\r\n        ERR_INSUFFICIENT_QUOTA:\r\n          \"Insufficient quota. Please check your plan and billing details at OpenAI.\",\r\n        ERR_NO_OTHER_WHATSAPP:\r\n          \"There must be at lest one default WhatsApp connection.\",\r\n        ERR_NO_DEF_WAPP_FOUND:\r\n          \"No default WhatsApp found. Check connections page.\",\r\n        ERR_WAPP_NOT_INITIALIZED:\r\n          \"This WhatsApp session is not initialized. Check connections page.\",\r\n        ERR_WAPP_CHECK_CONTACT:\r\n          \"Could not check WhatsApp contact. Check connections page.\",\r\n        ERR_WAPP_INVALID_CONTACT: \"This is not a valid whatsapp number.\",\r\n        ERR_WAPP_DOWNLOAD_MEDIA:\r\n          \"Could not download media from WhatsApp. Check connections page.\",\r\n        ERR_INVALID_CREDENTIALS: \"Authentication error. Please try again.\",\r\n        ERR_SENDING_WAPP_MSG:\r\n          \"Error sending WhatsApp message. Check connections page.\",\r\n        ERR_DELETE_WAPP_MSG: \"Couldn't delete message from WhatsApp.\",\r\n        ERR_OTHER_OPEN_TICKET:\r\n          \"There's already an open ticket for this contact.\",\r\n        ERR_SESSION_EXPIRED: \"Session expired. Please login.\",\r\n        ERR_USER_CREATION_DISABLED:\r\n          \"User creation was disabled by administrator.\",\r\n        ERR_NO_PERMISSION: \"You don't have permission to access this resource.\",\r\n        ERR_DUPLICATED_CONTACT: \"A contact with this number already exists.\",\r\n        ERR_NO_SETTING_FOUND: \"No setting found with this ID.\",\r\n        ERR_NO_CONTACT_FOUND: \"No contact found with this ID.\",\r\n        ERR_NO_TICKET_FOUND: \"No ticket found with this ID.\",\r\n        ERR_NO_USER_FOUND: \"No user found with this ID.\",\r\n        ERR_NO_WAPP_FOUND: \"No WhatsApp found with this ID.\",\r\n        ERR_CREATING_MESSAGE: \"Error while creating message on database.\",\r\n        ERR_CREATING_TICKET: \"Error while creating ticket on database.\",\r\n        ERR_FETCH_WAPP_MSG:\r\n          \"Error fetching the message in WhtasApp, maybe it is too old.\",\r\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\r\n          \"This color is already in use, pick another one.\",\r\n        ERR_WAPP_GREETING_REQUIRED:\r\n          \"Greeting message is required if there is more than one queue.\",\r\n        ERR_COMAPANY_REGISTRED: \"Company already registered.\",\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport { messages };\r\n","const messages = {\r\n  es: {\r\n    translations: {\r\n      signup: {\r\n        title: \"Registro\",\r\n        toasts: {\r\n          success:\r\n            \"¡El usuario ha sido creado satisfactoriamente! ¡Ahora inicia sesión!\",\r\n          fail: \"Error creando el usuario. Verifica la data reportada.\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          email: \"Correo Electrónico\",\r\n          password: \"Contraseña\",\r\n          company: \"Nombre de la Empresa\",\r\n          phone: \"Whatsapp (COD + NÚMERO)\",\r\n        },\r\n        buttons: {\r\n          submit: \"Regístrate\",\r\n          login: \"¿Ya tienes una cuenta? ¡Inicia sesión!\",\r\n        },\r\n      },\r\n      login: {\r\n        title: \"Inicio de Sesión\",\r\n        form: {\r\n          email: \"Correo Electrónico\",\r\n          password: \"Contraseña\",\r\n          button: \"Ingresar\",\r\n        },\r\n        buttons: {\r\n          submit: \"Ingresa\",\r\n          register: \"¿No tienes cuenta? ¡Regístrate!\",\r\n        },\r\n      },\r\n      companies: {\r\n        title: \"Registrar Empresa\",\r\n        form: {\r\n          name: \"Nombre de la Empresa\",\r\n          plan: \"Plan\",\r\n          token: \"Token\",\r\n          submit: \"Registrar\",\r\n          success: \"Empresa creada con éxito!\",\r\n        },\r\n      },\r\n      appBarListem: {\r\n        newVersion: \"¡Nueva versión disponible! Haga clic aquí para actualizar\",\r\n        billete: \"Servicio\",\r\n        notificationUser: \"Usuario de notificación\",\r\n        QuickResponse: \"Respuestas rápidas\",\r\n        Kanban: \"Kanban\",\r\n        contactos: \"Contactos\",\r\n        horario: \"Horarios\",\r\n        etiquetas: \"Etiquetas\",\r\n        chats: \"Chats\",\r\n        chatBots: \"ChatBots\",\r\n        configuración: \"Configuración\",\r\n        oscuro: \"oscuro\",\r\n        luz: \"luz\",\r\n        notificación: \"Notificaciones\",\r\n        language: \"Idioma\",\r\n        perfil: \"Perfil\",\r\n        vertical: \"Menú vertical\",\r\n        reports: \"Reports\",\r\n      },\r\n      auth: {\r\n        toasts: {\r\n          success: \"¡Inicio de sesión exitoso!\",\r\n        },\r\n        dueDate: {\r\n          expiration: \"Suscripción caducará en\",\r\n          days: \"días!\",\r\n          day: \"día!\",\r\n          expirationToday: \"Su suscripción termina hoy!\",\r\n        },\r\n        token: \"Token\",\r\n      },\r\n      dashboard: {\r\n        tabs: {\r\n          indicators: \"Indicadores\",\r\n          assessments: \"Evaluaciones\",\r\n          attendants: \"Agentes\",\r\n        },\r\n        charts: {\r\n          perDay: {\r\n            title: \"Tickets hoy: \",\r\n          },\r\n        },\r\n        cards: {\r\n          inAttendance: \"Atención actual\",\r\n          waiting: \"Esperando\",\r\n          activeAttendants: \"Agentes Activos\",\r\n          finalized: \"Finalizados\",\r\n          newContacts: \"Nuevos Contactos\",\r\n          totalReceivedMessages: \"Total de Mensajes Recibidas\",\r\n          totalSentMessages: \"Total de Mensajes Enviadas\",\r\n          averageServiceTime: \"T.P. de Atención\",\r\n          averageWaitingTime: \"T.P. de Espera\",\r\n          status: \"Status (Actual)\",\r\n        },\r\n        users: {\r\n          name: \"Nombre\",\r\n          numberAppointments: \"Total de tickets\",\r\n          statusNow: \"Actual\",\r\n          totalCallsUser: \"Total de atención por usuario\",\r\n          totalAttendances: \"Total de atenciones\",\r\n        },\r\n        date: {\r\n          initialDate: \"Fecha Inicial\",\r\n          finalDate: \"Fecha Final\",\r\n        },\r\n        licence: {\r\n          available: \"Disponíble hasta\",\r\n        },\r\n        assessments: {\r\n          totalCalls: \"Total de Tickets\",\r\n          callsWaitRating: \"Tickets aguardando evaluación\",\r\n          callsWithoutRating: \"Ticket sin evaluación\",\r\n          ratedCalls: \"Tickets evaluados\",\r\n          evaluationIndex: \"Índice de evaluación\",\r\n          score: \"Puntaje\",\r\n          prosecutors: \"Promotores\",\r\n          neutral: \"Neutrales\",\r\n          detractors: \"Dectratores\",\r\n        },\r\n      },\r\n      reports: {\r\n        title: \"Reporte de Pesquisas Realizadas\",\r\n        operator: \"Agente\",\r\n        period: \"Período\",\r\n        until: \"Hasta\",\r\n        date: \"Fecha\",\r\n        reportTitle: \"Relatorios\",\r\n        calls: \"Atenciones\",\r\n        search: \"Pesquisas\",\r\n        durationCalls: \"Duración de la atención\",\r\n        grupoSessions: \"Atención en grupos grupos\",\r\n        groupTicketsReports: {\r\n          timezone: \"America/Monterrey\",\r\n          msgToast: \"Generando relatorio compactado, por favor espere.\",\r\n          errorToast: \"Erro ao generar relatorio\",\r\n          back: \"Volver\",\r\n          groupServiceReport: \"Relatorio de Atención en Grupos\",\r\n          loading: \"Cargando...\",\r\n          contact: \"Contacto\",\r\n          dateOpen: \"Fecha de Apertura\",\r\n          dateLastUpdated: \"Fecha Ultima Actualización\",\r\n          agent: \"Agente\",\r\n          agentClosed: \"Agente(cerró)\",\r\n          waitingAssistance: \"Esperando atención\",\r\n          process: \"En proceso\",\r\n        },\r\n        researchReports: {\r\n          response: \"respuesta\",\r\n          active: \"(Activa)\",\r\n          inactive: \"(Inactiva)\",\r\n          quantity: \"Cantidade\",\r\n          percentage: \"porcentaje\",\r\n          title: \"Relatorio de Pesquisas Realizadas\",\r\n          activeSearch: \"Pesquisa activa\",\r\n          inactiveSearch: \"Pesquisa inactiva\",\r\n        },\r\n        ticketDurationDetail: {\r\n          msgToast: \"Generando relatorio compactado, por favor espere.\",\r\n          title: \"Relatorio de Duración de la Atención\",\r\n          startService: \"Início de la Atención\",\r\n          lastUpdated: \"Última actualización\",\r\n          lastAgent: \"Último agente\",\r\n          durationFinished: \"Duración después de finalizado\",\r\n        },\r\n        ticketDuration: {\r\n          title: \"Relatorio de Duración de Atención\",\r\n          contact: \"Contacto\",\r\n          open: \"Abiertos\",\r\n          pending: \"Pendientes\",\r\n          finished: \"Finalizados\",\r\n          durationFinished: \"Duración de los finalizados\",\r\n          durationAfterFinished: \"Duración después de finalizado\",\r\n          actions: \"Acciones\",\r\n        },\r\n        ticketReports: {\r\n          msgToast: \"Generando relatorio compactado, por favor aguarde.\",\r\n          title: \"Relatrio de Atención\",\r\n        },\r\n        pdf: {\r\n          title: \"Relación de Atenciones Realizadas\",\r\n          exportTitle: \"Relación de Atenciones en Grupos Realizadas\",\r\n        },\r\n      },\r\n      todo: {\r\n        newTask: \"Nueva Tarea\",\r\n        add: \"Agregar\",\r\n        task: \"Tareas\",\r\n      },\r\n      contactImportWpModal: {\r\n        title: \"Exportar Contactos para Excel\",\r\n        buttons: {\r\n          downloadModel: \"Download - modelo de excel para importación\",\r\n          closed: \"Cerrar\",\r\n          import: \"Seleccione el archivo de excel para importar los Contactos\",\r\n        },\r\n      },\r\n      connections: {\r\n        title: \"Conexiones\",\r\n        waitConnection: \"Espere... Las conexiones serán reiniciadas!\",\r\n        newConnection: \"Nueva Conexión\",\r\n        restartConnections: \"Reiniciar Conexiones\",\r\n        callSupport: \"Soporte\",\r\n        newConnection: \"Nueva Conexión\",\r\n        toasts: {\r\n          deleted:\r\n            \"¡La conexión de WhatsApp ha sido borrada satisfactoriamente!\",\r\n          closedimported:\r\n            \"Estamos cerrando los tickets importados, por favor espere.\",\r\n        },\r\n        confirmationModal: {\r\n          closedImportedTitle: \"Cerrar tickets importados\",\r\n          closedImportedMessage:\r\n            \"¿Seguro? Todos los tickets importados seran cerrados.\",\r\n          deleteTitle: \"Borrar\",\r\n          deleteMessage: \"¿Estás seguro? Este proceso no puede ser revertido.\",\r\n          disconnectTitle: \"Desconectar\",\r\n          disconnectMessage: \"Estás seguro? Deberá volver a leer el código QR\",\r\n        },\r\n        buttons: {\r\n          add: \"Agrega WhatsApp\",\r\n          disconnect: \"Desconectar\",\r\n          tryAgain: \"Inténtalo de nuevo\",\r\n          qrcode: \"QR CODE\",\r\n          newQr: \"Nuevo QR CODE\",\r\n          closedImported: \"Cerrar todos los tickets Importados\",\r\n          preparing: \"Preparando mensajes para importación\",\r\n          importing: \"Importando Mensajes del WhatsApp\",\r\n          newQr: \"Nuevo QR CODE\",\r\n          processed: \"Processado\",\r\n          in: \"de\",\r\n          connecting: \"Conectando\",\r\n        },\r\n        typography: {\r\n          processed: \"Processado\",\r\n          in: \"de\",\r\n          date: \"Fecha del mensaje\",\r\n        },\r\n        toolTips: {\r\n          disconnected: {\r\n            title: \"No se pudo iniciar la sesión de WhatsApp\",\r\n            content:\r\n              \"Asegúrese de que su teléfono celular esté conectado a Internet y vuelva a intentarlo o solicite un nuevo código QR\",\r\n          },\r\n          qrcode: {\r\n            title: \"Esperando la lectura del código QR\",\r\n            content:\r\n              \"Haga clic en el botón 'CÓDIGO QR' y lea el Código QR con su teléfono celular para iniciar la sesión\",\r\n          },\r\n          connected: {\r\n            title: \"Conexión establecida\",\r\n          },\r\n          timeout: {\r\n            title: \"Se perdió la conexión con el teléfono celular\",\r\n            content:\r\n              \"Asegúrese de que su teléfono celular esté conectado a Internet y que WhatsApp esté abierto, o haga clic en el botón 'Desconectar' para obtener un nuevo código QR\",\r\n          },\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          status: \"Estado\",\r\n          lastUpdate: \"Última Actualización\",\r\n          default: \"Por Defecto\",\r\n          actions: \"Acciones\",\r\n          session: \"Sesión\",\r\n          number: \"Número de Whatsapp\",\r\n        },\r\n      },\r\n      showTicketOpenModal: {\r\n        title: {\r\n          header: \"Servicio existente\",\r\n        },\r\n        form: {\r\n          message: \"Hay un ticket abierto para este contacto:\",\r\n          user: \"Agente\",\r\n          queue: \"Fila\",\r\n          messageWait: \"Este contacto ya está en espera.\",\r\n        },\r\n      },\r\n      showTicketLogModal: {\r\n        title: {\r\n          header: \"Historico\",\r\n        },\r\n        options: {\r\n          create: \"Ticket creado.\",\r\n          chatBot: \"ChatBot iniciado.\",\r\n          queue: \" - Fila definida.\",\r\n          open: \"iniciou la atención.\",\r\n          access: \"accesó el ticket.\",\r\n          transfered: \"transferió el ticket.\",\r\n          receivedTransfer: \"recibió el ticket transferido.\",\r\n          pending: \"regresó a la fila.\",\r\n          closed: \"cerró el ticket\",\r\n          reopen: \"abrió el ticket\",\r\n        },\r\n      },\r\n      whatsappModal: {\r\n        title: {\r\n          add: \"Agrega WhatsApp\",\r\n          edit: \"Edita WhatsApp\",\r\n        },\r\n        tabs: {\r\n          general: \"Geral\",\r\n          messages: \"Mensajes\",\r\n          assessments: \"Evaluaciones\",\r\n          integrations: \"Integraciones\",\r\n          schedules: \"Horario de trabajo\",\r\n        },\r\n        form: {\r\n          importOldMessagesEnable: \"Importar mensajes del celular\",\r\n          importOldMessages: \"Fecha de inicio\",\r\n          importRecentMessages: \"Fecha Final\",\r\n          importOldMessagesGroups: \"Importar mensajes de grupo\",\r\n          closedTicketsPostImported: \"Cerrar tickets después de la importación\",\r\n          name: \"Nombre\",\r\n          queueRedirection: \"Redirección de Fila\",\r\n          queueRedirectionDesc:\r\n            \"Seleccione una fila para los contactos que no tienen una fila para redirigir\",\r\n          default: \"Por Defecto\",\r\n          group: \"Permitir grupos\",\r\n          timeSendQueue: \"Tiempo en minutos para redireccionar a la fila\",\r\n          importAlert:\r\n            \"ATENCIÓN: Guardando, su conexión será cerrada, usted tendrá que volver a leer el QR Code para importar los mensajes\",\r\n          groupAsTicket: \"Grupos como Ticket\",\r\n          timeCreateNewTicket: \"Iniciar un nuevo ticket en *n* minutos\",\r\n          maxUseBotQueues:\r\n            \"Cantidad máxima de veces que el chatbot va a ser enviado\",\r\n          timeUseBotQueues: \"Tiempo en minutos para nuevo envío del chatbot\",\r\n          expiresTicket: \"Cerrar chats abiertos após *n* horas\",\r\n          expiresTicketNPS:\r\n            \"Cerrar chats aguardando la evaluacion luego de x minutos\",\r\n          maxUseBotQueuesNPS:\r\n            \"Cantidad máxima de veces que la evaluación será enviada\",\r\n          closeLastMessageOptions1: \"Del Agente/Cliente\",\r\n          closeLastMessageOptions2: \"Del Agente\",\r\n          outOfHoursMessage: \"Mensaje fuera de horario de atención\",\r\n          greetingMessage: \"Mensaje de saludo\",\r\n          complationMessage: \"Mensaje de conclusión\",\r\n          lgpdLinkPrivacy: \"Link para políticas de privacidad\",\r\n          lgpdMessage: \"Mensaje inicial de LPD\",\r\n          lgpdDeletedMessages: \"Ofuscar mensaje borrada por el contacto\",\r\n          lgpdSendMessage: \"Siempre solicitar confirmación del contacto\",\r\n          ratingMessage: \"Mensaje de evaluación - Rango de 0 a 10\",\r\n          token: \"Token para integración externa\",\r\n          sendIdQueue: \"Fila\",\r\n          inactiveMessage: \"Mensaje de inactividad\",\r\n          timeInactiveMessage:\r\n            \"Tiempo em minutos para el envío del aviso de inactividad\",\r\n          whenExpiresTicket:\r\n            \"Cerrar chats abiertos cuando el último mensaje sea\",\r\n          expiresInactiveMessage: \"Mensaje al cerrar por inactividade\",\r\n          prompt: \"Prompt\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        menuItem: {\r\n          enabled: \"Activado\",\r\n          disabled: \"Desactivado\",\r\n          minutes: \"minutos\",\r\n        },\r\n        success: \"WhatsApp guardado satisfactoriamente.\",\r\n        errorSendQueue:\r\n          \"Además del tiempo debes seleccinar una fila para redirecionar. Se necesitan los dos campos.\",\r\n        errorExpiresNPS:\r\n          \"Es necesario llenar el tiempo para la evaluación para el NPS.\",\r\n      },\r\n      qrCode: {\r\n        message: \"Lée el código QR para empezar la sesión.\",\r\n      },\r\n      contacts: {\r\n        title: \"Contactos\",\r\n        toasts: {\r\n          deleted: \"¡Contacto borrado satisfactoriamente!\",\r\n        },\r\n        searchPlaceholder: \"Buscar...\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Borrar\",\r\n          importTitlte: \"Importar contactos\",\r\n          exportContact: \"Exportar contactos\",\r\n          deleteMessage:\r\n            \"¿Estás seguro que deseas borrar este contacto? Todos los tickets relacionados se perderán.\",\r\n          blockContact: \"¿Estás seguro que quieres bloquear este contacto?\",\r\n          unblockContact:\r\n            \"¿Estás seguro que quieres desbloquear este contacto?\",\r\n          importMessage: \"¿Quieres importar todos los contactos del teléfono?\",\r\n          importChat: \"Importar Conversaciones\",\r\n          wantImport:\r\n            \"¿Quieres importar todas las conversaciones del teléfono?\",\r\n          deleteAllContact:\r\n            \"¿Estás seguro de que deseas eliminar todos los contactos? Se perderán todos los servicios relacionados.\",\r\n          deleteAllTitle: \"Eliminar contactos\",\r\n        },\r\n        buttons: {\r\n          import: \"Importar Contactos\",\r\n          add: \"Agregar Contacto\",\r\n          export: \"Exportar Contacto\",\r\n          deleteAllContacts: \"Eliminar todos los contactos\",\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          whatsapp: \"WhatsApp\",\r\n          email: \"Correo Electrónico\",\r\n          actions: \"Acciones\",\r\n          lastMessage: \"Ultimo Mensaje\",\r\n        },\r\n        menu: {\r\n          importYourPhone: \"Importar del celular por default\",\r\n          importToExcel: \"Importar / Exportar del Excel\",\r\n        },\r\n      },\r\n      forwardMessage: {\r\n        text: \"Reenviada\",\r\n      },\r\n      forwardMessageModal: {\r\n        title: \"Reenviar mensaje\",\r\n        buttons: {\r\n          ok: \"Reenviar\",\r\n        },\r\n      },\r\n      promptModal: {\r\n        form: {\r\n          name: \"Nombre\",\r\n          prompt: \"Prompt\",\r\n          voice: \"Voz\",\r\n          max_tokens: \"Máximo de Tokens en la respuesta\",\r\n          temperature: \"Temperatura\",\r\n          apikey: \"API Key\",\r\n          max_messages: \"Máximo de mensajes del Historico\",\r\n          voiceKey: \"Llave de la API de la Voz\",\r\n          voiceRegion: \"Región de la Voz\",\r\n        },\r\n        success: \"Prompt guardado\",\r\n        title: {\r\n          add: \"Agregar Prompt\",\r\n          edit: \"Editar Prompt\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      prompts: {\r\n        title: \"Prompts\",\r\n        table: {\r\n          name: \"Nombre\",\r\n          queue: \"Sector/Fila\",\r\n          max_tokens: \"Máximo Tokens Respuestas\",\r\n          actions: \"Acciones\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"¿Estás seguro? ¡Esta acción no se puede revertir!\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar Prompt\",\r\n        },\r\n      },\r\n      contactModal: {\r\n        title: {\r\n          add: \"Agregar contacto\",\r\n          edit: \"Editar contacto\",\r\n        },\r\n        form: {\r\n          mainInfo: \"Detalles del contacto\",\r\n          extraInfo: \"Información adicional\",\r\n          name: \"Nombre\",\r\n          number: \"Número de Whatsapp\",\r\n          email: \"Correo Electrónico\",\r\n          extraName: \"Nombre del Campo\",\r\n          extraValue: \"Valor\",\r\n          chatBotContact: \"Desactivar chatbot para este contacto\",\r\n          termsLGDP: \"Términos P.P. aceptados en:\",\r\n          allTicket: \"Visualizar tickets sin fila\",\r\n          allowGroup: \"Permitir grupos\",\r\n        },\r\n        buttons: {\r\n          addExtraInfo: \"Agregar información\",\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Contacto guardado satisfactoriamente.\",\r\n      },\r\n      queueModal: {\r\n        title: {\r\n          queueData: \"Datos de la fila\",\r\n          text: \"Horarios de atención\",\r\n          add: \"Agregar fila\",\r\n          edit: \"Editar fila\",\r\n          confirmationDelete:\r\n            \"¿Está seguro? Todas las opciones integradas también se eliminarán.\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          color: \"Color\",\r\n          orderQueue: \"Orden de la fila (Bot)\",\r\n          rotate: \"Rotativo\",\r\n          timeRotate: \"Tiempo de Rotación\",\r\n          greetingMessage: \"Mensaje de saludo\",\r\n          complationMessage: \"Mensaje de cierre\",\r\n          outOfHoursMessage: \"Mensaje fuera de horario de atención\",\r\n          token: \"Token\",\r\n          integrationId: \"Integración\",\r\n          fileListId: \"Listado de archivos\",\r\n          closeTicket: \"Cerrar ticket\",\r\n          queueType: \"Tipo de menu\",\r\n          message: \"Mensaje de respuesta\",\r\n          queue: \"Fila para transferencia\",\r\n          integration: \"Integración\",\r\n          file: \"Listado de archivos\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        bot: {\r\n          title: \"Opciones\",\r\n          toolTipTitle: \"Agregue las opciones para construir un chatbot\",\r\n          toolTip:\r\n            \"Si solo hay una opción, se elegirá automáticamente, lo que hará que el bot responda con el mensaje de la opción y avance.\",\r\n          selectOption: \"Seleccione una opción\",\r\n          text: \"Texto\",\r\n          attendent: \"Agente\",\r\n          queue: \"Fila\",\r\n          integration: \"Integranción\",\r\n          file: \"Archivo\",\r\n          toolTipMessageTitle:\r\n            \"El mensaje es obligatorio para pasar al siguiente nivel\",\r\n          toolTipMessageContent:\r\n            \"El mensaje es obligatorio para pasar al siguiente nivel\",\r\n          selectUser: \"Seleccione un Usuario\",\r\n          selectQueue: \"Seleccione una Fila\",\r\n          selectIntegration: \"Seleccione um Integración\",\r\n          addOptions: \"Agregar opciones\",\r\n        },\r\n        serviceHours: {\r\n          dayWeek: \"Día\",\r\n          startTimeA: \"Hora de Inicio\",\r\n          endTimeA: \"Hora del término\",\r\n          startTimeB: \"Hora de Inicio\",\r\n          endTimeB: \"Hora del término\",\r\n          monday: \"Lunes\",\r\n          tuesday: \"Martes\",\r\n          wednesday: \"Miércoles\",\r\n          thursday: \"Jueves\",\r\n          friday: \"Viernes\",\r\n          saturday: \"Sabado\",\r\n          sunday: \"Domingo\",\r\n        },\r\n      },\r\n      queueIntegrationModal: {\r\n        title: {\r\n          add: \"Agregar proyecto\",\r\n          edit: \"Editar proyecto\",\r\n        },\r\n        form: {\r\n          id: \"ID\",\r\n          type: \"Tipo\",\r\n          name: \"Nombre\",\r\n          projectName: \"Nombre del Proyecto\",\r\n          language: \"Idioma\",\r\n          jsonContent: \"JsonContent\",\r\n          urlN8N: \"URL\",\r\n          typebotSlug: \"Typebot - Slug\",\r\n          typebotExpires: \"Tiempo en minutos para expirar una conversación\",\r\n          typebotKeywordFinish: \"Palabra para finalizar la conversación\",\r\n          typebotUnknownMessage: \"Mensaje de opción invalida\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n          test: \"Probar Bot\",\r\n        },\r\n        messages: {\r\n          testSuccess: \"¡Integración testada con éxito!\",\r\n          addSuccess: \"¡Integración agregada con éxito!\",\r\n          editSuccess: \"¡Integración editada con éxito!\",\r\n        },\r\n      },\r\n      userModal: {\r\n        warning:\r\n          \"Para importar los mensajes por favor vuelva a leer el QRCode.\",\r\n        title: {\r\n          add: \"Agregar usuario\",\r\n          edit: \"Editar usuario\",\r\n          updateImage: \"Actualizar Imagen\",\r\n          removeImage: \"Excluir Imagen\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          email: \"Correo Electrónico\",\r\n          password: \"Contraseña\",\r\n          farewellMessage: \"Mensaje de despedida\",\r\n          profile: \"Perfil\",\r\n          startWork: \"Inicio del Horario\",\r\n          endWork: \"Final del Horario\",\r\n          whatsapp: \"Conexión Defautl\",\r\n          allTicketEnable: \"Activado\",\r\n          allTicketDisable: \"Desactivado\",\r\n          allTicket: \"Visualizar mensajes sin fila\",\r\n          allowGroup: \"Permitir Grupos\",\r\n          defaultMenuOpen: \"Abierto\",\r\n          defaultMenuClosed: \"Cerrado\",\r\n          defaultMenu: \"Menu Estándar\",\r\n          defaultTheme: \"Tema Estándar\",\r\n          defaultThemeDark: \"Oscuro\",\r\n          defaultThemeLight: \"Claro\",\r\n          allHistoric: \"Ver historicos\",\r\n          allHistoricEnabled: \"Activado\",\r\n          allHistoricDisabled: \"Desactivado\",\r\n          allUserChat: \"Ver conversación de otros usuarios\",\r\n          userClosePendingTicket: \"Permitir cerrar tickets pendientes\",\r\n          showDashboard: \"Ver Dashboard\",\r\n        },\r\n        tabs: {\r\n          general: \"General\",\r\n          permissions: \"Permissos\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n          addImage: \"Agregar Imagen\",\r\n          editImage: \"Editar Imagen\",\r\n        },\r\n        success: \"Usuario guardado satisfactoriamente.\",\r\n      },\r\n      companyModal: {\r\n        title: {\r\n          add: \"Agregar empresa\",\r\n          edit: \"Editar empresa\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          email: \"Correo electrónico\",\r\n          passwordDefault: \"Contraseña\",\r\n          numberAttendants: \"Usuarios\",\r\n          numberConections: \"Conexiones\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"La Empresa fue guardada satisfactoriamente.\",\r\n      },\r\n      scheduleModal: {\r\n        title: {\r\n          add: \"Nuevo Programa\",\r\n          edit: \"Editar Programa\",\r\n        },\r\n        form: {\r\n          body: \"Mensaje\",\r\n          contact: \"Contacto\",\r\n          sendAt: \"Fecha del Programa\",\r\n          sentAt: \"Fecha de Envío\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Programa guardado satisfactoriamente.\",\r\n      },\r\n      tagModal: {\r\n        title: {\r\n          add: \"Nueva Tag\",\r\n          edit: \"Editar Tag\",\r\n          addKanban: \"Nueva Lane\",\r\n          editKanban: \"Editar Lane\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          color: \"Color\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Agregar\",\r\n          okEdit: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        success: \"Tag guardada satisfactoriamente.\",\r\n        successKanban: \"Lane guardada satisfactoriamente.\",\r\n      },\r\n      fileModal: {\r\n        title: {\r\n          add: \"Agregar menú de evaluación\",\r\n          edit: \"Editar menú de evaluación\",\r\n        },\r\n        buttons: {\r\n          okAdd: \"Guardar\",\r\n          okEdit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n          fileOptions: \"Agregar archivo\",\r\n        },\r\n        form: {\r\n          name: \"Nombre\",\r\n          message: \"Mensaje de Evaluación\",\r\n          options: \"Opciones de Evaluación\",\r\n          extraName: \"Nombre de la opción\",\r\n          extraValue: \"Valor de la opción\",\r\n        },\r\n        success: \"Evaluación guardada satisfactoriamente.\",\r\n      },\r\n      chat: {\r\n        noTicketMessage: \"Selecciona un ticket para empezar a chatear.\",\r\n      },\r\n      uploads: {\r\n        titles: {\r\n          titleUploadMsgDragDrop:\r\n            \"⬇️ ARRASTRE Y SUELTE LOS ARCHIVOS EN EL CAMPO ⬇️\",\r\n          titleFileList: \"Listado de archivo(s)\",\r\n        },\r\n      },\r\n      chatInternal: {\r\n        new: \"Nuevo\",\r\n        modal: {\r\n          conversation: \"Inicio\",\r\n          title: \"Título\",\r\n          filterUsers: \"Filtro por Usuarios\",\r\n          cancel: \"Cerrar\",\r\n          save: \"Guardar\",\r\n        },\r\n        modalDelete: {\r\n          title: \"Excluir Chat\",\r\n          message: \"Esta acción no se puede revertir, ¿confirmar?\",\r\n        },\r\n      },\r\n      ticketsManager: {\r\n        questionCloseTicket: \"¿Quieres cerrar todos los tickets?\",\r\n        yes: \"SI\",\r\n        not: \"NO\",\r\n        buttons: {\r\n          newTicket: \"Nuevo\",\r\n          resolvAll: \"Resolver Todos\",\r\n          close: \"Cerrar\",\r\n          new: \"Nuevo\",\r\n        },\r\n      },\r\n      ticketsQueueSelect: {\r\n        placeholder: \"Filas\",\r\n      },\r\n      tickets: {\r\n        inbox: {\r\n          closedAllTickets: \"¿Cerrar todos los tickets?\",\r\n          closedAll: \"Cerrar Todos\",\r\n          newTicket: \"Nuevo Ticket\",\r\n          yes: \"SI\",\r\n          no: \"NO\",\r\n          open: \"Abiertos\",\r\n          resolverd: \"Resueltos\",\r\n        },\r\n        toasts: {\r\n          deleted: \"El ticket en el que estabas ha sido borrado.\",\r\n        },\r\n        notification: {\r\n          message: \"Mensaje de\",\r\n        },\r\n        tabs: {\r\n          open: { title: \"Bandeja\" },\r\n          closed: { title: \"Resueltos\" },\r\n          search: { title: \"Buscar\" },\r\n        },\r\n        search: {\r\n          placeholder: \"Buscar tickets y mensajes.\",\r\n          filterConections: \"Filtro por Conexión\",\r\n          filterConectionsOptions: {\r\n            open: \"Abierto\",\r\n            closed: \"Cerrado\",\r\n            pending: \"Pendiente\",\r\n          },\r\n          filterUsers: \"Filtro por usuarios\",\r\n        },\r\n        buttons: {\r\n          showAll: \"Todos\",\r\n          returnQueue: \"Regresar a la Fila\",\r\n          scredule: \"Programar\",\r\n          deleteTicket: \"Borrar Ticket\",\r\n        },\r\n        closedTicket: {\r\n          closedMessage: \"Cerrar CON un mensaje de despedida\",\r\n          closedNotMessage: \"Cerrar SIN un mensaje de despedida\",\r\n        },\r\n      },\r\n      transferTicketModal: {\r\n        title: \"Transferir Ticket\",\r\n        fieldLabel: \"Escriba para buscar usuarios\",\r\n        fieldQueueLabel: \"Transferir para fila\",\r\n        fieldQueuePlaceholder: \"Seleccione una fila\",\r\n        fieldWhatsapp: \"Seleccione un whatsapp\",\r\n        noOptions: \"No se encontraron usuarios con ese nombre\",\r\n        msgTransfer:\r\n          \"Observación - los mensajes internos, no serán visualizados por el cliente.\",\r\n        buttons: {\r\n          ok: \"Transferir\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      chatInternal: {\r\n        new: \"Nuevo\",\r\n        modal: {\r\n          conversation: \"Conversación\",\r\n          title: \"Título\",\r\n          filterUsers: \"Filtro por Usuarios\",\r\n          cancel: \"Cerrar\",\r\n          save: \"Guardar\",\r\n        },\r\n        modalDelete: {\r\n          title: \"Excluir Conversación\",\r\n          message: \"Esta acción no se puede revertir, ¿confirmar?\",\r\n        },\r\n      },\r\n      ticketsList: {\r\n        called: \"Entradas\",\r\n        today: \"Hoy\",\r\n        missedCall: \"Llamada de voz/vídeo perdida a las\",\r\n        pendingHeader: \"Esperando\",\r\n        assignedHeader: \"Trabajando en\",\r\n        groupingHeader: \"Grupos\",\r\n        noTicketsTitle: \"¡Nada acá!\",\r\n        noTicketsMessage:\r\n          \"No se encontraron tickets con este estado o término de búsqueda\",\r\n        noQueue: \"Sin Fila\",\r\n        buttons: {\r\n          accept: \"Aceptar\",\r\n          cancel: \"Cancelar\",\r\n          start: \"Iniciar\",\r\n          closed: \"Cerrar\",\r\n          reopen: \"Reabrir\",\r\n          transfer: \"Transferir\",\r\n          ignore: \"Ignorar\",\r\n          exportAsPDF: \"Exportar para PDF\",\r\n        },\r\n        acceptModal: {\r\n          title: \"Aceptar Chat\",\r\n          queue: \"Seleccionar tag\",\r\n        },\r\n      },\r\n      newTicketModal: {\r\n        title: \"Crear Ticket\",\r\n        fieldLabel: \"Escribe para buscar un contacto\",\r\n        add: \"Agregar\",\r\n        buttons: {\r\n          ok: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      SendContactModal: {\r\n        title: \"Enviar contacto\",\r\n        fieldLabel: \"Buscar contacto\",\r\n        add: \"Agregar\",\r\n        buttons: {\r\n          ok: \"Enviar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      mainDrawer: {\r\n        listItems: {\r\n          dashboard: \"Dashboard\",\r\n          connections: \"Conexiones\",\r\n          chatsTempoReal: \"Panel de Asistencia\",\r\n          tickets: \"Inbox\",\r\n          quickMessages: \"Respuestas Rápidas\",\r\n          contacts: \"Contactos\",\r\n          queues: \"Filas\",\r\n          tags: \"Tags\",\r\n          administration: \"Administración\",\r\n          companies: \"Empresas\",\r\n          users: \"Usuarios\",\r\n          settings: \"Configuración\",\r\n          ratings: \"Regist. Evaluaciones\",\r\n          helps: \"Ayuda\",\r\n          messagesAPI: \"API\",\r\n          schedules: \"Programa\",\r\n          campaigns: \"Campañas\",\r\n          flowbuilder: \"Flowbuilder\",\r\n          campaignFlow: \"Flujo de campaña\",\r\n          conversationFlow: \"Flujo de conversación\",\r\n          annoucements: \"Informativos\",\r\n          chats: \"Chat Interno\",\r\n          financeiro: \"Financiero\",\r\n          queueIntegration: \"Integraciones\",\r\n          version: \"Versión\",\r\n          kanban: \"Kanban\",\r\n          prompts: \"Talk.Ai\",\r\n          allConnections: \"Admin conexiones\",\r\n          notifyUser: \"Notificación de usuario\",\r\n        },\r\n        appBar: {\r\n          user: {\r\n            profile: \"Perfil\",\r\n            logout: \"Cerrar Sesión\",\r\n            message: \"Hola\",\r\n            messageEnd: \"bienvenido a\",\r\n            active: \"Activo hasta\",\r\n            goodMorning: \"Hola,\",\r\n            myName: \"mi nombre es\",\r\n            continuity: \"y te seguiré apoyando.\",\r\n            virtualAssistant: \"Asistente Virtual\",\r\n            token:\r\n              \"Token inválido, favor comunicarse con el administrador de la plataforma.\",\r\n          },\r\n          message: {\r\n            location: \"Localización\",\r\n            contact: \"Contacto\",\r\n          },\r\n          notRegister: \"No hay registros\",\r\n          refresh: \"Atuaclizar\",\r\n        },\r\n      },\r\n      languages: {\r\n        undefined: \"Idioma\",\r\n        \"es-Mx\": \"Español\",\r\n        es: \"Español\",\r\n        en: \"English\",\r\n        tr: \"Türkçe\",\r\n      },\r\n      messagesAPI: {\r\n        title: \"API\",\r\n        textMessage: {\r\n          number: \"Número\",\r\n          body: \"Mensaje\",\r\n          token: \"Token registrado\",\r\n          userId: \"ID usuario/agente\",\r\n          queueId: \"ID Fila\",\r\n        },\r\n        mediaMessage: {\r\n          number: \"Número\",\r\n          body: \"Nombre del archivo\",\r\n          media: \"Archivo\",\r\n          token: \"Token registrado\",\r\n        },\r\n        API: {\r\n          title: \"Documentación para envío de mensajes\",\r\n          methods: {\r\n            title: \"Métodos de Envío\",\r\n            messagesText: \"Mensajes de Texto\",\r\n            messagesMidia: \"Mensajes de Midia\",\r\n          },\r\n          instructions: {\r\n            title: \"Instrucciones\",\r\n            comments: \"Observaciones Importantes\",\r\n            comments1:\r\n              \"Antes de enviar mensajes, es necesario registrar el token vinculado a la conexión que enviará los mensajes. <br />Para registrarse, acceda al menú 'Conexiones', haga clic en el botón de edición de la conexión e inserte el token en el campo correspondiente.\",\r\n            comments2:\r\n              \"El número de envío no debe tener máscara ni caracteres especiales y debe constar de:\",\r\n            codeCountry: \"Código del País\",\r\n            code: \"Código del Estado\",\r\n            number: \"Numero\",\r\n          },\r\n          text: {\r\n            title: \"1. Mensajes de Texto\",\r\n            instructions:\r\n              \"A continuación se muestra la lista de información necesaria para enviar mensajes de texto:\",\r\n          },\r\n          media: {\r\n            title: \"2. Mensagens de Media\",\r\n            instructions:\r\n              \"A continuación se muestra la lista de información necesaria para enviar mensajes con archivos:\",\r\n          },\r\n        },\r\n      },\r\n      notifications: {\r\n        noTickets: \"Sin notificaciones.\",\r\n      },\r\n      quickMessages: {\r\n        title: \"Respuestas Rápidas\",\r\n        searchPlaceholder: \"Buscar...\",\r\n        noAttachment: \"No hay\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta acción no se puede revertir. ¿Continuar?\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar\",\r\n          attach: \"Adjuntar Archivo\",\r\n          cancel: \"Cancelar\",\r\n          edit: \"Editar\",\r\n        },\r\n        toasts: {\r\n          success: \"Atajo agregado satisfactoriamente.\",\r\n          deleted: \"Atajo excluido satisfactoriamente.\",\r\n        },\r\n        dialog: {\r\n          title: \"Mensaje Rápida\",\r\n          shortcode: \"Atajo\",\r\n          message: \"Respuesta\",\r\n          save: \"Guardar\",\r\n          cancel: \"Cancelar\",\r\n          geral: \"Global\",\r\n          add: \"Agregar\",\r\n          edit: \"Editar\",\r\n          visao: \"Permitir visión\",\r\n        },\r\n        table: {\r\n          shortcode: \"Atajo\",\r\n          message: \"Mensaje\",\r\n          actions: \"Acciones\",\r\n          mediaName: \"Nombre del Archivo\",\r\n          status: \"Status\",\r\n        },\r\n      },\r\n      contactLists: {\r\n        title: \"Listado de Contactos\",\r\n        table: {\r\n          name: \"Nombre\",\r\n          contacts: \"Contactos\",\r\n          actions: \"Acciones\",\r\n        },\r\n        buttons: {\r\n          add: \"Nuevo Listado\",\r\n        },\r\n        dialog: {\r\n          name: \"Nombre\",\r\n          company: \"Empresa\",\r\n          okEdit: \"Editar\",\r\n          okAdd: \"Agregar\",\r\n          add: \"Agregar\",\r\n          edit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      contactListItems: {\r\n        title: \"Contactos\",\r\n        searchPlaceholder: \"Búsqueda\",\r\n        buttons: {\r\n          add: \"Nuevo\",\r\n          lists: \"Listados\",\r\n          import: \"Importar\",\r\n        },\r\n        dialog: {\r\n          name: \"Nombre\",\r\n          number: \"Número\",\r\n          whatsapp: \"Whatsapp\",\r\n          email: \"Correo electrónico\",\r\n          okEdit: \"Editar\",\r\n          okAdd: \"Agregar\",\r\n          add: \"Agregar\",\r\n          edit: \"Editar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          number: \"Número\",\r\n          whatsapp: \"Whatsapp\",\r\n          email: \"Correo electrónico\",\r\n          actions: \"Acciones\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n          importMessage: \"¿Quieres importar esta plantilla? \",\r\n          importTitlte: \"Importar\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Registro excluído\",\r\n        },\r\n      },\r\n      kanban: {\r\n        title: \"Kanban\",\r\n        searchPlaceholder: \"Búsqueda\",\r\n        subMenus: {\r\n          list: \"Admin\",\r\n          tags: \"Lanes\",\r\n        },\r\n      },\r\n      campaigns: {\r\n        title: \"Campañas\",\r\n        searchPlaceholder: \"Búsqueda\",\r\n        subMenus: {\r\n          list: \"Listados\",\r\n          listContacts: \"Listados de contatos\",\r\n          settings: \"Configuraciones\",\r\n        },\r\n        settings: {\r\n          randomInterval: \"Intervalo de disparo aleatorio\",\r\n          noBreak: \"Sin Intervalo\",\r\n          intervalGapAfter: \"Intervalo mayor después de\",\r\n          undefined: \"No definido\",\r\n          messages: \"mensajes\",\r\n          laggerTriggerRange: \"Intervalo de envío más grande\",\r\n          addVar: \"Agregar variable\",\r\n          save: \"Guardar\",\r\n          close: \"Cerrar\",\r\n          add: \"Agregar\",\r\n          shortcut: \"Atajo\",\r\n          content: \"Contenido\",\r\n        },\r\n        buttons: {\r\n          add: \"Nueva Campaña\",\r\n          contactLists: \"Listado de Contactos\",\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          whatsapp: \"Conexión\",\r\n          contactList: \"Listado de Contactos\",\r\n          option: \"Ninguna\",\r\n          disabled: \"Activada\",\r\n          enabled: \"Desactivada\",\r\n          status: \"Status\",\r\n          scheduledAt: \"Programa\",\r\n          completedAt: \"Finalizada\",\r\n          confirmation: \"Confirmación\",\r\n          actions: \"Acciones\",\r\n        },\r\n        dialog: {\r\n          new: \"Nueva Campaña\",\r\n          update: \"Editar Campaña\",\r\n          readonly: \"Solo Visualizar\",\r\n          help: \"Use variables como {nombre}, {numero}, {email} o defina variables personalizadas.\",\r\n          form: {\r\n            name: \"Nombre\",\r\n            message1: \"Mensaje 1\",\r\n            message2: \"Mensaje 2\",\r\n            message3: \"Mensaje 3\",\r\n            message4: \"Mensaje 4\",\r\n            message5: \"Mensaje 5\",\r\n            confirmationMessage1: \"Mensaje de Confirmación 1\",\r\n            confirmationMessage2: \"Mensaje de Confirmación 2\",\r\n            confirmationMessage3: \"Mensaje de Confirmación 3\",\r\n            confirmationMessage4: \"Mensaje de Confirmación 4\",\r\n            confirmationMessage5: \"Mensaje de Confirmación 5\",\r\n            messagePlaceholder: \"Contenido del Mensaje\",\r\n            whatsapp: \"Conexión\",\r\n            status: \"Status\",\r\n            scheduledAt: \"Programa\",\r\n            confirmation: \"Confirmación\",\r\n            contactList: \"Listado de Contacto\",\r\n            tagList: \"Tags\",\r\n            statusTicket: \"Status del Ticket\",\r\n            openTicketStatus: \"Abierto\",\r\n            closedTicketStatus: \"Cerrado\",\r\n            enabledOpenTicket: \"Activado\",\r\n            disabledOpenTicket: \"Desactivado\",\r\n            openTicket: \"Abrir ticket\",\r\n          },\r\n          buttons: {\r\n            add: \"Agregar\",\r\n            edit: \"Actualizar\",\r\n            okadd: \"Ok\",\r\n            cancel: \"Cancelar Envíos\",\r\n            restart: \"Reiniciar Envíos\",\r\n            close: \"Cerrar\",\r\n            attach: \"Anexar Archivo\",\r\n          },\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        toasts: {\r\n          success: \"Acción realizada satisfactoriamente\",\r\n          cancel: \"Campaña cancelada\",\r\n          restart: \"Campaña reiniciada\",\r\n          deleted: \"Registro excluido\",\r\n        },\r\n      },\r\n      campaignReport: {\r\n        title: \"Reporte de\",\r\n        inactive: \"Inactiva\",\r\n        scheduled: \"Programada\",\r\n        process: \"En Proceso\",\r\n        cancelled: \"Cancelada\",\r\n        finished: \"Finalizada\",\r\n        campaign: \"Campaña\",\r\n        validContacts: \"Contactos Válidos\",\r\n        confirmationsRequested: \"Confirmaciones Solicitadas\",\r\n        confirmations: \"Confirmaciones\",\r\n        deliver: \"Entregadas\",\r\n        connection: \"Conexión\",\r\n        contactLists: \"Listado de Contactos\",\r\n        schedule: \"Programados\",\r\n        conclusion: \"Conclusión\",\r\n      },\r\n      announcements: {\r\n        title: \"Boletines\",\r\n        searchPlaceholder: \"Búsqueda\",\r\n        active: \"Activo\",\r\n        inactive: \"Inactivo\",\r\n        buttons: {\r\n          add: \"Nuevo Boletin\",\r\n          contactLists: \"Listados de Boletines\",\r\n        },\r\n        table: {\r\n          priority: \"Prioridad\",\r\n          title: \"Título\",\r\n          text: \"Texto\",\r\n          mediaName: \"Archivo\",\r\n          status: \"Status\",\r\n          actions: \"Acciones\",\r\n        },\r\n        dialog: {\r\n          edit: \"Editar Boletin\",\r\n          add: \"Nuevo Boletin\",\r\n          update: \"Editar Boletin\",\r\n          readonly: \"Solo visualizar\",\r\n          form: {\r\n            priority: \"Prioridad\",\r\n            title: \"Título\",\r\n            text: \"Texto\",\r\n            mediaPath: \"Archivo\",\r\n            status: \"Status\",\r\n            high: \"Alta\",\r\n            medium: \"Mediana\",\r\n            low: \"Baja\",\r\n            active: \"Activo\",\r\n            inactive: \"Inactivo\",\r\n          },\r\n          buttons: {\r\n            add: \"Agregar\",\r\n            edit: \"Actualizar\",\r\n            okadd: \"Ok\",\r\n            cancel: \"Cancelar\",\r\n            close: \"Cerrar\",\r\n            attach: \"Anexar Archivo\",\r\n          },\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        toasts: {\r\n          success: \"Acción realizada satisfactoriamente\",\r\n          deleted: \"Registro excluido\",\r\n        },\r\n      },\r\n      campaignsConfig: {\r\n        title: \"Configuraciones de Campañas\",\r\n      },\r\n      queues: {\r\n        title: \"Filas\",\r\n        table: {\r\n          name: \"Nombre\",\r\n          color: \"Color\",\r\n          greeting: \"Mensaje de saludo\",\r\n          orderQueue: \"Orden de la fila (bot)\",\r\n          actions: \"Acciones\",\r\n          ID: \"ID\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar fila\",\r\n        },\r\n        toasts: {\r\n          success: \"Fila guardada\",\r\n          deleted: \"Fila excluida\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Eliminar\",\r\n          deleteMessage:\r\n            \"¿Estás seguro? ¡Esta acción no se puede revertir! Los tickets en esa fila seguirán existiendo, pero ya no tendrán ninguna fila asignada.\",\r\n        },\r\n      },\r\n      queue: {\r\n        queueData: \"Datos\",\r\n      },\r\n      queueSelect: {\r\n        inputLabel: \"Filas\",\r\n        inputLabelRO: \"Filas solo para lectura\",\r\n      },\r\n      queueIntegration: {\r\n        title: \"Integraciones\",\r\n        table: {\r\n          id: \"ID\",\r\n          type: \"Tipo\",\r\n          name: \"Nombre\",\r\n          projectName: \"Nombre del Proyecto\",\r\n          language: \"Idioma\",\r\n          lastUpdate: \"Ultima actualización\",\r\n          actions: \"Acciones\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar Proyecto\",\r\n        },\r\n        searchPlaceholder: \"Buscar...\",\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"¿Estás seguro? ¡Esta acción no se puede revertir! Se eliminarán las filas y conexiones enlazadas\",\r\n        },\r\n      },\r\n      users: {\r\n        title: \"Usuarios\",\r\n        table: {\r\n          status: \"Status\",\r\n          name: \"Nombre\",\r\n          email: \"Correo Electrónico\",\r\n          profile: \"Perfil\",\r\n          startWork: \"Inicio del trabajo\",\r\n          endWork: \"Final de trabajo\",\r\n          actions: \"Acciones\",\r\n          ID: \"ID\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar usuario\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Usuario borrado satisfactoriamente.\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Borrar\",\r\n          deleteMessage:\r\n            \"Toda la información del usuario se perderá. Los tickets abiertos de los usuarios se moverán a la fila.\",\r\n        },\r\n      },\r\n      compaies: {\r\n        title: \"Empresas\",\r\n        table: {\r\n          ID: \"ID\",\r\n          status: \"Activo\",\r\n          name: \"Nombre\",\r\n          email: \"Correo\",\r\n          password: \"Contraseña\",\r\n          phone: \"Teléfono\",\r\n          plan: \"Plan\",\r\n          active: \"Activo\",\r\n          numberAttendants: \"Agentes\",\r\n          numberConections: \"Conexiones\",\r\n          value: \"Valor\",\r\n          namePlan: \"Nombre del Plan\",\r\n          numberQueues: \"Filas\",\r\n          useCampaigns: \"Campañas\",\r\n          useExternalApi: \"Rest API\",\r\n          useFacebook: \"Facebook\",\r\n          useInstagram: \"Instagram\",\r\n          useWhatsapp: \"Whatsapp\",\r\n          useInternalChat: \"Chat Interno\",\r\n          useSchedules: \"Programa\",\r\n          createdAt: \"F.Creación\",\r\n          dueDate: \"Caducidad\",\r\n          lastLogin: \"Ult. Login\",\r\n          actions: \"Acciones\",\r\n          money: \"MXN\",\r\n          yes: \"Si\",\r\n          no: \"No\",\r\n          document: \"CURP/RFC\",\r\n          recurrence: \"Recurencia\",\r\n          monthly: \"Mensual\",\r\n          bimonthly: \"Bimestral\",\r\n          quarterly: \"Trimestral\",\r\n          semester: \"Semestral\",\r\n          yearly: \"Anual\",\r\n          clear: \"Limpiar\",\r\n          delete: \"Eliminar\",\r\n          user: \"Usuario\",\r\n          save: \"Guardar\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar empresa\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Empresa excluida satisfactoriamente.\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Excluir\",\r\n          deleteMessage:\r\n            \"Todas las informaciones de la empresa serán eliminadas. Los tickets abiertos de este usuário serán movidos a la fila.\",\r\n        },\r\n      },\r\n      plans: {\r\n        form: {\r\n          name: \"Nombre\",\r\n          users: \"Usuarios\",\r\n          connections: \"Conexiones\",\r\n          campaigns: \"Campañas\",\r\n          schedules: \"Programas\",\r\n          enabled: \"Activada\",\r\n          disabled: \"Desactivada\",\r\n          clear: \"Limpiar\",\r\n          delete: \"Eliminar\",\r\n          save: \"Guardar\",\r\n          yes: \"Si\",\r\n          no: \"No\",\r\n          money: \"MXN\",\r\n        },\r\n      },\r\n      helps: {\r\n        title: \"Ayuda\",\r\n        settings: {\r\n          codeVideo: \"Código del Video\",\r\n          description: \"Descripción\",\r\n          clear: \"Limpiar\",\r\n          delete: \"Eliminar\",\r\n          save: \"Guardar\",\r\n        },\r\n      },\r\n      schedules: {\r\n        title: \"Programas\",\r\n        confirmationModal: {\r\n          deleteTitle: \"¿Seguro que quieres excluir este Programa?\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        table: {\r\n          contact: \"Contacto\",\r\n          body: \"Mensaje\",\r\n          sendAt: \"Fecha del Programa\",\r\n          sentAt: \"Fecha de Envío\",\r\n          status: \"Status\",\r\n          actions: \"Acciones\",\r\n        },\r\n        buttons: {\r\n          add: \"Nuevo Programa\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Programa eliminado satisfactoriamente.\",\r\n        },\r\n      },\r\n      tags: {\r\n        title: \"Tags\",\r\n        confirmationModal: {\r\n          deleteTitle: \"¿Seguro que quieres excluir esta Tag?\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          kanban: \"Kanban\",\r\n          color: \"Color\",\r\n          tickets: \"Registros Tags\",\r\n          contacts: \"Contactos\",\r\n          actions: \"Acciones\",\r\n        },\r\n        buttons: {\r\n          add: \"Nueva Tag\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Tag eliminada satisfactoriamente.\",\r\n        },\r\n      },\r\n      tagsKanban: {\r\n        title: \"Lanes\",\r\n        laneDefault: \"Abierto(s)\",\r\n        confirmationModal: {\r\n          deleteTitle: \"¿Seguro que quieres excluir esta Lane?\",\r\n          deleteMessage: \"Esta acción no se puede revertir.\",\r\n        },\r\n        table: {\r\n          name: \"Nombre\",\r\n          color: \"Color\",\r\n          tickets: \"Tickets\",\r\n          actions: \"Acciones\",\r\n        },\r\n        buttons: {\r\n          add: \"Nueva Lane\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Lane eliminada satisfactoriamente.\",\r\n        },\r\n      },\r\n      files: {\r\n        title: \"Listado de archivos\",\r\n        table: {\r\n          name: \"Nombre\",\r\n          contacts: \"Contactos\",\r\n          actions: \"Acción\",\r\n        },\r\n        toasts: {\r\n          deleted: \"Listado borrado satisfactoriamente!\",\r\n          deletedAll: \"Todos los listados fueron borrados satisfactoriamente!\",\r\n        },\r\n        buttons: {\r\n          add: \"Agregar\",\r\n          deleteAll: \"Borrar Todos\",\r\n        },\r\n        confirmationModal: {\r\n          deleteTitle: \"Borrar\",\r\n          deleteAllTitle: \"Borrar Todos\",\r\n          deleteMessage: \"Estás seguro de borrar este listado?\",\r\n          deleteAllMessage: \"Estás seguro de borrar todos los listado?\",\r\n        },\r\n      },\r\n      settings: {\r\n        success: \"Configuración guardada satisfactoriamente.\",\r\n        title: \"Configuración\",\r\n        tabs: {\r\n          options: \"Opciones\",\r\n          plans: \"Planes\",\r\n          helps: \"Ayuda\",\r\n        },\r\n        settings: {\r\n          userCreation: {\r\n            name: \"Creación de usuarios\",\r\n            options: {\r\n              enabled: \"Habilitado\",\r\n              disabled: \"Deshabilitado\",\r\n            },\r\n          },\r\n          tabs: {\r\n            options: \"Opciones\",\r\n            schedules: \"Horarios\",\r\n            plans: \"Planes\",\r\n            help: \"Ayuda\",\r\n          },\r\n          options: {\r\n            disabled: \"Desactivadas\",\r\n            enabled: \"Activadas\",\r\n            updating: \"Actualizando...\",\r\n            creationCompanyUser: \"Creación de Company/Usuário\",\r\n            evaluations: \"Evaluaciones\",\r\n            officeScheduling: \"Programar horarios\",\r\n            queueManagement: \"Gerenciar por Fila\",\r\n            companyManagement: \"Gerenciar por Empresa\",\r\n            connectionManagement: \"Gerenciar por Conexión\",\r\n            sendGreetingAccepted: \"Enviar saludos al aceptar ticket\",\r\n            sendMsgTransfTicket:\r\n              \"Enviar mensaje de transferencia (departamento/agente)\",\r\n            checkMsgIsGroup: \"Ignorar mensajes de Grupos\",\r\n            chatBotType: \"Tipo de Bot\",\r\n            userRandom: \"Escojer agente aleatorio\",\r\n            buttons: \"Botones\",\r\n            acceptCallWhatsapp: \"No aceptar llamada en el whatsapp\",\r\n            sendSignMessage: \"Permitir agente escoger ENVIAR Firma\",\r\n            sendGreetingMessageOneQueues:\r\n              \"Enviar saludos cuando hay solamente 1 fila\",\r\n            sendQueuePosition: \"Enviar mensaje con la posición de la fila\",\r\n            sendFarewellWaitingTicket:\r\n              \"Enviar mensaje de despedida(estado Esperando)\",\r\n            acceptAudioMessageContact: \"Aceptar audios de todos\",\r\n            enableLGPD: \"Habilitar opción P.P.\",\r\n            requiredTag: \"Tag obligatoria para cerrar ticket\",\r\n            closeTicketOnTransfer: \"Cerrar ticket al transferir para otra fila\",\r\n            DirectTicketsToWallets:\r\n              \"Mover automaticamente cliente para cartera\",\r\n          },\r\n          LGPD: {\r\n            title: \"Politica de Privacidad\",\r\n            welcome: \"Mensaje de bienvenida (PP)\",\r\n            linkLGPD: \"Link de la política de privacidad\",\r\n            obfuscateMessageDelete: \"Ofuscar mensaje borrada\",\r\n            alwaysConsent: \"Requerir siempre el consentimiento\",\r\n            obfuscatePhoneUser: \"Ofuscar número de telefono para usuarios\",\r\n            enabled: \"Activado\",\r\n            disabled: \"Desactivado\",\r\n          },\r\n        },\r\n      },\r\n      messagesList: {\r\n        header: {\r\n          assignedTo: \"Asignado a:\",\r\n          dialogRatingTitle:\r\n            \"¿Quieres dejar un mensaje de evaluación para el cliente?\",\r\n          dialogClosingTitle: \"Finalizando la atención al cliente!\",\r\n          dialogRatingCancel: \"Cerrar CON Mensaje de Despedida\",\r\n          dialogRatingSuccess: \"Cerrar y Enviar Evaluación\",\r\n          dialogRatingWithoutFarewellMsg: \"Cerrar SIN Mensaje de Despedida\",\r\n          ratingTitle: \"Elegir menú de evaluación\",\r\n          notMessage: \"No hay mensaje seleccionado\",\r\n          buttons: {\r\n            return: \"Devolver\",\r\n            resolve: \"Resolver\",\r\n            reopen: \"Reabrir\",\r\n            accept: \"Aceptar\",\r\n            rating: \"Enviar Evaluación\",\r\n            enableIntegration: \"Activar/Desactivar integración\",\r\n            logTicket: \"Logs del Ticket\",\r\n            requiredTag:\r\n              \"Opps! Debes asignar una tag antes de cerrar el ticket.\",\r\n          },\r\n        },\r\n      },\r\n      messagesInput: {\r\n        placeholderPrivateMessage:\r\n          \"Entre como un mensaje o con / para respuestas rápidas\",\r\n        placeholderOpen:\r\n          \"Entre como un mensaje o con / para respuestas rápidas\",\r\n        placeholderClosed:\r\n          \"Vuelva a abrir o acepte este ticket para enviar un mensaje.\",\r\n        signMessage: \"Firmar\",\r\n        privateMessage: \"Mensaje Privada\",\r\n      },\r\n      contactDrawer: {\r\n        header: \"Detalles del contacto\",\r\n        buttons: {\r\n          edit: \"Editar contacto\",\r\n          block: \"Bloquear\",\r\n          unblock: \"Desbloquear\",\r\n        },\r\n        extraInfo: \"Otras informaciones\",\r\n      },\r\n      messageVariablesPicker: {\r\n        label: \"Variables disponibles\",\r\n        vars: {\r\n          contactFirstName: \"Primer Nombre\",\r\n          contactName: \"Nombre\",\r\n          user: \"Agente\",\r\n          greeting: \"Saludos\",\r\n          protocolNumber: \"Protocolo\",\r\n          date: \"Fecha\",\r\n          hour: \"Hora\",\r\n          ticket_id: \"Nº del Ticket\",\r\n          queue: \"Sector\",\r\n          connection: \"Conexión\",\r\n        },\r\n      },\r\n      ticketOptionsMenu: {\r\n        schedule: \"Programa\",\r\n        delete: \"Borrar\",\r\n        transfer: \"Transferir\",\r\n        registerAppointment: \"Observaciones del Contacto\",\r\n        resolveWithNoFarewell: \"Cerrar sin despedida\",\r\n        acceptAudioMessage: \"¿Aceptar audios del contacto?\",\r\n        appointmentsModal: {\r\n          title: \"Observaciones del Contacto\",\r\n          textarea: \"Observación\",\r\n          placeholder: \"Agregue aqui la información\",\r\n        },\r\n        confirmationModal: {\r\n          title: \"¿Borrar ticket #\",\r\n          titleFrom: \"del contacto \",\r\n          message:\r\n            \"¡Atención! Todos los mensajes Todos los mensajes relacionados con el ticket se perderán.\",\r\n        },\r\n        buttons: {\r\n          delete: \"Borrar\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      confirmationModal: {\r\n        buttons: {\r\n          confirm: \"Ok\",\r\n          cancel: \"Cancelar\",\r\n        },\r\n      },\r\n      messageInput: {\r\n        tooltip: {\r\n          signature: \"Activar/Desactivar firma\",\r\n          privateMessage: \"Activar/Desactivar mensaje privado\",\r\n          meet: \"Enviar link para videollamada\",\r\n        },\r\n        type: {\r\n          imageVideo: \"Fotos y videos\",\r\n          cam: \"Cámara\",\r\n          contact: \"Contacto\",\r\n          meet: \"Link Jitsi Meet\",\r\n        },\r\n      },\r\n      messageOptionsMenu: {\r\n        delete: \"Borrar\",\r\n        reply: \"Responder\",\r\n        edit: \"Editar\",\r\n        forward: \"Enviar\",\r\n        toForward: \"Enviar\",\r\n        talkTo: \"Platicar Con\",\r\n        react: \"Reaccionar\",\r\n        reactions: {\r\n          like: \"Like\",\r\n          love: \"Love\",\r\n          haha: \"Haha\",\r\n        },\r\n        reactionSuccess: \"¡Reacción añadida con éxito!\",\r\n        confirmationModal: {\r\n          title: \"¿Borrar mensaje?\",\r\n          message: \"Esta acción no puede ser revertida.\",\r\n        },\r\n      },\r\n      invoices: {\r\n        table: {\r\n          invoices: \"Facturas\",\r\n          details: \"Detalles\",\r\n          users: \"Usuarios\",\r\n          connections: \"Conexiones\",\r\n          queue: \"Filas\",\r\n          value: \"Valor\",\r\n          expirationDate: \"Fecha Venc.\",\r\n          action: \"Acción\",\r\n        },\r\n      },\r\n      backendErrors: {\r\n        ERR_INSUFFICIENT_QUOTA:\r\n          \"Cuota insuficiente. Por favor, verifique su plan y detalles de facturación en OpenAI.\",\r\n        ERR_NO_OTHER_WHATSAPP:\r\n          \"Debe haber al menos una conexión de WhatsApp predeterminada.\",\r\n        ERR_NO_DEF_WAPP_FOUND:\r\n          \"No se encontró WhatsApp predeterminado. Verifique la página de conexiones.\",\r\n        ERR_WAPP_NOT_INITIALIZED:\r\n          \"Esta sesión de WhatsApp no ​​está inicializada. Verifique la página de conexiones.\",\r\n        ERR_WAPP_CHECK_CONTACT:\r\n          \"No se pudo verificar el contacto de WhatsApp. Verifique la página de conexiones.\",\r\n        ERR_WAPP_INVALID_CONTACT: \"Este no es un número de whatsapp válido.\",\r\n        ERR_WAPP_DOWNLOAD_MEDIA:\r\n          \"No se pudieron descargar los medios de WhatsApp. Verifique la página de conexiones.\",\r\n        ERR_INVALID_CREDENTIALS: \"Error de autenticación. Vuelva a intentarlo.\",\r\n        ERR_SENDING_WAPP_MSG:\r\n          \"Error al enviar el mensaje de WhatsApp. Verifique la página de conexiones.\",\r\n        ERR_DELETE_WAPP_MSG: \"No se pudo borrar el mensaje de WhatsApp.\",\r\n        ERR_OTHER_OPEN_TICKET: \"Ya hay un ticket abierto para este contacto.\",\r\n        ERR_SESSION_EXPIRED: \"Sesión caducada. Inicie sesión.\",\r\n        ERR_USER_CREATION_DISABLED:\r\n          \"La creación de usuarios fue deshabilitada por el administrador.\",\r\n        ERR_NO_PERMISSION: \"No tienes permiso para acceder a este recurso.\",\r\n        ERR_DUPLICATED_CONTACT: \"Ya existe un contacto con este número.\",\r\n        ERR_NO_SETTING_FOUND:\r\n          \"No se encontró ninguna configuración con este ID.\",\r\n        ERR_NO_CONTACT_FOUND: \"No se encontró ningún contacto con este ID.\",\r\n        ERR_NO_TICKET_FOUND: \"No se encontró ningún ticket con este ID.\",\r\n        ERR_NO_USER_FOUND: \"No se encontró ningún usuario con este ID.\",\r\n        ERR_NO_WAPP_FOUND: \"No se encontró WhatsApp con este ID.\",\r\n        ERR_CREATING_MESSAGE: \"Error al crear el mensaje en la base de datos.\",\r\n        ERR_CREATING_TICKET: \"Error al crear el ticket en la base de datos.\",\r\n        ERR_FETCH_WAPP_MSG:\r\n          \"Error al obtener el mensaje en WhtasApp, tal vez sea demasiado antiguo.\",\r\n        ERR_QUEUE_COLOR_ALREADY_EXISTS:\r\n          \"Este color ya está en uso, elija otro.\",\r\n        ERR_WAPP_GREETING_REQUIRED:\r\n          \"El mensaje de saludo es obligatorio cuando hay más de una fila.\",\r\n        ERR_OUT_OF_HOURS: \"¡Fuera del horario de oficina!\",\r\n        ERR_COMAPANY_REGISTRED: \"Empresa ya registrada.\",\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nexport { messages };\r\n","import i18n from \"i18next\";\r\nimport LanguageDetector from \"i18next-browser-languagedetector\";\r\n\r\nimport { messages } from \"./languages\";\r\n\r\ni18n.use(LanguageDetector).init({\r\n\tdebug: false,\r\n\tdefaultNS: [\"translations\"],\r\n\tfallbackLng: \"pt\",\r\n\tns: [\"translations\"],\r\n\tresources: messages,\r\n});\r\n\r\nexport { i18n };\r\n","import React from \"react\";\r\nimport Markdown from \"markdown-to-jsx\";\r\n\r\nconst elements = [\r\n\t\"a\",\r\n\t\"abbr\",\r\n\t\"address\",\r\n\t\"area\",\r\n\t\"article\",\r\n\t\"aside\",\r\n\t\"audio\",\r\n\t\"b\",\r\n\t\"base\",\r\n\t\"bdi\",\r\n\t\"bdo\",\r\n\t\"big\",\r\n\t\"blockquote\",\r\n\t\"body\",\r\n\t\"br\",\r\n\t\"button\",\r\n\t\"canvas\",\r\n\t\"caption\",\r\n\t\"cite\",\r\n\t\"code\",\r\n\t\"col\",\r\n\t\"colgroup\",\r\n\t\"data\",\r\n\t\"datalist\",\r\n\t\"dd\",\r\n\t\"del\",\r\n\t\"details\",\r\n\t\"dfn\",\r\n\t\"dialog\",\r\n\t\"div\",\r\n\t\"dl\",\r\n\t\"dt\",\r\n\t\"em\",\r\n\t\"embed\",\r\n\t\"fieldset\",\r\n\t\"figcaption\",\r\n\t\"figure\",\r\n\t\"footer\",\r\n\t\"form\",\r\n\t\"h1\",\r\n\t\"h2\",\r\n\t\"h3\",\r\n\t\"h4\",\r\n\t\"h5\",\r\n\t\"h6\",\r\n\t\"head\",\r\n\t\"header\",\r\n\t\"hgroup\",\r\n\t\"hr\",\r\n\t\"html\",\r\n\t\"i\",\r\n\t\"iframe\",\r\n\t\"img\",\r\n\t\"input\",\r\n\t\"ins\",\r\n\t\"kbd\",\r\n\t\"keygen\",\r\n\t\"label\",\r\n\t\"legend\",\r\n\t\"li\",\r\n\t\"link\",\r\n\t\"main\",\r\n\t\"map\",\r\n\t\"mark\",\r\n\t\"marquee\",\r\n\t\"menu\",\r\n\t\"menuitem\",\r\n\t\"meta\",\r\n\t\"meter\",\r\n\t\"nav\",\r\n\t\"noscript\",\r\n\t\"object\",\r\n\t\"ol\",\r\n\t\"optgroup\",\r\n\t\"option\",\r\n\t\"output\",\r\n\t\"p\",\r\n\t\"param\",\r\n\t\"picture\",\r\n\t\"pre\",\r\n\t\"progress\",\r\n\t\"q\",\r\n\t\"rp\",\r\n\t\"rt\",\r\n\t\"ruby\",\r\n\t\"s\",\r\n\t\"samp\",\r\n\t\"script\",\r\n\t\"section\",\r\n\t\"select\",\r\n\t\"small\",\r\n\t\"source\",\r\n\t\"span\",\r\n\t\"strong\",\r\n\t\"style\",\r\n\t\"sub\",\r\n\t\"summary\",\r\n\t\"sup\",\r\n\t\"table\",\r\n\t\"tbody\",\r\n\t\"td\",\r\n\t\"textarea\",\r\n\t\"tfoot\",\r\n\t\"th\",\r\n\t\"thead\",\r\n\t\"time\",\r\n\t\"title\",\r\n\t\"tr\",\r\n\t\"track\",\r\n\t\"u\",\r\n\t\"ul\",\r\n\t\"var\",\r\n\t\"video\",\r\n\t\"wbr\",\r\n\r\n\t// SVG\r\n\t\"circle\",\r\n\t\"clipPath\",\r\n\t\"defs\",\r\n\t\"ellipse\",\r\n\t\"foreignObject\",\r\n\t\"g\",\r\n\t\"image\",\r\n\t\"line\",\r\n\t\"linearGradient\",\r\n\t\"marker\",\r\n\t\"mask\",\r\n\t\"path\",\r\n\t\"pattern\",\r\n\t\"polygon\",\r\n\t\"polyline\",\r\n\t\"radialGradient\",\r\n\t\"rect\",\r\n\t\"stop\",\r\n\t\"svg\",\r\n\t\"text\",\r\n\t\"tspan\",\r\n];\r\n\r\nconst allowedElements = [\"a\", \"b\", \"strong\", \"em\", \"u\", \"code\", \"del\"];\r\n\r\nconst CustomLink = ({ children, ...props }) => (\r\n\t<a {...props} target=\"_blank\" rel=\"noopener noreferrer\">\r\n\t\t{children}\r\n\t</a>\r\n);\r\n\r\nconst MarkdownWrapper = ({ children }) => {\r\n\tconst boldRegex = /\\*(.*?)\\*/g;\r\n\tconst tildaRegex = /~(.*?)~/g;\r\n\r\n\tconst pixMarker = '###PIX_MARKER###';\r\n\r\n\tif (children && children.includes('***')) {\r\n\t\tchildren = children.replace(/\\*\\*\\*/g, pixMarker);\r\n\t}\r\n\r\n\tif (children && boldRegex.test(children)) {\r\n\t\tchildren = children.replace(boldRegex, \"**$1**\");\r\n\t}\r\n\r\n\tif (children && children.includes(pixMarker)) {\r\n\t\tchildren = children.replace(new RegExp(pixMarker, 'g'), '***');\r\n\t}\r\n\r\n\tif (children && tildaRegex.test(children)) {\r\n\t\tchildren = children.replace(tildaRegex, \"~~$1~~\");\r\n\t}\r\n\tconst options = React.useMemo(() => {\r\n\t\tconst markdownOptions = {\r\n\t\t\tdisableParsingRawHTML: true,\r\n\t\t\tforceInline: true,\r\n\t\t\toverrides: {\r\n\t\t\t\ta: { component: CustomLink },\r\n\t\t\t},\r\n\t\t};\r\n\r\n\t\telements.forEach(element => {\r\n\t\t\tif (!allowedElements.includes(element)) {\r\n\t\t\t\tmarkdownOptions.overrides[element] = el => el.children || null;\r\n\t\t\t}\r\n\t\t});\r\n\r\n\t\treturn markdownOptions;\r\n\t}, []);\r\n\r\n\tif (!children) return null;\r\n\r\n\treturn <Markdown options={options}>{children}</Markdown>;\r\n};\r\n\r\nexport default MarkdownWrapper;\r\n","import { toast } from \"react-toastify\";\r\nimport { i18n } from \"../translate/i18n\";\r\nimport { isString } from 'lodash';\r\n\r\nconst toastError = err => {\r\n\tconst errorMsg = err.response?.data?.error;\r\n\tif (errorMsg) {\r\n\t\tif (i18n.exists(`backendErrors.${errorMsg}`)) {\r\n\t\t\ttoast.error(i18n.t(`backendErrors.${errorMsg}`), {\r\n\t\t\t\ttoastId: errorMsg,\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t\thideProgressBar: false,\r\n\t\t\t\tcloseOnClick: true,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t\tdraggable: true,\r\n\t\t\t\tprogress: undefined,\r\n\t\t\t\ttheme: \"light\",\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t} else {\r\n\t\t\ttoast.error(errorMsg, {\r\n\t\t\t\ttoastId: errorMsg,\r\n\t\t\t\tautoClose: 2000,\r\n\t\t\t\thideProgressBar: false,\r\n\t\t\t\tcloseOnClick: true,\r\n\t\t\t\tpauseOnHover: false,\r\n\t\t\t\tdraggable: true,\r\n\t\t\t\tprogress: undefined,\r\n\t\t\t\ttheme: \"light\",\r\n\t\t\t});\r\n\t\t\treturn\r\n\t\t}\r\n\t} if (isString(err)) {\r\n\t\ttoast.error(err);\r\n\t\treturn\r\n\t} else {\r\n\t\ttoast.error(\"An error occurred!\");\r\n\t\treturn\r\n\t}\r\n};\r\n\r\nexport default toastError;\r\n","import io from \"socket.io-client\";\r\n\r\nclass SocketWorker {\r\n  constructor(companyId, userId) {\r\n    if (!SocketWorker.instance) {\r\n      this.companyId = companyId\r\n      this.userId = userId\r\n      this.socket = null;\r\n      this.configureSocket();\r\n      this.eventListeners = {}; // Armazena os ouvintes de eventos registrados\r\n      SocketWorker.instance = this;\r\n\r\n    }\r\n\r\n    return SocketWorker.instance;\r\n  }\r\n\r\n  configureSocket() {\r\n    const publicToken = localStorage.getItem(\"public-token\")\r\n    if (!publicToken) {\r\n      return\r\n    }\r\n\r\n    this.socket = io(`${process.env.REACT_APP_BACKEND_URL}/${this?.companyId}`, {\r\n      autoConnect: true,\r\n      reconnection: true,\r\n      reconnectionDelay: 1000,\r\n      reconnectionAttempts: Infinity,\r\n      query: { userId: this.userId, token: publicToken, companyId: this.companyId }\r\n    });\r\n\r\n    this.socket.on(\"connect\", () => {\r\n      console.log(\"Conectado ao servidor Socket.IO, companyId: \", this.companyId, \"userId: \", this.userId);\r\n    });\r\n\r\n    this.socket.on(\"disconnect\", (reason ) => {\r\n      console.log(\"Desconectado do servidor Socket.IO\", reason);\r\n      if (!localStorage.getItem(\"public-token\")) {\r\n        return;\r\n      }\r\n      if (this.socket?.connected === false) {\r\n        this.reconnectAfterDelay();\r\n      }\r\n    });\r\n  }\r\n\r\n  // Adiciona um ouvinte de eventos\r\n  on(event, callback) {\r\n    if (!localStorage.getItem(\"public-token\")) {\r\n      return;\r\n    }\r\n    this.connect();\r\n    this.socket.on(event, callback);\r\n\r\n    // Armazena o ouvinte no objeto de ouvintes\r\n    if (!this.eventListeners[event]) {\r\n      this.eventListeners[event] = [];\r\n    }\r\n    this.eventListeners[event].push(callback);\r\n  }\r\n\r\n  // Emite um evento\r\n  emit(event, data) {\r\n    if (!localStorage.getItem(\"public-token\")) {\r\n      return;\r\n    }\r\n    this.connect();\r\n    this.socket.emit(event, data);\r\n  }\r\n\r\n  // Desconecta um ou mais ouvintes de eventos\r\n  off(event, callback) {\r\n    if (!localStorage.getItem(\"public-token\")) {\r\n      return;\r\n    }\r\n    this.connect();\r\n    if (this.eventListeners[event]) {\r\n      // console.log(\"Desconectando do servidor Socket.IO:\", event, callback);\r\n      if (callback) {\r\n        // Desconecta um ouvinte específico\r\n        this.socket.off(event, callback);\r\n        this.eventListeners[event] = this.eventListeners[event].filter(cb => cb !== callback);\r\n      } else {\r\n        // console.log(\"DELETOU EVENTOS DO SOCKET:\", this.eventListeners[event]);\r\n\r\n        // Desconecta todos os ouvintes do evento\r\n        this.eventListeners[event].forEach(cb => this.socket.off(event, cb));\r\n        delete this.eventListeners[event];\r\n      }\r\n      // console.log(\"EVENTOS DO SOCKET:\", this.eventListeners);\r\n    }\r\n  }\r\n\r\n  disconnect() {\r\n    if (this.socket) {\r\n      this.socket.disconnect();\r\n      this.socket = null\r\n      this.instance = null\r\n      console.log(\"Socket desconectado manualmente\");\r\n    }\r\n  }\r\n\r\n  reconnectAfterDelay() {\r\n    setTimeout(() => {\r\n      if (!this.socket || !this.socket.connected) {\r\n        const sessionToken = localStorage.getItem(\"public-token\");\r\n        if (!sessionToken || !this.socket?.io) {\r\n          return;\r\n        } \r\n        this.socket.io.opts.query = { token: sessionToken, userId: this.userId, companyId: this.companyId };\r\n        console.log(\"Tentando reconectar após desconexão\");\r\n        this.connect();\r\n      }\r\n    }, 1000);\r\n  }\r\n\r\n  // Garante que o socket esteja conectado\r\n  connect() {\r\n    if (!this.socket) {\r\n      this.configureSocket();\r\n    }\r\n  }\r\n\r\n  forceReconnect() {\r\n\r\n  }\r\n}\r\n\r\n// const instance = (companyId, userId) => new SocketWorker(companyId,userId);\r\nconst instance = (companyId, userId) => new SocketWorker(companyId, userId);\r\n\r\nexport default instance;","import openSocket from \"socket.io-client\";\r\nimport { isObject } from \"lodash\";\r\nimport SocketWorker from \"./SocketWorker\"\r\n\r\nexport function socketConnection(params) {\r\n  let userId = \"\";\r\n  let companyId = \"\";\r\n  if (isObject(params)){\r\n    companyId = params?.user?.companyId\r\n    userId = params?.user?.id\r\n  }\r\n \r\n  return SocketWorker(companyId,userId)\r\n}","import { has, isArray } from \"lodash\";\r\nimport { useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { socketConnection } from \"../../services/socket\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n// import { useDate } from \"../../hooks/useDate\";\r\nimport moment from \"moment\";\r\n\r\nconst useAuth = () => {\r\n  const history = useHistory();\r\n  const [isAuth, setIsAuth] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [user, setUser] = useState({});\r\n  const [socket, setSocket] = useState({});\r\n  const [isHorizontal, setIsHorizontal] = useState(true);\r\n\r\n  api.interceptors.request.use(\r\n    (config) => {\r\n      const token = localStorage.getItem(\"token\");\r\n      if (token) {\r\n        config.headers[\"Authorization\"] = `Bearer ${JSON.parse(token)}`;\r\n        setIsAuth(true);\r\n      }\r\n      return config;\r\n    },\r\n    (error) => {\r\n      Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  api.interceptors.response.use(\r\n    (response) => {\r\n      return response;\r\n    },\r\n    async (error) => {\r\n      const originalRequest = error.config;\r\n      if (error?.response?.status === 403 && !originalRequest._retry) {\r\n        originalRequest._retry = true;\r\n\r\n        const { data } = await api.post(\"/auth/refresh_token\");\r\n        if (data) {\r\n          localStorage.setItem(\"token\", JSON.stringify(data.token));\r\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n          if (!localStorage.getItem(\"public-token\") || localStorage.getItem(\"public-token\") !== data.publicToken) {\r\n            console.log(\"setando public-token 1\")\r\n            localStorage.setItem(\"public-token\", data.publicToken);\r\n          }\r\n        }\r\n        return api(originalRequest);\r\n      }\r\n      if (error?.response?.status === 401) {\r\n        localStorage.removeItem(\"token\");\r\n        api.defaults.headers.Authorization = undefined;\r\n        setIsAuth(false);\r\n      }\r\n      return Promise.reject(error);\r\n    }\r\n  );\r\n\r\n  useEffect(() => {\r\n    const token = localStorage.getItem(\"token\");\r\n    (async () => {\r\n      if (token) {\r\n        try {\r\n          const { data } = await api.post(\"/auth/refresh_token\");\r\n          api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n          setIsAuth(true);\r\n          setUser(data.user);\r\n          if (!localStorage.getItem(\"public-token\") || localStorage.getItem(\"public-token\") !== data.publicToken) {\r\n            console.log(\"setando public-token 2\")\r\n            localStorage.setItem(\"public-token\", data.publicToken);\r\n          }\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      }\r\n      setLoading(false);\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (Object.keys(user).length && user.id > 0) {\r\n      // console.log(\"Entrou useWhatsapp com user\", Object.keys(user).length, Object.keys(socket).length ,user, socket)\r\n      let io;\r\n      if (!Object.keys(socket).length) {\r\n        io = socketConnection({ user });\r\n        setSocket(io);\r\n      } else {\r\n        io = socket;\r\n      }\r\n      io.on(`company-${user.companyId}-user`, (data) => {\r\n        if (data.action === \"update\" && data.user.id === user.id) {\r\n          setUser(data.user);\r\n        }\r\n      });\r\n\r\n      return () => {\r\n        // console.log(\"desconectou o company user \", user.id)\r\n        io.off(`company-${user.companyId}-user`);\r\n        // io.disconnect();\r\n      };\r\n      // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }\r\n  }, [user]);\r\n\r\n  const handleLogin = async (userData) => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      const { data } = await api.post(\"/auth/login\", userData);\r\n      const {\r\n        user: { company },\r\n      } = data;\r\n\r\n      if (\r\n        has(company, \"companieSettings\") &&\r\n        isArray(company.companieSettings[0])\r\n      ) {\r\n        const setting = company.companieSettings[0].find(\r\n          (s) => s.key === \"campaignsEnabled\"\r\n        );\r\n        if (setting && setting.value === \"true\") {\r\n          localStorage.setItem(\"cshow\", null); //regra pra exibir campanhas\r\n        }\r\n      }\r\n\r\n      if (\r\n        has(company, \"companieSettings\") &&\r\n        isArray(company.companieSettings[0])\r\n      ) {\r\n        const setting = company.companieSettings[0].find(\r\n          (s) => s.key === \"sendSignMessage\"\r\n        );\r\n\r\n        const signEnable = setting.value === \"enable\";\r\n\r\n        if (setting && setting.value === \"enabled\") {\r\n          localStorage.setItem(\"sendSignMessage\", signEnable); //regra pra exibir campanhas\r\n        }\r\n      }\r\n      localStorage.setItem(\"profileImage\", data.user.profileImage); //regra pra exibir imagem contato\r\n\r\n      moment.locale(\"pt-br\");\r\n      let dueDate;\r\n      if (data.user.company.id === 1) {\r\n        dueDate = \"2999-12-31T00:00:00.000Z\";\r\n      } else {\r\n        dueDate = data.user.company.dueDate;\r\n      }\r\n      const hoje = moment(moment()).format(\"DD/MM/yyyy\");\r\n      const vencimento = moment(dueDate).format(\"DD/MM/yyyy\");\r\n\r\n      var diff = moment(dueDate).diff(moment(moment()).format());\r\n\r\n      var before = moment(moment().format()).isBefore(dueDate);\r\n      var dias = moment.duration(diff).asDays();\r\n\r\n      if (before === true) {\r\n        localStorage.setItem(\"token\", JSON.stringify(data.token));\r\n        localStorage.setItem(\"public-token\", data.publicToken);\r\n        localStorage.setItem(\"companyDueDate\", vencimento);\r\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n        setUser(data.user);\r\n        setIsAuth(true);\r\n        toast.success(i18n.t(\"auth.toasts.success\"));\r\n        if (Math.round(dias) < 5) {\r\n          toast.warn(\r\n            `Sua assinatura vence em ${Math.round(dias)} ${Math.round(dias) === 1 ? \"dia\" : \"dias\"\r\n            } `\r\n          );\r\n        }\r\n\r\n        // // Atraso para garantir que o cache foi limpo\r\n        // setTimeout(() => {\r\n        //   window.location.reload(true); // Recarregar a página\r\n        // }, 1000);\r\n\r\n        history.push(\"/tickets\");\r\n        setLoading(false);\r\n      } else {\r\n        // localStorage.setItem(\"companyId\", companyId);\r\n        api.defaults.headers.Authorization = `Bearer ${data.token}`;\r\n        setIsAuth(true);\r\n        toastError(`Opss! Sua assinatura venceu ${vencimento}.\r\nEntre em contato com o Suporte para mais informações! `);\r\n        history.push(\"/financeiro-aberto\");\r\n        setLoading(false);\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleLogout = async () => {\r\n    setLoading(true);\r\n\r\n    try {\r\n      // socket.disconnect();\r\n      await api.delete(\"/auth/logout\");\r\n      setIsAuth(false);\r\n      setUser({});\r\n      localStorage.removeItem(\"token\");\r\n      localStorage.removeItem(\"cshow\");\r\n      localStorage.removeItem(\"public-token\");\r\n      if (socket) {\r\n        socket.disconnect();\r\n      }\r\n      api.defaults.headers.Authorization = undefined;\r\n      setLoading(false);\r\n      history.push(\"/login\");\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const getCurrentUserInfo = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/auth/me\");\r\n      return data;\r\n    } catch (_) {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  return {\r\n    isAuth,\r\n    user,\r\n    loading,\r\n    handleLogin,\r\n    handleLogout,\r\n    getCurrentUserInfo,\r\n    socket,\r\n    isHorizontal,\r\n    setIsHorizontal,\r\n  };\r\n};\r\n\r\nexport default useAuth;\r\n","import React, { createContext } from \"react\";\r\n\r\nimport useAuth from \"../../hooks/useAuth.js/index.js\";\r\n\r\nconst AuthContext = createContext();\r\n\r\nconst AuthProvider = ({ children }) => {\r\n  const {\r\n    loading,\r\n    user,\r\n    isAuth,\r\n    handleLogin,\r\n    handleLogout,\r\n    socket,\r\n    isHorizontal,\r\n    setIsHorizontal,\r\n  } = useAuth();\r\n\r\n  return (\r\n    <AuthContext.Provider\r\n      value={{\r\n        loading,\r\n        user,\r\n        isAuth,\r\n        handleLogin,\r\n        handleLogout,\r\n        socket,\r\n        isHorizontal,\r\n        setIsHorizontal,\r\n      }}\r\n    >\r\n      {children}\r\n    </AuthContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AuthContext, AuthProvider };\r\n","export default __webpack_public_path__ + \"static/media/instagram.79535458.png\";","export default __webpack_public_path__ + \"static/media/whatsapp.7f02d15e.png\";","import React, { useState, useEffect, createContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst TicketsContext = createContext();\r\n\r\nconst TicketsContextProvider = ({ children }) => {\r\n\tconst [currentTicket, setCurrentTicket] = useState({ id: null, code: null });\r\n\tconst [tabOpen, setTabOpen] = useState(\"open\");\r\n\tconst history = useHistory();\r\n\r\n\tuseEffect(() => {\r\n\t\tif (currentTicket.id !== null) {\r\n\t\t\thistory.push(`/tickets/${currentTicket.uuid}`);\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [currentTicket])\r\n\r\n\treturn (\r\n\t\t<TicketsContext.Provider\r\n\t\t\tvalue={{ currentTicket, setCurrentTicket, tabOpen, setTabOpen }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</TicketsContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { TicketsContext, TicketsContextProvider };\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { parseISO, format, isSameDay } from \"date-fns\";\r\nimport clsx from \"clsx\";\r\nimport emojiRegex from \"emoji-regex\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport { makeStyles, withStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport CheckIcon from \"@material-ui/icons/CheckCircle\";\r\nimport ReplayIcon from \"@material-ui/icons/Replay\";\r\nimport ClearOutlinedIcon from \"@material-ui/icons/ClearOutlined\";\r\nimport api from \"../../services/api\";\r\n\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport facebookIcon from \"../../assets/facebook.png\";\r\nimport insatagramIcon from \"../../assets/instagram.png\";\r\nimport whatsappIcon from \"../../assets/whatsapp.png\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    ticket: {\r\n        position: \"relative\",\r\n    },\r\n\r\n    pendingTicket: {\r\n        cursor: \"unset\",\r\n    },\r\n\r\n    noTicketsDiv: {\r\n        display: \"flex\",\r\n        height: \"100px\",\r\n        margin: 40,\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n\r\n    noTicketsText: {\r\n        textAlign: \"center\",\r\n        color: \"rgb(104, 121, 146)\",\r\n        fontSize: \"14px\",\r\n        lineHeight: \"1.4\",\r\n    },\r\n\r\n    noTicketsTitle: {\r\n        textAlign: \"center\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        margin: \"0px\",\r\n    },\r\n\r\n    contactNameWrapper: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n    },\r\n\r\n    lastMessageTime: {\r\n        position: \"absolute\",\r\n        marginRight: 5,\r\n        right: 20,\r\n        bottom: 30,\r\n    },\r\n\r\n    closedBadge: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"flex-end\",\r\n        marginRight: 32,\r\n        marginLeft: \"auto\",\r\n    },\r\n\r\n    contactLastMessage: {\r\n        paddingRight: 20,\r\n    },\r\n\r\n    newMessagesCount: {\r\n        alignSelf: \"center\",\r\n        marginRight: 8,\r\n        marginLeft: \"auto\",\r\n    },\r\n\r\n    bottomButton: {\r\n        top: \"12px\",\r\n    },\r\n\r\n    badgeStyle: {\r\n        color: \"white\",\r\n        backgroundColor: green[500],\r\n    },\r\n\r\n    acceptButton: {\r\n        position: \"absolute\",\r\n        left: \"50%\",\r\n    },\r\n\r\n    ticketQueueColor: {\r\n        flex: \"none\",\r\n        width: \"8px\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        top: \"0%\",\r\n        left: \"0%\",\r\n    },\r\n\r\n    userTag: {\r\n        position: \"absolute\",\r\n        marginRight: 110,\r\n        right: 20,\r\n        bottom: 30,\r\n        backgroundColor: theme.palette.background.default,\r\n        color: theme.palette.primary.main,\r\n        border: \"1px solid #CCC\",\r\n        padding: 1,\r\n        paddingLeft: 5,\r\n        paddingRight: 5,\r\n        borderRadius: 10,\r\n        fontSize: \"0.9em\",\r\n    },\r\n    divTags: {\r\n        position: \"absolute\",\r\n        marginRight: 0,\r\n        left: 0,\r\n        bottom: 0,\r\n        flexWrap: \"wrap\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n    tags: {\r\n        color: \"#FFF\",\r\n        border: \"1px solid #CCC\",\r\n        padding: 0,\r\n        paddingLeft: 5,\r\n        paddingRight: 5,\r\n        borderRadius: 0,\r\n        fontSize: \"0.6em\",\r\n        textAlign: \"center\",\r\n    },\r\n    divUser: {\r\n        position: \"absolute\",\r\n        marginRight: 0,\r\n        left: 0,\r\n        top: 0,\r\n        flexWrap: \"wrap\",\r\n        display: \"flex\",\r\n        flexDirection: \"row\",\r\n        justifyContent: \"flex-start\",\r\n        alignItems: \"center\",\r\n    },\r\n    user: {\r\n        color: \"#eee\",\r\n        border: \"1px solid #CCC\",\r\n        padding: 0,\r\n        paddingLeft: 5,\r\n        paddingRight: 5,\r\n        borderRadius: 0,\r\n        fontSize: \"0.6em\",\r\n        textAlign: \"center\",\r\n    },\r\n\r\n    tagsWrapper: {\r\n        zIndex: 500,\r\n    },\r\n\r\n    badge: {\r\n        backgroundColor: \"#44b700\",\r\n        color: \"#44b700\",\r\n        boxShadow: `0 0 0 2px ${theme.palette.background.paper}`,\r\n        \"&::after\": {\r\n            position: \"absolute\",\r\n            top: 0,\r\n            left: 0,\r\n            width: \"100%\",\r\n            height: \"100%\",\r\n            borderRadius: \"50%\",\r\n            animation: \"$ripple 1.2s infinite ease-in-out\",\r\n            border: \"1px solid currentColor\",\r\n            content: '\"\"',\r\n        },\r\n    },\r\n    \"@keyframes ripple\": {\r\n        \"0%\": {\r\n            transform: \"scale(.8)\",\r\n            opacity: 1,\r\n        },\r\n        \"100%\": {\r\n            transform: \"scale(2.4)\",\r\n            opacity: 0,\r\n        },\r\n    },\r\n}));\r\n\r\nconst SmallAvatar = withStyles((theme) => ({\r\n    root: {\r\n        width: 22,\r\n        height: 22,\r\n        border: `2px solid ${theme.palette.background.paper}`,\r\n    },\r\n}))(Avatar);\r\n\r\nconst getAvatarChannel = (channel) => {\r\n    if (channel === \"facebook\") {\r\n        return facebookIcon;\r\n    }\r\n\r\n    if (channel === \"whatsapp\") {\r\n        return whatsappIcon;\r\n    }\r\n\r\n    if (channel === \"whatsappapi\") {\r\n        return whatsappIcon;\r\n    }\r\n\r\n    if (channel === \"instagram\") {\r\n        return insatagramIcon;\r\n    }\r\n};\r\n\r\nconst TicketListItem = ({ ticket }) => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n    const [loading, setLoading] = useState(false);\r\n    const { ticketId } = useParams();\r\n    const isMounted = useRef(true);\r\n    const { user } = useContext(AuthContext);\r\n    const { setCurrentTicket, setTabOpen } = useContext(TicketsContext);\r\n\r\n    \r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n\r\n    function getRatingIcon(rate) {\r\n        let icon = \"\";\r\n        if (rate === 1) {\r\n            icon = \"😡\";\r\n        } else if (rate === 2) {\r\n            icon = \"😠\";\r\n        } else if (rate === 3) {\r\n            icon = \"😐\";\r\n        } else if (rate === 4) {\r\n            icon = \"😃\";\r\n        } else if (rate === 5) {\r\n            icon = \"😍\";\r\n        }\r\n\r\n        return icon;\r\n    }\r\n\r\n\r\n    const handleAcepptTicket = async (ticket) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"open\",\r\n                userId: user?.id,\r\n            });\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n    };\r\n\r\n    const handleAcepptTicketBot = async (ticket) => {\r\n        // alert(\"Bot\");\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"open\",\r\n                userId: user?.id,\r\n            });\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n    };\r\n\r\n    const handleReopenTicket = async (ticket) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"open\",\r\n                userId: user?.id,\r\n            });\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n    };\r\n\r\n    const handleViewTicket = async (ticket) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"pending\",\r\n            });\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n    };\r\n\r\n    const handleSelectTicket = (ticket) => {\r\n        const code = uuidv4();\r\n        const { id, uuid } = ticket;\r\n        setTabOpen(ticket.status)\r\n        setCurrentTicket({ id, uuid, code });\r\n    };\r\n\r\n    const handleClosedTicket = async (ticket) => {\r\n        \r\n        \r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"closed\",\r\n                userId: user?.id || null,\r\n                sendFarewellMessage: false,\r\n                amountUsedBotQueues: 0\r\n            });\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const renderUserName = (name) => {\r\n        let str = name.replace(emojiRegex(), \"\").trim();\r\n\r\n        const firstName = str.split(\" \")[0];\r\n\r\n        return firstName;\r\n    };\r\n\r\n    return (\r\n        <React.Fragment key={ticket.id}>\r\n            <ListItem\r\n                dense\r\n                button\r\n                onClick={(e) => {\r\n                    handleSelectTicket(ticket)\r\n                }}\r\n                selected={ticketId && +ticketId === ticket.id}\r\n                className={clsx(classes.ticket, {\r\n                    [classes.pendingTicket]: ticket.status === \"pending\",\r\n                })}\r\n            >\r\n                <Tooltip\r\n                    arrow\r\n                    placement=\"right\"\r\n                    title={ticket.queue?.name || \"Sem departamento\"}\r\n                >\r\n                    <span\r\n                        style={{\r\n                            backgroundColor: ticket.queue?.color || \"#7C7C7C\",\r\n                        }}\r\n                        className={classes.ticketQueueColor}\r\n                    ></span>\r\n                </Tooltip>\r\n                <ListItemAvatar>\r\n                    <Badge\r\n                        overlap=\"circular\"\r\n                        anchorOrigin={{\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"right\",\r\n                        }}\r\n                        badgeContent={\r\n                            <SmallAvatar\r\n                                alt={ticket?.channel}\r\n                                src={getAvatarChannel(ticket?.channel)}\r\n                            />\r\n                        }\r\n                    >\r\n                        <Avatar\r\n                            alt={ticket?.contact?.name}\r\n                            src={ticket?.contact?.urlPicture}\r\n                        />\r\n                    </Badge>\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    disableTypography\r\n                    primary={\r\n                        <span className={classes.contactNameWrapper}>\r\n                            <Typography\r\n                                noWrap\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                color=\"textPrimary\"\r\n                            >\r\n                                {ticket.contact.name}\r\n                            </Typography>\r\n\r\n                            {ticket.lastMessage && (\r\n                                <Typography\r\n                                    className={classes.lastMessageTime}\r\n                                    component=\"span\"\r\n                                    variant=\"body2\"\r\n                                    color=\"textSecondary\"\r\n                                >\r\n                                    {isSameDay(\r\n                                        parseISO(ticket.updatedAt),\r\n                                        new Date()\r\n                                    ) ? (\r\n                                        <>\r\n                                            {format(\r\n                                                parseISO(ticket.updatedAt),\r\n                                                \"HH:mm\"\r\n                                            )}\r\n                                        </>\r\n                                    ) : (\r\n                                        <>\r\n                                            {format(\r\n                                                parseISO(ticket.updatedAt),\r\n                                                \"dd/MM/yyyy\"\r\n                                            )}\r\n                                        </>\r\n                                    )}\r\n                                </Typography>\r\n                            )}\r\n                            {ticket.whatsappId && (\r\n                                <div\r\n                                    className={classes.userTag}\r\n                                    title={i18n.t(\r\n                                        \"ticketsList.connectionTitle\"\r\n                                    )}\r\n                                >\r\n                                    {ticket.whatsapp?.name}\r\n                                </div>\r\n                            )}\r\n                        </span>\r\n                    }\r\n                    secondary={\r\n                        <span className={classes.contactNameWrapper}>\r\n                            {ticket.status === \"closed\"\r\n                                ? ticket?.userRating\r\n                                    ? getRatingIcon(ticket?.userRating?.rate)\r\n                                    : null\r\n                                : null}\r\n                            <Typography\r\n                                className={classes.contactLastMessage}\r\n                                noWrap\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                                color=\"textSecondary\" \r\n                            >\r\n                                {ticket.lastMessage ? (\r\n                                    <MarkdownWrapper>\r\n                                        {ticket.lastMessage}\r\n                                    </MarkdownWrapper>\r\n                                ) : (\r\n                                    <br />\r\n                                )}\r\n                            </Typography>\r\n\r\n                            <Badge\r\n                                overlap=\"rectangular\"\r\n                                className={classes.newMessagesCount}\r\n                                badgeContent={ticket.unreadMessages}\r\n                                classes={{\r\n                                    badge: classes.badgeStyle,\r\n                                }}\r\n                            />\r\n                        </span>\r\n                    }\r\n                />\r\n                {ticket.status === \"pending\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        loading={loading.toString()}\r\n                        onClick={(e) =>\r\n                            ticket.isBot\r\n                                ? handleAcepptTicketBot(ticket)\r\n                                : handleAcepptTicket(ticket)\r\n                        }\r\n                    >\r\n                        <CheckIcon />\r\n                    </IconButton>\r\n                )}\r\n                {/* {ticket.status === \"pending\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleViewTicket(ticket)}\r\n                    >\r\n                        <VisibilityIcon />\r\n                    </IconButton>\r\n                )} */}\r\n                <div className={classes.divTags}>\r\n                    {ticket.isGroup && (\r\n                        <div className={classes.tagsWrapper}>\r\n                            <div\r\n                                key={ticket.id}\r\n                                className={classes.tags}\r\n                                // title={ticket.isGroup}\r\n                                style={{\r\n                                    backgroundColor: \"#7C7C7C\",\r\n                                }}\r\n                            >\r\n                                Grupo\r\n                            </div>\r\n                        </div>\r\n                    )}\r\n                    {ticket.user?.id &&\r\n                        user.profile.toUpperCase() === \"ADMIN\" && (\r\n                            <div className={classes.tagsWrapper}>\r\n                                <div\r\n                                    key={ticket.user.id}\r\n                                    className={classes.tags}\r\n                                    title={renderUserName(ticket.user.name)}\r\n                                    style={{\r\n                                        backgroundColor:\r\n                                            ticket.user.color === \"\" ||\r\n                                                !ticket.user.color\r\n                                                ? \"#7C7C7C\"\r\n                                                : ticket.user.color,\r\n                                    }}\r\n                                >\r\n                                    {renderUserName(ticket.user.name)}\r\n                                </div>\r\n                            </div>\r\n                        )}\r\n                    {ticket.tags?.length > 0 && (\r\n                        <>\r\n                            <div className={classes.tagsWrapper}>\r\n                                <div\r\n                                    key={ticket.tags[0].id}\r\n                                    className={classes.tags}\r\n                                    title={ticket.tags[0].name}\r\n                                    style={{\r\n                                        backgroundColor: ticket.tags[0].color,\r\n                                    }}\r\n                                >\r\n                                    {ticket.tags[0].name}\r\n                                </div>\r\n                            </div>\r\n                            {ticket.tags.length > 1 && (\r\n                                <div\r\n                                    key={ticket.tags[1].id}\r\n                                    className={classes.tags}\r\n                                    title={ticket.tags[1].name}\r\n                                    style={{\r\n                                        backgroundColor: ticket.tags[1].color,\r\n                                    }}\r\n                                >\r\n                                    +{ticket.tags.length - 1}\r\n                                </div>\r\n                            )}\r\n                        </>\r\n                    )}\r\n                </div>\r\n\r\n                {(ticket.status === \"pending\" && (user.showDashboard === \"enabled\" || user.profile === \"admin\")) && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleClosedTicket(ticket)}\r\n                    >\r\n                        <ClearOutlinedIcon />\r\n                    </IconButton>\r\n                )}\r\n                {ticket.status === \"open\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleViewTicket(ticket)}\r\n                    >\r\n                        <ReplayIcon />\r\n                    </IconButton>\r\n                )}\r\n                {ticket.status === \"open\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleClosedTicket(ticket)}\r\n                    >\r\n                        <ClearOutlinedIcon />\r\n                    </IconButton>\r\n                )}\r\n                {ticket.status === \"closed\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                        onClick={(e) => handleReopenTicket(ticket)}\r\n                    >\r\n                        <ReplayIcon />\r\n                    </IconButton>\r\n                )}\r\n                {ticket.status === \"closed\" && (\r\n                    <IconButton\r\n                        className={classes.bottomButton}\r\n                        color=\"primary\"\r\n                    ></IconButton>\r\n                )}\r\n            </ListItem>\r\n            <Divider variant=\"inset\" component=\"li\" />\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default TicketListItem;\r\n","import { useState, useEffect } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { format, sub } from 'date-fns'\r\nimport api from \"../../services/api\";\r\n\r\nconst useTickets = ({\r\n  searchParam,\r\n  tags,\r\n  users,\r\n  pageNumber,\r\n  status,\r\n  date,\r\n  updatedAt,\r\n  showAll,\r\n  queueIds,\r\n  withUnreadMessages,\r\n  whatsappIds,\r\n  statusFilter,\r\n  forceSearch,\r\n  userFilter,\r\n  sortTickets,\r\n  searchOnMessages\r\n}) => {\r\n  const [loading, setLoading] = useState(true);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [tickets, setTickets] = useState([]);\r\n  const [count, setCount] = useState(0);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchTickets = async () => {\r\n        if (userFilter === undefined || userFilter === null) {\r\n          try {            \r\n            const { data } = await api.get(\"/tickets\", {\r\n              params: {\r\n                searchParam,\r\n                pageNumber,\r\n                tags,\r\n                users,\r\n                status,\r\n                date,\r\n                updatedAt,\r\n                showAll,\r\n                queueIds,\r\n                withUnreadMessages,\r\n                whatsapps: whatsappIds,\r\n                statusFilter,\r\n                sortTickets,\r\n                searchOnMessages\r\n              },\r\n            });\r\n            \r\n            let tickets = [];\r\n            \r\n            tickets = data.tickets;\r\n          \r\n            setTickets(tickets);\r\n            setHasMore(data.hasMore);\r\n            setCount(data.count)\r\n            setLoading(false);\r\n          } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n          }\r\n        } else {\r\n          try {\r\n            // console.log(\"ENTROU AQUI DASH\")\r\n            // console.log(status,\r\n            //   showAll,\r\n            //   queueIds,\r\n            //   format(sub(new Date(), { days: 30 }), 'yyyy-MM-dd'),\r\n            //   format(new Date(), 'yyyy-MM-dd'),\r\n            //   userFilter)\r\n\r\n            const {data} = await api.get(\"/dashboard/moments\", {\r\n              params: {\r\n                status,\r\n                showAll,\r\n                queueIds,\r\n                dateStart: format(sub(new Date(), { days: 30 }), 'yyyy-MM-dd'),\r\n                dateEnd: format(new Date(), 'yyyy-MM-dd'),\r\n                userId: userFilter\r\n              }\r\n            })\r\n\r\n            // console.log(data)\r\n            let tickets = [];\r\n            tickets = data.filter(item => item.userId == userFilter);            \r\n\r\n            setTickets(tickets);\r\n            setHasMore(null);\r\n            setLoading(false);\r\n          } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n          }\r\n        }\r\n      };\r\n    fetchTickets();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [\r\n    searchParam,\r\n    tags,\r\n    users,\r\n    pageNumber,\r\n    status,\r\n    date,\r\n    updatedAt,\r\n    showAll,\r\n    queueIds,\r\n    withUnreadMessages,\r\n    whatsappIds,\r\n    statusFilter,\r\n    forceSearch,\r\n    sortTickets,\r\n    searchOnMessages\r\n  ]);\r\n\r\n  return { tickets, loading, hasMore, count };\r\n};\r\n\r\nexport default useTickets;\r\n","/** \r\n * @TercioSantos-1 |\r\n * api/get/todas as configurações de 1 empresa |\r\n * api/get/1 configuração específica |\r\n * api/put/atualização de 1 configuração |\r\n */\r\nimport api from \"../../services/api\";\r\n\r\nconst useCompanySettings = () => {\r\n\r\n    const getAll = async (companyId) => {\r\n        const { data } = await api.request({\r\n            url: `/companySettings/${companyId}`,\r\n            method: 'GET'\r\n        });\r\n\r\n        return data;\r\n    }\r\n\r\n   const get = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/companySettingOne',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    } \r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/companySettings',\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    return {\r\n        getAll,\r\n        get,\r\n        update\r\n    }\r\n}\r\n\r\nexport default useCompanySettings;","import React, { useState, useRef, useEffect, useContext } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { format } from \"date-fns\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nimport useSound from \"use-sound\";\r\n\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport ChatIcon from \"@material-ui/icons/Chat\";\r\nimport { MessageCircleMore } from \"lucide-react\";\r\nimport TicketListItem from \"../TicketListItem\";\r\nimport useTickets from \"../../hooks/useTickets\";\r\nimport alertSound from \"../../assets/sound.mp3\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport Favicon from \"react-favicon\";\r\nimport { getBackendUrl } from \"../../config\";\r\nimport defaultLogoFavicon from \"../../assets/favicon.ico\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  tabContainer: {\r\n    overflowY: \"auto\",\r\n    maxHeight: 350,\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  popoverPaper: {\r\n    width: \"100%\",\r\n    maxWidth: 350,\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(1),\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: 270,\r\n    },\r\n  },\r\n  noShadow: {\r\n    boxShadow: \"none !important\",\r\n  },\r\n}));\r\n\r\nconst NotificationsPopOver = (volume) => {\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n\r\n  const history = useHistory();\r\n  // const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { profile, queues } = user;\r\n\r\n  const ticketIdUrl = +history.location.pathname.split(\"/\")[2];\r\n  const ticketIdRef = useRef(ticketIdUrl);\r\n  const anchorEl = useRef();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const queueIds = queues.map((q) => q.id);\r\n  const { get: getSetting } = useCompanySettings();\r\n  const { setCurrentTicket, setTabOpen } = useContext(TicketsContext);\r\n\r\n  const [showTicketWithoutQueue, setShowTicketWithoutQueue] = useState(false);\r\n  const [showNotificationPending, setShowNotificationPending] = useState(false);\r\n  const [showGroupNotification, setShowGroupNotification] = useState(false);\r\n\r\n  const [, setDesktopNotifications] = useState([]);\r\n\r\n  const { tickets } = useTickets({\r\n    withUnreadMessages: \"true\",\r\n    // showAll: showTicketWithoutQueue ? \"true\" : \"false\"\r\n  });\r\n\r\n  const [play] = useSound(alertSound, volume);\r\n  const soundAlertRef = useRef();\r\n\r\n  const historyRef = useRef(history);\r\n\r\n  useEffect(() => {\r\n    const fetchSettings = async () => {\r\n      try {\r\n        const setting = await getSetting({\r\n          column: \"showNotificationPending\",\r\n        });\r\n\r\n        if (setting.showNotificationPending === true) {\r\n          setShowNotificationPending(true);\r\n        }\r\n\r\n        if (user.allTicket === \"enable\") {\r\n          setShowTicketWithoutQueue(true);\r\n        }\r\n        if (user.allowGroup === true) {\r\n          setShowGroupNotification(true);\r\n        }\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    fetchSettings();\r\n  }, [setShowTicketWithoutQueue, setShowNotificationPending]);\r\n\r\n  useEffect(() => {\r\n    soundAlertRef.current = play;\r\n\r\n    if (!(\"Notification\" in window)) {\r\n      console.log(\"This browser doesn't support notifications\");\r\n    } else {\r\n      Notification.requestPermission();\r\n    }\r\n  }, [play]);\r\n\r\n  useEffect(() => {\r\n    const processNotifications = () => {\r\n      // if (showTicketWithoutQueue) {\r\n      setNotifications(tickets);\r\n      // } else {\r\n      // \tconst newNotifications = tickets.filter(ticket => ticket.status !== \"pending\");\r\n\r\n      // \tsetNotifications(newNotifications);\r\n      // }\r\n    };\r\n\r\n    processNotifications();\r\n  }, [tickets]);\r\n\r\n  useEffect(() => {\r\n    ticketIdRef.current = ticketIdUrl;\r\n  }, [ticketIdUrl]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n    if (user.id) {\r\n      const queueIds = queues.map((q) => q.id);\r\n\r\n      const onConnectNotificationsPopover = () => {\r\n        socket.emit(\"joinNotification\");\r\n      };\r\n\r\n      const onCompanyTicketNotificationsPopover = (data) => {\r\n        if (data.action === \"updateUnread\" || data.action === \"delete\") {\r\n          setNotifications((prevState) => {\r\n            const ticketIndex = prevState.findIndex(\r\n              (t) => t.id === data.ticketId\r\n            );\r\n            if (ticketIndex !== -1) {\r\n              prevState.splice(ticketIndex, 1);\r\n              return [...prevState];\r\n            }\r\n            return prevState;\r\n          });\r\n\r\n          setDesktopNotifications((prevState) => {\r\n            const notfiticationIndex = prevState.findIndex(\r\n              (n) => n.tag === String(data.ticketId)\r\n            );\r\n            if (notfiticationIndex !== -1) {\r\n              prevState[notfiticationIndex].close();\r\n              prevState.splice(notfiticationIndex, 1);\r\n              return [...prevState];\r\n            }\r\n            return prevState;\r\n          });\r\n        }\r\n      };\r\n\r\n      const onCompanyAppMessageNotificationsPopover = (data) => {\r\n        // if (\r\n        // \tdata.action === \"create\" && !data.message.fromMe &&\r\n        // \t(\r\n        // \t\tdata.ticket.status !== 'pending' &&\r\n        // \t\tdata.ticket.status !== \"lgpd\" &&\r\n        // \t\tdata.ticket.status !== \"nps\"\r\n        // \t) &&\r\n        // \t(!data.message.read || (data.ticket.status === \"pending\" && showTicketWithoutQueue && data.ticket.queueId === null) || (data.ticket.status === \"pending\" && !showTicketWithoutQueue && user?.queues?.some(queue => (queue.id === data.ticket.queueId)))) &&\r\n        // \t(data.ticket.userId === user?.id || !data.ticket.userId)\r\n        // ) {\r\n        //\r\n\r\n        if (\r\n          data.action === \"create\" &&\r\n          !data.message.fromMe &&\r\n          !data.message.read &&\r\n          (data.ticket?.userId === user?.id || !data.ticket?.userId) &&\r\n          (user?.queues?.some((queue) => queue.id === data.ticket.queueId) ||\r\n            (!data.ticket.queueId && showTicketWithoutQueue === true)) &&\r\n          (![\"pending\", \"lgpd\", \"nps\", \"group\"].includes(data.ticket?.status) ||\r\n            (data.ticket?.status === \"pending\" &&\r\n              showNotificationPending === true) ||\r\n            (data.ticket?.status === \"group\" &&\r\n              data.ticket?.whatsapp?.groupAsTicket === \"enabled\" &&\r\n              showGroupNotification === true))\r\n        ) {\r\n          setNotifications((prevState) => {\r\n            const ticketIndex = prevState.findIndex(\r\n              (t) => t.id === data.ticket.id\r\n            );\r\n            if (ticketIndex !== -1) {\r\n              prevState[ticketIndex] = data.ticket;\r\n              return [...prevState];\r\n            }\r\n            return [data.ticket, ...prevState];\r\n          });\r\n\r\n          const shouldNotNotificate =\r\n            (data.message.ticketId === ticketIdRef.current &&\r\n              document.visibilityState === \"visible\") ||\r\n            (data.ticket.userId && data.ticket.userId !== user?.id) ||\r\n            (data.ticket.isGroup &&\r\n              data.ticket?.whatsapp?.groupAsTicket === \"disabled\" &&\r\n              showGroupNotification === false);\r\n\r\n          if (shouldNotNotificate === true) return;\r\n\r\n          handleNotifications(data);\r\n        }\r\n      };\r\n\r\n      socket.on(\"connect\", onConnectNotificationsPopover);\r\n      socket.on(\r\n        `company-${companyId}-ticket`,\r\n        onCompanyTicketNotificationsPopover\r\n      );\r\n      socket.on(\r\n        `company-${companyId}-appMessage`,\r\n        onCompanyAppMessageNotificationsPopover\r\n      );\r\n\r\n      return () => {\r\n        socket.off(\"connect\", onConnectNotificationsPopover);\r\n        socket.off(\r\n          `company-${companyId}-ticket`,\r\n          onCompanyTicketNotificationsPopover\r\n        );\r\n        socket.off(\r\n          `company-${companyId}-appMessage`,\r\n          onCompanyAppMessageNotificationsPopover\r\n        );\r\n      };\r\n    }\r\n  }, [\r\n    user,\r\n    profile,\r\n    queues,\r\n    showTicketWithoutQueue,\r\n    socket,\r\n    showNotificationPending,\r\n    showGroupNotification,\r\n  ]);\r\n\r\n  const handleNotifications = (data) => {\r\n    const { message, contact, ticket } = data;\r\n\r\n    const options = {\r\n      body: `${message.body} - ${format(new Date(), \"HH:mm\")}`,\r\n      icon: contact.urlPicture,\r\n      tag: ticket.id,\r\n      renotify: true,\r\n    };\r\n    const notification = new Notification(\r\n      `${i18n.t(\"tickets.notification.message\")} ${contact.name}`,\r\n      options\r\n    );\r\n\r\n    notification.onclick = (e) => {\r\n      e.preventDefault();\r\n      window.focus();\r\n      setTabOpen(ticket.status);\r\n      historyRef.current.push(`/tickets/${ticket.uuid}`);\r\n      // handleChangeTab(null, ticket.isGroup? \"group\" : \"open\");\r\n    };\r\n\r\n    setDesktopNotifications((prevState) => {\r\n      const notfiticationIndex = prevState.findIndex(\r\n        (n) => n.tag === notification.tag\r\n      );\r\n      if (notfiticationIndex !== -1) {\r\n        prevState[notfiticationIndex] = notification;\r\n        return [...prevState];\r\n      }\r\n      return [notification, ...prevState];\r\n    });\r\n    soundAlertRef.current();\r\n  };\r\n\r\n  const handleClick = () => {\r\n    setIsOpen((prevState) => !prevState);\r\n  };\r\n\r\n  const handleClickAway = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const NotificationTicket = ({ children }) => {\r\n    return <div onClick={handleClickAway}>{children}</div>;\r\n  };\r\n\r\n  const browserNotification = () => {\r\n    const numbers = \"⓿➊➋➌➍➎➏➐➑➒➓⓫⓬⓭⓮⓯⓰⓱⓲⓳⓴\";\r\n    if (notifications.length > 0) {\r\n      if (notifications.length < 21) {\r\n        document.title =\r\n          numbers.substring(notifications.length, notifications.length + 1) +\r\n          \" - \" +\r\n          (theme.appName || \"...\");\r\n      } else {\r\n        document.title =\r\n          \"(\" + notifications.length + \")\" + (theme.appName || \"...\");\r\n      }\r\n    } else {\r\n      document.title = theme.appName || \"...\";\r\n    }\r\n    return (\r\n      <>\r\n        <Favicon\r\n          animated={true}\r\n          url={\r\n            theme?.appLogoFavicon ? theme.appLogoFavicon : defaultLogoFavicon\r\n          }\r\n          alertCount={notifications.length}\r\n          iconSize={195}\r\n        />\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {browserNotification()}\r\n      <Tooltip title={i18n.t(\"appBarListem.notification\")}>\r\n        <IconButton\r\n          onClick={handleClick}\r\n          ref={anchorEl}\r\n          aria-label=\"Open Notifications\"\r\n          color=\"inherit\"\r\n          size=\"small\"\r\n          style={{ color: \"white\", marginRight: 15 }}\r\n        >\r\n          <Badge\r\n            overlap=\"rectangular\"\r\n            badgeContent={notifications.length}\r\n            color=\"secondary\"\r\n          >\r\n            <MessageCircleMore style={{ width: \"18px\", height: \"18px\" }} />\r\n          </Badge>\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Popover\r\n        disableScrollLock\r\n        open={isOpen}\r\n        anchorEl={anchorEl.current}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        classes={{ paper: classes.popoverPaper }}\r\n        onClose={handleClickAway}\r\n      >\r\n        <List dense className={classes.tabContainer}>\r\n          {notifications.length === 0 ? (\r\n            <ListItem>\r\n              <ListItemText>{i18n.t(\"notifications.noTickets\")}</ListItemText>\r\n            </ListItem>\r\n          ) : (\r\n            notifications.map((ticket) => (\r\n              <NotificationTicket key={ticket.id}>\r\n                <TicketListItem ticket={ticket} />\r\n              </NotificationTicket>\r\n            ))\r\n          )}\r\n        </List>\r\n      </Popover>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationsPopOver;\r\n","import { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport api from \"../../services/api\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { isNill } from \"lodash\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_WHATSAPPS\") {\r\n    const whatsApps = action.payload;\r\n\r\n    return [...whatsApps];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_WHATSAPPS\") {\r\n    const whatsApp = action.payload;\r\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\r\n\r\n    if (whatsAppIndex !== -1) {\r\n      state[whatsAppIndex] = whatsApp;\r\n      return [...state];\r\n    } else {\r\n      return [whatsApp, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"UPDATE_SESSION\") {\r\n    const whatsApp = action.payload;\r\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsApp.id);\r\n\r\n    if (whatsAppIndex !== -1) {\r\n      state[whatsAppIndex].status = whatsApp.status;\r\n      state[whatsAppIndex].updatedAt = whatsApp.updatedAt;\r\n      state[whatsAppIndex].qrcode = whatsApp.qrcode;\r\n      state[whatsAppIndex].retries = whatsApp.retries;\r\n      return [...state];\r\n    } else {\r\n      return [...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_WHATSAPPS\") {\r\n    const whatsAppId = action.payload;\r\n\r\n    const whatsAppIndex = state.findIndex((s) => s.id === whatsAppId);\r\n    if (whatsAppIndex !== -1) {\r\n      state.splice(whatsAppIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useWhatsApps = () => {\r\n  const [whatsApps, dispatch] = useReducer(reducer, []);\r\n  const [loading, setLoading] = useState(true);\r\n//   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const fetchSession = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/whatsapp/?session=0\");\r\n        dispatch({ type: \"LOAD_WHATSAPPS\", payload: data });\r\n        setLoading(false);\r\n      } catch (_) {\r\n        setLoading(false);\r\n        // toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (user.companyId) {\r\n\r\n      const companyId = user.companyId;\r\n//    const socket = socketManager.GetSocket();\r\n\r\n      const onCompanyWhatsapp = (data) => {\r\n        if (data.action === \"update\") {\r\n          dispatch({ type: \"UPDATE_WHATSAPPS\", payload: data.whatsapp });\r\n        }\r\n        if (data.action === \"delete\") {\r\n          dispatch({ type: \"DELETE_WHATSAPPS\", payload: data.whatsappId });\r\n        }\r\n      }\r\n\r\n      const onCompanyWhatsappSession = (data) => {\r\n        if (data.action === \"update\") {\r\n          dispatch({ type: \"UPDATE_SESSION\", payload: data.session });\r\n        }\r\n      }\r\n\r\n      socket.on(`company-${companyId}-whatsapp`, onCompanyWhatsapp);\r\n      socket.on(`company-${companyId}-whatsappSession`, onCompanyWhatsappSession);\r\n\r\n      return () => {\r\n        socket.off(`company-${companyId}-whatsapp`, onCompanyWhatsapp);\r\n        socket.off(`company-${companyId}-whatsappSession`, onCompanyWhatsappSession);\r\n      };\r\n    }\r\n  }, [socket]);\r\n\r\n  return { whatsApps, loading };\r\n};\r\n\r\nexport default useWhatsApps;\r\n","import Chip from \"@material-ui/core/Chip\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  chips: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  chip: {\r\n    margin: 2,\r\n  },\r\n}));\r\n\r\nconst QueueSelect = ({ selectedQueueIds, onChange, companyId }) => {\r\n  const classes = useStyles();\r\n  const [queues, setQueues] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queue\",{\r\n          params:{\r\n            companyId\r\n          }\r\n        });        \r\n        setQueues(data);\r\n      } catch (err) {        \r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n  \r\n  const handleChange = (e) => {\r\n    onChange(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div style={{ marginTop: 6 }}>\r\n      <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n        <InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\r\n        <Select\r\n          multiple\r\n          labelWidth={60}\r\n          value={selectedQueueIds}\r\n          onChange={handleChange}\r\n          MenuProps={{\r\n            anchorOrigin: {\r\n              vertical: \"bottom\",\r\n              horizontal: \"left\",\r\n            },\r\n            transformOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"left\",\r\n            },\r\n            getContentAnchorEl: null,\r\n          }}\r\n          renderValue={(selected) => (\r\n            <div className={classes.chips}>\r\n              {selected?.length > 0 &&\r\n                selected.map((id) => {\r\n                  const queue = queues.find((q) => q.id === id);\r\n                  return queue ? (\r\n                    <Chip\r\n                      key={id}\r\n                      style={{ backgroundColor: queue.color }}\r\n                      variant=\"outlined\"\r\n                      label={queue.name}\r\n                      className={classes.chip}\r\n                    />\r\n                  ) : null;\r\n                })}\r\n            </div>\r\n          )}\r\n        >\r\n          {queues.map((queue) => (\r\n            <MenuItem key={queue.id} value={queue.id}>\r\n              {queue.name}\r\n            </MenuItem>\r\n          ))}\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default QueueSelect;\r\n","import React, { useContext, useState } from 'react';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport makeStyles from '@material-ui/core/styles/makeStyles';\r\nimport Button from '@material-ui/core/Button';\r\nimport CloudUploadIcon from '@material-ui/icons/CloudUpload';\r\nimport Box from '@material-ui/core/Box';\r\nimport { AuthContext } from '../../context/Auth/AuthContext';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  avatar: {\r\n    width: theme.spacing(12),\r\n    height: theme.spacing(12),\r\n    margin: theme.spacing(2),\r\n    cursor: 'pointer',\r\n    borderRadius: '50%',\r\n    border: '2px solid #ccc',\r\n  },\r\n}));\r\n\r\nconst AvatarUploader = ({ setAvatar, avatar, companyId }) => {\r\n  const classes = useStyles();\r\n  const [selectedFile, setSelectedFile] = useState(null);\r\n  const [previewImage, setPreviewImage] = useState(null);\r\n  const user = useContext(AuthContext);\r\n\r\n  const handleFileChange = (event) => {\r\n    const file = event.target.files[0];\r\n    setSelectedFile(file);\r\n    setAvatar(file);\r\n\r\n    if (file) {\r\n      const reader = new FileReader();\r\n      reader.onload = () => {\r\n        setPreviewImage(reader.result);\r\n      };\r\n      reader.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Box display=\"flex\" flexDirection=\"column\" alignItems=\"center\">\r\n      {!previewImage && avatar ?\r\n        <><Avatar\r\n          src={`${process.env.REACT_APP_BACKEND_URL}/public/company${companyId}/user/${avatar}`}\r\n          style={{ width: 120, height: 120 }}\r\n        /></>\r\n        : !avatar && !previewImage ? <><Avatar\r\n          src={`${process.env.REACT_APP_BACKEND_URL}/public/app/noimage.png`}\r\n          style={{ width: 120, height: 120 }}\r\n        /></> :\r\n          <Avatar\r\n            alt=\"Preview Avatar\"\r\n            src={previewImage ? previewImage : user.avatar}\r\n            style={{ width: 120, height: 120 }}\r\n          />\r\n      }\r\n\r\n\r\n      <input\r\n        accept=\"image/*\"\r\n        type=\"file\"\r\n        id=\"avatar-upload\"\r\n        style={{ display: 'none' }}\r\n        onChange={handleFileChange}\r\n      />\r\n      <label htmlFor=\"avatar-upload\" style={{ marginTop: 10 }}>\r\n        <Button\r\n          variant=\"contained\"\r\n          component=\"span\"\r\n          startIcon={<CloudUploadIcon />}\r\n        >\r\n          Upload Avatar\r\n        </Button>\r\n      </label>\r\n      {/**   <p>{selectedFile ? `Selected: ${selectedFile.name}` : 'No file selected'}</p>*/}\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default AvatarUploader;","const rules = {\r\n\tuser: {\r\n\t\tstatic: [],\r\n\t},\r\n\r\n\tadmin: {\r\n\t\tstatic: [\r\n\t\t\t\"dashboard:view\",\r\n\t\t\t\"drawer-admin-items:view\",\r\n\t\t\t\"tickets-manager:showall\",\r\n\t\t\t\"user-modal:editProfile\",\r\n\t\t\t\"user-modal:editQueues\",\r\n\t\t\t\"ticket-options:deleteTicket\",\r\n\t\t\t\"contacts-page:deleteContact\",\r\n\t\t\t\"connections-page:actionButtons\",\r\n\t\t\t\"connections-page:addConnection\",\r\n\t\t\t\"connections-page:editOrDeleteConnection\",\r\n\t\t\t\"tickets-manager:closeAll\",\r\n\t\t],\r\n\t},\r\n};\r\n\r\nexport default rules;\r\n","import rules from \"../../rules\";\r\n\r\nconst check = (role, action, data) => {\r\n\tconst permissions = rules[role];\r\n\tif (!permissions) {\r\n\t\t// role is not present in the rules\r\n\t\treturn false;\r\n\t}\r\n\r\n\tconst staticPermissions = permissions.static;\r\n\r\n\tif (staticPermissions && staticPermissions.includes(action)) {\r\n\t\t// static rule not provided for action\r\n\t\treturn true;\r\n\t}\r\n\r\n\tconst dynamicPermissions = permissions.dynamic;\r\n\r\n\tif (dynamicPermissions) {\r\n\t\tconst permissionCondition = dynamicPermissions[action];\r\n\t\tif (!permissionCondition) {\r\n\t\t\t// dynamic rule not provided for action\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn permissionCondition(data);\r\n\t}\r\n\treturn false;\r\n};\r\n\r\nconst Can = ({ role, perform, data, yes, no }) =>\r\n\tcheck(role, perform, data) ? yes() : no();\r\n\r\nCan.defaultProps = {\r\n\tyes: () => null,\r\n\tno: () => null,\r\n};\r\n\r\nexport { Can };\r\n","import React from \"react\";\r\n\r\nconst TabPanel = ({ children, value, name, ...rest }) => {\r\n\tif (value === name) {\r\n\t\treturn (\r\n\t\t\t<div\r\n\t\t\t\trole=\"tabpanel\"\r\n\t\t\t\tid={`simple-tabpanel-${name}`}\r\n\t\t\t\taria-labelledby={`simple-tab-${name}`}\r\n\t\t\t\t{...rest}\r\n\t\t\t>\r\n\t\t\t\t<>{children}</>\r\n\t\t\t</div>\r\n\t\t);\r\n\t} else return null;\r\n};\r\n\r\nexport default TabPanel;\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\n\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport * as Yup from \"yup\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\r\nimport api from \"../../services/api\";\r\nimport QueueSelect from \"../QueueSelect\";\r\n\r\nimport { Grid, Paper, Tab, Tabs } from \"@material-ui/core\";\r\nimport { getBackendUrl } from \"../../config\";\r\nimport AvatarUploader from \"../AvatarUpload\";\r\nimport { Can } from \"../Can\";\r\nimport TabPanel from \"../TabPanel\";\r\n\r\nconst backendUrl = getBackendUrl();\r\nconst path = require(\"path\");\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  container: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  avatar: {\r\n    width: theme.spacing(12),\r\n    height: theme.spacing(12),\r\n    margin: theme.spacing(2),\r\n    cursor: \"pointer\",\r\n    borderRadius: \"50%\",\r\n    border: \"2px solid #ccc\",\r\n  },\r\n  updateDiv: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  updateInput: {\r\n    display: \"none\",\r\n  },\r\n  updateLabel: {\r\n    padding: theme.spacing(1),\r\n    margin: theme.spacing(1),\r\n    textTransform: \"uppercase\",\r\n    textAlign: \"center\",\r\n    cursor: \"pointer\",\r\n    border: \"2px solid #ccc\",\r\n    borderRadius: \"5px\",\r\n    minWidth: 160,\r\n    fontWeight: \"bold\",\r\n    color: \"#555\",\r\n  },\r\n  errorUpdate: {\r\n    border: \"2px solid red\",\r\n  },\r\n  errorText: {\r\n    color: \"red\",\r\n    fontSize: \"0.8rem\",\r\n    fontWeight: \"bold\",\r\n  },\r\n}));\r\n\r\nconst UserSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\r\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n  allHistoric: Yup.string().nullable(),\r\n});\r\n\r\nconst UserModal = ({ open, onClose, userId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    profile: \"user\",\r\n    startWork: \"00:00\",\r\n    endWork: \"23:59\",\r\n    farewellMessage: \"\",\r\n    allTicket: \"disable\",\r\n    allowGroup: false,\r\n    defaultTheme: \"light\",\r\n    defaultMenu: \"open\",\r\n    allHistoric: \"disabled\",\r\n    allUserChat: \"disabled\",\r\n    userClosePendingTicket: \"enabled\",\r\n    showDashboard: \"disabled\",\r\n    allowRealTime: \"disabled\",\r\n    allowConnections: \"disabled\",\r\n  };\r\n\r\n  const { user: loggedInUser } = useContext(AuthContext);\r\n\r\n  const [user, setUser] = useState(initialState);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n  const [whatsappId, setWhatsappId] = useState(false);\r\n  // const [allTicket, setAllTicket] = useState(\"disable\");\r\n  const { loading, whatsApps } = useWhatsApps();\r\n  const [profileUrl, setProfileUrl] = useState(null);\r\n  const [tab, setTab] = useState(\"general\");\r\n  const [avatar, setAvatar] = useState(null);\r\n  const startWorkRef = useRef();\r\n  const endWorkRef = useRef();\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      if (!userId) return;\r\n      try {\r\n        const { data } = await api.get(`/users/${userId}`);\r\n        setUser((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n\r\n        const { profileImage } = data;\r\n        setProfileUrl(\r\n          `${backendUrl}/public/company${data.companyId}/user/${profileImage}`\r\n        );\r\n\r\n        const userQueueIds = data.queues?.map((queue) => queue.id);\r\n        setSelectedQueueIds(userQueueIds);\r\n        setWhatsappId(data.whatsappId ? data.whatsappId : \"\");\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    fetchUser();\r\n  }, [userId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setUser(initialState);\r\n  };\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleSaveUser = async (values) => {\r\n    const uploadAvatar = async (file) => {\r\n      const formData = new FormData();\r\n      formData.append(\"userId\", file.id);\r\n      formData.append(\"typeArch\", \"user\");\r\n      formData.append(\"profileImage\", avatar);\r\n\r\n      const { data } = await api.post(\r\n        `/users/${file.id}/media-upload`,\r\n        formData\r\n      );\r\n\r\n      localStorage.setItem(\"profileImage\", data.user.profileImage);\r\n    };\r\n\r\n    const userData = {\r\n      ...values,\r\n      whatsappId,\r\n      queueIds: selectedQueueIds,\r\n    };\r\n\r\n    try {\r\n      if (userId) {\r\n        const { data } = await api.put(`/users/${userId}`, userData);\r\n        if (\r\n          avatar &&\r\n          (!user?.profileImage || !user?.profileImage !== avatar.name)\r\n        )\r\n          // getBasename(avatar)))\r\n          await uploadAvatar(data);\r\n      } else {\r\n        await api.post(\"/users\", userData);\r\n\r\n        if (!user?.profileImage && avatar) await uploadAvatar(user);\r\n      }\r\n      if (userId === loggedInUser.id) {\r\n        handleClose();\r\n        toast.success(i18n.t(\"userModal.success\"));\r\n        window.location.reload();\r\n      } else {\r\n        handleClose();\r\n        toast.success(i18n.t(\"userModal.success\"));\r\n        window.location.reload();\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {userId\r\n            ? `${i18n.t(\"userModal.title.edit\")}`\r\n            : `${i18n.t(\"userModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={user}\r\n          enableReinitialize={true}\r\n          validationSchema={UserSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveUser(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, setFieldValue }) => (\r\n            <Form>\r\n              <Paper className={classes.mainPaper} elevation={1}>\r\n                <Tabs\r\n                  value={tab}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  scrollButtons=\"on\"\r\n                  variant=\"scrollable\"\r\n                  onChange={handleTabChange}\r\n                  className={classes.tab}\r\n                >\r\n                  <Tab\r\n                    label={i18n.t(\"userModal.tabs.general\")}\r\n                    value={\"general\"}\r\n                  />\r\n                  <Tab\r\n                    label={i18n.t(\"userModal.tabs.permissions\")}\r\n                    value={\"permissions\"}\r\n                  />\r\n                </Tabs>\r\n              </Paper>\r\n              <Paper className={classes.paper} elevation={0}>\r\n                <DialogContent dividers>\r\n                  <TabPanel\r\n                    className={classes.container}\r\n                    value={tab}\r\n                    name={\"general\"}\r\n                  >\r\n                    <Grid\r\n                      container\r\n                      spacing={1}\r\n                      alignContent=\"center\"\r\n                      alignItems=\"center\"\r\n                      justifyContent=\"center\"\r\n                    >\r\n                      <FormControl className={classes.updateDiv}>\r\n                        <AvatarUploader\r\n                          setAvatar={setAvatar}\r\n                          avatar={user.profileImage}\r\n                          companyId={user.companyId}\r\n                        />\r\n                        {user.profileImage && (\r\n                          <Button\r\n                            variant=\"outlined\"\r\n                            color=\"secondary\"\r\n                            onClick={() => {\r\n                              user.profileImage = null;\r\n                              setFieldValue(\"profileImage\", null);\r\n                              setAvatar(null);\r\n                            }}\r\n                          >\r\n                            {i18n.t(\"userModal.title.removeImage\")}\r\n                          </Button>\r\n                        )}\r\n                      </FormControl>\r\n                    </Grid>\r\n                    <Grid container spacing={1}>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"userModal.form.name\")}\r\n                          autoFocus\r\n                          name=\"name\"\r\n                          error={touched.name && Boolean(errors.name)}\r\n                          helperText={touched.name && errors.name}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"userModal.form.password\")}\r\n                          type=\"password\"\r\n                          name=\"password\"\r\n                          error={touched.password && Boolean(errors.password)}\r\n                          helperText={touched.password && errors.password}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={1}>\r\n                      <Grid item xs={12} md={8} xl={8}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"userModal.form.email\")}\r\n                          name=\"email\"\r\n                          error={touched.email && Boolean(errors.email)}\r\n                          helperText={touched.email && errors.email}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={12} md={4} xl={4}>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          //className={classes.formControl}\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                        >\r\n                          <Can\r\n                            role={loggedInUser.profile}\r\n                            perform=\"user-modal:editProfile\"\r\n                            yes={() => (\r\n                              <>\r\n                                <InputLabel id=\"profile-selection-input-label\">\r\n                                  {i18n.t(\"userModal.form.profile\")}\r\n                                </InputLabel>\r\n\r\n                                <Field\r\n                                  as={Select}\r\n                                  label={i18n.t(\"userModal.form.profile\")}\r\n                                  name=\"profile\"\r\n                                  labelId=\"profile-selection-label\"\r\n                                  id=\"profile-selection\"\r\n                                  required\r\n                                >\r\n                                  <MenuItem value=\"admin\">Admin</MenuItem>\r\n                                  <MenuItem value=\"user\">User</MenuItem>\r\n                                </Field>\r\n                              </>\r\n                            )}\r\n                          />\r\n                        </FormControl>\r\n                      </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={1}>\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Can\r\n                          role={loggedInUser.profile}\r\n                          perform=\"user-modal:editQueues\"\r\n                          yes={() => (\r\n                            <QueueSelect\r\n                              selectedQueueIds={selectedQueueIds}\r\n                              onChange={(values) => setSelectedQueueIds(values)}\r\n                              fullWidth\r\n                            />\r\n                          )}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                    <Grid container spacing={1}>\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Can\r\n                          role={loggedInUser.profile}\r\n                          perform=\"user-modal:editProfile\"\r\n                          yes={() => (\r\n                            <FormControl\r\n                              variant=\"outlined\"\r\n                              margin=\"dense\"\r\n                              className={classes.maxWidth}\r\n                              fullWidth\r\n                            >\r\n                              <InputLabel>\r\n                                {i18n.t(\"userModal.form.whatsapp\")}\r\n                              </InputLabel>\r\n                              <Field\r\n                                as={Select}\r\n                                value={whatsappId}\r\n                                onChange={(e) => setWhatsappId(e.target.value)}\r\n                                label={i18n.t(\"userModal.form.whatsapp\")}\r\n                              >\r\n                                <MenuItem value={\"\"}>&nbsp;</MenuItem>\r\n                                {whatsApps.map((whatsapp) => (\r\n                                  <MenuItem\r\n                                    key={whatsapp.id}\r\n                                    value={whatsapp.id}\r\n                                  >\r\n                                    {whatsapp.name}\r\n                                  </MenuItem>\r\n                                ))}\r\n                              </Field>\r\n                            </FormControl>\r\n                          )}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                    <Can\r\n                      role={loggedInUser.profile}\r\n                      perform=\"user-modal:editProfile\"\r\n                      yes={() => (\r\n                        <Grid container spacing={1}>\r\n                          <Grid item xs={12} md={6} xl={6}>\r\n                            <Field\r\n                              as={TextField}\r\n                              label={i18n.t(\"userModal.form.startWork\")}\r\n                              type=\"time\"\r\n                              ampm={\"false\"}\r\n                              inputRef={startWorkRef}\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              inputProps={{\r\n                                step: 600, // 5 min\r\n                              }}\r\n                              fullWidth\r\n                              name=\"startWork\"\r\n                              error={\r\n                                touched.startWork && Boolean(errors.startWork)\r\n                              }\r\n                              helperText={touched.startWork && errors.startWork}\r\n                              variant=\"outlined\"\r\n                              margin=\"dense\"\r\n                              className={classes.textField}\r\n                            />\r\n                          </Grid>\r\n                          <Grid item xs={12} md={6} xl={6}>\r\n                            <Field\r\n                              as={TextField}\r\n                              label={i18n.t(\"userModal.form.endWork\")}\r\n                              type=\"time\"\r\n                              ampm={\"false\"}\r\n                              inputRef={endWorkRef}\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              inputProps={{\r\n                                step: 600, // 5 min\r\n                              }}\r\n                              fullWidth\r\n                              name=\"endWork\"\r\n                              error={touched.endWork && Boolean(errors.endWork)}\r\n                              helperText={touched.endWork && errors.endWork}\r\n                              variant=\"outlined\"\r\n                              margin=\"dense\"\r\n                              className={classes.textField}\r\n                            />\r\n                          </Grid>\r\n                        </Grid>\r\n                      )}\r\n                    />\r\n\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"userModal.form.farewellMessage\")}\r\n                      type=\"farewellMessage\"\r\n                      multiline\r\n                      rows={4}\r\n                      fullWidth\r\n                      name=\"farewellMessage\"\r\n                      error={\r\n                        touched.farewellMessage &&\r\n                        Boolean(errors.farewellMessage)\r\n                      }\r\n                      helperText={\r\n                        touched.farewellMessage && errors.farewellMessage\r\n                      }\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                    />\r\n\r\n                    <Grid container spacing={1}>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          className={classes.maxWidth}\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                        >\r\n                          <>\r\n                            <InputLabel>\r\n                              {i18n.t(\"userModal.form.defaultTheme\")}\r\n                            </InputLabel>\r\n\r\n                            <Field\r\n                              as={Select}\r\n                              label={i18n.t(\"userModal.form.defaultTheme\")}\r\n                              name=\"defaultTheme\"\r\n                              type=\"defaultTheme\"\r\n                              required\r\n                            >\r\n                              <MenuItem value=\"light\">\r\n                                {i18n.t(\"userModal.form.defaultThemeLight\")}\r\n                              </MenuItem>\r\n                              <MenuItem value=\"dark\">\r\n                                {i18n.t(\"userModal.form.defaultThemeDark\")}\r\n                              </MenuItem>\r\n                            </Field>\r\n                          </>\r\n                        </FormControl>\r\n                      </Grid>\r\n                      <Grid item xs={12} md={6} xl={6}>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          className={classes.maxWidth}\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                        >\r\n                          <>\r\n                            <InputLabel>\r\n                              {i18n.t(\"userModal.form.defaultMenu\")}\r\n                            </InputLabel>\r\n\r\n                            <Field\r\n                              as={Select}\r\n                              label={i18n.t(\"userModal.form.defaultMenu\")}\r\n                              name=\"defaultMenu\"\r\n                              type=\"defaultMenu\"\r\n                              required\r\n                            >\r\n                              <MenuItem value={\"open\"}>\r\n                                {i18n.t(\"userModal.form.defaultMenuOpen\")}\r\n                              </MenuItem>\r\n                              <MenuItem value={\"closed\"}>\r\n                                {i18n.t(\"userModal.form.defaultMenuClosed\")}\r\n                              </MenuItem>\r\n                            </Field>\r\n                          </>\r\n                        </FormControl>\r\n                      </Grid>\r\n                    </Grid>\r\n                  </TabPanel>\r\n                  <TabPanel\r\n                    className={classes.container}\r\n                    value={tab}\r\n                    name={\"permissions\"}\r\n                  >\r\n                    <Can\r\n                      role={loggedInUser.profile}\r\n                      perform=\"user-modal:editProfile\"\r\n                      yes={() => (\r\n                        <>\r\n                          <Grid container spacing={1}>\r\n                            <Grid item xs={12} md={6} xl={6}>\r\n                              <FormControl\r\n                                variant=\"outlined\"\r\n                                className={classes.maxWidth}\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                              >\r\n                                <>\r\n                                  <InputLabel>\r\n                                    {i18n.t(\"userModal.form.allTicket\")}\r\n                                  </InputLabel>\r\n\r\n                                  <Field\r\n                                    as={Select}\r\n                                    label={i18n.t(\"userModal.form.allTicket\")}\r\n                                    name=\"allTicket\"\r\n                                    type=\"allTicket\"\r\n                                    required\r\n                                  >\r\n                                    <MenuItem value=\"enable\">\r\n                                      {i18n.t(\"userModal.form.allTicketEnable\")}\r\n                                    </MenuItem>\r\n                                    <MenuItem value=\"disable\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allTicketDisable\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                  </Field>\r\n                                </>\r\n                              </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6} xl={6}>\r\n                              <FormControl\r\n                                variant=\"outlined\"\r\n                                className={classes.maxWidth}\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                              >\r\n                                <>\r\n                                  <InputLabel>\r\n                                    {i18n.t(\"userModal.form.allowGroup\")}\r\n                                  </InputLabel>\r\n\r\n                                  <Field\r\n                                    as={Select}\r\n                                    label={i18n.t(\"userModal.form.allowGroup\")}\r\n                                    name=\"allowGroup\"\r\n                                    type=\"allowGroup\"\r\n                                    required\r\n                                  >\r\n                                    <MenuItem value={true}>\r\n                                      {i18n.t(\"userModal.form.allTicketEnable\")}\r\n                                    </MenuItem>\r\n                                    <MenuItem value={false}>\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allTicketDisable\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                  </Field>\r\n                                </>\r\n                              </FormControl>\r\n                            </Grid>\r\n                          </Grid>\r\n                          <Grid container spacing={1}>\r\n                            <Grid item xs={12} md={6} xl={6}>\r\n                              <FormControl\r\n                                variant=\"outlined\"\r\n                                className={classes.maxWidth}\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                              >\r\n                                <>\r\n                                  <InputLabel>\r\n                                    {i18n.t(\"userModal.form.allHistoric\")}\r\n                                  </InputLabel>\r\n\r\n                                  <Field\r\n                                    as={Select}\r\n                                    label={i18n.t(\"userModal.form.allHistoric\")}\r\n                                    name=\"allHistoric\"\r\n                                    type=\"allHistoric\"\r\n                                    required\r\n                                  >\r\n                                    <MenuItem value=\"disabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricDisabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                    <MenuItem value=\"enabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricEnabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                  </Field>\r\n                                </>\r\n                              </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6} xl={6}>\r\n                              <FormControl\r\n                                variant=\"outlined\"\r\n                                className={classes.maxWidth}\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                              >\r\n                                <>\r\n                                  <InputLabel>\r\n                                    {i18n.t(\"userModal.form.allUserChat\")}\r\n                                  </InputLabel>\r\n\r\n                                  <Field\r\n                                    as={Select}\r\n                                    label={i18n.t(\"userModal.form.allUserChat\")}\r\n                                    name=\"allUserChat\"\r\n                                    type=\"allUserChat\"\r\n                                    required\r\n                                  >\r\n                                    <MenuItem value=\"disabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricDisabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                    <MenuItem value=\"enabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricEnabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                  </Field>\r\n                                </>\r\n                              </FormControl>\r\n                            </Grid>\r\n                          </Grid>\r\n                          <Grid container spacing={1}>\r\n                            <Grid item xs={12} md={6} xl={6}>\r\n                              <FormControl\r\n                                variant=\"outlined\"\r\n                                className={classes.maxWidth}\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                              >\r\n                                <>\r\n                                  <InputLabel>\r\n                                    {i18n.t(\r\n                                      \"userModal.form.userClosePendingTicket\"\r\n                                    )}\r\n                                  </InputLabel>\r\n\r\n                                  <Field\r\n                                    as={Select}\r\n                                    label={i18n.t(\r\n                                      \"userModal.form.userClosePendingTicket\"\r\n                                    )}\r\n                                    name=\"userClosePendingTicket\"\r\n                                    type=\"userClosePendingTicket\"\r\n                                    required\r\n                                  >\r\n                                    <MenuItem value=\"disabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricDisabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                    <MenuItem value=\"enabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricEnabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                  </Field>\r\n                                </>\r\n                              </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6} xl={6}>\r\n                              <FormControl\r\n                                variant=\"outlined\"\r\n                                className={classes.maxWidth}\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                              >\r\n                                <>\r\n                                  <InputLabel>\r\n                                    {i18n.t(\"userModal.form.allowConnections\")}\r\n                                  </InputLabel>\r\n\r\n                                  <Field\r\n                                    as={Select}\r\n                                    label={i18n.t(\r\n                                      \"userModal.form.allowConnections\"\r\n                                    )}\r\n                                    name=\"allowConnections\"\r\n                                    type=\"allowConnections\"\r\n                                    required\r\n                                  >\r\n                                    <MenuItem value=\"disabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricDisabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                    <MenuItem value=\"enabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricEnabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                  </Field>\r\n                                </>\r\n                              </FormControl>\r\n                            </Grid>\r\n                          </Grid>\r\n                          <Grid container spacing={1}>\r\n                            <Grid item xs={12} md={6} xl={6}>\r\n                              <FormControl\r\n                                variant=\"outlined\"\r\n                                className={classes.maxWidth}\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                              >\r\n                                <>\r\n                                  <InputLabel>\r\n                                    {i18n.t(\"userModal.form.showDashboard\")}\r\n                                  </InputLabel>\r\n\r\n                                  <Field\r\n                                    as={Select}\r\n                                    label={i18n.t(\r\n                                      \"userModal.form.showDashboard\"\r\n                                    )}\r\n                                    name=\"showDashboard\"\r\n                                    type=\"showDashboard\"\r\n                                    required\r\n                                  >\r\n                                    <MenuItem value=\"disabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricDisabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                    <MenuItem value=\"enabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricEnabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                  </Field>\r\n                                </>\r\n                              </FormControl>\r\n                            </Grid>\r\n                            <Grid item xs={12} md={6} xl={6}>\r\n                              <FormControl\r\n                                variant=\"outlined\"\r\n                                className={classes.maxWidth}\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                              >\r\n                                <>\r\n                                  <InputLabel>\r\n                                    {i18n.t(\"userModal.form.allowRealTime\")}\r\n                                  </InputLabel>\r\n\r\n                                  <Field\r\n                                    as={Select}\r\n                                    label={i18n.t(\r\n                                      \"userModal.form.allowRealTime\"\r\n                                    )}\r\n                                    name=\"allowRealTime\"\r\n                                    type=\"allowRealTime\"\r\n                                    required\r\n                                  >\r\n                                    <MenuItem value=\"disabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricDisabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                    <MenuItem value=\"enabled\">\r\n                                      {i18n.t(\r\n                                        \"userModal.form.allHistoricEnabled\"\r\n                                      )}\r\n                                    </MenuItem>\r\n                                  </Field>\r\n                                </>\r\n                              </FormControl>\r\n                            </Grid>\r\n                          </Grid>\r\n                        </>\r\n                      )}\r\n                    />\r\n                  </TabPanel>\r\n                </DialogContent>\r\n              </Paper>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"userModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {userId\r\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default UserModal;\r\n","import api from \"../../services/api\";\r\n\r\nconst usePlans = () => {\r\n\r\n    const findAll = async (params) => {\r\n        const { data } = await api.request({\r\n            url: `/helps`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/helps/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/helps',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/helps/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const remove = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/helps/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        findAll,\r\n        list,\r\n        save,\r\n        update,\r\n        remove\r\n    }\r\n}\r\n\r\nexport default usePlans;","import React, { createContext } from \"react\";\r\n\r\nimport useWhatsApps from \"../../hooks/useWhatsApps\";\r\n\r\nconst WhatsAppsContext = createContext();\r\n\r\nconst WhatsAppsProvider = ({ children }) => {\r\n\tconst { loading, whatsApps } = useWhatsApps();\r\n\r\n\treturn (\r\n\t\t<WhatsAppsContext.Provider value={{ whatsApps, loading }}>\r\n\t\t\t{children}\r\n\t\t</WhatsAppsContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { WhatsAppsContext, WhatsAppsProvider };\r\n","import api, { openApi } from \"../../services/api\";\r\n\r\nconst usePlans = () => {\r\n\r\n    const getPlanList = async (params) => {\r\n        const { data } = await openApi.request({\r\n            url: '/plans/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/plans/all',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/plans',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/plans/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const remove = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/plans/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const getPlanCompany = async (params, id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/listPlan/${id}`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        getPlanList,\r\n        list,\r\n        save,\r\n        update,\r\n        remove,\r\n        getPlanCompany\r\n    }\r\n}\r\n\r\nexport default usePlans;","import api from \"../../services/api\";\r\n\r\nconst useVersion = () => {\r\n\r\n    const getVersion = async () => {\r\n        const { data } = await api.request({\r\n            url: '/version',\r\n            method: 'GET',\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        getVersion\r\n    }\r\n}\r\n\r\nexport default useVersion;\r\n\r\n\r\n\r\n","import Avatar from \"@material-ui/core/Avatar\";\r\nimport Badge from \"@material-ui/core/Badge\";\r\nimport Collapse from \"@material-ui/core/Collapse\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport List from \"@material-ui/core/List\";\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemIcon from \"@material-ui/core/ListItemIcon\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListSubheader from \"@material-ui/core/ListSubheader\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport Tooltip from \"@material-ui/core/Tooltip\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DashboardOutlinedIcon from \"@material-ui/icons/DashboardOutlined\";\r\nimport ExpandLessIcon from \"@material-ui/icons/ExpandLess\";\r\nimport ExpandMoreIcon from \"@material-ui/icons/ExpandMore\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\nimport React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport { Ri24HoursFill } from \"react-icons/ri\";\r\nimport { Link as RouterLink, useLocation } from \"react-router-dom\";\r\nimport useHelps from \"../hooks/useHelps\";\r\n\r\nimport { useActiveMenu } from \"../context/ActiveMenuContext\";\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport { WhatsAppsContext } from \"../context/WhatsApp/WhatsAppsContext\";\r\n\r\nimport { Can } from \"../components/Can\";\r\n\r\nimport { useMediaQuery } from \"@material-ui/core\";\r\nimport {\r\n  ArrowSquare,\r\n  ArrowSwapHorizontal,\r\n  Brodcast,\r\n  Buliding,\r\n  Calendar,\r\n  CalendarEdit,\r\n  CodeCircle,\r\n  Flash,\r\n  Grid1,\r\n  Hierarchy,\r\n  HierarchySquare3,\r\n  HomeTrendUp,\r\n  Information,\r\n  Kanban,\r\n  KeyboardOpen,\r\n  Logout,\r\n  MessageFavorite,\r\n  Messages1,\r\n  MoneySend,\r\n  Notepad2,\r\n  Paperclip,\r\n  People,\r\n  Profile2User,\r\n  Setting,\r\n  Setting2,\r\n  Tag,\r\n  UserAdd,\r\n  VolumeHigh,\r\n  VolumeUp,\r\n  Whatsapp,\r\n} from \"iconsax-react\";\r\nimport { isArray } from \"lodash\";\r\nimport toastError from \"../errors/toastError\";\r\nimport usePlans from \"../hooks/usePlans\";\r\nimport useVersion from \"../hooks/useVersion\";\r\nimport api from \"../services/api\";\r\nimport { i18n } from \"../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  listItem: {\r\n    height: \"44px\",\r\n    width: \"auto\",\r\n    \"&:hover $iconHoverActive\": {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: \"#fff\",\r\n    },\r\n  },\r\n\r\n  listItemText: {\r\n    fontSize: \"14px\",\r\n    color: theme.mode === \"light\" ? \"#666\" : \"#FFF\",\r\n  },\r\n  avatarActive: {\r\n    backgroundColor: \"transparent\",\r\n  },\r\n  avatarHover: {\r\n    backgroundColor: \"transparent\",\r\n  },\r\n  iconHoverActive: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    borderRadius: \"50%\",\r\n    height: 36,\r\n    width: 36,\r\n    backgroundColor:\r\n      theme.mode === \"light\"\r\n        ? \"rgba(120,120,120,0.1)\"\r\n        : \"rgba(120,120,120,0.5)\",\r\n    color: theme.mode === \"light\" ? \"#666\" : \"#FFF\",\r\n    // color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n    \"&:hover, &.active\": {\r\n      backgroundColor: theme.palette.primary.main,\r\n      color: \"#fff\",\r\n    },\r\n    \"& .MuiSvgIcon-root\": {\r\n      fontSize: \"1.4rem\",\r\n    },\r\n  },\r\n}));\r\n\r\nexport function ListItemLink(props) {\r\n  const { icon, primary, to, tooltip, showBadge } = props;\r\n  const classes = useStyles();\r\n  const { activeMenu } = useActiveMenu();\r\n  const location = useLocation();\r\n  const isActive = activeMenu === to || location.pathname === to;\r\n\r\n  const renderLink = React.useMemo(\r\n    () =>\r\n      React.forwardRef((itemProps, ref) => (\r\n        <RouterLink to={to} ref={ref} {...itemProps} />\r\n      )),\r\n    [to]\r\n  );\r\n\r\n  const ConditionalTooltip = ({ children, tooltipEnabled }) =>\r\n    tooltipEnabled ? (\r\n      <Tooltip title={primary} placement=\"right\">\r\n        {children}\r\n      </Tooltip>\r\n    ) : (\r\n      children\r\n    );\r\n\r\n  return (\r\n    <ConditionalTooltip tooltipEnabled={!!tooltip}>\r\n      <li>\r\n        <ListItem button component={renderLink} className={classes.listItem}>\r\n          {icon ? (\r\n            <ListItemIcon>\r\n              {showBadge ? (\r\n                <Badge\r\n                  badgeContent=\"!\"\r\n                  color=\"error\"\r\n                  overlap=\"circular\"\r\n                  className={classes.badge}\r\n                >\r\n                  <Avatar\r\n                    className={`${classes.iconHoverActive} ${\r\n                      isActive ? \"active\" : \"\"\r\n                    }`}\r\n                  >\r\n                    {icon}\r\n                  </Avatar>\r\n                </Badge>\r\n              ) : (\r\n                <Avatar\r\n                  className={`${classes.iconHoverActive} ${\r\n                    isActive ? \"active\" : \"\"\r\n                  }`}\r\n                >\r\n                  {icon}\r\n                </Avatar>\r\n              )}\r\n            </ListItemIcon>\r\n          ) : null}\r\n          <ListItemText\r\n            primary={\r\n              <Typography className={classes.listItemText}>\r\n                {primary}\r\n              </Typography>\r\n            }\r\n          />\r\n        </ListItem>\r\n      </li>\r\n    </ConditionalTooltip>\r\n  );\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CHATS\") {\r\n    const chats = action.payload;\r\n    const newChats = [];\r\n\r\n    if (isArray(chats)) {\r\n      chats.forEach((chat) => {\r\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n        if (chatIndex !== -1) {\r\n          state[chatIndex] = chat;\r\n        } else {\r\n          newChats.push(chat);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newChats];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CHATS\") {\r\n    const chat = action.payload;\r\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n\r\n    if (chatIndex !== -1) {\r\n      state[chatIndex] = chat;\r\n      return [...state];\r\n    } else {\r\n      return [chat, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CHAT\") {\r\n    const chatId = action.payload;\r\n\r\n    const chatIndex = state.findIndex((u) => u.id === chatId);\r\n    if (chatIndex !== -1) {\r\n      state.splice(chatIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n\r\n  if (action.type === \"CHANGE_CHAT\") {\r\n    const changedChats = state.map((chat) => {\r\n      if (chat.id === action.payload.chat.id) {\r\n        return action.payload.chat;\r\n      }\r\n      return chat;\r\n    });\r\n    return changedChats;\r\n  }\r\n};\r\n\r\nconst MainListItems = ({ collapsed, drawerClose, isHorizontal }) => {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const { whatsApps } = useContext(WhatsAppsContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { setActiveMenu } = useActiveMenu();\r\n  const location = useLocation();\r\n  const { handleLogout } = useContext(AuthContext);\r\n  const [connectionWarning, setConnectionWarning] = useState(false);\r\n  const [openCampaignSubmenu, setOpenCampaignSubmenu] = useState(false);\r\n  const [openFlowSubmenu, setOpenFlowSubmenu] = useState(false);\r\n  const [openDashboardSubmenu, setOpenDashboardSubmenu] = useState(false);\r\n  const [showCampaigns, setShowCampaigns] = useState(false);\r\n  const [showKanban, setShowKanban] = useState(false);\r\n  const [showOpenAi, setShowOpenAi] = useState(false);\r\n  const [showIntegrations, setShowIntegrations] = useState(false);\r\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"md\"));\r\n  // novas features\r\n  const [showSchedules, setShowSchedules] = useState(false);\r\n  const [showInternalChat, setShowInternalChat] = useState(false);\r\n  const [showExternalApi, setShowExternalApi] = useState(false);\r\n\r\n  const [invisible, setInvisible] = useState(true);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam] = useState(\"\");\r\n  const [chats, dispatch] = useReducer(reducer, []);\r\n  const [version, setVersion] = useState(false);\r\n  const [managementHover, setManagementHover] = useState(false);\r\n  const [campaignHover, setCampaignHover] = useState(false);\r\n  const [flowHover, setFlowHover] = useState(false);\r\n  const { list } = useHelps(); // INSERIR\r\n  const [hasHelps, setHasHelps] = useState(false);\r\n\r\n  useEffect(() => {\r\n    // INSERIR ESSE EFFECT INTEIRO\r\n    async function checkHelps() {\r\n      const helps = await list();\r\n      setHasHelps(helps.length > 0);\r\n    }\r\n    checkHelps();\r\n  }, []);\r\n\r\n  const isManagementActive =\r\n    location.pathname === \"/\" ||\r\n    location.pathname.startsWith(\"/reports\") ||\r\n    location.pathname.startsWith(\"/moments\");\r\n\r\n  const isCampaignRouteActive =\r\n    location.pathname === \"/campaigns\" ||\r\n    location.pathname.startsWith(\"/contact-lists\") ||\r\n    location.pathname.startsWith(\"/campaigns-config\");\r\n\r\n  const isFlowbuilderRouteActive =\r\n    location.pathname.startsWith(\"/phrase-lists\");\r\n  location.pathname.startsWith(\"/flowbuilders\");\r\n\r\n  useEffect(() => {\r\n    if (location.pathname.startsWith(\"/tickets\")) {\r\n      setActiveMenu(\"/tickets\");\r\n    } else {\r\n      setActiveMenu(\"\");\r\n    }\r\n  }, [location, setActiveMenu]);\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  const { getVersion } = useVersion();\r\n\r\n  const handleClickLogout = () => {\r\n    handleLogout();\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchVersion() {\r\n      const _version = await getVersion();\r\n      setVersion(_version.version);\r\n    }\r\n    fetchVersion();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n\r\n      setShowCampaigns(planConfigs.plan.useCampaigns);\r\n      setShowKanban(planConfigs.plan.useKanban);\r\n      setShowOpenAi(planConfigs.plan.useOpenAi);\r\n      setShowIntegrations(planConfigs.plan.useIntegrations);\r\n      setShowSchedules(planConfigs.plan.useSchedules);\r\n      setShowInternalChat(planConfigs.plan.useInternalChat);\r\n      setShowExternalApi(planConfigs.plan.useExternalApi);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchChats();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (user.id) {\r\n      const companyId = user.companyId;\r\n      //    const socket = socketManager.GetSocket();\r\n      // console.log('socket nListItems')\r\n      const onCompanyChatMainListItems = (data) => {\r\n        if (data.action === \"new-message\") {\r\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n        }\r\n        if (data.action === \"update\") {\r\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n        }\r\n      };\r\n\r\n      socket.on(`company-${companyId}-chat`, onCompanyChatMainListItems);\r\n      return () => {\r\n        socket.off(`company-${companyId}-chat`, onCompanyChatMainListItems);\r\n      };\r\n    }\r\n  }, [socket]);\r\n\r\n  useEffect(() => {\r\n    let unreadsCount = 0;\r\n    if (chats.length > 0) {\r\n      for (let chat of chats) {\r\n        for (let chatUser of chat.users) {\r\n          if (chatUser.userId === user.id) {\r\n            unreadsCount += chatUser.unreads;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (unreadsCount > 0) {\r\n      setInvisible(false);\r\n    } else {\r\n      setInvisible(true);\r\n    }\r\n  }, [chats, user.id]);\r\n\r\n  // useEffect(() => {\r\n  //   if (localStorage.getItem(\"cshow\")) {\r\n  //     setShowCampaigns(true);\r\n  //   }\r\n  // }, []);\r\n\r\n  useEffect(() => {\r\n    const delayDebounceFn = setTimeout(() => {\r\n      if (whatsApps.length > 0) {\r\n        const offlineWhats = whatsApps.filter((whats) => {\r\n          return (\r\n            whats.status === \"qrcode\" ||\r\n            whats.status === \"PAIRING\" ||\r\n            whats.status === \"DISCONNECTED\" ||\r\n            whats.status === \"TIMEOUT\" ||\r\n            whats.status === \"OPENING\"\r\n          );\r\n        });\r\n        if (offlineWhats.length > 0) {\r\n          setConnectionWarning(true);\r\n        } else {\r\n          setConnectionWarning(false);\r\n        }\r\n      }\r\n    }, 2000);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [whatsApps]);\r\n\r\n  const fetchChats = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/chats/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div onClick={drawerClose}>\r\n      {greaterThenSm && (\r\n        <div\r\n          onClick={() => {\r\n            isHorizontal(true);\r\n            localStorage.setItem(\"horizontal\", \"Sim\");\r\n          }}\r\n        >\r\n          <ListItemLink\r\n            to=\"#\"\r\n            primary={i18n.t(\"Menu horizontal\")}\r\n            icon={<MenuIcon />}\r\n            tooltip={collapsed}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      <Can\r\n        role={\r\n          (user.profile === \"user\" && user.showDashboard === \"enabled\") ||\r\n          user.allowRealTime === \"enabled\"\r\n            ? \"admin\"\r\n            : user.profile\r\n        }\r\n        perform={\"drawer-admin-items:view\"}\r\n        yes={() => (\r\n          <>\r\n            <Tooltip\r\n              title={collapsed ? i18n.t(\"mainDrawer.listItems.management\") : \"\"}\r\n              placement=\"right\"\r\n            >\r\n              <ListItem\r\n                dense\r\n                button\r\n                onClick={() => setOpenDashboardSubmenu((prev) => !prev)}\r\n                onMouseEnter={() => setManagementHover(true)}\r\n                onMouseLeave={() => setManagementHover(false)}\r\n              >\r\n                <ListItemIcon>\r\n                  <Avatar\r\n                    className={`${classes.iconHoverActive} ${\r\n                      isManagementActive || managementHover ? \"active\" : \"\"\r\n                    }`}\r\n                  >\r\n                    <HomeTrendUp />\r\n                  </Avatar>\r\n                </ListItemIcon>\r\n                <ListItemText\r\n                  primary={\r\n                    <Typography className={classes.listItemText}>\r\n                      {i18n.t(\"mainDrawer.listItems.management\")}\r\n                    </Typography>\r\n                  }\r\n                />\r\n                {openDashboardSubmenu ? <ExpandLessIcon /> : <ExpandMoreIcon />}\r\n              </ListItem>\r\n            </Tooltip>\r\n            <Collapse\r\n              in={openDashboardSubmenu}\r\n              timeout=\"auto\"\r\n              unmountOnExit\r\n              style={{\r\n                backgroundColor:\r\n                  theme.mode === \"light\"\r\n                    ? \"rgba(120,120,120,0.1)\"\r\n                    : \"rgba(120,120,120,0.5)\",\r\n              }}\r\n            >\r\n              <Can\r\n                role={\r\n                  user.profile === \"user\" && user.showDashboard === \"enabled\"\r\n                    ? \"admin\"\r\n                    : user.profile\r\n                }\r\n                perform={\"drawer-admin-items:view\"}\r\n                yes={() => (\r\n                  <>\r\n                    <ListItemLink\r\n                      small\r\n                      to=\"/\"\r\n                      primary=\"Dashboard\"\r\n                      icon={<DashboardOutlinedIcon />}\r\n                      tooltip={collapsed}\r\n                    />\r\n                    <ListItemLink\r\n                      small\r\n                      to=\"/reports\"\r\n                      primary={i18n.t(\"mainDrawer.listItems.reports\")}\r\n                      icon={<Notepad2 />}\r\n                      tooltip={collapsed}\r\n                    />\r\n                  </>\r\n                )}\r\n              />\r\n              <Can\r\n                role={\r\n                  user.profile === \"user\" && user.allowRealTime === \"enabled\"\r\n                    ? \"admin\"\r\n                    : user.profile\r\n                }\r\n                perform={\"drawer-admin-items:view\"}\r\n                yes={() => (\r\n                  <ListItemLink\r\n                    to=\"/moments\"\r\n                    primary={i18n.t(\"mainDrawer.listItems.chatsTempoReal\")}\r\n                    icon={<Grid1 />}\r\n                    tooltip={collapsed}\r\n                  />\r\n                )}\r\n              />\r\n            </Collapse>\r\n          </>\r\n        )}\r\n      />\r\n\r\n      <ListItemLink\r\n        to=\"/tickets\"\r\n        primary={i18n.t(\"mainDrawer.listItems.tickets\")}\r\n        icon={<Whatsapp />}\r\n        tooltip={collapsed}\r\n      />\r\n      <ListItemLink\r\n        to=\"/NotifyMe\"\r\n        primary={i18n.t(\"mainDrawer.listItems.notifyUser\")}\r\n        icon={<Ri24HoursFill />}\r\n        tooltip={collapsed}\r\n      />\r\n      <ListItemLink\r\n        to=\"/quick-messages\"\r\n        primary={i18n.t(\"mainDrawer.listItems.quickMessages\")}\r\n        icon={<Flash />}\r\n        tooltip={collapsed}\r\n      />\r\n\r\n      {showKanban && (\r\n        <>\r\n          <ListItemLink\r\n            to=\"/kanban\"\r\n            primary={i18n.t(\"mainDrawer.listItems.kanban\")}\r\n            icon={<Kanban />}\r\n            tooltip={collapsed}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      <ListItemLink\r\n        to=\"/contacts\"\r\n        primary={i18n.t(\"mainDrawer.listItems.contacts\")}\r\n        icon={<UserAdd />}\r\n        tooltip={collapsed}\r\n      />\r\n\r\n      {showSchedules && (\r\n        <>\r\n          <ListItemLink\r\n            to=\"/schedules\"\r\n            primary={i18n.t(\"mainDrawer.listItems.schedules\")}\r\n            icon={<Calendar />}\r\n            tooltip={collapsed}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      <ListItemLink\r\n        to=\"/tags\"\r\n        primary={i18n.t(\"mainDrawer.listItems.tags\")}\r\n        icon={<Tag />}\r\n        tooltip={collapsed}\r\n      />\r\n\r\n      {showInternalChat && (\r\n        <>\r\n          <ListItemLink\r\n            to=\"/chats\"\r\n            primary={i18n.t(\"mainDrawer.listItems.chats\")}\r\n            icon={\r\n              <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\r\n                <MessageFavorite />\r\n              </Badge>\r\n            }\r\n            tooltip={collapsed}\r\n          />\r\n        </>\r\n      )}\r\n\r\n      {/* <ListItemLink\r\n        to=\"/todolist\"\r\n        primary={i18n.t(\"ToDoList\")}\r\n        icon={<EventAvailableIcon />}\r\n      /> */}\r\n      {hasHelps && (\r\n        <ListItemLink\r\n          to=\"/helps\"\r\n          primary={i18n.t(\"mainDrawer.listItems.helps\")}\r\n          icon={<CalendarEdit />}\r\n          tooltip={collapsed}\r\n        />\r\n      )}\r\n      <Can\r\n        role={\r\n          user.profile === \"user\" && user.allowConnections === \"enabled\"\r\n            ? \"admin\"\r\n            : user.profile\r\n        }\r\n        perform=\"dashboard:view\"\r\n        yes={() => (\r\n          <>\r\n            <Divider />\r\n            <ListSubheader inset>\r\n              {i18n.t(\"mainDrawer.listItems.administration\")}\r\n            </ListSubheader>\r\n            {showCampaigns && (\r\n              <Can\r\n                role={user.profile}\r\n                perform=\"dashboard:view\"\r\n                yes={() => (\r\n                  <>\r\n                    <Tooltip\r\n                      title={\r\n                        collapsed\r\n                          ? i18n.t(\"mainDrawer.listItems.campaigns\")\r\n                          : \"\"\r\n                      }\r\n                      placement=\"right\"\r\n                    >\r\n                      <ListItem\r\n                        dense\r\n                        button\r\n                        onClick={() => setOpenCampaignSubmenu((prev) => !prev)}\r\n                        onMouseEnter={() => setCampaignHover(true)}\r\n                        onMouseLeave={() => setCampaignHover(false)}\r\n                      >\r\n                        <ListItemIcon>\r\n                          <Avatar\r\n                            className={`${classes.iconHoverActive} ${\r\n                              isCampaignRouteActive || campaignHover\r\n                                ? \"active\"\r\n                                : \"\"\r\n                            }`}\r\n                          >\r\n                            <VolumeHigh />\r\n                          </Avatar>\r\n                        </ListItemIcon>\r\n                        <ListItemText\r\n                          primary={\r\n                            <Typography className={classes.listItemText}>\r\n                              {i18n.t(\"mainDrawer.listItems.campaigns\")}\r\n                            </Typography>\r\n                          }\r\n                        />\r\n                        {openCampaignSubmenu ? (\r\n                          <ExpandLessIcon />\r\n                        ) : (\r\n                          <ExpandMoreIcon />\r\n                        )}\r\n                      </ListItem>\r\n                    </Tooltip>\r\n                    <Collapse\r\n                      in={openCampaignSubmenu}\r\n                      timeout=\"auto\"\r\n                      unmountOnExit\r\n                      style={{\r\n                        backgroundColor:\r\n                          theme.mode === \"light\"\r\n                            ? \"rgba(120,120,120,0.1)\"\r\n                            : \"rgba(120,120,120,0.5)\",\r\n                      }}\r\n                    >\r\n                      <List dense component=\"div\" disablePadding>\r\n                        <ListItemLink\r\n                          to=\"/campaigns\"\r\n                          primary={i18n.t(\"campaigns.subMenus.list\")}\r\n                          icon={<VolumeUp />}\r\n                          tooltip={collapsed}\r\n                        />\r\n                        <ListItemLink\r\n                          to=\"/contact-lists\"\r\n                          primary={i18n.t(\"campaigns.subMenus.listContacts\")}\r\n                          icon={<Profile2User />}\r\n                          tooltip={collapsed}\r\n                        />\r\n                        <ListItemLink\r\n                          to=\"/campaigns-config\"\r\n                          primary={i18n.t(\"campaigns.subMenus.settings\")}\r\n                          icon={<Setting2 />}\r\n                          tooltip={collapsed}\r\n                        />\r\n                      </List>\r\n                    </Collapse>\r\n                  </>\r\n                )}\r\n              />\r\n            )}\r\n\r\n            {/* FLOWBUILDER */}\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <>\r\n                  <Tooltip\r\n                    title={\r\n                      collapsed\r\n                        ? i18n.t(\"mainDrawer.listItems.flowbuilder\")\r\n                        : \"\"\r\n                    }\r\n                    placement=\"right\"\r\n                  >\r\n                    <ListItem\r\n                      dense\r\n                      button\r\n                      onClick={() => setOpenFlowSubmenu((prev) => !prev)}\r\n                      onMouseEnter={() => setFlowHover(true)}\r\n                      onMouseLeave={() => setFlowHover(false)}\r\n                    >\r\n                      <ListItemIcon>\r\n                        <Avatar\r\n                          className={`${classes.iconHoverActive} ${\r\n                            isFlowbuilderRouteActive || flowHover\r\n                              ? \"active\"\r\n                              : \"\"\r\n                          }`}\r\n                        >\r\n                          <HierarchySquare3 />\r\n                        </Avatar>\r\n                      </ListItemIcon>\r\n                      <ListItemText\r\n                        primary={\r\n                          <Typography className={classes.listItemText}>\r\n                            {i18n.t(\"Flowbuilder\")}\r\n                          </Typography>\r\n                        }\r\n                      />\r\n                      {openFlowSubmenu ? (\r\n                        <ExpandLessIcon />\r\n                      ) : (\r\n                        <ExpandMoreIcon />\r\n                      )}\r\n                    </ListItem>\r\n                  </Tooltip>\r\n\r\n                  <Collapse\r\n                    in={openFlowSubmenu}\r\n                    timeout=\"auto\"\r\n                    unmountOnExit\r\n                    style={{\r\n                      backgroundColor:\r\n                        theme.mode === \"light\"\r\n                          ? \"rgba(120,120,120,0.1)\"\r\n                          : \"rgba(120,120,120,0.5)\",\r\n                    }}\r\n                  >\r\n                    <List dense component=\"div\" disablePadding>\r\n                      <ListItemLink\r\n                        to=\"/phrase-lists\"\r\n                        primary={i18n.t(\"mainDrawer.listItems.campaignFlow\")}\r\n                        icon={<VolumeHigh />}\r\n                        tooltip={collapsed}\r\n                      />\r\n\r\n                      <ListItemLink\r\n                        to=\"/flowbuilders\"\r\n                        primary={i18n.t(\r\n                          \"mainDrawer.listItems.conversationFlow\"\r\n                        )}\r\n                        icon={<Messages1 />}\r\n                        tooltip={collapsed}\r\n                      />\r\n                    </List>\r\n                  </Collapse>\r\n                </>\r\n              )}\r\n            />\r\n\r\n            {user.super && (\r\n              <ListItemLink\r\n                to=\"/announcements\"\r\n                primary={i18n.t(\"mainDrawer.listItems.annoucements\")}\r\n                icon={<Information />}\r\n                tooltip={collapsed}\r\n              />\r\n            )}\r\n\r\n            {showExternalApi && (\r\n              <>\r\n                <Can\r\n                  role={user.profile}\r\n                  perform=\"dashboard:view\"\r\n                  yes={() => (\r\n                    <ListItemLink\r\n                      to=\"/messages-api\"\r\n                      primary={i18n.t(\"mainDrawer.listItems.messagesAPI\")}\r\n                      icon={<CodeCircle />}\r\n                      tooltip={collapsed}\r\n                    />\r\n                  )}\r\n                />\r\n              </>\r\n            )}\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/users\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.users\")}\r\n                  icon={<People />}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/queues\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.queues\")}\r\n                  icon={<ArrowSquare />}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n\r\n            {showOpenAi && (\r\n              <Can\r\n                role={user.profile}\r\n                perform=\"dashboard:view\"\r\n                yes={() => (\r\n                  <ListItemLink\r\n                    to=\"/prompts\"\r\n                    primary={i18n.t(\"mainDrawer.listItems.prompts\")}\r\n                    icon={<KeyboardOpen />}\r\n                    tooltip={collapsed}\r\n                  />\r\n                )}\r\n              />\r\n            )}\r\n\r\n            {showIntegrations && (\r\n              <Can\r\n                role={user.profile}\r\n                perform=\"dashboard:view\"\r\n                yes={() => (\r\n                  <ListItemLink\r\n                    to=\"/queue-integration\"\r\n                    primary={i18n.t(\"mainDrawer.listItems.queueIntegration\")}\r\n                    icon={<Hierarchy />}\r\n                    tooltip={collapsed}\r\n                  />\r\n                )}\r\n              />\r\n            )}\r\n            <Can\r\n              role={\r\n                user.profile === \"user\" && user.allowConnections === \"enabled\"\r\n                  ? \"admin\"\r\n                  : user.profile\r\n              }\r\n              perform={\"drawer-admin-items:view\"}\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/connections\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.connections\")}\r\n                  icon={<ArrowSwapHorizontal />}\r\n                  showBadge={connectionWarning}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n            {user.super && (\r\n              <ListItemLink\r\n                to=\"/allConnections\"\r\n                primary={i18n.t(\"mainDrawer.listItems.allConnections\")}\r\n                icon={<Brodcast />}\r\n                tooltip={collapsed}\r\n              />\r\n            )}\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/files\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.files\")}\r\n                  icon={<Paperclip />}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/financeiro\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.financeiro\")}\r\n                  icon={<MoneySend />}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n            <Can\r\n              role={user.profile}\r\n              perform=\"dashboard:view\"\r\n              yes={() => (\r\n                <ListItemLink\r\n                  to=\"/settings\"\r\n                  primary={i18n.t(\"mainDrawer.listItems.settings\")}\r\n                  icon={<Setting />}\r\n                  tooltip={collapsed}\r\n                />\r\n              )}\r\n            />\r\n            {/* {user.super && (\r\n              <ListSubheader inset>\r\n                {i18n.t(\"mainDrawer.listItems.administration\")}\r\n              </ListSubheader>\r\n            )} */}\r\n\r\n            {user.super && (\r\n              <ListItemLink\r\n                to=\"/companies\"\r\n                primary={i18n.t(\"mainDrawer.listItems.companies\")}\r\n                icon={<Buliding />}\r\n                tooltip={collapsed}\r\n              />\r\n            )}\r\n          </>\r\n        )}\r\n      />\r\n      <Divider />\r\n      <div onClick={handleClickLogout}>\r\n        <ListItemLink\r\n          to=\"#\"\r\n          primary={i18n.t(\"mainDrawer.appBar.user.logout\")}\r\n          icon={<Logout />}\r\n          tooltip={collapsed}\r\n        />\r\n      </div>\r\n      {!collapsed && (\r\n        <React.Fragment>\r\n          <Divider />\r\n          {/* \r\n              // IMAGEM NO MENU\r\n              <Hidden only={['sm', 'xs']}>\r\n                <img style={{ width: \"100%\", padding: \"10px\" }} src={logo} alt=\"image\" />            \r\n              </Hidden> \r\n              */}\r\n          <Typography\r\n            style={{\r\n              fontSize: \"12px\",\r\n              padding: \"10px\",\r\n              textAlign: \"center\",\r\n              fontWeight: \"bold\",\r\n            }}\r\n          >\r\n            {`${version}`}\r\n          </Typography>\r\n        </React.Fragment>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainListItems;\r\n","import Popover from \"@material-ui/core/Popover\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport {\r\n  Avatar,\r\n  Badge,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogContentText,\r\n  DialogTitle,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemAvatar,\r\n  ListItemText,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\nimport { MessageSquareMore } from \"lucide-react\";\r\nimport moment from \"moment\";\r\nimport api from \"../../services/api\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    maxHeight: 300,\r\n    maxWidth: 500,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nfunction AnnouncementDialog({ announcement, open, handleClose }) {\r\n  // const getMediaPath = (filename) => {\r\n  //   return path.join(`${process.env.REACT_APP_BACKEND_URL}`,\"public\", \"announcements\",`${filename}`);\r\n  // };\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={() => handleClose()}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">{announcement.title}</DialogTitle>\r\n      <DialogContent>\r\n        {announcement.mediaPath && (\r\n          <div\r\n            style={{\r\n              border: \"1px solid #f1f1f1\",\r\n              margin: \"0 auto 20px\",\r\n              textAlign: \"center\",\r\n              width: \"95%\",\r\n              height: 300,\r\n              backgroundRepeat: \"no-repeat\",\r\n              backgroundSize: \"cover\",\r\n              backgroundPosition: \"center\",\r\n            }}\r\n          >\r\n            <img\r\n              alt={`announcement image`}\r\n              src={announcement.mediaPath}\r\n              style={{\r\n                width: \"95%\",\r\n                height: \"100%\",\r\n              }}\r\n            />\r\n          </div>\r\n        )}\r\n        <DialogContentText\r\n          id=\"alert-dialog-description\"\r\n          style={{ whiteSpace: \"pre-line\" }}\r\n        >\r\n          {announcement.text}\r\n        </DialogContentText>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={() => handleClose()} color=\"primary\" autoFocus>\r\n          Fechar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\r\n    const announcements = action.payload;\r\n    const newAnnouncements = [];\r\n\r\n    if (isArray(announcements)) {\r\n      announcements.forEach((announcement) => {\r\n        const announcementIndex = state.findIndex(\r\n          (u) => u.id === announcement.id\r\n        );\r\n        if (announcementIndex !== -1) {\r\n          state[announcementIndex] = announcement;\r\n        } else {\r\n          newAnnouncements.push(announcement);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newAnnouncements];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\r\n    const announcement = action.payload;\r\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\r\n\r\n    if (announcementIndex !== -1) {\r\n      state[announcementIndex] = announcement;\r\n      return [...state];\r\n    } else {\r\n      return [announcement, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\r\n    const announcementId = action.payload;\r\n\r\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\r\n    if (announcementIndex !== -1) {\r\n      state.splice(announcementIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nexport default function AnnouncementsPopover() {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [searchParam] = useState(\"\");\r\n  const [announcements, dispatch] = useReducer(reducer, []);\r\n  const [invisible, setInvisible] = useState(false);\r\n  const [announcement, setAnnouncement] = useState({});\r\n  const [showAnnouncementDialog, setShowAnnouncementDialog] = useState(false);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchAnnouncements();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (user.companyId) {\r\n      const companyId = user.companyId;\r\n      //    const socket = socketManager.GetSocket();\r\n\r\n      const onCompanyAnnouncement = (data) => {\r\n        if (data.action === \"update\" || data.action === \"create\") {\r\n          dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\r\n          setInvisible(false);\r\n        }\r\n        if (data.action === \"delete\") {\r\n          dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\r\n        }\r\n      };\r\n      socket.on(`company-announcement`, onCompanyAnnouncement);\r\n\r\n      return () => {\r\n        socket.off(`company-announcement`, onCompanyAnnouncement);\r\n      };\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchAnnouncements = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/announcements/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setInvisible(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const borderPriority = (priority) => {\r\n    if (priority === 1) {\r\n      return \"4px solid #b81111\";\r\n    }\r\n    if (priority === 2) {\r\n      return \"4px solid orange\";\r\n    }\r\n    if (priority === 3) {\r\n      return \"4px solid grey\";\r\n    }\r\n  };\r\n\r\n  const handleShowAnnouncementDialog = (record) => {\r\n    setAnnouncement(record);\r\n    setShowAnnouncementDialog(true);\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      <AnnouncementDialog\r\n        announcement={announcement}\r\n        open={showAnnouncementDialog}\r\n        handleClose={() => setShowAnnouncementDialog(false)}\r\n      />\r\n      <IconButton\r\n        variant=\"contained\"\r\n        aria-describedby={id}\r\n        onClick={handleClick}\r\n        size=\"small\"\r\n        style={{ color: \"white\", marginRight: 15 }}\r\n      >\r\n        <Badge\r\n          color=\"secondary\"\r\n          variant=\"dot\"\r\n          invisible={invisible || announcements.length < 1}\r\n        >\r\n          <MessageSquareMore style={{ width: \"18px\", height: \"18px\" }} />\r\n        </Badge>\r\n      </IconButton>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        <Paper\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n          className={classes.mainPaper}\r\n        >\r\n          <List\r\n            component=\"nav\"\r\n            aria-label=\"main mailbox folders\"\r\n            style={{ minWidth: 300 }}\r\n          >\r\n            {isArray(announcements) &&\r\n              announcements.map((item, key) => (\r\n                <ListItem\r\n                  key={key}\r\n                  style={{\r\n                    background: key % 2 === 0 ? \"primary\" : \"secondary\",\r\n                    border: \"1px solid #eee\",\r\n                    borderLeft: borderPriority(item.priority),\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                  onClick={() => handleShowAnnouncementDialog(item)}\r\n                >\r\n                  {item.mediaPath && (\r\n                    <ListItemAvatar>\r\n                      <Avatar src={item.mediaPath} />\r\n                    </ListItemAvatar>\r\n                  )}\r\n                  <ListItemText\r\n                    primary={item.title}\r\n                    secondary={\r\n                      <>\r\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\r\n                          {moment(item.createdAt).format(\"DD/MM/YYYY\")}\r\n                        </Typography>\r\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\r\n                        <Typography component=\"span\" variant=\"body2\">\r\n                          {item.text}\r\n                        </Typography>\r\n                      </>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            {isArray(announcements) && announcements.length === 0 && (\r\n              <ListItemText primary={i18n.t(\"mainDrawer.appBar.notRegister\")} />\r\n            )}\r\n          </List>\r\n        </Paper>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  Button,\r\n  IconButton,\r\n  Menu,\r\n  MenuItem,\r\n  Tooltip,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport flagBrasil from \"../../assets/flag-brazil.png\";\r\nimport flagUsa from \"../../assets/flag-united-states.png\";\r\nimport flagSpain from \"../../assets/flag-spain.png\";\r\nimport flagTurkey from \"../../assets/flag-turkey.png\";\r\n\r\nconst useStyles = makeStyles({\r\n  flagIcon: {\r\n    width: \"20px\",\r\n    height: \"20px\",\r\n  },\r\n  smallButton: {\r\n    width: \"24px\",\r\n    minHeight: \"24px\",\r\n    lineHeight: 1,\r\n    marginRight: 15,\r\n  },\r\n  iconContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n});\r\n\r\nconst UserLanguageSelector = () => {\r\n  const classes = useStyles();\r\n  const [langueMenuAnchorEl, setLangueMenuAnchorEl] = useState(null);\r\n  const [selectedFlag, setSelectedFlag] = useState(flagBrasil);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const handleOpenLanguageMenu = (e) => {\r\n    setLangueMenuAnchorEl(e.currentTarget);\r\n  };\r\n\r\n  useEffect(() => {\r\n    const i18nlocale = localStorage.getItem(\"i18nextLng\");\r\n\r\n    if (i18nlocale === \"pt-BR\") {\r\n      setSelectedFlag(flagBrasil);\r\n    } else if (i18nlocale === \"en\") {\r\n      setSelectedFlag(flagUsa);\r\n    } else if (i18nlocale === \"es\") {\r\n      setSelectedFlag(flagSpain);\r\n    } else if (i18nlocale === \"tr\") {\r\n      setSelectedFlag(flagTurkey);\r\n    } else {\r\n      setSelectedFlag(flagBrasil);\r\n    }\r\n  }, []);\r\n\r\n  const handleCloseLanguageMenu = () => {\r\n    setLangueMenuAnchorEl(null);\r\n  };\r\n\r\n  const handleChangeLanguage = async (language, flag) => {\r\n    try {\r\n      await i18n.changeLanguage(language);\r\n      await api.put(`/users/${user.id}`, { language });\r\n      setSelectedFlag(flag);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    handleCloseLanguageMenu();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Tooltip title={i18n.t(\"appBarListem.language\")}>\r\n        <IconButton\r\n          size=\"small\"\r\n          color=\"inherit\"\r\n          onClick={handleOpenLanguageMenu}\r\n          className={classes.smallButton}\r\n        >\r\n          <img\r\n            src={selectedFlag}\r\n            alt=\"Selected flag\"\r\n            className={classes.flagIcon}\r\n          />\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Menu\r\n        anchorEl={langueMenuAnchorEl}\r\n        keepMounted\r\n        open={Boolean(langueMenuAnchorEl)}\r\n        onClose={handleCloseLanguageMenu}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\", // Âncora na parte inferior do botão\r\n          horizontal: \"center\", // Centralizado horizontalmente no botão\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\", // O menu se expande de cima para baixo\r\n          horizontal: \"center\", // Alinhado horizontalmente ao centro do botão\r\n        }}\r\n      >\r\n        <MenuItem\r\n          onClick={() => handleChangeLanguage(\"pt-BR\", flagBrasil)}\r\n          style={{ display: \"flex\", alignItems: \"center\", gap: 4 }}\r\n        >\r\n          <img src={flagBrasil} alt=\"Brasil\" className={classes.flagIcon} />{\" \"}\r\n          <span>{i18n.t(\"languages.pt-BR\")}</span>\r\n        </MenuItem>\r\n        <MenuItem\r\n          onClick={() => handleChangeLanguage(\"en\", flagUsa)}\r\n          style={{ display: \"flex\", alignItems: \"center\", gap: 4 }}\r\n        >\r\n          <img src={flagUsa} alt=\"USA\" className={classes.flagIcon} />{\" \"}\r\n          <span>{i18n.t(\"languages.en\")}</span>\r\n        </MenuItem>\r\n        <MenuItem\r\n          onClick={() => handleChangeLanguage(\"es\", flagSpain)}\r\n          style={{ display: \"flex\", alignItems: \"center\", gap: 4 }}\r\n        >\r\n          <img src={flagSpain} alt=\"Spain\" className={classes.flagIcon} />{\" \"}\r\n          <span>{i18n.t(\"languages.es\")}</span>\r\n        </MenuItem>\r\n        <MenuItem\r\n          onClick={() => handleChangeLanguage(\"tr\", flagTurkey)}\r\n          style={{ display: \"flex\", alignItems: \"center\", gap: 4 }}\r\n        >\r\n          <img src={flagTurkey} alt=\"Turkey\" className={classes.flagIcon} />{\" \"}\r\n          <span>{i18n.t(\"languages.tr\")}</span>\r\n        </MenuItem>\r\n      </Menu>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserLanguageSelector;\r\n","import moment from \"moment\";\r\n\r\nexport function useDate() {\r\n  function dateToClient(strDate) {\r\n    if (moment(strDate).isValid()) {\r\n      return moment(strDate).format(\"DD/MM/YYYY\");\r\n    }\r\n    return strDate;\r\n  }\r\n\r\n  function datetimeToClient(strDate) {\r\n    if (moment(strDate).isValid()) {\r\n      return moment(strDate).format(\"DD/MM/YYYY HH:mm\");\r\n    }\r\n    return strDate;\r\n  }\r\n\r\n  function dateToDatabase(strDate) {\r\n    if (moment(strDate, \"DD/MM/YYYY\").isValid()) {\r\n      return moment(strDate).format(\"YYYY-MM-DD HH:mm:ss\");\r\n    }\r\n    return strDate;\r\n  }\r\n\r\n  function returnDays(date) {\r\n    let data1 = new Date()\r\n    let data2 = new Date(date)\r\n    let result = data2.getTime() - data1.getTime();\r\n    let days = Math.ceil(result / (1000 * 60 * 60 * 24));\r\n\r\n    if (days === -0) {\r\n      days = 0\r\n    }\r\n    return days;\r\n  }\r\n\r\n  return {\r\n    dateToClient,\r\n    datetimeToClient,\r\n    dateToDatabase,\r\n    returnDays\r\n  };\r\n}\r\n","import api, { openApi } from \"../../services/api\";\r\n\r\nconst useSettings = () => {\r\n  const getAll = async (params) => {\r\n    const { data } = await api.request({\r\n      url: \"/settings\",\r\n      method: \"GET\",\r\n      params,\r\n    });\r\n    return data;\r\n  };\r\n\r\n  const update = async (data) => {\r\n    const { data: responseData } = await api.request({\r\n      url: `/settings/${data.key}`,\r\n      method: \"PUT\",\r\n      data,\r\n    });\r\n    return responseData;\r\n  };\r\n\r\n  const get = async (param) => {\r\n    const { data } = await api.request({\r\n      url: `/setting/${param}`,\r\n      method: \"GET\",\r\n    });\r\n    return data;\r\n  };\r\n\r\n  const getPublicSetting = async (key) => {\r\n    const params = {\r\n      token: \"wtV\"\r\n    }\r\n\r\n    const { data } = await openApi.request({\r\n        url: `/public-settings/${key}`,\r\n        method: 'GET',\r\n        params\r\n    });\r\n    return data;\r\n  };\r\n\r\n  return {\r\n    getAll,\r\n    update,\r\n    get,\r\n    getPublicSetting,\r\n  };\r\n};\r\n\r\nexport default useSettings;\r\n","import {\r\n  Badge,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemText,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport ForumIcon from \"@material-ui/icons/Forum\";\r\nimport { isArray } from \"lodash\";\r\nimport React, {\r\n  useContext,\r\n  useEffect,\r\n  useReducer,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\n\r\nimport useSound from \"use-sound\";\r\nimport notifySound from \"../../assets/chat_notify.mp3\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    maxHeight: 300,\r\n    maxWidth: 500,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CHATS\") {\r\n    const chats = action.payload;\r\n    const newChats = [];\r\n\r\n    if (isArray(chats)) {\r\n      chats.forEach((chat) => {\r\n        const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n        if (chatIndex !== -1) {\r\n          state[chatIndex] = chat;\r\n        } else {\r\n          newChats.push(chat);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newChats];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CHATS\") {\r\n    const chat = action.payload;\r\n    const chatIndex = state.findIndex((u) => u.id === chat.id);\r\n\r\n    if (chatIndex !== -1) {\r\n      state[chatIndex] = chat;\r\n      return [...state];\r\n    } else {\r\n      return [chat, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CHAT\") {\r\n    const chatId = action.payload;\r\n\r\n    const chatIndex = state.findIndex((u) => u.id === chatId);\r\n    if (chatIndex !== -1) {\r\n      state.splice(chatIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n\r\n  if (action.type === \"CHANGE_CHAT\") {\r\n    const changedChats = state.map((chat) => {\r\n      if (chat.id === action.payload.chat.id) {\r\n        return action.payload.chat;\r\n      }\r\n      return chat;\r\n    });\r\n    return changedChats;\r\n  }\r\n};\r\n\r\nexport default function ChatPopover() {\r\n  const classes = useStyles();\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [searchParam] = useState(\"\");\r\n  const [chats, dispatch] = useReducer(reducer, []);\r\n  const [invisible, setInvisible] = useState(true);\r\n  const { datetimeToClient } = useDate();\r\n  const [play] = useSound(notifySound);\r\n  const soundAlertRef = useRef();\r\n\r\n  useEffect(() => {\r\n    soundAlertRef.current = play;\r\n\r\n    if (!(\"Notification\" in window)) {\r\n      console.log(\"This browser doesn't support notifications\");\r\n    } else {\r\n      Notification.requestPermission();\r\n    }\r\n  }, [play]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchChats();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (user.companyId) {\r\n      const companyId = user.companyId;\r\n      //    const socket = socketManager.GetSocket();\r\n\r\n      const onCompanyChatPopover = (data) => {\r\n        if (data.action === \"new-message\") {\r\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n          if (data.newMessage.senderId !== user.id) {\r\n            soundAlertRef.current();\r\n          }\r\n        }\r\n        if (data.action === \"update\") {\r\n          dispatch({ type: \"CHANGE_CHAT\", payload: data });\r\n        }\r\n      };\r\n\r\n      socket.on(`company-${companyId}-chat`, onCompanyChatPopover);\r\n\r\n      return () => {\r\n        socket.off(`company-${companyId}-chat`, onCompanyChatPopover);\r\n      };\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [user]);\r\n\r\n  useEffect(() => {\r\n    let unreadsCount = 0;\r\n    if (chats.length > 0) {\r\n      for (let chat of chats) {\r\n        for (let chatUser of chat.users) {\r\n          if (chatUser.userId === user.id) {\r\n            unreadsCount += chatUser.unreads;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    if (unreadsCount > 0) {\r\n      setInvisible(false);\r\n    } else {\r\n      setInvisible(true);\r\n    }\r\n  }, [chats, user.id]);\r\n\r\n  const fetchChats = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/chats/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_CHATS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setInvisible(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const goToMessages = (chat) => {\r\n    window.location.href = `/chats/${chat.uuid}`;\r\n  };\r\n\r\n  const open = Boolean(anchorEl);\r\n  const id = open ? \"simple-popover\" : undefined;\r\n\r\n  return (\r\n    <div>\r\n      <IconButton\r\n        aria-describedby={id}\r\n        variant=\"contained\"\r\n        color={invisible ? \"default\" : \"inherit\"}\r\n        onClick={handleClick}\r\n        size=\"small\"\r\n        style={{ color: \"white\", marginRight: 15 }}\r\n      >\r\n        <Badge color=\"secondary\" variant=\"dot\" invisible={invisible}>\r\n          <ForumIcon style={{ width: \"18px\", height: \"18px\" }} />\r\n        </Badge>\r\n      </IconButton>\r\n      <Popover\r\n        id={id}\r\n        open={open}\r\n        anchorEl={anchorEl}\r\n        onClose={handleClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n      >\r\n        <Paper\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n          className={classes.mainPaper}\r\n        >\r\n          <List\r\n            component=\"nav\"\r\n            aria-label=\"main mailbox folders\"\r\n            style={{ minWidth: 300 }}\r\n          >\r\n            {isArray(chats) &&\r\n              chats.map((item, key) => (\r\n                <ListItem\r\n                  key={key}\r\n                  style={{\r\n                    background: key % 2 === 0 ? \"#ededed\" : \"white\",\r\n                    border: \"1px solid #eee\",\r\n                    cursor: \"pointer\",\r\n                  }}\r\n                  onClick={() => goToMessages(item)}\r\n                  button\r\n                >\r\n                  <ListItemText\r\n                    primary={item.lastMessage}\r\n                    secondary={\r\n                      <>\r\n                        <Typography component=\"span\" style={{ fontSize: 12 }}>\r\n                          {datetimeToClient(item.updatedAt)}\r\n                        </Typography>\r\n                        <span style={{ marginTop: 5, display: \"block\" }}></span>\r\n                      </>\r\n                    }\r\n                  />\r\n                </ListItem>\r\n              ))}\r\n            {isArray(chats) && chats.length === 0 && (\r\n              <ListItemText primary={i18n.t(\"mainDrawer.appBar.notRegister\")} />\r\n            )}\r\n          </List>\r\n        </Paper>\r\n      </Popover>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport api from \"../../services/api\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport { Tooltip } from \"@material-ui/core\";\r\n\r\nimport { TriangleAlert } from \"lucide-react\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst packageVersion = require(\"../../../package.json\").version;\r\n\r\nconst VersionControl = () => {\r\n  const [storedVersion] = useState(\r\n    window.localStorage.getItem(\"version\") || \"0.0.0\"\r\n  );\r\n\r\n  const handleUpdateVersion = async () => {\r\n    window.localStorage.setItem(\"version\", packageVersion);\r\n\r\n    // Mantive apenas para salvar no banco a versao atual\r\n    const { data } = await api.post(\"/version\", {\r\n      version: packageVersion,\r\n    });\r\n\r\n    // Limpar o cache do navegador\r\n    caches.keys().then(function (names) {\r\n      for (let name of names) caches.delete(name);\r\n    });\r\n\r\n    // Atraso para garantir que o cache foi limpo\r\n    setTimeout(() => {\r\n      window.location.reload(true); // Recarregar a página\r\n    }, 1000);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        width: 35,\r\n        height: 35,\r\n        borderRadius: 20,\r\n        paddingTop: \"5px\",\r\n      }}\r\n    >\r\n      {storedVersion !== packageVersion && (\r\n        <Tooltip\r\n          title={i18n.t(\"appBarListem.newVersion\")}\r\n          arrow\r\n          placement=\"bottom\"\r\n        >\r\n          <div onClick={handleUpdateVersion}>\r\n            {\" \"}\r\n            <TriangleAlert\r\n              style={{\r\n                width: \"20px\",\r\n                height: \"20px\",\r\n\r\n                color: \"#FF0\",\r\n                cursor: \"pointer\",\r\n              }}\r\n            />\r\n          </div>\r\n        </Tooltip>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default VersionControl;\r\n","import React, { useContext, useState } from \"react\";\r\nimport { IconButton, Menu, MenuItem, Tooltip } from \"@material-ui/core\";\r\nimport { LayoutDashboard } from \"lucide-react\";\r\n\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport { i18n } from \"../translate/i18n\";\r\n\r\nimport { AnimatePresence, motion } from \"framer-motion\";\r\nimport {\r\n  ArrowSquare,\r\n  Calendar,\r\n  Flash,\r\n  Kanban,\r\n  MessageFavorite,\r\n  Setting2,\r\n  Tag,\r\n  UserAdd,\r\n  Whatsapp,\r\n} from \"iconsax-react\";\r\n\r\nimport { ArrowRight } from \"@material-ui/icons\";\r\nimport { Link as RouterLink } from \"react-router-dom\";\r\nimport VersionControl from \"../components/VersionControl\";\r\n\r\nexport default function AppListItems() {\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const [selectedSubMenu, setSelectedSubMenu] = useState(\"\");\r\n  const [activeButton, setActiveButton] = useState(null);\r\n  const [submenuAnchorEl, setSubmenuAnchorEl] = useState(null);\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const { user, handleLogout, loading } = useContext(AuthContext);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuOpen(true);\r\n  };\r\n  const handleSubmenuOpen = (event) => {\r\n    setSubmenuAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleSubmenuClose = () => {\r\n    setSubmenuAnchorEl(null);\r\n  };\r\n\r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n    setMenuOpen(false);\r\n  };\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    setActiveButton(null);\r\n  };\r\n\r\n  const handleMenuClick = (event, buttonIndex) => {\r\n    // Abre o menu correspondente e fecha qualquer outro menu aberto\r\n    setAnchorEl(event.currentTarget);\r\n    setActiveButton(buttonIndex);\r\n  };\r\n\r\n  const handleOpenUserModal = () => {\r\n    setUserModalOpen(true);\r\n    handleCloseMenu();\r\n  };\r\n\r\n  const handleClickLogout = () => {\r\n    handleCloseMenu();\r\n    handleLogout();\r\n  };\r\n  const handleSubMenuClick = (submenu, buttonIndex) => {\r\n    // Define o submenu correspondente ao botão e limpa todos os outros\r\n    setSelectedSubMenu({ [buttonIndex]: submenu });\r\n    handleMenuClose();\r\n  };\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n        gap: 15,\r\n        marginRight: 15,\r\n      }}\r\n    >\r\n      <VersionControl />\r\n\r\n      <Tooltip title={i18n.t(\"appBarListem.ticket\")}>\r\n        <IconButton\r\n          component={RouterLink}\r\n          to=\"/tickets\"\r\n          size=\"small\"\r\n          style={{\r\n            borderRadius: selectedSubMenu[2] ? 5 : 80,\r\n            paddingInline: selectedSubMenu[2] ? \"5px\" : 2,\r\n            fontSize: \"12px\",\r\n            color: \"#FFF\",\r\n            fontFamily: \"Poppins\",\r\n          }}\r\n        >\r\n          <Whatsapp style={{ width: \"20px\", height: \"20px\" }} />{\" \"}\r\n        </IconButton>\r\n      </Tooltip>\r\n\r\n      {/* Dashboard */}\r\n      {user.profile === \"admin\" && (\r\n        <Tooltip title={i18n.t(\"appBarListem.reports\")}>\r\n          <IconButton\r\n            size=\"small\"\r\n            style={{\r\n              borderRadius: selectedSubMenu[2] ? 5 : 80,\r\n              paddingInline: selectedSubMenu[2] ? \"5px\" : 2,\r\n              fontSize: \"14px\",\r\n              color: \"#FFF\",\r\n              fontFamily: \"Poppins\",\r\n            }}\r\n            onClick={(event) => handleMenuClick(event, 2)}\r\n          >\r\n            <LayoutDashboard style={{ width: \"20px\", height: \"20px\" }} />{\" \"}\r\n            <AnimatePresence>\r\n              {selectedSubMenu[2] && (\r\n                <motion.span\r\n                  key=\"submenu-1\"\r\n                  initial={{ width: 0, opacity: 0 }}\r\n                  animate={{ width: \"auto\", opacity: 1 }}\r\n                  exit={{ width: 0, opacity: 0 }}\r\n                  transition={{ duration: 0.3 }}\r\n                  style={{\r\n                    marginLeft: 4,\r\n                    display: \"inline-block\",\r\n                    overflow: \"hidden\",\r\n                    whiteSpace: \"nowrap\",\r\n                    fontSize: \"12px\",\r\n                    fontFamily: \"Poppins\",\r\n                  }}\r\n                >\r\n                  {selectedSubMenu[2]}\r\n                </motion.span>\r\n              )}\r\n            </AnimatePresence>\r\n          </IconButton>\r\n        </Tooltip>\r\n      )}\r\n\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        getContentAnchorEl={null}\r\n        open={activeButton === 2}\r\n        onClose={handleMenuClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\", // Âncora na parte inferior do botão\r\n          horizontal: \"center\", // Centralizado horizontalmente no botão\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\", // O menu se expande de cima para baixo\r\n          horizontal: \"center\", // Alinhado horizontalmente ao centro do botão\r\n        }}\r\n      >\r\n        <MenuItem\r\n          onClick={() => handleSubMenuClick(\"Dashboard\", 2)}\r\n          component={RouterLink}\r\n          to=\"/\"\r\n        >\r\n          Dashboard\r\n        </MenuItem>\r\n        <MenuItem\r\n          onClick={() => handleSubMenuClick(\"Relatórios\", 2)}\r\n          component={RouterLink}\r\n          to=\"/reports\"\r\n        >\r\n          Relatórios\r\n        </MenuItem>\r\n        <MenuItem\r\n          onClick={() => handleSubMenuClick(\"Painel de atendimento\", 2)}\r\n          component={RouterLink}\r\n          to=\"/moments\"\r\n        >\r\n          Painel\r\n        </MenuItem>\r\n      </Menu>\r\n      {/* QuickResponse */}\r\n      <Tooltip title={i18n.t(\"appBarListem.quickResponse\")}>\r\n        <IconButton\r\n          component={RouterLink}\r\n          to=\"/quick-messages\"\r\n          size=\"small\"\r\n          style={{\r\n            borderRadius: selectedSubMenu[2] ? 5 : 80,\r\n            paddingInline: selectedSubMenu[2] ? \"5px\" : 2,\r\n            fontSize: \"12px\",\r\n            color: \"#FFF\",\r\n            fontFamily: \"Poppins\",\r\n          }}\r\n        >\r\n          <Flash style={{ width: \"20px\", height: \"20px\" }} />{\" \"}\r\n        </IconButton>\r\n      </Tooltip>\r\n      {/* Kanbabn */}\r\n      <Tooltip title={i18n.t(\"appBarListem.kanban\")}>\r\n        <IconButton\r\n          component={RouterLink}\r\n          to=\"/kanban\"\r\n          size=\"small\"\r\n          style={{\r\n            borderRadius: selectedSubMenu[2] ? 5 : 80,\r\n            paddingInline: selectedSubMenu[2] ? \"5px\" : 2,\r\n            fontSize: \"12px\",\r\n            color: \"#FFF\",\r\n            fontFamily: \"Poppins\",\r\n          }}\r\n        >\r\n          <Kanban style={{ width: \"20px\", height: \"20px\" }} />{\" \"}\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Tooltip title={i18n.t(\"appBarListem.contacts\")}>\r\n        <IconButton\r\n          component={RouterLink}\r\n          to=\"/contacts\"\r\n          size=\"small\"\r\n          style={{\r\n            borderRadius: selectedSubMenu[2] ? 5 : 80,\r\n            paddingInline: selectedSubMenu[2] ? \"5px\" : 2,\r\n            fontSize: \"12px\",\r\n            color: \"#FFF\",\r\n            fontFamily: \"Poppins\",\r\n          }}\r\n        >\r\n          <UserAdd style={{ width: \"20px\", height: \"20px\" }} />{\" \"}\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Tooltip title={i18n.t(\"appBarListem.schedule\")}>\r\n        <IconButton\r\n          component={RouterLink}\r\n          to=\"/schedules\"\r\n          size=\"small\"\r\n          style={{\r\n            borderRadius: selectedSubMenu[2] ? 5 : 80,\r\n            paddingInline: selectedSubMenu[2] ? \"5px\" : 2,\r\n            fontSize: \"12px\",\r\n            color: \"#FFF\",\r\n            fontFamily: \"Poppins\",\r\n          }}\r\n        >\r\n          <Calendar style={{ width: \"20px\", height: \"20px\" }} />{\" \"}\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Tooltip title={i18n.t(\"appBarListem.tags\")}>\r\n        <IconButton\r\n          component={RouterLink}\r\n          to=\"/tags\"\r\n          size=\"small\"\r\n          style={{\r\n            borderRadius: selectedSubMenu[2] ? 5 : 80,\r\n            paddingInline: selectedSubMenu[2] ? \"5px\" : 2,\r\n            fontSize: \"12px\",\r\n            color: \"#FFF\",\r\n            fontFamily: \"Poppins\",\r\n          }}\r\n        >\r\n          <Tag style={{ width: \"20px\", height: \"20px\" }} />{\" \"}\r\n        </IconButton>\r\n      </Tooltip>\r\n      <Tooltip title={i18n.t(\"appBarListem.chats\")}>\r\n        <IconButton\r\n          component={RouterLink}\r\n          to=\"/chats\"\r\n          size=\"small\"\r\n          style={{\r\n            borderRadius: selectedSubMenu[2] ? 5 : 80,\r\n            paddingInline: selectedSubMenu[2] ? \"5px\" : 2,\r\n            fontSize: \"12px\",\r\n            color: \"#FFF\",\r\n            fontFamily: \"Poppins\",\r\n          }}\r\n        >\r\n          <MessageFavorite style={{ width: \"20px\", height: \"20px\" }} />{\" \"}\r\n        </IconButton>\r\n      </Tooltip>\r\n      {/* Bots */}\r\n      {user.profile === \"admin\" && (\r\n        <Tooltip title={i18n.t(\"appBarListem.chatBots\")}>\r\n          <IconButton\r\n            component={RouterLink}\r\n            to=\"/queues\"\r\n            size=\"small\"\r\n            style={{\r\n              borderRadius: selectedSubMenu[2] ? 5 : 80,\r\n              paddingInline: selectedSubMenu[2] ? \"5px\" : 2,\r\n              fontSize: \"12px\",\r\n              color: \"#FFF\",\r\n              fontFamily: \"Poppins\",\r\n            }}\r\n          >\r\n            <ArrowSquare style={{ width: \"20px\", height: \"20px\" }} />{\" \"}\r\n          </IconButton>\r\n        </Tooltip>\r\n      )}\r\n\r\n      {/* <SearchInput /> */}\r\n\r\n      {/* Menu Setting */}\r\n      {user.profile === \"admin\" && (\r\n        <Tooltip title={i18n.t(\"appBarListem.settings\")}>\r\n          <IconButton\r\n            color=\"inherit\"\r\n            size=\"small\"\r\n            onClick={(event) => handleMenuClick(event, 1)}\r\n            style={{\r\n              borderRadius: selectedSubMenu[0] ? 5 : 80,\r\n              paddingInline: selectedSubMenu[0] ? \"5px\" : 2,\r\n              fontSize: \"14px\",\r\n              color: \"#FFF\",\r\n              fontFamily: \"Poppins\",\r\n            }}\r\n          >\r\n            <Setting2 style={{ width: \"20px\", height: \"20px\" }} />\r\n            <AnimatePresence>\r\n              {selectedSubMenu[1] && (\r\n                <motion.span\r\n                  key=\"submenu-1\"\r\n                  initial={{ width: 0, opacity: 0 }}\r\n                  animate={{ width: \"auto\", opacity: 1 }}\r\n                  exit={{ width: 0, opacity: 0 }}\r\n                  transition={{ duration: 0.3 }}\r\n                  style={{\r\n                    marginLeft: 4,\r\n                    display: \"inline-block\",\r\n                    overflow: \"hidden\",\r\n                    whiteSpace: \"nowrap\",\r\n                    fontSize: \"14px\",\r\n                    fontFamily: \"Poppins\",\r\n                  }}\r\n                >\r\n                  {selectedSubMenu[1]}\r\n                </motion.span>\r\n              )}\r\n            </AnimatePresence>\r\n          </IconButton>\r\n        </Tooltip>\r\n      )}\r\n\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        keepMounted\r\n        getContentAnchorEl={null}\r\n        open={activeButton === 1}\r\n        onClose={handleMenuClose}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\", // Âncora na parte inferior do botão\r\n          horizontal: \"center\", // Centralizado horizontalmente no botão\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\", // O menu se expande de cima para baixo\r\n          horizontal: \"center\", // Alinhado horizontalmente ao centro do botão\r\n        }}\r\n      >\r\n        <MenuItem\r\n          onClick={handleSubmenuOpen}\r\n          style={{\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"space-between\",\r\n          }}\r\n        >\r\n          <span>Campanhas</span>\r\n          <ArrowRight />\r\n        </MenuItem>\r\n\r\n        <Menu\r\n          anchorEl={submenuAnchorEl}\r\n          keepMounted\r\n          open={Boolean(submenuAnchorEl)}\r\n          onClose={handleSubmenuClose}\r\n          anchorOrigin={{\r\n            vertical: \"top\",\r\n            horizontal: \"right\", // Âncora o submenu à direita do item\r\n          }}\r\n          transformOrigin={{\r\n            vertical: \"top\",\r\n            horizontal: \"left\", // O submenu se expande da esquerda para a direita\r\n          }}\r\n        >\r\n          <MenuItem\r\n            onClick={() => {\r\n              handleSubMenuClick(\"Listagem\", 1);\r\n              handleSubmenuClose();\r\n            }}\r\n            component={RouterLink}\r\n            to=\"/campaigns\"\r\n          >\r\n            Listagem\r\n          </MenuItem>\r\n          <MenuItem\r\n            onClick={() => {\r\n              handleSubMenuClick(\"Lista de contatos\", 1);\r\n              handleSubmenuClose();\r\n            }}\r\n            component={RouterLink}\r\n            to=\"/contact-lists\"\r\n          >\r\n            Lista de contatos\r\n          </MenuItem>\r\n          <MenuItem\r\n            onClick={() => {\r\n              handleSubMenuClick(\"Configurações\", 1);\r\n              handleSubmenuClose();\r\n            }}\r\n            component={RouterLink}\r\n            to=\"/campaigns-config\"\r\n          >\r\n            Configurações\r\n          </MenuItem>\r\n        </Menu>\r\n\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/NotifyMe\"\r\n          onClick={() => handleSubMenuClick(\"Notificação do usuário\", 1)}\r\n        >\r\n          Notificação do usuário\r\n        </MenuItem>\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/announcements\"\r\n          onClick={() => handleSubMenuClick(\"Informativos\", 1)}\r\n        >\r\n          Informativos\r\n        </MenuItem>\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/messages-api\"\r\n          onClick={() => handleSubMenuClick(\"API\", 1)}\r\n        >\r\n          API\r\n        </MenuItem>\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/users\"\r\n          onClick={() => handleSubMenuClick(\"Usuários\", 1)}\r\n        >\r\n          Usuários\r\n        </MenuItem>\r\n        {/* <MenuItem\r\n          component={RouterLink}\r\n          to=\"/queues\"\r\n          onClick={() => handleSubMenuClick(\" Filas & ChatsBots\", 1)}\r\n        >\r\n          Filas & ChatsBots\r\n        </MenuItem> */}\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/prompts\"\r\n          onClick={() => handleSubMenuClick(\"Talk.Ai\", 1)}\r\n        >\r\n          Talk.Ai\r\n        </MenuItem>\r\n        <MenuItem\r\n          onClick={() => {\r\n            handleSubMenuClick(\"Fluxo de campanhas\", 1);\r\n            handleSubmenuClose();\r\n          }}\r\n          component={RouterLink}\r\n          to=\"/phrase-lists\"\r\n        >\r\n          Fluxo de campanhas\r\n        </MenuItem>\r\n        <MenuItem\r\n          onClick={() => {\r\n            handleSubMenuClick(\"Fluxo de conversa\", 1);\r\n            handleSubmenuClose();\r\n          }}\r\n          component={RouterLink}\r\n          to=\"/flowbuilders\"\r\n        >\r\n          Fluxo de conversa\r\n        </MenuItem>\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/queue-integration\"\r\n          onClick={() => handleSubMenuClick(\"Integrações\", 1)}\r\n        >\r\n          Integrações\r\n        </MenuItem>\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/connections\"\r\n          onClick={() => handleSubMenuClick(\"Conexões\", 1)}\r\n        >\r\n          Conexões\r\n        </MenuItem>\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/allConnections\"\r\n          onClick={() => handleSubMenuClick(\"Gerenciar conexões\", 1)}\r\n        >\r\n          Gerenciar conexões\r\n        </MenuItem>\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/files\"\r\n          onClick={() => handleSubMenuClick(\"Lista de arquivos\", 1)}\r\n        >\r\n          Lista de arquivos\r\n        </MenuItem>\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/financeiro\"\r\n          onClick={() => handleSubMenuClick(\"Financeiro\", 1)}\r\n        >\r\n          Financeiro\r\n        </MenuItem>\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/settings\"\r\n          onClick={() => handleSubMenuClick(\"Configurações\", 1)}\r\n        >\r\n          Configurações\r\n        </MenuItem>\r\n        <MenuItem\r\n          component={RouterLink}\r\n          to=\"/companies\"\r\n          onClick={() => handleSubMenuClick(\"Empresas\", 1)}\r\n        >\r\n          Empresas\r\n        </MenuItem>\r\n      </Menu>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useRef, useState } from \"react\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Popover from \"@material-ui/core/Popover\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport VolumeDownIcon from \"@material-ui/icons/VolumeDown\";\r\nimport VolumeUpIcon from \"@material-ui/icons/VolumeUp\";\r\n\r\nimport { Grid, Slider } from \"@material-ui/core\";\r\nimport { VolumeHigh } from \"iconsax-react\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  tabContainer: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  popoverPaper: {\r\n    width: \"100%\",\r\n    maxWidth: 350,\r\n    marginLeft: theme.spacing(2),\r\n    marginRight: theme.spacing(1),\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      maxWidth: 270,\r\n    },\r\n  },\r\n  noShadow: {\r\n    boxShadow: \"none !important\",\r\n  },\r\n  icons: {\r\n    color: \"#fff\",\r\n  },\r\n  customBadge: {\r\n    backgroundColor: \"#f44336\",\r\n    color: \"#fff\",\r\n  },\r\n}));\r\n\r\nconst NotificationsVolume = ({ volume, setVolume }) => {\r\n  const classes = useStyles();\r\n\r\n  const anchorEl = useRef();\r\n  const [isOpen, setIsOpen] = useState(false);\r\n\r\n  const handleClick = () => {\r\n    setIsOpen((prevState) => !prevState);\r\n  };\r\n\r\n  const handleClickAway = () => {\r\n    setIsOpen(false);\r\n  };\r\n\r\n  const handleVolumeChange = (value) => {\r\n    setVolume(value);\r\n    localStorage.setItem(\"volume\", value);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <IconButton\r\n        className={classes.icons}\r\n        onClick={handleClick}\r\n        ref={anchorEl}\r\n        aria-label=\"Open Notifications\"\r\n        // color=\"inherit\"\r\n        // color=\"secondary\"\r\n      >\r\n        <VolumeHigh\r\n          color=\"white\"\r\n          style={{\r\n            color: \"white\",\r\n            width: \"20px\",\r\n            height: \"20px\",\r\n            marginLeft: \"-15px\",\r\n          }}\r\n        />\r\n      </IconButton>\r\n      <Popover\r\n        disableScrollLock\r\n        open={isOpen}\r\n        anchorEl={anchorEl.current}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        classes={{ paper: classes.popoverPaper }}\r\n        onClose={handleClickAway}\r\n      >\r\n        <List dense className={classes.tabContainer}>\r\n          <Grid container spacing={2}>\r\n            <Grid item>\r\n              <VolumeDownIcon />\r\n            </Grid>\r\n            <Grid item xs>\r\n              <Slider\r\n                value={Number(volume)}\r\n                aria-labelledby=\"continuous-slider\"\r\n                step={0.1}\r\n                min={0}\r\n                max={1}\r\n                onChange={(e, value) => handleVolumeChange(value)}\r\n              />\r\n            </Grid>\r\n            <Grid item>\r\n              <VolumeUpIcon />\r\n            </Grid>\r\n          </Grid>\r\n        </List>\r\n      </Popover>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default NotificationsVolume;\r\n","import clsx from \"clsx\";\r\nimport React, { useContext, useEffect, useMemo, useState } from \"react\";\r\n// import moment from \"moment\";\r\n\r\n// import { isNill } from \"lodash\";\r\n// import SoftPhone from \"react-softphone\";\r\n// import { WebSocketInterface } from \"jssip\";\r\n\r\nimport {\r\n  AppBar,\r\n  Avatar,\r\n  // FormControl,\r\n  Badge,\r\n  Chip,\r\n  Divider,\r\n  Drawer,\r\n  IconButton,\r\n  List,\r\n  makeStyles,\r\n  Menu,\r\n  MenuItem,\r\n  Toolbar,\r\n  Tooltip,\r\n  Typography,\r\n  useMediaQuery,\r\n  useTheme,\r\n  withStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport ChevronLeftIcon from \"@material-ui/icons/ChevronLeft\";\r\nimport MenuIcon from \"@material-ui/icons/Menu\";\r\n// import AccountCircle from \"@material-ui/icons/AccountCircle\";\r\n// import whatsappIcon from \"../assets/nopicture.png\";\r\n\r\nimport BackdropLoading from \"../components/BackdropLoading\";\r\nimport NotificationsPopOver from \"../components/NotificationsPopOver\";\r\nimport UserModal from \"../components/UserModal\";\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport MainListItems from \"./MainListItems\";\r\n// import DarkMode from \"../components/DarkMode\";\r\nimport { MoonStar, Sun } from \"lucide-react\";\r\nimport AnnouncementsPopover from \"../components/AnnouncementsPopover\";\r\nimport UserLanguageSelector from \"../components/UserLanguageSelector\";\r\nimport { getBackendUrl } from \"../config\";\r\nimport toastError from \"../errors/toastError\";\r\nimport { useDate } from \"../hooks/useDate\";\r\nimport useSettings from \"../hooks/useSettings\";\r\nimport ChatPopover from \"../pages/Chat/ChatPopover\";\r\nimport { i18n } from \"../translate/i18n\";\r\nimport ColorModeContext from \"./themeContext\";\r\n\r\nimport { ChevronRight } from \"@material-ui/icons\";\r\n// import { SocketContext } from \"../context/Socket/SocketContext\";\r\nimport AppListItems from \"./AppListItems\";\r\nimport NotificationsVolume from '../components/NotificationsVolume';\r\nconst backendUrl = getBackendUrl();\r\n\r\nconst drawerWidth = 240;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100vh\",\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      height: \"calc(100vh - 56px)\",\r\n    },\r\n    backgroundColor: theme.palette.fancyBackground,\r\n    \"& .MuiButton-outlinedPrimary\": {\r\n      color: theme.palette.primary,\r\n      border:\r\n        theme.mode === \"light\"\r\n          ? \"1px solid rgba(0 124 102)\"\r\n          : \"1px solid rgba(255, 255, 255, 0.5)\",\r\n    },\r\n    \"& .MuiTab-textColorPrimary.Mui-selected\": {\r\n      color: theme.palette.primary,\r\n    },\r\n  },\r\n  chip: {\r\n    background: \"red\",\r\n    color: \"white\",\r\n  },\r\n  avatar: {\r\n    width: \"100%\",\r\n  },\r\n  toolbar: {\r\n    paddingRight: 24, // keep right padding when drawer closed\r\n    color: theme.palette.dark.main,\r\n    background: theme.palette.barraSuperior,\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  toolbarIcon: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    // backgroundColor: \"#FFF\",\r\n    backgroundSize: \"cover\",\r\n    padding: \"0 8px\",\r\n    minHeight: \"48px\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      height: \"48px\",\r\n    },\r\n  },\r\n  appBar: {\r\n    zIndex: theme.zIndex.drawer + 1,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  appBarShift: {\r\n    marginLeft: drawerWidth,\r\n    width: `calc(100% - ${drawerWidth}px)`,\r\n    transition: theme.transitions.create([\"width\", \"margin\"], {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    // [theme.breakpoints.down(\"sm\")]: {\r\n    //   display: \"none\",\r\n    // },\r\n  },\r\n  // menuButton: {\r\n  //   marginRight: 36,\r\n  // },\r\n  menuButtonHidden: {\r\n    display: \"none\",\r\n  },\r\n  containerMenuButton: {\r\n    width: \"100%\",\r\n    height: \"37px\",\r\n    backgroundColor: \"#FAFAFA\",\r\n    position: \"fixed\",\r\n    zIndex: 99,\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  menuButton: {\r\n    color: \"black\",\r\n    display: \"block\",\r\n    marginLeft: 5,\r\n  },\r\n  title: {\r\n    flexGrow: 1,\r\n    fontSize: 14,\r\n    color: \"white\",\r\n    marginLeft: 10,\r\n  },\r\n  drawerPaper: {\r\n    position: \"relative\",\r\n    whiteSpace: \"nowrap\",\r\n    // overflowX: \"hidden\",\r\n    width: drawerWidth,\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    overflowX: \"hidden\",\r\n    overflowY: \"hidden\",\r\n  },\r\n\r\n  drawerPaperClose: {\r\n    overflowX: \"hidden\",\r\n    overflowY: \"hidden\",\r\n    height: \"100dvh\",\r\n    transition: theme.transitions.create(\"width\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n    width: \"72px\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: theme.spacing(9),\r\n    },\r\n  },\r\n\r\n  appBarSpacer: {\r\n    minHeight: \"48px\",\r\n  },\r\n  appBarSpacerVertical: {\r\n    minHeight: 0,\r\n  },\r\n  content: {\r\n    flex: 1,\r\n    overflow: \"auto\",\r\n    height: \"100dvh\",\r\n  },\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  // paper: {\r\n  //     padding: theme.spacing(2),\r\n  //     display: \"flex\",\r\n  //     overflow: \"auto\",\r\n  //     flexDirection: \"column\",\r\n  //   },\r\n  containerWithScroll: {\r\n    flex: 1,\r\n    // padding: theme.spacing(1),\r\n    overflowY: \"scroll\", // Use \"auto\" para mostrar a barra de rolagem apenas quando necessário\r\n    overflowX: \"hidden\", // Oculta a barra de rolagem horizontal\r\n    ...theme.scrollbarStyles,\r\n    borderRadius: \"8px\",\r\n    border: \"2px solid transparent\",\r\n    \"&::-webkit-scrollbar\": {\r\n      display: \"none\",\r\n    },\r\n    \"-ms-overflow-style\": \"none\",\r\n    \"scrollbar-width\": \"none\",\r\n  },\r\n  NotificationsPopOver: {\r\n    // color: theme.barraSuperior.secondary.main,\r\n  },\r\n  logo: {\r\n    width: \"100%\",\r\n    height: \"45px\",\r\n    maxWidth: 180,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      width: \"auto\",\r\n      height: \"100%\",\r\n      maxWidth: 180,\r\n    },\r\n    logo: theme.logo,\r\n    content:\r\n      \"url(\" +\r\n      (theme.mode === \"light\"\r\n        ? theme.calculatedLogoLight()\r\n        : theme.calculatedLogoDark()) +\r\n      \")\",\r\n  },\r\n  hideLogo: {\r\n    display: \"none\",\r\n  },\r\n  avatar2: {\r\n    width: \"20px\",\r\n    height: \"20px\",\r\n    cursor: \"pointer\",\r\n    borderRadius: \"50%\",\r\n    marginRight: 15,\r\n    // border: \"2px solid #ccc\",\r\n  },\r\n  updateDiv: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  hideSideBar: {\r\n    display: \"none\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      display: \"block\",\r\n    },\r\n  },\r\n  hideTopBar: {\r\n    display: \"none\",\r\n  },\r\n}));\r\n\r\nconst StyledBadge = withStyles((theme) => ({\r\n  \"@keyframes ripple\": {\r\n    \"0%\": {\r\n      transform: \"scale(.8)\",\r\n      opacity: 1,\r\n    },\r\n    \"100%\": {\r\n      transform: \"scale(2.4)\",\r\n      opacity: 0,\r\n    },\r\n  },\r\n}))(Badge);\r\n\r\nconst SmallAvatar = withStyles((theme) => ({\r\n  root: {\r\n    width: 22,\r\n    height: 22,\r\n    border: `2px solid ${theme.palette.background.paper}`,\r\n  },\r\n}))(Avatar);\r\n\r\nconst LoggedInLayout = ({ children, themeToggle }) => {\r\n  const classes = useStyles();\r\n  const [userToken, setUserToken] = useState(\"disabled\");\r\n  const [loadingUserToken, setLoadingUserToken] = useState(false);\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const [menuOpen, setMenuOpen] = useState(false);\r\n  const { user, socket, handleLogout, loading, isHorizontal, setIsHorizontal } =\r\n    useContext(AuthContext);\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [drawerVariant, setDrawerVariant] = useState(\"permanent\");\r\n  // const [dueDate, setDueDate] = useState(\"\");\r\n  //   const socketManager = useContext(SocketContext);\r\n\r\n  const [activeButton, setActiveButton] = useState(null);\r\n  const theme = useTheme();\r\n  const { colorMode } = useContext(ColorModeContext);\r\n  const greaterThenSm = useMediaQuery(theme.breakpoints.up(\"sm\"));\r\n  const [selectedSubMenu, setSelectedSubMenu] = useState(\"\");\r\n  const [volume, setVolume] = useState(localStorage.getItem(\"volume\") || 1);\r\n\r\n  const { dateToClient } = useDate();\r\n  const [profileUrl, setProfileUrl] = useState(null);\r\n  const [isDrawerOpen, setIsDrawerOpen] = useState(false);\r\n  // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  const mainListItems = useMemo(\r\n    () => <MainListItems drawerOpen={drawerOpen} collapsed={!drawerOpen} />,\r\n    [user, drawerOpen]\r\n  );\r\n\r\n  const settings = useSettings();\r\n\r\n  useEffect(() => {\r\n    const getSetting = async () => {\r\n      const response = await settings.get(\"wtV\");\r\n\r\n      if (response) {\r\n        setUserToken(\"disabled\");\r\n      } else {\r\n        setUserToken(\"disabled\");\r\n      }\r\n    };\r\n\r\n    getSetting();\r\n  });\r\n\r\n  useEffect(() => {\r\n    // if (localStorage.getItem(\"public-token\") === null) {\r\n    //   handleLogout()\r\n    // }\r\n\r\n    if (document.body.offsetWidth > 600) {\r\n      if (user.defaultMenu === \"closed\") {\r\n        setDrawerOpen(false);\r\n      } else {\r\n        setDrawerOpen(true);\r\n      }\r\n    }\r\n    if (user.defaultTheme === \"dark\" && theme.mode === \"light\") {\r\n      colorMode.toggleColorMode();\r\n    }\r\n  }, [user.defaultMenu, document.body.offsetWidth]);\r\n\r\n  useEffect(() => {\r\n    const horizontal = localStorage.getItem(\"horizontal\");\r\n\r\n    if (horizontal === \"Sim\" || !horizontal) {\r\n      setIsHorizontal(true);\r\n      localStorage.setItem(\"horizontal\", \"Sim\");\r\n    } else {\r\n      setIsHorizontal(false);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (document.body.offsetWidth < 600) {\r\n      setDrawerVariant(\"temporary\");\r\n    } else {\r\n      setDrawerVariant(\"permanent\");\r\n    }\r\n  }, [drawerOpen]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    const userId = user.id;\r\n    if (companyId) {\r\n      //    const socket = socketManager.GetSocket();\r\n\r\n      const ImageUrl = user.profileImage;\r\n      if (ImageUrl !== undefined && ImageUrl !== null)\r\n        setProfileUrl(\r\n          `${backendUrl}/public/company${companyId}/user/${ImageUrl}`\r\n        );\r\n      else setProfileUrl(`${process.env.FRONTEND_URL}/nopicture.png`);\r\n\r\n      const onCompanyAuthLayout = (data) => {\r\n        if (data.user.id === +userId) {\r\n          toastError(\"Sua conta foi acessada em outro computador.\");\r\n          setTimeout(() => {\r\n            localStorage.clear();\r\n            window.location.reload();\r\n          }, 1000);\r\n        }\r\n      };\r\n\r\n      socket.on(`company-${companyId}-auth`, onCompanyAuthLayout);\r\n\r\n      socket.emit(\"userStatus\");\r\n      const interval = setInterval(() => {\r\n        socket.emit(\"userStatus\");\r\n      }, 1000 * 60 * 5);\r\n\r\n      return () => {\r\n        socket.off(`company-${companyId}-auth`, onCompanyAuthLayout);\r\n        clearInterval(interval);\r\n      };\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [socket]);\r\n  const [submenuAnchorEl, setSubmenuAnchorEl] = useState(null);\r\n\r\n  const handleMenu = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n    setMenuOpen(true);\r\n  };\r\n\r\n  const handleCloseMenu = () => {\r\n    setAnchorEl(null);\r\n    setMenuOpen(false);\r\n  };\r\n\r\n  const handleOpenUserModal = () => {\r\n    setUserModalOpen(true);\r\n    handleCloseMenu();\r\n  };\r\n\r\n  const handleClickLogout = () => {\r\n    handleCloseMenu();\r\n    handleLogout();\r\n  };\r\n\r\n  const drawerClose = () => {\r\n    if (document.body.offsetWidth < 600 || user.defaultMenu === \"closed\") {\r\n      setDrawerOpen(false);\r\n    }\r\n  };\r\n\r\n  const handleRefreshPage = () => {\r\n    window.location.reload(false);\r\n  };\r\n\r\n  if (loading) {\r\n    return <BackdropLoading />;\r\n  }\r\n\r\n  const handleMenuClose = () => {\r\n    setAnchorEl(null);\r\n    setActiveButton(null);\r\n  };\r\n\r\n  const toggleDrawer = (open) => (event) => {\r\n    // Verifica se o clique é fora do drawer (não é um clique no próprio drawer ou nas teclas ESC/Enter)\r\n    if (\r\n      event.type === \"keydown\" &&\r\n      (event.key === \"Tab\" || event.key === \"Shift\")\r\n    ) {\r\n      return;\r\n    }\r\n\r\n    setIsDrawerOpen(open);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Drawer\r\n        variant={drawerVariant}\r\n        // className={drawerOpen ? classes.drawerPaper : classes.drawerPaperClose}\r\n        classes={{\r\n          paper: clsx(\r\n            classes.drawerPaper,\r\n            !drawerOpen && classes.drawerPaperClose,\r\n            isHorizontal && greaterThenSm && classes.hideSideBar\r\n          ),\r\n        }}\r\n        open={drawerOpen}\r\n        onClose={() => setDrawerOpen(!drawerOpen)}\r\n      >\r\n        <div className={classes.toolbarIcon}>\r\n          <img\r\n            className={drawerOpen ? classes.logo : classes.hideLogo}\r\n            alt=\"logo\"\r\n          />\r\n          <IconButton onClick={() => setDrawerOpen(!drawerOpen)}>\r\n            {!drawerOpen ? <ChevronRight /> : <ChevronLeftIcon />}\r\n          </IconButton>\r\n        </div>\r\n        <List className={classes.containerWithScroll}>\r\n          {/* {mainListItems} esse não */}\r\n          <MainListItems\r\n            collapsed={!drawerOpen}\r\n            isHorizontal={(value) => setIsHorizontal(value)}\r\n          />\r\n        </List>\r\n        <Divider />\r\n      </Drawer>\r\n      <div className={classes.containerMenuButton}>\r\n        <IconButton\r\n          edge=\"start\"\r\n          variant=\"contained\"\r\n          onClick={() => setDrawerOpen(!drawerOpen)}\r\n          aria-label=\"open drawer\"\r\n          className={clsx(\r\n            classes.menuButton,\r\n            !isHorizontal && drawerOpen && classes.menuButtonHidden\r\n          )}\r\n        >\r\n          <MenuIcon />\r\n        </IconButton>\r\n      </div>\r\n      <AppBar\r\n        position=\"absolute\"\r\n        className={clsx(\r\n          classes.appBar,\r\n          // drawerOpen && classes.appBarShift,\r\n          !isHorizontal && greaterThenSm && classes.hideTopBar\r\n        )}\r\n        color=\"primary\"\r\n      >\r\n        <Toolbar variant=\"dense\" className={classes.toolbar}>\r\n          {/* <IconButton\r\n            edge=\"start\"\r\n            variant=\"contained\"\r\n            aria-label=\"open drawer\"\r\n            style={{ color: \"white\" }}\r\n            onClick={() => setDrawerOpen(!drawerOpen)}\r\n            className={clsx(drawerOpen && classes.menuButtonHidden)}\r\n          >\r\n            <MenuIcon />\r\n          </IconButton> */}\r\n          <img className={classes.logo} alt=\"logo\" />\r\n          <Typography\r\n            component=\"h2\"\r\n            variant=\"h6\"\r\n            color=\"inherit\"\r\n            noWrap\r\n            className={classes.title}\r\n          >\r\n            {/* {greaterThenSm && user?.profile === \"admin\" && getDateAndDifDays(user?.company?.dueDate).difData < 7 ? ( */}\r\n            {/* {greaterThenSm &&\r\n            user?.profile === \"admin\" &&\r\n            user?.company?.dueDate ? (\r\n              <>\r\n                {i18n.t(\"mainDrawer.appBar.user.message\")} <b>{user.name}</b>,{\" \"}\r\n                {i18n.t(\"mainDrawer.appBar.user.messageEnd\")}{\" \"}\r\n                <b>{user?.company?.name}</b>! (\r\n                {i18n.t(\"mainDrawer.appBar.user.active\")}{\" \"}\r\n                {dateToClient(user?.company?.dueDate)})\r\n              </>\r\n            ) : (\r\n              <>\r\n                {i18n.t(\"mainDrawer.appBar.user.message\")} <b>{user.name}</b>,{\" \"}\r\n                {i18n.t(\"mainDrawer.appBar.user.messageEnd\")}{\" \"}\r\n                <b>{user?.company?.name}</b>!\r\n              </>\r\n            )} */}\r\n          </Typography>\r\n\r\n          {/*  */}\r\n          {/*Menu Atendimento  */}\r\n          <AppListItems />\r\n\r\n          {userToken === \"enabled\" && user?.companyId === 1 && (\r\n            <Chip\r\n              className={classes.chip}\r\n              label={i18n.t(\"mainDrawer.appBar.user.token\")}\r\n            />\r\n          )}\r\n\r\n          {/* DESABILITADO POIS TEM BUGS */}\r\n\r\n          {/* <SoftPhone\r\n            callVolume={33} //Set Default callVolume\r\n            ringVolume={44} //Set Default ringVolume\r\n            connectOnStart={false} //Auto connect to sip\r\n            notifications={false} //Show Browser Notification of an incoming call\r\n            config={config} //Voip config\r\n            setConnectOnStartToLocalStorage={setConnectOnStartToLocalStorage} // Callback function\r\n            setNotifications={setNotifications} // Callback function\r\n            setCallVolume={setCallVolume} // Callback function\r\n            setRingVolume={setRingVolume} // Callback function\r\n            timelocale={'UTC-3'} //Set time local for call history\r\n          /> */}\r\n          {user.id && <NotificationsPopOver volume={volume} />}\r\n\r\n          <AnnouncementsPopover />\r\n\r\n          <ChatPopover />\r\n          <NotificationsVolume setVolume={setVolume} volume={volume} />\r\n          <IconButton\r\n            edge=\"start\"\r\n            size=\"small\"\r\n            onClick={colorMode.toggleColorMode}\r\n          >\r\n            {theme.mode === \"dark\" ? (\r\n              <Tooltip title={i18n.t(\"appBarListem.light\")}>\r\n                <MoonStar\r\n                  style={{\r\n                    color: \"white\",\r\n                    width: \"20px\",\r\n                    height: \"20px\",\r\n                    marginRight: 15,\r\n                  }}\r\n                />\r\n              </Tooltip>\r\n            ) : (\r\n              <Tooltip title={i18n.t(\"appBarListem.dark\")}>\r\n                <Sun\r\n                  style={{\r\n                    color: \"white\",\r\n                    width: \"20px\",\r\n                    height: \"20px\",\r\n                    marginRight: 15,\r\n                  }}\r\n                />\r\n              </Tooltip>\r\n            )}\r\n          </IconButton>\r\n\r\n\r\n          {/* <IconButton\r\n            onClick={handleRefreshPage}\r\n            aria-label={i18n.t(\"mainDrawer.appBar.refresh\")}\r\n            color=\"inherit\"\r\n          >\r\n            <CachedIcon style={{ color: \"white\" }} />\r\n          </IconButton> */}\r\n\r\n          {/* <DarkMode themeToggle={themeToggle} /> */}\r\n\r\n          <UserLanguageSelector />\r\n          <div>\r\n            <Tooltip title={i18n.t(\"appBarListem.profile\")}>\r\n              <StyledBadge\r\n                overlap=\"circular\"\r\n                anchorOrigin={{\r\n                  vertical: \"bottom\",\r\n                  horizontal: \"right\",\r\n                }}\r\n                variant=\"dot\"\r\n                onClick={handleMenu}\r\n              >\r\n                <Avatar\r\n                  alt=\"Multi100\"\r\n                  className={classes.avatar2}\r\n                  src={profileUrl}\r\n                />\r\n              </StyledBadge>\r\n            </Tooltip>\r\n            <UserModal\r\n              open={userModalOpen}\r\n              onClose={() => setUserModalOpen(false)}\r\n              onImageUpdate={(newProfileUrl) => setProfileUrl(newProfileUrl)}\r\n              userId={user?.id}\r\n            />\r\n\r\n            <Menu\r\n              id=\"menu-appbar\"\r\n              anchorEl={anchorEl}\r\n              getContentAnchorEl={null}\r\n              anchorOrigin={{\r\n                vertical: \"bottom\",\r\n                horizontal: \"right\",\r\n              }}\r\n              transformOrigin={{\r\n                vertical: \"top\",\r\n                horizontal: \"right\",\r\n              }}\r\n              open={menuOpen}\r\n              onClose={handleCloseMenu}\r\n            >\r\n              <MenuItem onClick={handleOpenUserModal}>\r\n                {i18n.t(\"mainDrawer.appBar.user.profile\")}\r\n              </MenuItem>\r\n              <MenuItem onClick={handleClickLogout}>\r\n                {i18n.t(\"mainDrawer.appBar.user.logout\")}\r\n              </MenuItem>\r\n            </Menu>\r\n          </div>\r\n          <Tooltip title={i18n.t(\"appBarListem.vertical\")}>\r\n            <IconButton\r\n              size=\"small\"\r\n              onClick={() => {\r\n                setIsHorizontal(false);\r\n                localStorage.setItem(\"horizontal\", \"Não\");\r\n              }}\r\n            >\r\n              <MenuIcon\r\n                style={{ color: \"white\", width: \"20px\", height: \"20px\" }}\r\n              />\r\n            </IconButton>\r\n          </Tooltip>\r\n        </Toolbar>\r\n      </AppBar>\r\n      <main className={classes.content}>\r\n        <div\r\n          className={\r\n            isHorizontal ? classes.appBarSpacer : classes.appBarSpacerVertical\r\n          }\r\n        />\r\n\r\n        {children ? children : null}\r\n      </main>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LoggedInLayout;\r\n","import React from \"react\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Table from '@material-ui/core/Table';\r\nimport TableBody from '@material-ui/core/TableBody';\r\nimport TableCell from '@material-ui/core/TableCell';\r\nimport TableContainer from '@material-ui/core/TableContainer';\r\nimport TableHead from '@material-ui/core/TableHead';\r\nimport TableRow from '@material-ui/core/TableRow';\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green, grey } from '@material-ui/core/colors';\r\n\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\nimport moment from 'moment';\r\n\r\nimport Rating from '@material-ui/lab/Rating';\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    on: {\r\n        color: green[600],\r\n        fontSize: '20px'\r\n    },\r\n    off: {\r\n        color: grey[600],\r\n        fontSize: '20px'\r\n    },\r\n    pointer: {\r\n        cursor: \"pointer\"\r\n    }\r\n}));\r\n\r\nexport function RatingBox({ rating }) {\r\n    const ratingTrunc = rating === null ? 0 : Math.trunc(rating);\r\n    return <Rating\r\n        defaultValue={ratingTrunc}\r\n        max={3}\r\n        readOnly\r\n    />\r\n}\r\n\r\nexport default function TableAttendantsStatus(props) {\r\n    const { loading, attendants } = props\r\n    const classes = useStyles();\r\n\r\n    function renderList() {\r\n        return attendants.map((a, k) => (\r\n            <TableRow key={k}>\r\n                <TableCell>{a.name}</TableCell>\r\n                {/* <TableCell align=\"center\" title=\"1 - Insatisfeito, 2 - Satisfeito, 3 - Muito Satisfeito\" className={classes.pointer}>\r\n                    <RatingBox rating={a.rating} />\r\n                </TableCell> */}\r\n                <TableCell align=\"center\">{a.rating}</TableCell>\r\n                <TableCell align=\"center\">{a.countRating}</TableCell>\r\n                <TableCell align=\"center\">{a.tickets}</TableCell>\r\n                <TableCell align=\"center\">{formatTime(a.avgWaitTime, 2)}</TableCell>\r\n                <TableCell align=\"center\">{formatTime(a.avgSupportTime, 2)}</TableCell>\r\n                <TableCell align=\"center\">\r\n                    {a.online ?\r\n                        <Tooltip title=\"Online\">\r\n                            <CheckCircleIcon className={classes.on} />\r\n                        </Tooltip>\r\n                        :\r\n                        <Tooltip title=\"Offline\">\r\n                            <ErrorIcon className={classes.off} />\r\n                        </Tooltip>\r\n                    }\r\n                </TableCell>\r\n            </TableRow>\r\n        ))\r\n    }\r\n\r\n    function formatTime(minutes) {\r\n        return moment().startOf('day').add(minutes, 'minutes').format('HH[h] mm[m]');\r\n    }\r\n\r\n    return (!loading ?\r\n        <TableContainer component={Paper}>\r\n            <Table>\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell>{i18n.t(\"dashboard.users.name\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.assessments.score\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.assessments.ratedCalls\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.assessments.totalCalls\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.cards.averageWaitingTime\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.cards.averageServiceTime\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"dashboard.cards.status\")}</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {renderList()}\r\n                </TableBody>\r\n            </Table>\r\n        </TableContainer>\r\n        : <Skeleton variant=\"rect\" height={150} />\r\n    )\r\n}","import React from 'react';\r\nimport { Container, Typography, Button, Box } from '@material-ui/core';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    textAlign: 'center',\r\n    marginTop: theme.spacing(8),    \r\n    flex: 1,\r\n  },\r\n  title: {\r\n    marginBottom: theme.spacing(4),\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(2),\r\n    color: '#fff !important',\r\n    boxShadow: 'none',\r\n    borderRadius: 20\r\n  },\r\n  boxContainer: {\r\n    background: theme.palette.tabHeaderBackground, \r\n    borderRadius: 20,\r\n    display: 'flex',\r\n    padding: 20,\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    width: '80%',\r\n    justifyContent: 'center',\r\n    margin: 'auto',\r\n  }\r\n}));\r\n\r\nconst ForbiddenPage = () => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Container className={classes.container}>\r\n      <Box className={classes.boxContainer}>\r\n        <Box>\r\n          <Typography variant=\"h1\" className={classes.title} color=\"error\">\r\n            403\r\n          </Typography>\r\n          <Typography variant=\"h5\" color=\"textSecondary\">\r\n            Oops! Acesso Negado!\r\n          </Typography>\r\n          <Button\r\n            className={classes.button}\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            href=\"/tickets\"\r\n          >\r\n            Voltar\r\n          </Button>\r\n        </Box>\r\n      </Box>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default ForbiddenPage;\r\n","import api from \"../../services/api\";\r\n\r\nconst useDashboard = () => {\r\n\r\n    const find = async (params) => {\r\n        const { data } = await api.request({\r\n            url: `/dashboard`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const getReport = async (params) => {\r\n        const { data } = await api.request({\r\n            url: `/ticketreport/reports`,\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        find,\r\n        getReport\r\n    }\r\n}\r\n\r\nexport default useDashboard;","import { ArrowDownward, ArrowUpward } from \"@material-ui/icons\";\r\nimport CallIcon from \"@material-ui/icons/Call\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport GroupAddIcon from \"@material-ui/icons/GroupAdd\";\r\nimport HourglassEmptyIcon from \"@material-ui/icons/HourglassEmpty\";\r\nimport MessageIcon from \"@material-ui/icons/Message\";\r\nimport { SaveAlt } from \"@mui/icons-material\";\r\nimport {\r\n  Avatar,\r\n  Box,\r\n  Card,\r\n  CardContent,\r\n  Container,\r\n  IconButton,\r\n  LinearProgress,\r\n  Stack,\r\n  Typography,\r\n  useTheme,\r\n} from \"@mui/material\";\r\nimport Grid2 from \"@mui/material/Unstable_Grid2/Grid2\";\r\nimport { isArray, isEmpty } from \"lodash\";\r\nimport moment from \"moment\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  Area,\r\n  AreaChart,\r\n  CartesianGrid,\r\n  Cell,\r\n  Legend,\r\n  Line,\r\n  LineChart,\r\n  Pie,\r\n  PieChart,\r\n  ResponsiveContainer,\r\n  Tooltip,\r\n  XAxis,\r\n  YAxis,\r\n} from \"recharts\";\r\nimport * as XLSX from \"xlsx\";\r\nimport TableAttendantsStatus from \"../../components/Dashboard/TableAttendantsStatus\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport useDashboard from \"../../hooks/useDashboard\";\r\n\r\nconst Dashboard = () => {\r\n  const theme = useTheme();\r\n  const { user } = useContext(AuthContext);\r\n  const { find } = useDashboard();\r\n  const [counters, setCounters] = useState({});\r\n  const [attendants, setAttendants] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [dateStartTicket, setDateStartTicket] = useState(\r\n    moment().startOf(\"month\").format(\"YYYY-MM-DD\")\r\n  );\r\n  const [dateEndTicket, setDateEndTicket] = useState(\r\n    moment().format(\"YYYY-MM-DD\")\r\n  );\r\n\r\n  useEffect(() => {\r\n    async function firstLoad() {\r\n      await fetchData();\r\n    }\r\n    setTimeout(() => {\r\n      firstLoad();\r\n    }, 1000);\r\n  }, []);\r\n\r\n  // Função auxiliar para gerar dados do gráfico\r\n  const generateChartData = (baseValue, variation = 0.1, points = 12) => {\r\n    const result = [];\r\n    let lastValue = baseValue;\r\n\r\n    for (let i = 0; i < points; i++) {\r\n      const change = (Math.random() * 2 - 1) * variation * baseValue;\r\n      lastValue = Math.max(0, lastValue + change);\r\n      result.push({ value: lastValue });\r\n    }\r\n\r\n    return result;\r\n  };\r\n\r\n  // Função para obter número de usuários ativos\r\n  const GetUsers = () => {\r\n    let count = 0;\r\n    attendants.forEach((user) => {\r\n      if (user.online === true) {\r\n        count++;\r\n      }\r\n    });\r\n    return count;\r\n  };\r\n\r\n  // Função para formatar tempo\r\n  const formatTime = (minutes) => {\r\n    return moment()\r\n      .startOf(\"day\")\r\n      .add(minutes, \"minutes\")\r\n      .format(\"HH[h] mm[m]\");\r\n  };\r\n\r\n  // Função para exportar para Excel\r\n  const exportarGridParaExcel = () => {\r\n    const ws = XLSX.utils.table_to_sheet(\r\n      document.getElementById(\"grid-attendants\")\r\n    );\r\n    const wb = XLSX.utils.book_new();\r\n    XLSX.utils.book_append_sheet(wb, ws, \"RelatorioDeAtendentes\");\r\n    XLSX.writeFile(wb, \"relatorio-de-atendentes.xlsx\");\r\n  };\r\n\r\n  // Função para obter mensagens\r\n  const GetMessages = (all, fromMe) => {\r\n    let props = {};\r\n    if (all) {\r\n      props = { fromMe };\r\n    } else {\r\n      props = {\r\n        fromMe,\r\n        dateStart: dateStartTicket,\r\n        dateEnd: dateEndTicket,\r\n      };\r\n    }\r\n    return { count: 100 }; // Simulando retorno para este exemplo\r\n  };\r\n\r\n  async function fetchData() {\r\n    setLoading(true);\r\n\r\n    let params = {};\r\n\r\n    if (!isEmpty(dateStartTicket) && moment(dateStartTicket).isValid()) {\r\n      params = {\r\n        ...params,\r\n        date_from: moment(dateStartTicket).format(\"YYYY-MM-DD\"),\r\n      };\r\n    }\r\n\r\n    if (!isEmpty(dateEndTicket) && moment(dateEndTicket).isValid()) {\r\n      params = {\r\n        ...params,\r\n        date_to: moment(dateEndTicket).format(\"YYYY-MM-DD\"),\r\n      };\r\n    }\r\n\r\n    const data = await find(params);\r\n    setCounters(data.counters);\r\n    if (isArray(data.attendants)) {\r\n      setAttendants(data.attendants);\r\n    } else {\r\n      setAttendants([]);\r\n    }\r\n\r\n    setLoading(false);\r\n  }\r\n\r\n  const MetricCard = ({ title, value, trend, icon, chartData, color }) => {\r\n    const trendIsPositive = parseFloat(trend) >= 0;\r\n\r\n    return (\r\n      <Card\r\n        sx={{\r\n          height: \"100%\",\r\n          background:\r\n            \"linear-gradient(135deg, rgba(255,255,255,0.95) 0%, rgba(255,255,255,0.95) 100%)\",\r\n          backdropFilter: \"blur(20px)\",\r\n          border: \"1px solid rgba(255,255,255,0.18)\",\r\n          boxShadow: \"0 8px 32px 0 rgba(31,38,135,0.15)\",\r\n          borderRadius: \"16px\",\r\n          transition: \"transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out\",\r\n          \"&:hover\": {\r\n            transform: \"translateY(-4px)\",\r\n            boxShadow: \"0 12px 40px 0 rgba(31,38,135,0.25)\",\r\n          },\r\n        }}\r\n      >\r\n        <CardContent>\r\n          <Stack\r\n            direction=\"row\"\r\n            justifyContent=\"space-between\"\r\n            alignItems=\"flex-start\"\r\n          >\r\n            <Box>\r\n              <Typography\r\n                variant=\"subtitle2\"\r\n                sx={{\r\n                  color: \"text.secondary\",\r\n                  fontWeight: 500,\r\n                  mb: 1,\r\n                }}\r\n              >\r\n                {title}\r\n              </Typography>\r\n              <Typography\r\n                variant=\"h4\"\r\n                sx={{\r\n                  fontWeight: 700,\r\n                  background: `linear-gradient(45deg, ${color} 30%, ${color}99 90%)`,\r\n                  WebkitBackgroundClip: \"text\",\r\n                  WebkitTextFillColor: \"transparent\",\r\n                }}\r\n              >\r\n                {value}\r\n              </Typography>\r\n              <Box sx={{ mt: 1 }}>\r\n                <Typography\r\n                  variant=\"body2\"\r\n                  sx={{\r\n                    display: \"flex\",\r\n                    alignItems: \"center\",\r\n                    gap: 0.5,\r\n                    color: trendIsPositive ? \"success.main\" : \"error.main\",\r\n                    fontWeight: 500,\r\n                  }}\r\n                >\r\n                  {trendIsPositive ? (\r\n                    <ArrowUpward fontSize=\"small\" />\r\n                  ) : (\r\n                    <ArrowDownward fontSize=\"small\" />\r\n                  )}\r\n                  {Math.abs(trend)}%\r\n                </Typography>\r\n              </Box>\r\n            </Box>\r\n            <Avatar\r\n              sx={{\r\n                bgcolor: `${color}15`,\r\n                width: 56,\r\n                height: 56,\r\n                borderRadius: 2,\r\n                \"& .MuiSvgIcon-root\": {\r\n                  color: color,\r\n                  fontSize: 28,\r\n                },\r\n              }}\r\n            >\r\n              {icon}\r\n            </Avatar>\r\n          </Stack>\r\n          <Box sx={{ mt: 3, height: 60 }}>\r\n            <ResponsiveContainer width=\"100%\" height=\"100%\">\r\n              <AreaChart data={chartData}>\r\n                <defs>\r\n                  <linearGradient\r\n                    id={`gradient-${title}`}\r\n                    x1=\"0\"\r\n                    y1=\"0\"\r\n                    x2=\"0\"\r\n                    y2=\"1\"\r\n                  >\r\n                    <stop offset=\"0%\" stopColor={color} stopOpacity={0.2} />\r\n                    <stop offset=\"100%\" stopColor={color} stopOpacity={0} />\r\n                  </linearGradient>\r\n                </defs>\r\n                <Area\r\n                  type=\"monotone\"\r\n                  dataKey=\"value\"\r\n                  stroke={color}\r\n                  fill={`url(#gradient-${title})`}\r\n                  strokeWidth={2}\r\n                />\r\n              </AreaChart>\r\n            </ResponsiveContainer>\r\n          </Box>\r\n        </CardContent>\r\n      </Card>\r\n    );\r\n  };\r\n\r\n  const PerformanceCard = ({ title, value, max, color }) => {\r\n    const percentage = (value / max) * 100;\r\n\r\n    return (\r\n      <Box sx={{ mb: 3 }}>\r\n        <Stack\r\n          direction=\"row\"\r\n          justifyContent=\"space-between\"\r\n          alignItems=\"center\"\r\n          sx={{ mb: 1 }}\r\n        >\r\n          <Typography variant=\"body2\" color=\"text.secondary\">\r\n            {title}\r\n          </Typography>\r\n          <Typography variant=\"body2\" color=\"text.primary\" fontWeight=\"500\">\r\n            {percentage.toFixed(1)}%\r\n          </Typography>\r\n        </Stack>\r\n        <LinearProgress\r\n          variant=\"determinate\"\r\n          value={percentage}\r\n          sx={{\r\n            height: 8,\r\n            borderRadius: 4,\r\n            bgcolor: `${color}15`,\r\n            \"& .MuiLinearProgress-bar\": {\r\n              borderRadius: 4,\r\n              background: `linear-gradient(90deg, ${color} 0%, ${color}99 100%)`,\r\n            },\r\n          }}\r\n        />\r\n      </Box>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      {user.profile === \"user\" && user.showDashboard === \"disabled\" ? (\r\n        <ForbiddenPage />\r\n      ) : (\r\n        <Box\r\n          sx={{\r\n            minHeight: \"100vh\",\r\n            // background: 'linear-gradient(135deg, #f5f7fa 0%, #f6f9fc 100%)',\r\n            background: \"#f5f5f5\",\r\n            py: 4,\r\n          }}\r\n        >\r\n          <Container maxWidth=\"xl\">\r\n            <Grid2 container spacing={3}>\r\n              <Grid2 xs={12} sm={6} md={3}>\r\n                <MetricCard\r\n                  title=\"Em Atendimento\"\r\n                  value={counters.supportHappening || 0}\r\n                  trend={\r\n                    counters.supportHappening > 0\r\n                      ? (\r\n                          ((counters.supportHappening -\r\n                            counters.supportHappening) /\r\n                            counters.supportHappening) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : \"0.0\"\r\n                  }\r\n                  color={theme.palette.primary.main}\r\n                  icon={<CallIcon />}\r\n                  chartData={generateChartData(counters.supportHappening || 0)}\r\n                />\r\n              </Grid2>\r\n\r\n              <Grid2 xs={12} sm={6} md={3}>\r\n                <MetricCard\r\n                  title=\"Aguardando\"\r\n                  value={counters.supportPending || 0}\r\n                  trend={\r\n                    counters.supportPending > 0\r\n                      ? (\r\n                          ((counters.supportPending -\r\n                            (counters.supportPending || 0)) /\r\n                            (counters.supportPending || 1)) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : \"0.0\"\r\n                  }\r\n                  color={theme.palette.warning.main}\r\n                  icon={<HourglassEmptyIcon />}\r\n                  chartData={generateChartData(counters.supportPending || 0)}\r\n                />\r\n              </Grid2>\r\n\r\n              <Grid2 xs={12} sm={6} md={3}>\r\n                <MetricCard\r\n                  title=\"Finalizados\"\r\n                  value={counters.supportFinished || 0}\r\n                  trend={\r\n                    counters.supportFinished > 0\r\n                      ? (\r\n                          ((counters.supportFinished -\r\n                            counters.supportFinished) /\r\n                            counters.supportFinished) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : \"0.0\"\r\n                  }\r\n                  color={theme.palette.success.main}\r\n                  icon={<CheckCircleIcon />}\r\n                  chartData={generateChartData(counters.supportFinished || 0)}\r\n                />\r\n              </Grid2>\r\n\r\n              <Grid2 xs={12} sm={6} md={3}>\r\n                <MetricCard\r\n                  title=\"Total de Mensagens\"\r\n                  value={`${GetMessages(false, true).count}/${\r\n                    GetMessages(true, true).count\r\n                  }`}\r\n                  trend={\r\n                    GetMessages(false, true).count > 0\r\n                      ? (\r\n                          ((GetMessages(true, true).count -\r\n                            GetMessages(false, true).count) /\r\n                            GetMessages(false, true).count) *\r\n                          100\r\n                        ).toFixed(1)\r\n                      : \"0.0\"\r\n                  }\r\n                  color={theme.palette.secondary.main}\r\n                  icon={<MessageIcon />}\r\n                  chartData={generateChartData(GetMessages(true, true).count)}\r\n                />\r\n              </Grid2>\r\n            </Grid2>\r\n\r\n            {/* Cards de Novos Contatos, Tickets Ativos e Passivos */}\r\n            <Grid2 container spacing={3} sx={{ mt: 3 }}>\r\n              <Grid2 xs={12} sm={6} lg={4}>\r\n                <Card\r\n                  sx={{\r\n                    height: \"100%\",\r\n                    backgroundColor: theme.palette.background.paper,\r\n                    borderRadius: \"16px\",\r\n                    boxShadow: \"0 8px 32px 0 rgba(31,38,135,0.15)\",\r\n                  }}\r\n                >\r\n                  <CardContent>\r\n                    <Stack\r\n                      alignItems=\"flex-start\"\r\n                      direction=\"row\"\r\n                      justifyContent=\"space-between\"\r\n                      spacing={3}\r\n                    >\r\n                      <Stack spacing={1}>\r\n                        <Typography\r\n                          color=\"primary\"\r\n                          variant=\"overline\"\r\n                          sx={{\r\n                            fontSize: \"0.75rem\",\r\n                            fontWeight: 600,\r\n                            textTransform: \"uppercase\",\r\n                          }}\r\n                        >\r\n                          Novos Contatos\r\n                        </Typography>\r\n                        <Typography variant=\"h4\" sx={{ fontWeight: 600 }}>\r\n                          {counters.leads || 0}\r\n                        </Typography>\r\n                      </Stack>\r\n                      <Avatar\r\n                        sx={{\r\n                          backgroundColor: \"#8c6b19\",\r\n                          height: 45,\r\n                          width: 45,\r\n                        }}\r\n                      >\r\n                        <GroupAddIcon />\r\n                      </Avatar>\r\n                    </Stack>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid2>\r\n\r\n              <Grid2 xs={12} sm={6} lg={4}>\r\n                <Card\r\n                  sx={{\r\n                    height: \"100%\",\r\n                    backgroundColor: theme.palette.background.paper,\r\n                    borderRadius: \"16px\",\r\n                    boxShadow: \"0 8px 32px 0 rgba(31,38,135,0.15)\",\r\n                  }}\r\n                >\r\n                  <CardContent>\r\n                    <Stack\r\n                      alignItems=\"flex-start\"\r\n                      direction=\"row\"\r\n                      justifyContent=\"space-between\"\r\n                      spacing={3}\r\n                    >\r\n                      <Stack spacing={1}>\r\n                        <Typography\r\n                          color=\"primary\"\r\n                          variant=\"overline\"\r\n                          sx={{\r\n                            fontSize: \"0.75rem\",\r\n                            fontWeight: 600,\r\n                            textTransform: \"uppercase\",\r\n                          }}\r\n                        >\r\n                          Tickets Ativos\r\n                        </Typography>\r\n                        <Typography variant=\"h4\" sx={{ fontWeight: 600 }}>\r\n                          {counters.activeTickets || 0}\r\n                        </Typography>\r\n                      </Stack>\r\n                      <Avatar\r\n                        sx={{\r\n                          backgroundColor: \"#EE4512\",\r\n                          height: 45,\r\n                          width: 45,\r\n                        }}\r\n                      >\r\n                        <ArrowUpward />\r\n                      </Avatar>\r\n                    </Stack>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid2>\r\n\r\n              <Grid2 xs={12} sm={6} lg={4}>\r\n                <Card\r\n                  sx={{\r\n                    height: \"100%\",\r\n                    backgroundColor: theme.palette.background.paper,\r\n                    borderRadius: \"16px\",\r\n                    boxShadow: \"0 8px 32px 0 rgba(31,38,135,0.15)\",\r\n                  }}\r\n                >\r\n                  <CardContent>\r\n                    <Stack\r\n                      alignItems=\"flex-start\"\r\n                      direction=\"row\"\r\n                      justifyContent=\"space-between\"\r\n                      spacing={3}\r\n                    >\r\n                      <Stack spacing={1}>\r\n                        <Typography\r\n                          color=\"primary\"\r\n                          variant=\"overline\"\r\n                          sx={{\r\n                            fontSize: \"0.75rem\",\r\n                            fontWeight: 600,\r\n                            textTransform: \"uppercase\",\r\n                          }}\r\n                        >\r\n                          Tickets Passivos\r\n                        </Typography>\r\n                        <Typography variant=\"h4\" sx={{ fontWeight: 600 }}>\r\n                          {counters.passiveTickets || 0}\r\n                        </Typography>\r\n                      </Stack>\r\n                      <Avatar\r\n                        sx={{\r\n                          backgroundColor: \"#28C037\",\r\n                          height: 45,\r\n                          width: 45,\r\n                        }}\r\n                      >\r\n                        <ArrowDownward />\r\n                      </Avatar>\r\n                    </Stack>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid2>\r\n            </Grid2>\r\n\r\n            {/* Card de Performance */}\r\n            <Card\r\n              sx={{\r\n                mt: 4,\r\n                borderRadius: \"16px\",\r\n                background: \"rgba(255,255,255,0.95)\",\r\n                backdropFilter: \"blur(20px)\",\r\n                boxShadow: \"0 8px 32px 0 rgba(31,38,135,0.15)\",\r\n              }}\r\n            >\r\n              <CardContent>\r\n                <Stack\r\n                  direction=\"row\"\r\n                  justifyContent=\"space-between\"\r\n                  alignItems=\"center\"\r\n                  mb={2}\r\n                >\r\n                  <Typography variant=\"h6\" sx={{ fontWeight: 600 }}>\r\n                    Desempenho\r\n                  </Typography>\r\n                  <Typography variant=\"body2\" color=\"text.secondary\">\r\n                    {GetUsers()}/{attendants.length} atendentes ativos\r\n                  </Typography>\r\n                </Stack>\r\n\r\n                <Grid2 container spacing={3}>\r\n                  <Grid2 xs={12} md={6}>\r\n                    <PerformanceCard\r\n                      title=\"Taxa de Resolução\"\r\n                      value={counters.supportFinished || 0}\r\n                      max={\r\n                        counters.supportFinished + counters.supportPending || 1\r\n                      }\r\n                      color={theme.palette.primary.main}\r\n                    />\r\n                  </Grid2>\r\n                  <Grid2 xs={12} md={6}>\r\n                    <PerformanceCard\r\n                      title=\"Tempo Médio de Resposta\"\r\n                      value={counters.avgResponseTime || 0} // Use dynamic data for average response time\r\n                      max={counters.maxResponseTime || 60} // Use dynamic data for max response time\r\n                      color={theme.palette.warning.main}\r\n                    />\r\n                  </Grid2>\r\n                </Grid2>\r\n              </CardContent>\r\n            </Card>\r\n\r\n            {/* Gráficos */}\r\n            <Grid2 container spacing={3} sx={{ mt: 2 }}>\r\n              <Grid2 xs={12} lg={8}>\r\n                <Card\r\n                  sx={{\r\n                    height: \"100%\",\r\n                    borderRadius: \"16px\",\r\n                    background: \"rgba(255,255,255,0.95)\",\r\n                    backdropFilter: \"blur(20px)\",\r\n                    boxShadow: \"0 8px 32px 0 rgba(31,38,135,0.15)\",\r\n                  }}\r\n                >\r\n                  <CardContent>\r\n                    <Typography\r\n                      variant=\"h6\"\r\n                      gutterBottom\r\n                      sx={{ fontWeight: 600 }}\r\n                    >\r\n                      Visão Geral de Atendimentos\r\n                    </Typography>\r\n                    <ResponsiveContainer width=\"100%\" height={350}>\r\n                      <LineChart\r\n                        data={[\r\n                          {\r\n                            date: new Date(),\r\n                            atendimento: counters.supportHappening || 0,\r\n                            aguardando: counters.supportPending || 0,\r\n                            finalizados: counters.supportFinished || 0,\r\n                            hora: moment(new Date()).format(\"HH:mm\"),\r\n                          },\r\n                        ]}\r\n                        margin={{ top: 20, right: 30, left: 20, bottom: 20 }}\r\n                      >\r\n                        <defs>\r\n                          <linearGradient\r\n                            id=\"colorAtendimento\"\r\n                            x1=\"0\"\r\n                            y1=\"0\"\r\n                            x2=\"0\"\r\n                            y2=\"1\"\r\n                          >\r\n                            <stop\r\n                              offset=\"5%\"\r\n                              stopColor=\"#2196F3\"\r\n                              stopOpacity={0.8}\r\n                            />\r\n                            <stop\r\n                              offset=\"95%\"\r\n                              stopColor=\"#2196F3\"\r\n                              stopOpacity={0.1}\r\n                            />\r\n                          </linearGradient>\r\n                          <linearGradient\r\n                            id=\"colorAguardando\"\r\n                            x1=\"0\"\r\n                            y1=\"0\"\r\n                            x2=\"0\"\r\n                            y2=\"1\"\r\n                          >\r\n                            <stop\r\n                              offset=\"5%\"\r\n                              stopColor=\"#FF9800\"\r\n                              stopOpacity={0.8}\r\n                            />\r\n                            <stop\r\n                              offset=\"95%\"\r\n                              stopColor=\"#FF9800\"\r\n                              stopOpacity={0.1}\r\n                            />\r\n                          </linearGradient>\r\n                          <linearGradient\r\n                            id=\"colorFinalizados\"\r\n                            x1=\"0\"\r\n                            y1=\"0\"\r\n                            x2=\"0\"\r\n                            y2=\"1\"\r\n                          >\r\n                            <stop\r\n                              offset=\"5%\"\r\n                              stopColor=\"#4CAF50\"\r\n                              stopOpacity={0.8}\r\n                            />\r\n                            <stop\r\n                              offset=\"95%\"\r\n                              stopColor=\"#4CAF50\"\r\n                              stopOpacity={0.1}\r\n                            />\r\n                          </linearGradient>\r\n                        </defs>\r\n                        <CartesianGrid strokeDasharray=\"3 3\" stroke=\"#f0f0f0\" />\r\n                        <XAxis\r\n                          dataKey=\"date\"\r\n                          tickFormatter={(date) =>\r\n                            moment(date).format(\"DD/MM HH:mm\")\r\n                          }\r\n                          stroke=\"#666\"\r\n                        />\r\n                        <YAxis stroke=\"#666\" />\r\n                        <Tooltip\r\n                          contentStyle={{\r\n                            backgroundColor: \"rgba(255, 255, 255, 0.95)\",\r\n                            border: \"none\",\r\n                            borderRadius: \"12px\",\r\n                            boxShadow: \"0 8px 32px rgba(0,0,0,0.15)\",\r\n                            padding: \"12px\",\r\n                          }}\r\n                          formatter={(value) => [value, \"atendimentos\"]}\r\n                          labelFormatter={(date) =>\r\n                            moment(date).format(\"DD/MM/YYYY HH:mm\")\r\n                          }\r\n                        />\r\n                        <Legend iconType=\"circle\" />\r\n                        <Line\r\n                          type=\"monotone\"\r\n                          dataKey=\"atendimento\"\r\n                          name=\"Em Atendimento\"\r\n                          stroke=\"#2196F3\"\r\n                          strokeWidth={3}\r\n                          dot={{ r: 6, strokeWidth: 2, fill: \"#fff\" }}\r\n                          activeDot={{ r: 8, strokeWidth: 2 }}\r\n                          fill=\"url(#colorAtendimento)\"\r\n                        />\r\n                        <Line\r\n                          type=\"monotone\"\r\n                          dataKey=\"aguardando\"\r\n                          name=\"Aguardando\"\r\n                          stroke=\"#FF9800\"\r\n                          strokeWidth={3}\r\n                          dot={{ r: 6, strokeWidth: 2, fill: \"#fff\" }}\r\n                          activeDot={{ r: 8, strokeWidth: 2 }}\r\n                          fill=\"url(#colorAguardando)\"\r\n                        />\r\n                        <Line\r\n                          type=\"monotone\"\r\n                          dataKey=\"finalizados\"\r\n                          name=\"Finalizados\"\r\n                          stroke=\"#4CAF50\"\r\n                          strokeWidth={3}\r\n                          dot={{ r: 6, strokeWidth: 2, fill: \"#fff\" }}\r\n                          activeDot={{ r: 8, strokeWidth: 2 }}\r\n                          fill=\"url(#colorFinalizados)\"\r\n                        />\r\n                      </LineChart>\r\n                    </ResponsiveContainer>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid2>\r\n\r\n              <Grid2 xs={12} lg={4}>\r\n                <Card\r\n                  sx={{\r\n                    height: \"100%\",\r\n                    borderRadius: \"16px\",\r\n                    background: \"rgba(255,255,255,0.95)\",\r\n                    backdropFilter: \"blur(20px)\",\r\n                    boxShadow: \"0 8px 32px 0 rgba(31,38,135,0.15)\",\r\n                  }}\r\n                >\r\n                  <CardContent>\r\n                    <Typography\r\n                      variant=\"h6\"\r\n                      gutterBottom\r\n                      sx={{ fontWeight: 600 }}\r\n                    >\r\n                      Distribuição de Status\r\n                    </Typography>\r\n                    <ResponsiveContainer width=\"100%\" height={350}>\r\n                      <PieChart>\r\n                        <Pie\r\n                          data={[\r\n                            {\r\n                              name: \"Em Atendimento\",\r\n                              value: counters.supportHappening || 0,\r\n                            },\r\n                            {\r\n                              name: \"Aguardando\",\r\n                              value: counters.supportPending || 0,\r\n                            },\r\n                            {\r\n                              name: \"Finalizados\",\r\n                              value: counters.supportFinished || 0,\r\n                            },\r\n                          ]}\r\n                          cx=\"50%\"\r\n                          cy=\"50%\"\r\n                          innerRadius={80}\r\n                          outerRadius={120}\r\n                          paddingAngle={8}\r\n                          dataKey=\"value\"\r\n                        >\r\n                          <Cell fill={theme.palette.primary.main} />\r\n                          <Cell fill={theme.palette.warning.main} />\r\n                          <Cell fill={theme.palette.success.main} />\r\n                        </Pie>\r\n                        <Tooltip\r\n                          contentStyle={{\r\n                            backgroundColor: \"rgba(255, 255, 255, 0.95)\",\r\n                            border: \"none\",\r\n                            borderRadius: \"12px\",\r\n                            boxShadow: \"0 8px 32px rgba(31,38,135,0.15)\",\r\n                            padding: \"12px\",\r\n                          }}\r\n                        />\r\n                        <Legend />\r\n                      </PieChart>\r\n                    </ResponsiveContainer>\r\n                  </CardContent>\r\n                </Card>\r\n              </Grid2>\r\n            </Grid2>\r\n\r\n            {/* Tabela de Atendentes */}\r\n            <Card\r\n              sx={{\r\n                mt: 4,\r\n                borderRadius: \"16px\",\r\n                background: \"rgba(255,255,255,0.95)\",\r\n                backdropFilter: \"blur(20px)\",\r\n                boxShadow: \"0 8px 32px 0 rgba(31,38,135,0.15)\",\r\n              }}\r\n            >\r\n              <CardContent>\r\n                <Stack\r\n                  direction=\"row\"\r\n                  justifyContent=\"space-between\"\r\n                  alignItems=\"center\"\r\n                  mb={2}\r\n                >\r\n                  <Typography variant=\"h6\" sx={{ fontWeight: 600 }}>\r\n                    Atendentes\r\n                  </Typography>\r\n                  <IconButton\r\n                    onClick={exportarGridParaExcel}\r\n                    sx={{\r\n                      backgroundColor: `${theme.palette.primary.main}15`,\r\n                      \"&:hover\": {\r\n                        backgroundColor: `${theme.palette.primary.main}25`,\r\n                      },\r\n                    }}\r\n                  >\r\n                    <SaveAlt style={{ color: theme.palette.primary.main }} />\r\n                  </IconButton>\r\n                </Stack>\r\n                <Box\r\n                  id=\"grid-attendants\"\r\n                  sx={{\r\n                    \"& .MuiTableRow-root\": {\r\n                      transition: \"background-color 0.2s\",\r\n                      \"&:hover\": {\r\n                        backgroundColor: \"rgba(0, 0, 0, 0.04)\",\r\n                      },\r\n                    },\r\n                  }}\r\n                >\r\n                  <TableAttendantsStatus\r\n                    attendants={attendants}\r\n                    loading={loading}\r\n                  />\r\n                </Box>\r\n              </CardContent>\r\n            </Card>\r\n          </Container>\r\n        </Box>\r\n      )}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Dashboard;\r\n","class FormatMask {\r\n  setPhoneFormatMask(phoneToFormat) {\r\n    if(!phoneToFormat || phoneToFormat.length < 12){\r\n      return phoneToFormat;\r\n    }\r\n\r\n    const number = (\"\" + phoneToFormat).replace(/\\D/g, \"\");\r\n\r\n    if (number.length <= 12) {\r\n      const phoneNumberFormatted = number.match(/^(\\d{2})(\\d{2})(\\d{4})(\\d{4})$/);\r\n      return (\r\n        \"+\" +\r\n        phoneNumberFormatted[1] +\r\n        \" (\" +\r\n        phoneNumberFormatted[2] +\r\n        \") \" +\r\n        phoneNumberFormatted[3] +\r\n        \"-\" +\r\n        phoneNumberFormatted[4]\r\n      );\r\n    }else if(number.length === 13){\r\n      const phoneNumberFormatted = number.match(/^(\\d{2})(\\d{2})(\\d{5})(\\d{4})$/);\r\n      return (\r\n        \"+\" +\r\n        phoneNumberFormatted[1] +\r\n        \" (\" +\r\n        phoneNumberFormatted[2] +\r\n        \") \" +\r\n        phoneNumberFormatted[3] +\r\n        \"-\" +\r\n        phoneNumberFormatted[4]\r\n      );\r\n    } else {\r\n      return phoneToFormat;\r\n    }\r\n\r\n    return null;\r\n  }\r\n\r\n  removeMask(number) {\r\n    const filterNumber = number.replace(/\\D/g, \"\");\r\n    return filterNumber;\r\n  }\r\n\r\n  maskPhonePattern(phoneNumber){\r\n    if(phoneNumber.length < 13){\r\n      return '🇧🇷 (99) 9999 9999';\r\n    }else{\r\n      return '🇧🇷 (99) 99999 9999';\r\n    }\r\n  }\r\n}\r\n\r\nexport { FormatMask };","import { FormatMask } from './FormatMask';\r\n\r\nconst formatSerializedId = (serializedId) => {\r\n  const formatMask = new FormatMask();\r\n  const number = serializedId?.replace('@c.us', '');\r\n\r\n  return formatMask.setPhoneFormatMask(number)?.replace('+55', '🇧🇷');\r\n};\r\n\r\nexport default formatSerializedId;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport ModalImage from \"react-modal-image\";\r\nimport api from \"../../services/api\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmessageMedia: {\r\n\t\tobjectFit: \"cover\",\r\n\t\twidth: 250,\r\n\t\theight: \"auto\", // Redimensionar automaticamente a altura para manter a proporção\r\n\t\tborderTopLeftRadius: 8,\r\n\t\tborderTopRightRadius: 8,\r\n\t\tborderBottomLeftRadius: 8,\r\n\t\tborderBottomRightRadius: 8,\r\n\t}\r\n}));\r\n\r\nconst ModalImageCors = ({ imageUrl }) => {\r\n\tconst classes = useStyles();\r\n\tconst [fetching, setFetching] = useState(true);\r\n\tconst [blobUrl, setBlobUrl] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\tif (!imageUrl) return;\r\n\t\tconst fetchImage = async () => {\r\n\t\t\tconst { data, headers } = await api.get(imageUrl, {\r\n\t\t\t\tresponseType: \"blob\",\r\n\t\t\t});\r\n\t\t\tconst url = window.URL.createObjectURL(\r\n\t\t\t\tnew Blob([data], { type: headers[\"content-type\"] })\r\n\t\t\t);\r\n\t\t\tsetBlobUrl(url);\r\n\t\t\tsetFetching(false);\r\n\t\t};\r\n\t\tfetchImage();\r\n\t}, [imageUrl]);\r\n\r\n\treturn (\r\n\t\t<ModalImage\r\n\t\t\tclassName={classes.messageMedia}\r\n\t\t\tsmallSrcSet={fetching ? imageUrl : blobUrl}\r\n\t\t\tmedium={fetching ? imageUrl : blobUrl}\r\n\t\t\tlarge={fetching ? imageUrl : blobUrl}\r\n\t\t\talt=\"image\"\r\n\t\t\tshowRotate={true}\r\n\t\t/>\r\n\t);\r\n};\r\n\r\nexport default ModalImageCors;\r\n","import React from \"react\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nconst ContactDrawerSkeleton = ({ classes }) => {\r\n\treturn (\r\n\t\t<div className={classes.content}>\r\n\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\r\n\t\t\t\t<Grid container>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\tvariant=\"circle\"\r\n\t\t\t\t\t\t\twidth={160}\r\n\t\t\t\t\t\t\theight={160}\r\n\t\t\t\t\t\t\tclassName={classes.contactAvatar}\r\n\t\t\t\t\t\t/>\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t\t<Grid item>\r\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={90} />\r\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\r\n\t\t\t\t\t\t<Skeleton animation=\"wave\" height={25} width={80} />\r\n\t\t\t\t\t</Grid>\r\n\t\t\t\t</Grid>\r\n\t\t\t</Paper>\r\n\t\t\t<Paper square className={classes.contactDetails}>\r\n\t\t\t\t<Typography variant=\"subtitle1\">\r\n\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\r\n\t\t\t\t</Typography>\r\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\r\n\t\t\t\t</Paper>\r\n\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactExtraInfo}>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={60} />\r\n\t\t\t\t\t<Skeleton animation=\"wave\" height={20} width={160} />\r\n\t\t\t\t</Paper>\r\n\t\t\t</Paper>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ContactDrawerSkeleton;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\r\n\textraAttr: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\r\n    textCenter: {\r\n        backgroundColor: 'red'\r\n    }\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\r\n\temail: Yup.string().email(\"Invalid email\"),\r\n});\r\n\r\nexport function ContactForm ({ initialContact, onSave, onCancel }) {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [contact, setContact] = useState(initialContact);\r\n\r\n    useEffect(() => {\r\n        setContact(initialContact);\r\n    }, [initialContact]);\r\n\r\n\tconst handleSaveContact = async values => {\r\n\t\ttry {\r\n\t\t\tif (contact.id) {\r\n\t\t\t\tawait api.put(`/contacts/${contact.id}`, values);\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/contacts\", values);\r\n\t\t\t\tif (onSave) {\r\n\t\t\t\t\tonSave(data);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n    return (\r\n        <Formik\r\n            initialValues={contact}\r\n            enableReinitialize={true}\r\n            validationSchema={ContactSchema}\r\n            onSubmit={(values, actions) => {\r\n                setTimeout(() => {\r\n                    handleSaveContact(values);\r\n                    actions.setSubmitting(false);\r\n                }, 400);\r\n            }}\r\n        >\r\n            {({ values, errors, touched, isSubmitting }) => (\r\n                <Form>\r\n                    <Grid container spacing={1}>\r\n                        {/* <Grid item xs={12}>\r\n                            <Typography variant=\"subtitle1\" gutterBottom>\r\n                                {i18n.t(\"contactModal.form.mainInfo\")}\r\n                            </Typography>\r\n                        </Grid> */}\r\n                        <Grid item xs={12}>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"contactModal.form.name\")}\r\n                                name=\"name\"\r\n                                autoFocus\r\n                                error={touched.name && Boolean(errors.name)}\r\n                                helperText={touched.name && errors.name}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                className={classes.textField}\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"contactModal.form.number\")}\r\n                                name=\"number\"\r\n                                error={touched.number && Boolean(errors.number)}\r\n                                helperText={touched.number && errors.number}\r\n                                placeholder=\"5513912344321\"\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                fullWidth\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12}>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"contactModal.form.email\")}\r\n                                name=\"email\"\r\n                                error={touched.email && Boolean(errors.email)}\r\n                                helperText={touched.email && errors.email}\r\n                                placeholder=\"Email address\"\r\n                                fullWidth\r\n                                margin=\"dense\"\r\n                                variant=\"outlined\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid item xs={12} spacing={1}>\r\n                            <Grid container spacing={1}>\r\n                                <Grid xs={6} item>\r\n                                    <Button\r\n                                        onClick={onCancel}\r\n                                        color=\"secondary\"\r\n                                        disabled={isSubmitting}\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                    >\r\n                                        {i18n.t(\"contactModal.buttons.cancel\")}\r\n                                    </Button>\r\n                                </Grid>\r\n                                <Grid classes={classes.textCenter} xs={6} item>\r\n                                    <Button\r\n                                        type=\"submit\"\r\n                                        color=\"primary\"\r\n                                        disabled={isSubmitting}\r\n                                        variant=\"contained\"\r\n                                        className={classes.btnWrapper}\r\n                                        fullWidth\r\n                                    >\r\n                                        {contact.id\r\n                                            ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n                                            : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n                                        {isSubmitting && (\r\n                                            <CircularProgress\r\n                                                size={24}\r\n                                                className={classes.buttonProgress}\r\n                                            />\r\n                                        )}\r\n                                    </Button>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n","import { Chip, Paper, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { isArray, isString } from \"lodash\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n\r\nexport function TagsContainer({ contact }) {\r\n\r\n    const [tags, setTags] = useState([]);\r\n    const [selecteds, setSelecteds] = useState([]);\r\n    const isMounted = useRef(true);\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false\r\n        }\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (isMounted.current) {\r\n            loadTags().then(() => {\r\n                if (Array.isArray(contact.tags)) {\r\n                    setSelecteds(contact.tags);\r\n                } else {\r\n                    setSelecteds([]);\r\n                }\r\n            });\r\n        }\r\n    }, [contact]);\r\n\r\n    const createTag = async (data) => {\r\n        try {\r\n            const { data: responseData } = await api.post(`/tags`, data);\r\n            return responseData;\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const loadTags = async () => {\r\n        try {\r\n            const { data } = await api.get(`/tags/list`, \r\n            {params: { kanban: 0}\r\n        });\r\n            setTags(data);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const syncTags = async (data) => {\r\n        try {\r\n            const { data: responseData } = await api.post(`/tags/sync`, data);\r\n            return responseData;\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const onChange = async (value, reason) => {\r\n        let optionsChanged = []\r\n        if (reason === 'create-option') {\r\n            if (isArray(value)) {\r\n                for (let item of value) {\r\n                    if (item.length < 3) {\r\n                        toastError(\"Tag muito curta!\");\r\n                        return;\r\n                    }\r\n                    if (isString(item)) {\r\n                        const newTag = await createTag({ name: item, kanban: 0, color: getRandomHexColor() })\r\n                        optionsChanged.push(newTag);\r\n                    } else {\r\n                        optionsChanged.push(item);\r\n                    }\r\n                }\r\n            }\r\n            await loadTags();\r\n        } else {\r\n            optionsChanged = value;\r\n        }\r\n        setSelecteds(optionsChanged);\r\n        await syncTags({ contactId: contact.id, tags: optionsChanged });\r\n    }\r\n\r\n    function getRandomHexColor() {\r\n        // Gerar valores aleatórios para os componentes de cor\r\n        const red = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n        const green = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n        const blue = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n      \r\n        // Converter os componentes de cor em uma cor hexadecimal\r\n        const hexColor = `#${red.toString(16).padStart(2, '0')}${green.toString(16).padStart(2, '0')}${blue.toString(16).padStart(2, '0')}`;\r\n      \r\n        return hexColor;\r\n    }\r\n\r\n    return (\r\n        <Paper style={{ padding: 2 }}>\r\n            <Autocomplete\r\n                multiple\r\n                size=\"small\"\r\n                options={tags}\r\n                value={selecteds}\r\n                freeSolo\r\n                onChange={(e, v, r) => onChange(v, r)}\r\n                getOptionLabel={(option) => option.name}\r\n                renderTags={(value, getTagProps) =>\r\n                    value.map((option, index) => (\r\n                        <Chip\r\n                            variant=\"outlined\"\r\n                            style={{\r\n                                backgroundColor: option.color || '#eee',\r\n                                color: \"#FFF\",\r\n                                marginRight: 1,\r\n                                padding: 1,\r\n                                fontWeight: 'bold',\r\n                                paddingLeft: 5,\r\n                                paddingRight: 5,\r\n                                borderRadius: 3,\r\n                                fontSize: \"0.8em\",\r\n                                whiteSpace: \"nowrap\"\r\n                            }}\r\n                            label={option.name}\r\n                            {...getTagProps({ index })}\r\n                            size=\"small\"\r\n                        />\r\n                    ))\r\n                }\r\n                renderInput={(params) => (\r\n                    <TextField {...params} variant=\"outlined\" placeholder=\"Tags\" />\r\n                )}\r\n                PaperComponent={({ children }) => (\r\n                    <Paper\r\n                        style={{ width: 400, marginLeft: 6 }}\r\n                    >\r\n                        {children}\r\n                    </Paper>\r\n                )}\r\n            />\r\n        </Paper>\r\n    )\r\n}","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { parseISO, format } from \"date-fns\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { TagsContainer } from \"../TagsContainer\";\r\n// import AsyncSelect from \"../AsyncSelect\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\r\n\textraAttr: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(250, \"Too Long!\")\r\n\t\t.required(\"Required\"),\r\n\tnumber: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\r\n\temail: Yup.string().email(\"Invalid email\"),\r\n});\r\n\r\nconst ContactModal = ({ open, onClose, contactId, initialValues, onSave }) => {\r\n\tconst classes = useStyles();\r\n\tconst isMounted = useRef(true);\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\tnumber: \"\",\r\n\t\temail: \"\",\r\n\t\tdisableBot: false,\r\n\t\tlgpdAcceptedAt: \"\"\r\n\t};\r\n\r\n\tconst [contact, setContact] = useState(initialState);\r\n\tconst [disableBot, setDisableBot] = useState(false);\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchContact = async () => {\r\n\t\t\tif (initialValues) {\r\n\t\t\t\tsetContact(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...initialValues };\r\n\t\t\t\t});\r\n\t\t\t}\r\n\r\n\t\t\tif (!contactId) return;\r\n\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(`/contacts/${contactId}`);\r\n\t\t\t\tif (isMounted.current) {\r\n\t\t\t\t\tsetContact(data);\r\n\t\t\t\t\tsetDisableBot(data.disableBot)\r\n\t\t\t\t}\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchContact();\r\n\t}, [contactId, open, initialValues]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetContact(initialState);\r\n\t};\r\n\r\n\tconst handleSaveContact = async values => {\r\n\t\ttry {\r\n\t\t\tif (contactId) {\r\n\t\t\t\tawait api.put(`/contacts/${contactId}`, { ...values, disableBot: disableBot });\r\n\t\t\t\thandleClose();\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/contacts\", { ...values, disableBot: disableBot });\r\n\t\t\t\tif (onSave) {\r\n\t\t\t\t\tonSave(data);\r\n\t\t\t\t}\r\n\t\t\t\thandleClose();\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"contactModal.success\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{contactId\r\n\t\t\t\t\t\t? `${i18n.t(\"contactModal.title.edit\")}`\r\n\t\t\t\t\t\t: `${i18n.t(\"contactModal.title.add\")}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={contact}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ContactSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveContact(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ values, errors, touched, isSubmitting, setFieldValue }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" gutterBottom>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.mainInfo\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.number\")}\r\n\t\t\t\t\t\t\t\t\tname=\"number\"\r\n\t\t\t\t\t\t\t\t\terror={touched.number && Boolean(errors.number)}\r\n\t\t\t\t\t\t\t\t\thelperText={touched.number && errors.number}\r\n\t\t\t\t\t\t\t\t\tplaceholder=\"5513912344321\"\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.email\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\r\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"Email address\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t<TagsContainer contact={contact} className={classes.textField} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\tchecked={disableBot}\r\n\t\t\t\t\t\t\t\t\t\tonChange={() =>\r\n\t\t\t\t\t\t\t\t\t\t\tsetDisableBot(!disableBot)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tname=\"disableBot\"\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.chatBotContact\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.whatsapp\")} {contact?.whatsapp ? contact?.whatsapp.name : \"\"}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.termsLGDP\")} {contact?.lgpdAcceptedAt ? format(new Date(contact?.lgpdAcceptedAt), \"dd/MM/yyyy 'às' HH:mm\") : \"\"}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t{/* <Typography variant=\"subtitle1\" gutterBottom>{i18n.t(\"contactModal.form.customer_portfolio\")}</Typography> */}\r\n\t\t\t\t\t\t\t\t{/* <div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t\t\t\t<AsyncSelect url=\"/users\" dictKey={\"users\"}\r\n\t\t\t\t\t\t\t\t\t\tinitialValue={values.user} width=\"100%\" label={i18n.t(\"contactModal.form.attendant\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event, value) => setFieldValue(\"userId\", value ? value.id : null)} />\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div style={{ marginTop: 10 }}>\r\n\t\t\t\t\t\t\t\t\t<AsyncSelect url=\"/queue\" dictKey={null}\r\n\t\t\t\t\t\t\t\t\t\tinitialValue={values.queue} width=\"100%\" label={i18n.t(\"contactModal.form.queue\")}\r\n\t\t\t\t\t\t\t\t\t\tonChange={(event, value) => setFieldValue(\"queueId\", value ? value.id : null)} />\r\n\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.form.extraInfo\")}\r\n\t\t\t\t\t\t\t\t</Typography>\r\n\r\n\t\t\t\t\t\t\t\t<FieldArray name=\"extraInfo\">\r\n\t\t\t\t\t\t\t\t\t{({ push, remove }) => (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t{values.extraInfo &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.length > 0 &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalues.extraInfo.map((info, index) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.extraAttr}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tkey={`${index}-info`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraName\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].name`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.extraValue\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tname={`extraInfo[${index}].value`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => remove(index)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<DeleteOutlineIcon />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t<div className={classes.extraAttr}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ flex: 1, marginTop: 8 }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => push({ name: \"\", value: \"\" })}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{`+ ${i18n.t(\"contactModal.buttons.addExtraInfo\")}`}\r\n\t\t\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</FieldArray>\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{contactId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ContactModal;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemAvatar from '@material-ui/core/ListItemAvatar';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport Avatar from '@material-ui/core/Avatar';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport moment from 'moment';\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    inline: {\r\n        width: '100%'\r\n    }\r\n}));\r\n\r\nexport default function ContactNotesDialogListItem(props) {\r\n    const { note, deleteItem, editItem } = props;\r\n    const classes = useStyles();\r\n\r\n    const handleDelete = (item) => {\r\n        deleteItem(item);\r\n    }\r\n\r\n    const handleEdit = (item) => {\r\n        editItem(item);\r\n    }\r\n    return (\r\n        <ListItem alignItems=\"flex-start\">\r\n            <ListItemAvatar>\r\n                <Avatar alt={note.user.name} src=\"/static/images/avatar/1.jpg\" />\r\n            </ListItemAvatar>\r\n            <ListItemText\r\n                primary={\r\n                    <>\r\n                        <Typography\r\n                            component=\"span\"\r\n                            variant=\"body2\"\r\n                            className={classes.inline}\r\n                            color=\"textPrimary\"\r\n                        >\r\n                            {note.note}\r\n                        </Typography>\r\n                    </>\r\n                }\r\n                secondary={\r\n                    <>\r\n                        {note.user.name}, {moment(note.createdAt).format('DD/MM/YY HH:mm')}\r\n                    </>\r\n                }\r\n            />\r\n            <ListItemSecondaryAction style={{ display: 'flex', flexDirection: 'column' }}>\r\n                {/* <IconButton onClick={() => handleEdit(note)} edge=\"end\" aria-label=\"edit\">\r\n                    <EditIcon />\r\n                </IconButton> */}\r\n                <IconButton onClick={() => handleDelete(note)} edge=\"end\" aria-label=\"delete\">\r\n                    <DeleteIcon />\r\n                </IconButton>\r\n            </ListItemSecondaryAction>\r\n\r\n        </ListItem>\r\n    )\r\n}\r\n\r\nContactNotesDialogListItem.propTypes = {\r\n    note: PropTypes.object.isRequired,\r\n    deleteItem: PropTypes.func.isRequired\r\n}","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst ConfirmationModal = ({ title, children, open, onClose, onConfirm }) => {\r\n\treturn (\r\n\t\t<Dialog\r\n\t\t\topen={open}\r\n\t\t\tonClose={() => onClose(false)}\r\n\t\t\taria-labelledby=\"confirm-dialog\"\r\n\t\t>\r\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\r\n\t\t\t<DialogContent dividers>\r\n\t\t\t\t<Typography>{children}</Typography>\r\n\t\t\t</DialogContent>\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tonClick={() => onClose(false)}\r\n\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.cancel\")}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tonClick={() => {\r\n\t\t\t\t\t\tonClose(false);\r\n\t\t\t\t\t\tonConfirm();\r\n\t\t\t\t\t}}\r\n\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"confirmationModal.buttons.confirm\")}\r\n\t\t\t\t</Button>\r\n\t\t\t</DialogActions>\r\n\t\t</Dialog>\r\n\t);\r\n};\r\n\r\nexport default ConfirmationModal;\r\n","import React, { useState } from 'react';\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogTitle from '@material-ui/core/DialogTitle';\r\nimport DialogContent from '@material-ui/core/DialogContent';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nexport default function ContactNotesEditModal({ open, onClose, note, onSave }) {\r\n  const [editedNote, setEditedNote] = useState(note);\r\n\r\n  const handleSave = () => {\r\n    onSave(editedNote); // Chama a função onSave com a nota editada\r\n    onClose(); // Fecha o diálogo de edição\r\n  };\r\n\r\n  return (\r\n    <Dialog open={open} onClose={onClose} \r\n    maxWidth=\"xs\"\r\n    fullWidth\r\n    >\r\n      <DialogTitle>Edit Note</DialogTitle>\r\n      <DialogContent>\r\n        <TextField\r\n          label=\"Edit Note\"\r\n          fullWidth\r\n          multiline\r\n          rows={4}\r\n          value={note}\r\n          onChange={(e) => setEditedNote(e.target.value)}\r\n        />\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={onClose} color=\"primary\">\r\n          Cancel\r\n        </Button>\r\n        <Button onClick={handleSave} color=\"primary\">\r\n          Save\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport { CircularProgress, Button } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tbutton: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst ButtonWithSpinner = ({ loading, children, ...rest }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Button className={classes.button} disabled={loading} {...rest}>\r\n\t\t\t{children}\r\n\t\t\t{loading && (\r\n\t\t\t\t<CircularProgress size={24} className={classes.buttonProgress} />\r\n\t\t\t)}\r\n\t\t</Button>\r\n\t);\r\n};\r\n\r\nexport default ButtonWithSpinner;\r\n","import api from \"../../services/api\";\r\n\r\nconst useTicketNotes = () => {\r\n\r\n    const saveNote = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/ticket-notes',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const editNote = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/ticket-notes/${data.id}`,\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const deleteNote = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/ticket-notes/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const listNotes = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/ticket-notes/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        saveNote,\r\n        deleteNote,\r\n        listNotes\r\n    }\r\n}\r\n\r\nexport default useTicketNotes;","import React, { useState, useEffect } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport List from '@material-ui/core/List';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\n\r\nimport ContactNotesDialogListItem from '../ContactNotesDialogListItem';\r\nimport ConfirmationModal from '../ConfirmationModal';\r\nimport ContactNotesEditModal from '../ContactNotesEditModal';\r\n\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport ButtonWithSpinner from '../ButtonWithSpinner';\r\n\r\nimport useTicketNotes from '../../hooks/useTicketNotes';\r\nimport { Grid } from '@material-ui/core';\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        '& .MuiTextField-root': {\r\n            margin: theme.spacing(1),\r\n            width: '350px',\r\n        },\r\n    },\r\n    list: {\r\n        width: '100%',\r\n        maxWidth: '350px',\r\n        maxHeight: '200px',\r\n        backgroundColor: theme.palette.background.paper,\r\n        overflow: 'auto'\r\n    },\r\n    inline: {\r\n        width: '100%'\r\n    }\r\n}));\r\n\r\nconst NoteSchema = Yup.object().shape({\r\n    note: Yup.string()\r\n        .min(2, \"Too Short!\")\r\n        .required(\"Required\")\r\n});\r\nexport function ContactNotes({ ticket }) {\r\n    const { id: ticketId, contactId } = ticket\r\n    const classes = useStyles()\r\n    const [newNote, setNewNote] = useState({ note: \"\" });\r\n    const [loading, setLoading] = useState(false)\r\n    const [showOnDeleteDialog, setShowOnDeleteDialog] = useState(false)\r\n    const [selectedNote, setSelectedNote] = useState({})\r\n    const [notes, setNotes] = useState([])\r\n    const { saveNote, deleteNote, listNotes } = useTicketNotes()\r\n    const [editingNote, setEditingNote] = useState(null);\r\n\r\n    useEffect(() => {\r\n        async function openAndFetchData() {\r\n            handleResetState()\r\n            await loadNotes()\r\n        }\r\n        openAndFetchData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const handleResetState = () => {\r\n        setNewNote({ note: \"\" })\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleChangeComment = (e) => {\r\n        setNewNote({ note: e.target.value })\r\n    }\r\n\r\n    const handleEdit = (note) => {\r\n        setEditingNote(note);\r\n    };\r\n\r\n    const handleSave = async values => {\r\n        setLoading(true)\r\n        try {\r\n            await saveNote({\r\n                ...values,\r\n                ticketId,\r\n                contactId\r\n            })\r\n            await loadNotes()\r\n            setNewNote({ note: '' })\r\n            toast.success('Observação adicionada com sucesso!')\r\n        } catch (e) {\r\n            toast.error(e)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleOpenDialogDelete = (item) => {\r\n        setSelectedNote(item)\r\n        setShowOnDeleteDialog(true)\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true)\r\n        try {\r\n            await deleteNote(selectedNote.id)\r\n            await loadNotes()\r\n            setSelectedNote({})\r\n            toast.success('Observação excluída com sucesso!')\r\n        } catch (e) {\r\n            toast.error(e)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const loadNotes = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const notes = await listNotes({ ticketId, contactId })\r\n            setNotes(notes)\r\n        } catch (e) {\r\n            toast.error(e)\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n\r\n    const renderNoteList = () => {\r\n        return notes.map((note) => {\r\n            return <ContactNotesDialogListItem\r\n                note={note}\r\n                key={note.id}\r\n                deleteItem={handleOpenDialogDelete}\r\n                editItem={() => handleEdit(note)}\r\n            />\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <ContactNotesEditModal\r\n                open={editingNote !== null}\r\n                onClose={() => setEditingNote(null)}\r\n                note={editingNote ? editingNote.note : ''}\r\n                onSave={handleSave}\r\n            />\r\n            <ConfirmationModal\r\n                title=\"Excluir Registro\"\r\n                open={showOnDeleteDialog}\r\n                onClose={setShowOnDeleteDialog}\r\n                onConfirm={handleDelete}\r\n            >\r\n                Deseja realmente excluir este registro?\r\n            </ConfirmationModal>\r\n            <Formik\r\n                initialValues={newNote}\r\n                enableReinitialize={true}\r\n                validationSchema={NoteSchema}\r\n                onSubmit={(values, actions) => {\r\n                    setTimeout(() => {\r\n                        handleSave(values);\r\n                        actions.setSubmitting(false);\r\n                    }, 400);\r\n                }}\r\n            >\r\n\r\n                {({ touched, errors, setErrors }) => (\r\n                    <Form>\r\n                        <Grid container spacing={2}>\r\n                            <Grid xs={12} item>\r\n                                <Field\r\n                                    as={TextField}\r\n                                    name=\"note\"\r\n                                    rows={3}\r\n                                    label={i18n.t(\"ticketOptionsMenu.appointmentsModal.textarea\")}\r\n                                    placeholder={i18n.t(\"ticketOptionsMenu.appointmentsModal.placeholder\")}\r\n                                    multiline={true}\r\n                                    error={touched.note && Boolean(errors.note)}\r\n                                    helperText={touched.note && errors.note}\r\n                                    variant=\"outlined\"\r\n                                    onChange={handleChangeComment}\r\n                                    fullWidth\r\n                                />\r\n                            </Grid>\r\n                            {notes.length > 0 && (\r\n                                <Grid xs={12} item>\r\n                                    <List className={classes.list}>\r\n                                        {renderNoteList()}\r\n                                    </List>\r\n                                </Grid>\r\n                            )}\r\n                            <Grid xs={12} item>\r\n                                <Grid container spacing={2}>\r\n                                    <Grid xs={6} item>\r\n                                        <Button\r\n                                            onClick={() => {\r\n                                                setNewNote(\"\");\r\n                                                setErrors({});\r\n                                            }}\r\n                                            color=\"primary\"\r\n                                            variant=\"outlined\"\r\n                                            fullWidth\r\n                                        >\r\n                                            Cancelar\r\n                                        </Button>\r\n                                    </Grid>\r\n                                    <Grid xs={6} item>\r\n                                        <ButtonWithSpinner loading={loading} color=\"primary\" type=\"submit\" variant=\"contained\" autoFocus fullWidth>\r\n                                            Salvar\r\n                                        </ButtonWithSpinner>\r\n                                    </Grid>\r\n                                </Grid>\r\n                            </Grid>\r\n                        </Grid>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </>\r\n    );\r\n}","import { Chip, Paper, Select, MenuItem, Grid, InputLabel, FormControl } from \"@material-ui/core\";\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { isString } from \"lodash\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { Field, Form } from \"formik\";\r\nconst useStyles = makeStyles((theme) => ({\r\n    menuListItem: {\r\n        paddingTop: 0,\r\n        paddingBottom: 0,\r\n        border: \"none\",\r\n    },\r\n    menuItem: {\r\n        maxHeight: 30,\r\n    },\r\n\r\n    chips: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n    },\r\n    chip: {\r\n        margin: 2,\r\n    },\r\n}));\r\nexport function TagsKanbanContainer({ ticket }) {\r\n    const classes = useStyles();\r\n\r\n    const [tags, setTags] = useState([]);\r\n    const [selected, setSelected] = useState(\"\"); // Alterado de null para \"\"\r\n\r\n    useEffect(() => {\r\n        let isMounted = true;\r\n        loadTags(isMounted).then(() => {\r\n            if (ticket.tags && ticket.tags.length > 0) {\r\n                setSelected(ticket.tags[0].id); // Alterado para pegar o ID da primeira tag, se existir\r\n            }\r\n        });\r\n\r\n        return () => {\r\n            isMounted = false;\r\n        };\r\n    }, [ticket.tags]);\r\n\r\n    const loadTags = async (isMounted) => {\r\n        try {\r\n            const { data } = await api.get(`/tags/list`, { params: { kanban: 1 } });\r\n            if (isMounted) {\r\n                setTags(data);\r\n            }\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }\r\n\r\n    const onChange = async (e) => {\r\n        const value = e.target.value;\r\n        if (ticket.tags.length > 0) {\r\n            await api.delete(`/ticket-tags/${ticket.id}`);\r\n            // toast.success('Ticket Tag Removido!');\r\n        }\r\n        if (value !== null) {\r\n            await api.put(`/ticket-tags/${ticket.id}/${value}`);\r\n            // toast.success('Ticket Tag Adicionado com Sucesso!');\r\n        }\r\n        setSelected(value);\r\n        // Adicione sua lógica de manipulação de tags aqui\r\n    }\r\n\r\n    const renderSelectedValue = () => {\r\n        const selectedTag = tags.find(tag => tag.id === selected);\r\n        if (!selectedTag) return null;\r\n\r\n        return (\r\n            <Chip\r\n                style={{\r\n                    backgroundColor: selectedTag.color,\r\n                    color: \"#FFF\",\r\n                    marginRight: 1,\r\n                    padding: 1,\r\n                    fontWeight: 'bold',\r\n                    paddingLeft: 5,\r\n                    paddingRight: 5,\r\n                    borderRadius: 3,\r\n                    fontSize: \"0.8em\",\r\n                    whiteSpace: \"nowrap\"\r\n                }}\r\n                label={selectedTag.name}\r\n                size=\"small\"\r\n            />\r\n        );\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                <InputLabel id=\"tag-kanban-id\">{i18n.t(\"Etapa Kanban\")}</InputLabel>\r\n                <Select\r\n                    labelWidth={60}\r\n                    value={selected}\r\n                    labelId=\"tag-kanban-id\"\r\n                    label={i18n.t(\"Etapa Kanban\")}\r\n                    onChange={onChange}\r\n                    MenuProps={{\r\n                        anchorOrigin: {\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"left\",\r\n                        },\r\n                        transformOrigin: {\r\n                            vertical: \"top\",\r\n                            horizontal: \"left\",\r\n                        },\r\n                        getContentAnchorEl: null,\r\n                    }}\r\n                    renderValue={renderSelectedValue}\r\n                >\r\n                    <MenuItem value={null}>&nbsp;</MenuItem>\r\n                    {tags.map(tag => (\r\n                        <MenuItem key={tag.id} value={tag.id}>\r\n                            {tag.name}\r\n                        </MenuItem>\r\n                    ))}\r\n                </Select>\r\n            </FormControl>\r\n        </>\r\n    )\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport Drawer from \"@material-ui/core/Drawer\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\n// import Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport CreateIcon from '@material-ui/icons/Create';\r\nimport formatSerializedId from '../../utils/formatSerializedId';\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport ModalImageCors from \"../ModalImageCors\"\r\nimport ContactDrawerSkeleton from \"../ContactDrawerSkeleton\";\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport { CardHeader, Switch, Tooltip } from \"@material-ui/core\";\r\nimport { ContactForm } from \"../ContactForm\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport { ContactNotes } from \"../ContactNotes\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { toast } from \"react-toastify\";\r\nimport { TagsKanbanContainer } from \"../TagsKanbanContainer\";\r\n\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tdrawer: {\r\n\t\twidth: drawerWidth,\r\n\t\tflexShrink: 0,\r\n\t},\r\n\tdrawerPaper: {\r\n\t\twidth: drawerWidth,\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\", // Certifique-se de que o Drawer tem um layout flexível\r\n\t\tborderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tborderRight: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tborderTopRightRadius: 4,\r\n\t\tborderBottomRightRadius: 4,\r\n\t},\r\n\theader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\tbackgroundColor: theme.palette.inputBackground,\r\n\t\talignItems: \"center\",\r\n\t\tpadding: theme.spacing(0, 1),\r\n\t\tminHeight: \"50px\",\r\n\t\tjustifyContent: \"flex-start\",\r\n\t},\r\n\tcontent: {\r\n\t\tdisplay: \"flex\",\r\n\t\tbackgroundColor: theme.palette.inputBackground,\r\n\t\tflexDirection: \"column\",\r\n\t\tpadding: \"8px 0px 8px 8px\",\r\n\t\theight: \"100%\",\r\n\t\tjustifyContent: \"center\",\r\n\t\tflex: 1, // Isso permite que o conteúdo ocupe todo o espaço disponível\r\n\t\toverflowY: \"auto\", // Usar \"auto\" para rolagem apenas quando necessário\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\r\n\tcontactAvatar: {\r\n\t\tmargin: 15,\r\n\t\twidth: 160,\r\n\t\theight: 160,\r\n\t\tborderRadius: 10,\r\n\t},\r\n\r\n\tcontactHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\tpadding: 8,\r\n\t\tflexDirection: \"column\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t\t\"& > *\": {\r\n\t\t\tmargin: 4,\r\n\t\t},\r\n\t},\r\n\r\n\tcontactDetails: {\r\n\t\tmarginTop: 8,\r\n\t\tpadding: 8,\r\n\t\tdisplay: \"flex\",\r\n\t\tflexDirection: \"column\",\r\n\t},\r\n\tcontactExtraInfo: {\r\n\t\tmarginTop: 4,\r\n\t\tpadding: 6,\r\n\t},\r\n}));\r\n\r\nconst ContactDrawer = ({ open, handleDrawerClose, contact, ticket, loading }) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst [modalOpen, setModalOpen] = useState(false);\r\n\tconst [blockingContact, setBlockingContact] = useState(contact.active);\r\n\tconst [openForm, setOpenForm] = useState(false);\r\n\tconst { get } = useCompanySettings();\r\n\tconst [hideNum, setHideNum] = useState(false);\r\n\tconst { user } = useContext(AuthContext);\r\n    const [acceptAudioMessage, setAcceptAudio] = useState(contact.acceptAudioMessage);\r\n\r\n\tuseEffect(() => {\r\n\t\tasync function fetchData() {\r\n\r\n\t\t\tconst lgpdHideNumber = await get({\r\n\t\t\t\t\"column\": \"lgpdHideNumber\"\r\n\t\t\t});\r\n\r\n\t\t\tif (lgpdHideNumber === \"enabled\") setHideNum(true);\r\n\r\n\t\t}\r\n\t\tfetchData();\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, [])\r\n\r\n\tuseEffect(() => {\r\n\t\tsetOpenForm(false);\r\n\t}, [open, contact]);\r\n\r\n\t\r\n\r\n\tconst handleContactToggleAcceptAudio = async () => {\r\n        try {\r\n            const contact = await api.put(`/contacts/toggleAcceptAudio/${ticket.contact.id}`);\r\n            setAcceptAudio(contact.data.acceptAudioMessage);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n\tconst handleBlockContact = async (contactId) => {\r\n\t\ttry {\r\n\t\t\tawait api.put(`/contacts/block/${contactId}`, { active: false });\r\n\t\t\ttoast.success(\"Contato bloqueado\");\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\r\n\t\tsetBlockingContact(true);\r\n\t};\r\n\r\n\tconst handleUnBlockContact = async (contactId) => {\r\n\t\ttry {\r\n\t\t\tawait api.put(`/contacts/block/${contactId}`, { active: true });\r\n\t\t\ttoast.success(\"Contato desbloqueado\");\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\tsetBlockingContact(false);\r\n\t};\r\n\r\n\tif (loading) return null;\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<Drawer\r\n\t\t\t\tclassName={classes.drawer}\r\n\t\t\t\tvariant=\"persistent\"\r\n\t\t\t\tanchor=\"right\"\r\n\t\t\t\topen={open}\r\n\t\t\t\tPaperProps={{ style: { position: \"absolute\" } }}\r\n\t\t\t\tBackdropProps={{ style: { position: \"absolute\" } }}\r\n\t\t\t\tModalProps={{\r\n\t\t\t\t\tcontainer: document.getElementById(\"drawer-container\"),\r\n\t\t\t\t\tstyle: { position: \"absolute\" },\r\n\t\t\t\t}}\r\n\t\t\t\tclasses={{\r\n\t\t\t\t\tpaper: classes.drawerPaper,\r\n\t\t\t\t}}\r\n\t\t\t>\r\n\t\t\t\t<div className={classes.header}>\r\n\t\t\t\t\t<IconButton onClick={handleDrawerClose}>\r\n\t\t\t\t\t\t<CloseIcon />\r\n\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t<Typography style={{ justifySelf: \"center\" }}>\r\n\t\t\t\t\t\t{i18n.t(\"contactDrawer.header\")}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t{!loading ? (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<Typography\r\n\t\t\t\t\t\t\t\tstyle={{ marginBottom: 8, marginTop: 12 }}\r\n\t\t\t\t\t\t\t\tvariant=\"subtitle1\"\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\tchecked={acceptAudioMessage}\r\n\t\t\t\t\t\t\t\t\tonChange={() => handleContactToggleAcceptAudio()}\r\n\t\t\t\t\t\t\t\t\tname=\"disableBot\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.acceptAudioMessage\")}\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t) : (<br />)}\r\n\t\t\t\t</div>\r\n\t\t\t\t{loading ? (\r\n\t\t\t\t\t<ContactDrawerSkeleton classes={classes} />\r\n\t\t\t\t) : (\r\n\t\t\t\t\t<div className={classes.content}>\r\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactHeader}>\r\n\t\t\t\t\t\t\t<ModalImageCors imageUrl={contact?.urlPicture} />\r\n\t\t\t\t\t\t\t<CardHeader\r\n\t\t\t\t\t\t\t\tonClick={() => { }}\r\n\t\t\t\t\t\t\t\tstyle={{ cursor: \"pointer\", width: '100%' }}\r\n\t\t\t\t\t\t\t\ttitleTypographyProps={{ noWrap: true }}\r\n\t\t\t\t\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\r\n\t\t\t\t\t\t\t\ttitle={\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<Typography onClick={() => setOpenForm(true)}>\r\n\t\t\t\t\t\t\t\t\t\t\t{contact.name}\r\n\t\t\t\t\t\t\t\t\t\t\t<CreateIcon style={{ fontSize: 16, marginLeft: 5 }} />\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\tsubheader={\r\n\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t<Typography style={{ fontSize: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t{hideNum && user.profile === \"user\" ? formatSerializedId(contact.number).slice(0, -6) + \"**-**\" + contact.number.slice(-2) : formatSerializedId(contact.number)}\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t\t<Typography style={{ color: \"primary\", fontSize: 12 }}>\r\n\t\t\t\t\t\t\t\t\t\t\t<Link href={`mailto:${contact.email}`}>{contact.email}</Link>\r\n\t\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\tonClick={() => setModalOpen(!openForm)}\r\n\t\t\t\t\t\t\t\tstyle={{ fontSize: 12 }}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.buttons.edit\")}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\tonClick={() => contact.active\r\n\t\t\t\t\t\t\t\t\t? handleBlockContact(contact.id)\r\n\t\t\t\t\t\t\t\t\t: handleUnBlockContact(contact.id)}\r\n\t\t\t\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t{!contact.active ? \"Desbloquear contato\" : \"Bloquear contato\"}\r\n\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t{(contact.id && openForm) && <ContactForm initialContact={contact} onCancel={() => setOpenForm(false)} />}\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t<TagsKanbanContainer ticket={ticket} className={classes.contactTags} />\r\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\r\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\" style={{ marginBottom: 10 }}>\r\n\t\t\t\t\t\t\t\t{i18n.t(\"ticketOptionsMenu.appointmentsModal.title\")}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t<ContactNotes ticket={ticket} />\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t<Paper square variant=\"outlined\" className={classes.contactDetails}>\r\n\t\t\t\t\t\t\t<ContactModal\r\n\t\t\t\t\t\t\t\topen={modalOpen}\r\n\t\t\t\t\t\t\t\tonClose={() => setModalOpen(false)}\r\n\t\t\t\t\t\t\t\tcontactId={contact.id}\r\n\t\t\t\t\t\t\t></ContactModal>\r\n\t\t\t\t\t\t\t<Typography variant=\"subtitle1\">\r\n\t\t\t\t\t\t\t\t{i18n.t(\"contactDrawer.extraInfo\")}\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t{contact?.extraInfo?.map(info => (\r\n\t\t\t\t\t\t\t\t<Paper\r\n\t\t\t\t\t\t\t\t\tkey={info.id}\r\n\t\t\t\t\t\t\t\t\tsquare\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.contactExtraInfo}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t<InputLabel>{info.name}</InputLabel>\r\n\t\t\t\t\t\t\t\t\t<Typography component=\"div\" noWrap style={{ paddingTop: 2 }}>\r\n\t\t\t\t\t\t\t\t\t\t<MarkdownWrapper>{info.value}</MarkdownWrapper>\r\n\t\t\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t</Paper>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t)}\r\n\t\t\t</Drawer>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default ContactDrawer;\r\n","import React, { useState, createContext } from \"react\";\r\n\r\nconst ReplyMessageContext = createContext();\r\n\r\nconst ReplyMessageProvider = ({ children }) => {\r\n\tconst [replyingMessage, setReplyingMessage] = useState(null);\r\n\treturn (\r\n\t\t<ReplyMessageContext.Provider\r\n\t\t\tvalue={{ replyingMessage, setReplyingMessage }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</ReplyMessageContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { ReplyMessageContext, ReplyMessageProvider };\r\n","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\ttimerBox: {\r\n\t\tdisplay: \"flex\",\r\n\t\tmarginLeft: 10,\r\n\t\tmarginRight: 10,\r\n\t\talignItems: \"center\",\r\n\t},\r\n}));\r\n\r\nconst RecordingTimer = () => {\r\n\tconst classes = useStyles();\r\n\tconst initialState = {\r\n\t\tminutes: 0,\r\n\t\tseconds: 0,\r\n\t};\r\n\tconst [timer, setTimer] = useState(initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst interval = setInterval(\r\n\t\t\t() =>\r\n\t\t\t\tsetTimer(prevState => {\r\n\t\t\t\t\tif (prevState.seconds === 59) {\r\n\t\t\t\t\t\treturn { ...prevState, minutes: prevState.minutes + 1, seconds: 0 };\r\n\t\t\t\t\t}\r\n\t\t\t\t\treturn { ...prevState, seconds: prevState.seconds + 1 };\r\n\t\t\t\t}),\r\n\t\t\t1000\r\n\t\t);\r\n\t\treturn () => {\r\n\t\t\tclearInterval(interval);\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst addZero = n => {\r\n\t\treturn n < 10 ? \"0\" + n : n;\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.timerBox}>\r\n\t\t\t<span>{`${addZero(timer.minutes)}:${addZero(timer.seconds)}`}</span>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default RecordingTimer;\r\n","import api from \"../../services/api\";\r\n\r\nconst useQuickMessages = () => {\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/quick-messages',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/quick-messages/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const deleteRecord = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/quick-messages/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/quick-messages/list',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const listNotCategory = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/quick-messages/listNotCategory',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list2 = async (params) => {\r\n        const { data } = await api.request({\r\n            url: '/quick-messages/categoriesMessages',\r\n            method: 'GET',\r\n            params\r\n        });\r\n        return data;\r\n    }\r\n\r\n    return {\r\n        save,\r\n        update,\r\n        deleteRecord,\r\n        list,\r\n        list2,\r\n        listNotCategory\r\n    }\r\n}\r\n\r\nexport default useQuickMessages;","import React from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@mui/material';\r\nimport { i18n } from '../../translate/i18n';\r\n\r\nconst ShowTicketOpen = ({ isOpen, handleClose, user, queue }) => {\r\n  return (\r\n    <Dialog open={isOpen} onClose={handleClose}>\r\n      <DialogTitle>{i18n.t(\"showTicketOpenModal.title.header\")}</DialogTitle>\r\n      <DialogContent>\r\n        {user !== undefined && queue !== undefined && (\r\n          <DialogContentText>\r\n            {i18n.t(\"showTicketOpenModal.form.message\")} <br></br>\r\n            { `${i18n.t(\"showTicketOpenModal.form.user\")}: ${user}`}<br></br>\r\n            {`${i18n.t(\"showTicketOpenModal.form.queue\")}: ${queue}`}<br></br>\r\n          </DialogContentText>\r\n        )}\r\n        {!user && (\r\n          <DialogContentText>\r\n            {i18n.t(\"showTicketOpenModal.form.messageWait\")} <br></br>\r\n            {queue && (`${i18n.t(\"showTicketOpenModal.form.queue\")}: ${queue}`)}<br></br>\r\n          </DialogContentText>\r\n        )}\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Fechar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog >\r\n  );\r\n};\r\n\r\nexport default ShowTicketOpen;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  online: {\r\n    fontSize: 11,\r\n    color: \"#25d366\"\r\n  },\r\n  offline: {\r\n    fontSize: 11,\r\n    color: \"#e1306c\"\r\n  }\r\n}));\r\n\r\nconst filter = createFilterOptions({\r\n  trim: true,\r\n});\r\n\r\nconst ContactSendModal = ({ modalOpen, onClose }) => {\r\n  const classes = useStyles();\r\n  const [options, setOptions] = useState([]);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedContact, setSelectedContact] = useState(null);\r\n  const [newContact, setNewContact] = useState({});\r\n  \r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { companyId, whatsappId } = user;\r\n\r\n  useEffect(() => {\r\n    if (!modalOpen || searchParam.length < 3) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"contacts\", {\r\n            params: { searchParam, channel: \"whatsapp\", isGroup: \"false\" },\r\n          });\r\n\r\n          setOptions(data.contacts);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, modalOpen]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setSearchParam(\"\");\r\n    setSelectedContact(null);\r\n  };\r\n\r\n  const handleSendVcard = async contact => {\r\n    if (!contact) return;\r\n    \r\n    setLoading(true);\r\n    try {\r\n      onClose(contact);\r\n    } catch (err) {\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n\r\n  const handleSelectOption = (e, newValue) => {\r\n    if (newValue?.number) {\r\n      setSelectedContact(newValue);\r\n    } else if (newValue?.name) {\r\n      setNewContact({ name: newValue.name });\r\n      setContactModalOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setContactModalOpen(false);    \r\n  };\r\n\r\n  const handleAddNewContactTicket = contact => {\r\n    handleSendVcard(contact);\r\n  };\r\n\r\n  const createAddContactOption = (filterOptions, params) => {\r\n    const filtered = filter(filterOptions, params);\r\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\r\n      filtered.push({\r\n        name: `${params.inputValue}`,\r\n      });\r\n    }\r\n    return filtered;\r\n  };\r\n\r\n  const renderOption = option => {\r\n    if (option.number) {\r\n      return <>\r\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n          {option.name} - {option.number}\r\n        </Typography>\r\n      </>\r\n    } else {\r\n      return `${i18n.t(\"SendContactModal.add\")} ${option.name}`;\r\n    }\r\n  };\r\n\r\n  const renderOptionLabel = option => {\r\n    if (option.number) {\r\n      return `${option.name} - ${option.number}`;\r\n    } else {\r\n      return `${option.name}`;\r\n    }\r\n  };\r\n\r\n  const renderContactAutocomplete = () => {\r\n      return (\r\n        <Grid xs={12} item>\r\n          <Autocomplete\r\n            fullWidth\r\n            options={options}\r\n            loading={loading}\r\n            clearOnBlur\r\n            autoHighlight\r\n            freeSolo\r\n            clearOnEscape\r\n            getOptionLabel={renderOptionLabel}\r\n            renderOption={renderOption}\r\n            filterOptions={createAddContactOption}\r\n            onChange={(e, newValue) => handleSelectOption(e, newValue)}\r\n            renderInput={params => (\r\n              <TextField\r\n                {...params}\r\n                label={i18n.t(\"SendContactModal.fieldLabel\")}\r\n                variant=\"outlined\"\r\n                autoFocus\r\n                onChange={e => setSearchParam(e.target.value)}\r\n                onKeyPress={e => {\r\n                  if (loading || !selectedContact) return;\r\n                  else if (e.key === \"Enter\") {\r\n                    handleSendVcard(selectedContact);\r\n                  }\r\n                }}\r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  endAdornment: (\r\n                    <React.Fragment>\r\n                      {loading ? (\r\n                        <CircularProgress color=\"inherit\" size={20} />\r\n                      ) : null}\r\n                      {params.InputProps.endAdornment}\r\n                    </React.Fragment>\r\n                  ),\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n      )\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <ContactModal\r\n        open={contactModalOpen}\r\n        initialValues={newContact}\r\n        onClose={handleCloseContactModal}\r\n        onSave={handleAddNewContactTicket}\r\n      ></ContactModal>\r\n      <Dialog open={modalOpen} onClose={handleClose}>\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {i18n.t(\"SendContactModal.title\")}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Grid style={{ width: 300 }} container spacing={2}>\r\n            {/* CONTATO */}\r\n            {renderContactAutocomplete()}\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"secondary\"\r\n            disabled={loading}\r\n            variant=\"outlined\"\r\n          >\r\n            {i18n.t(\"SendContactModal.buttons.cancel\")}\r\n          </Button>\r\n          <ButtonWithSpinner\r\n            variant=\"contained\"\r\n            type=\"button\"\r\n            disabled={!selectedContact}\r\n            onClick={() => handleSendVcard(selectedContact)}\r\n            color=\"primary\"\r\n            loading={loading}\r\n          >\r\n            {i18n.t(\"SendContactModal.buttons.ok\")}\r\n          </ButtonWithSpinner>\r\n        </DialogActions>\r\n      </Dialog >\r\n    </>\r\n  );\r\n};\r\nexport default ContactSendModal;","import React, { useState } from 'react';\r\nimport Modal from 'react-modal';\r\nimport Camera, { FACING_MODES } from 'react-html5-camera-photo';\r\nimport 'react-html5-camera-photo/build/css/index.css';\r\n\r\nModal.setAppElement('#root');\r\n\r\n\r\nconst customStyles = {\r\n  overlay: {\r\n    backgroundColor: 'rgba(0, 0, 0, 0.5)', // Fundo transparente\r\n  },\r\n  content: {\r\n    width: '80%',\r\n    height: '70%',\r\n    maxWidth: '780px',\r\n    maxHeight: '85vh',\r\n    top: '50%',\r\n    left: '50%',\r\n    transform: 'translate(-50%, -50%)',\r\n    borderRadius: '8px',\r\n    boxShadow: '0 0 10px rgba(0, 0, 0, 0.3)',\r\n    border: 'none',\r\n    padding: '0',\r\n    background: 'none',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n  },\r\n};\r\n\r\nconst ModalCamera = ({ isOpen, onRequestClose, onCapture }) => {\r\n  const [capturedImage, setCapturedImage] = useState(null);\r\n\r\n  const handleTakePhoto = (dataUri) => {\r\n    setCapturedImage(dataUri);\r\n  };\r\n\r\n  const handleConfirm = () => {\r\n\r\n    // Converta a imagem capturada em um arquivo (Blob)\r\n    fetch(capturedImage)\r\n      .then((res) => res.blob())\r\n      .then((blob) => {\r\n        // Chame a função de retorno com o arquivo da imagem capturada\r\n        onCapture(blob);\r\n      });\r\n\r\n    // Feche o modal\r\n    setCapturedImage(null);\r\n    onRequestClose();\r\n  };\r\n\r\n  return (\r\n   <Modal\r\n      isOpen={isOpen}\r\n      onRequestClose={onRequestClose}  \r\n      style={customStyles}    \r\n    >\r\n       <div style={{ flex: 1 }}>\r\n          <Camera\r\n            onTakePhoto={handleTakePhoto}\r\n            idealFacingMode={FACING_MODES.ENVIRONMENT}\r\n            isImageMirror={false}\r\n            style={customStyles}\r\n          />\r\n        </div>\r\n        {capturedImage && \r\n          handleConfirm()\r\n        }\r\n    </Modal>\r\n  );\r\n};\r\n\r\nexport default ModalCamera;\r\n","import React, { useState, createContext } from \"react\";\r\n\r\nconst ForwardMessageContext = createContext();\r\n\r\nconst ForwardMessageProvider = ({ children }) => {\r\n\tconst [showSelectMessageCheckbox, setShowSelectMessageCheckbox] = useState(false);\r\n\tconst [selectedMessages, setSelectedMessages] = useState([]);\r\n\tconst [forwardMessageModalOpen, setForwardMessageModalOpen] = useState(false);\r\n\treturn (\r\n\t\t<ForwardMessageContext.Provider\r\n\t\t\tvalue={{\r\n\t\t\t\tshowSelectMessageCheckbox, setShowSelectMessageCheckbox,\r\n\t\t\t\tselectedMessages, setSelectedMessages,\r\n\t\t\t\tforwardMessageModalOpen, setForwardMessageModalOpen\r\n\t\t\t}}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</ForwardMessageContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { ForwardMessageContext, ForwardMessageProvider };\r\n","import { Button } from \"@material-ui/core\";\r\nimport React, { useRef, useEffect, useState } from \"react\";\r\n\r\nconst LS_NAME = 'audioMessageRate';\r\n\r\nconst AudioModal = ({url}) => {\r\n    const audioRef = useRef(null);\r\n    const [audioRate, setAudioRate] = useState(parseFloat(localStorage.getItem(LS_NAME) || \"1\"));\r\n    const [showButtonRate, setShowButtonRate] = useState(false);\r\n    const isIOS = /iPad|iPhone|iPod/.test(navigator.userAgent) && !window.MSStream;\r\n  \r\n    useEffect(() => {\r\n      audioRef.current.playbackRate = audioRate;\r\n      localStorage.setItem(LS_NAME, audioRate);\r\n    }, [audioRate]);\r\n  \r\n    useEffect(() => {\r\n      audioRef.current.onplaying = () => {\r\n        setShowButtonRate(true);\r\n      };\r\n      audioRef.current.onpause = () => {\r\n        setShowButtonRate(false);\r\n      };\r\n      audioRef.current.onended = () => {\r\n        setShowButtonRate(false);\r\n      };\r\n    }, []);\r\n  \r\n    const toggleRate = () => {\r\n      let newRate = null;\r\n  \r\n      switch (audioRate) {\r\n        case 0.5:\r\n          newRate = 1;\r\n          break;\r\n        case 1:\r\n          newRate = 1.5;\r\n          break;\r\n        case 1.5:\r\n          newRate = 2;\r\n          break;\r\n        case 2:\r\n          newRate = 0.5;\r\n          break;\r\n        default:\r\n          newRate = 1;\r\n          break;\r\n      }\r\n  \r\n      setAudioRate(newRate);\r\n    };\r\n  \r\n    const getAudioSource = () => {\r\n      let sourceUrl = url;\r\n  \r\n      if (isIOS) {\r\n        sourceUrl = sourceUrl.replace(\".ogg\", \".mp3\");\r\n      }\r\n  \r\n      return (\r\n        <source src={sourceUrl} type={isIOS ? \"audio/mp3\" : \"audio/ogg\"} />\r\n      );\r\n    };\r\n  \r\n    return (\r\n      <>\r\n        <audio ref={audioRef} controls>\r\n          {getAudioSource()}\r\n        </audio>\r\n        {showButtonRate && (\r\n          <Button\r\n            style={{ marginLeft: \"5px\", marginTop: \"-45px\" }}\r\n            onClick={toggleRate}\r\n          >\r\n            {audioRate}x\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n}\r\n\r\nexport default AudioModal;","import React, { useEffect, useMemo, useState } from 'react';\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogContent,\r\n    DialogActions,\r\n    Typography,\r\n    IconButton,\r\n    TextField,\r\n    Card,\r\n    CardContent,\r\n} from '@mui/material';\r\nimport { Cancel, Search, Send, SkipNext, SkipPrevious } from '@material-ui/icons';\r\nimport AudioModal from '../AudioModal';\r\nimport { Document, Page, pdfjs } from 'react-pdf';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey } from '@material-ui/core/colors';\r\nimport { InputAdornment, InputBase } from '@material-ui/core';\r\n\r\npdfjs.GlobalWorkerOptions.workerSrc = `//cdnjs.cloudflare.com/ajax/libs/pdf.js/${pdfjs.version}/pdf.worker.min.js`;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n    },\r\n    modal: {\r\n        background: theme.palette.background.default,\r\n    },\r\n    messageInputWrapperPrivate: {\r\n        padding: 6,\r\n        marginRight: 7,\r\n        background: theme.palette.background.paper,\r\n        display: \"flex\",\r\n        borderRadius: 20,\r\n        flex: 1,\r\n        position: \"relative\",\r\n    },\r\n    buttonEnable: {\r\n        color: theme.mode === 'light' ? \"grey\" : \"#eee\",\r\n    },\r\n    buttonDisable: {\r\n        color: grey[400]\r\n    }\r\n}));\r\n\r\nconst MessageUploadMedias = ({ isOpen, files, onClose, onSend, onCancelSelection }) => {\r\n    const classes = useStyles();\r\n    const [currentIndex, setCurrentIndex] = useState(0);\r\n    const [captions, setCaptions] = useState(files.map(() => ''));\r\n    const [numPages, setNumPages] = React.useState(null);\r\n    const [componentMounted, setComponentMounted] = useState(false);\r\n    const [isTyping, setIsTyping] = useState(false);\r\n    const [firstTyping, setFirstTyping] = useState(false);\r\n\r\n    useEffect(() => {\r\n        setFirstTyping(true);\r\n        setComponentMounted(true);\r\n    }, []);\r\n\r\n    const onDocumentLoadSuccess = ({ numPages }) => {\r\n        setNumPages(numPages);\r\n    };\r\n\r\n    const handleClose = () => {\r\n        onClose();\r\n    };\r\n\r\n    const handlePrev = () => {\r\n        if (currentIndex > 0) {\r\n            setFirstTyping(true);\r\n            setCurrentIndex(currentIndex - 1);\r\n        }\r\n    };\r\n\r\n    const handleNext = () => {\r\n        if (currentIndex < files.length - 1) {\r\n            setFirstTyping(true);\r\n            setCurrentIndex(currentIndex + 1);\r\n        }\r\n    };\r\n\r\n    const handleTextFieldBlur = () => {\r\n        setIsTyping(false);\r\n    };\r\n\r\n    const handleCaptionChange = (e) => {\r\n        const value = e.target.value;\r\n        setCaptions((prevCaptions) => {\r\n            const updatedCaptions = [...prevCaptions];\r\n            updatedCaptions[currentIndex] = value;\r\n            return updatedCaptions;\r\n        });\r\n        if (firstTyping) {\r\n            setIsTyping(true);\r\n        }\r\n    };\r\n\r\n    const handleSend = () => {\r\n        const selectedMedias = files.map((file, index) => ({\r\n            file,\r\n            caption: captions[index],\r\n        }));\r\n        onSend(selectedMedias);\r\n        handleClose();\r\n    };\r\n\r\n    const renderFileContent = useMemo(() => {\r\n        if (!componentMounted) {\r\n            return null;\r\n        }\r\n        if (firstTyping) {\r\n            const currentFile = files[currentIndex];\r\n            if (currentFile.type.startsWith('image')) {\r\n                return (\r\n                    <>\r\n                        <div\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                height: \"400px\"\r\n                            }}\r\n                            className={classes.modal}\r\n                        >\r\n                            <img\r\n                                alt={`Imagem ${currentIndex + 1}`}\r\n                                src={URL.createObjectURL(currentFile)}\r\n                                style={{\r\n                                    maxWidth: \"600px\",\r\n                                    maxHeight: \"400px\",\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                            }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\r\n                        </div>\r\n                    </>\r\n\r\n                );\r\n            } else if (currentFile.type === 'application/pdf') {\r\n                return (\r\n                    <>\r\n                        <div\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                height: '400px'\r\n                            }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <Document file={URL.createObjectURL(currentFile)} onLoadSuccess={onDocumentLoadSuccess} >\r\n                                <Page pageNumber={1}\r\n                                    width={200}\r\n                                    height={300}\r\n                                />\r\n                            </Document>\r\n                        </div>\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                        }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\r\n                        </div>\r\n                    </>\r\n                );\r\n            } else if (currentFile.type.startsWith('video')) {\r\n                return (\r\n                    <>\r\n                        <div\r\n                            style={{\r\n                                display: 'flex',\r\n                                alignItems: 'center',\r\n                                justifyContent: 'center',\r\n                                height: '400px',\r\n                            }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <video\r\n                                src={URL.createObjectURL(currentFile)}\r\n                                controls={true}\r\n                                volume={localStorage.getItem(\"volume\")}\r\n                                style={{\r\n                                    maxWidth: \"600px\",\r\n                                    maxHeight: \"400px\",\r\n                                }}\r\n                            />\r\n                        </div>\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                        }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\r\n                        </div>\r\n                    </>\r\n                );\r\n            } else if (currentFile.type.startsWith('audio')) {\r\n                return (\r\n                    <><div\r\n                        style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            height: '400px',\r\n                        }}\r\n                        className={classes.modal}\r\n\r\n                    >\r\n                        <AudioModal url={URL.createObjectURL(currentFile)} />\r\n                    </div>\r\n                        <div style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                        }}\r\n                            className={classes.modal}\r\n\r\n                        >\r\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\r\n                        </div>\r\n                    </>\r\n                );\r\n            } else {\r\n                return (\r\n                    <div\r\n                        style={{\r\n                            display: 'flex',\r\n                            alignItems: 'center',\r\n                            justifyContent: 'center',\r\n                            height: '400px', // Altura desejada para vídeos, documentos e áudios\r\n                        }}\r\n                        className={classes.modal}\r\n\r\n                    >\r\n                        <CardContent className={classes.modal}\r\n                        >\r\n                            <Typography variant=\"h6\">Visualização não disponível</Typography>\r\n                            <Typography variant=\"h6\">{currentFile.name}</Typography>\r\n                        </CardContent>\r\n                    </div>\r\n                );\r\n            }\r\n        }\r\n        return null;\r\n    }, [currentIndex, firstTyping]);\r\n\r\n    const handleKeyDown = (event) => {\r\n        if (event.key === 'Enter' && event.shiftKey) {\r\n            // const newCaptions = captions.slice();\r\n            // newCaptions[currentIndex] += '\\n';\r\n            // setCaptions(newCaptions);\r\n            return\r\n        }\r\n        switch (event.key) {\r\n            case 'Escape':\r\n                onCancelSelection();\r\n                break;\r\n            case 'Enter':\r\n                handleSend();\r\n                break;\r\n            case 'ArrowRight':\r\n                handleNext();\r\n                break;\r\n            case 'ArrowLeft':\r\n                handlePrev();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    };\r\n    return (\r\n        <div className={classes.modal}>\r\n            <Dialog\r\n                open={isOpen}\r\n                fullWidth\r\n                maxWidth=\"md\"\r\n                scroll=\"paper\"\r\n            >\r\n                <DialogContent className={classes.modal}>\r\n                    <Card>\r\n                        {renderFileContent}\r\n                        <CardContent className={classes.modal}>\r\n                            <div className={classes.messageInputWrapperPrivate}>\r\n                                <InputBase\r\n                                    placeholder=\"Legenda (opcional)\"\r\n                                    fullWidth\r\n                                    multiline\r\n                                    minRows={1}\r\n                                    maxRows={5}\r\n                                    value={captions[currentIndex]}\r\n                                    onChange={handleCaptionChange}\r\n                                    onBlur={handleTextFieldBlur}\r\n                                    autoFocus\r\n                                    onKeyDown={handleKeyDown}\r\n                                />\r\n                            </div>\r\n                        </CardContent>\r\n                    </Card>\r\n                </DialogContent>\r\n                <DialogActions className={classes.modal}>\r\n                    <IconButton onClick={handlePrev} disabled={currentIndex === 0}>\r\n                        <SkipPrevious className={currentIndex === 0 ? classes.buttonDisable : classes.buttonEnable} />\r\n                    </IconButton>\r\n                    <IconButton onClick={onCancelSelection} >\r\n                        <Cancel className={classes.buttonEnable} />\r\n                    </IconButton>\r\n                    <IconButton onClick={handleSend} >\r\n                        <Send className={classes.buttonEnable} />\r\n                    </IconButton>\r\n                    <IconButton onClick={handleNext} disabled={currentIndex === files.length - 1}>\r\n                        <SkipNext className={currentIndex === files.length - 1 ? classes.buttonDisable : classes.buttonEnable} />\r\n                    </IconButton>\r\n                </DialogActions>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default MessageUploadMedias;\r\n","import React, { useState, createContext } from \"react\";\r\nimport PropTypes from \"prop-types\";\r\n\r\nconst EditMessageContext = createContext();\r\n\r\nconst EditMessageProvider = ({ children }) => {\r\n\tconst [editingMessage, setEditingMessage] = useState(null);\r\n\r\n\treturn (\r\n\t\t<EditMessageContext.Provider\r\n\t\t\tvalue={{ editingMessage, setEditingMessage }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</EditMessageContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { EditMessageContext, EditMessageProvider};\r\n","import React from \"react\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nconst InputComponent = ({ inputRef, ...other }) => <div {...other} />;\r\n\r\nconst OutlinedDiv = ({\r\n  InputProps,\r\n  children,\r\n  InputLabelProps,\r\n  label,\r\n  ...other\r\n}) => {\r\n  return (\r\n    <TextField\r\n      {...other}\r\n      variant=\"outlined\"\r\n      label={label}\r\n      multiline\r\n      InputLabelProps={{ shrink: true, ...InputLabelProps }}\r\n      InputProps={{\r\n        inputComponent: InputComponent,\r\n        ...InputProps\r\n      }}\r\n      inputProps={{ children: children }}\r\n    />\r\n  );\r\n};\r\n\r\nexport default OutlinedDiv;","import React from \"react\";\r\nimport { Chip, makeStyles } from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport OutlinedDiv from \"../OutlinedDiv\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    chip: {\r\n        margin: theme.spacing(0.5),\r\n        cursor: \"pointer\"\r\n    }\r\n}));\r\n\r\nconst MessageVariablesPicker = ({ onClick, disabled }) => {\r\n    const classes = useStyles();\r\n\r\n    const handleClick = (e, value) => {\r\n        e.preventDefault();\r\n        if (disabled) return;\r\n        onClick(value);\r\n    };\r\n\r\n    const msgVars = [\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.contactFirstName\"),\r\n            value: \"{{firstName}}\"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.contactName\"),\r\n            value: \"{{name}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.user\"),\r\n            value: \"{{userName}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.greeting\"),\r\n            value: \"{{ms}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.protocolNumber\"),\r\n            value: \"{{protocol}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.date\"),\r\n            value: \"{{date}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.hour\"),\r\n            value: \"{{hour}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.ticket_id\"),\r\n            value: \"{{ticket_id}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.queue\"),\r\n            value: \"{{queue}} \"\r\n        },\r\n        {\r\n            name: i18n.t(\"messageVariablesPicker.vars.connection\"),\r\n            value: \"{{connection}} \"\r\n        }\r\n    ];\r\n\r\n    return (\r\n        <OutlinedDiv\r\n            margin=\"dense\"\r\n            fullWidth\r\n            label={i18n.t(\"messageVariablesPicker.label\")}\r\n            disabled={disabled}\r\n        >\r\n            {msgVars.map(msgVar => (\r\n                <Chip\r\n                    key={msgVar.value}\r\n                    onMouseDown={e => handleClick(e, msgVar.value)}\r\n                    label={msgVar.name}\r\n                    size=\"small\"\r\n                    className={classes.chip}\r\n                    color=\"primary\"\r\n                />\r\n            ))}\r\n        </OutlinedDiv>\r\n    );\r\n};\r\n\r\nexport default MessageVariablesPicker;","import api from \"../../services/api\";\r\n\r\nconst useQueues = () => {\r\n\tconst findAll = async () => {\r\n        const { data } = await api.get(\"/queue\");\r\n        return data;\r\n    }\r\n\r\n\treturn { findAll };\r\n};\r\n\r\nexport default useQueues;\r\n","import React from \"react\";\r\nimport { Tooltip, makeStyles } from \"@material-ui/core\";\r\nimport { green, grey } from '@material-ui/core/colors';\r\nimport CheckCircleIcon from '@material-ui/icons/CheckCircle';\r\nimport ErrorIcon from '@material-ui/icons/Error';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    on: {\r\n        color: green[600],\r\n        fontSize: '20px'\r\n    },\r\n    off: {\r\n        color: grey[600],\r\n        fontSize: '20px'\r\n    }\r\n}));\r\n\r\nconst UserStatusIcon = ({ user }) => {\r\n    const classes = useStyles();\r\n    return user.online ?\r\n        <Tooltip title=\"Online\">\r\n            <CheckCircleIcon className={classes.on} />\r\n        </Tooltip>\r\n        :\r\n        <Tooltip title=\"Offline\">\r\n            <ErrorIcon className={classes.off} />\r\n        </Tooltip>\r\n}\r\n\r\nexport default UserStatusIcon;","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field, FieldArray } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Chip, FormControl, FormControlLabel, Grid, IconButton, InputLabel, MenuItem, Select, Switch, Typography } from \"@material-ui/core\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport moment from \"moment\"\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { isArray, capitalize } from \"lodash\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport AttachFile from \"@material-ui/icons/AttachFile\";\r\nimport { head } from \"lodash\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\t// multFieldLine: {\r\n\t// \tdisplay: \"flex\",\r\n\t// \t\"& > *:not(:last-child)\": {\r\n\t// \t\tmarginRight: theme.spacing(1),\r\n\t// \t},\r\n\t// },\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\t// formControl: {\r\n\t// \tmargin: theme.spacing(1),\r\n\t// \tminWidth: 120,\r\n\t// },\r\n}));\r\n\r\nconst ScheduleSchema = Yup.object().shape({\r\n\tbody: Yup.string()\r\n\t\t.min(5, \"Mensagem muito curta\")\r\n\t\t.required(\"Obrigatório\"),\r\n\tcontactId: Yup.number().required(\"Obrigatório\"),\r\n\tsendAt: Yup.string().required(\"Obrigatório\")\r\n});\r\n\r\nconst ScheduleModal = ({ open, onClose, scheduleId, contactId, cleanContact, reload }) => {\r\n\tconst classes = useStyles();\r\n\tconst history = useHistory();\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst isMounted = useRef(true);\r\n\tconst { companyId } = user;\r\n\r\n\tconst initialState = {\r\n\t\tbody: \"\",\r\n\t\tcontactId: \"\",\r\n\t\tsendAt: moment().add(1, 'hour').format('YYYY-MM-DDTHH:mm'),\r\n\t\tsentAt: \"\",\r\n\t\topenTicket: \"enabled\",\r\n\t\tticketUserId: \"\",\r\n\t\tqueueId: \"\",\r\n\t\tstatusTicket: \"closed\",\r\n\t\tintervalo: 1,\r\n\t\tvalorIntervalo: 0,\r\n\t\tenviarQuantasVezes: 1,\r\n\t\ttipoDias: 4,\r\n\t\tassinar: false\r\n\t};\r\n\r\n\tconst initialContact = {\r\n\t\tid: \"\",\r\n\t\tname: \"\",\r\n\t\tchannel: \"\"\r\n\t}\r\n\r\n\tconst [schedule, setSchedule] = useState(initialState);\r\n\tconst [currentContact, setCurrentContact] = useState(initialContact);\r\n\tconst [contacts, setContacts] = useState([initialContact]);\r\n\tconst [intervalo, setIntervalo] = useState(1);\r\n\t// const [valorIntervalo, setValorIntervalo] = useState(initialContact);\r\n\t// const [enviarQuantasVezes, setEnviarQuantasVezes] = useState(initialContact);\r\n\tconst [tipoDias, setTipoDias] = useState(4);\r\n\tconst [attachment, setAttachment] = useState(null);\r\n\tconst attachmentFile = useRef(null);\r\n\tconst [confirmationOpen, setConfirmationOpen] = useState(false);\r\n\tconst messageInputRef = useRef();\r\n\tconst [channelFilter, setChannelFilter] = useState(\"whatsapp\");\r\n\tconst [whatsapps, setWhatsapps] = useState([]);\r\n\tconst [selectedWhatsapps, setSelectedWhatsapps] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [queues, setQueues] = useState([]);\r\n\tconst [allQueues, setAllQueues] = useState([]);\r\n\tconst [selectedUser, setSelectedUser] = useState(null);\r\n\tconst [selectedQueue, setSelectedQueue] = useState(null);\r\n\tconst { findAll: findAllQueues } = useQueues();\r\n\tconst [options, setOptions] = useState([]);\r\n\tconst [searchParam, setSearchParam] = useState(\"\");\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (isMounted.current) {\r\n\t\t\tconst loadQueues = async () => {\r\n\t\t\t\tconst list = await findAllQueues();\r\n\t\t\t\tsetAllQueues(list);\r\n\t\t\t\tsetQueues(list);\r\n\t\t\t};\r\n\t\t\tloadQueues();\r\n\t\t}\r\n\t\t// eslint-disable-next-line react-hooks/exhaustive-deps\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\tif (searchParam.length < 3) {\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetSelectedQueue(\"\");\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tconst delayDebounceFn = setTimeout(() => {\r\n\t\t\tsetLoading(true);\r\n\t\t\tconst fetchUsers = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { data } = await api.get(\"/users/\");\r\n\t\t\t\t\tsetOptions(data.users);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\ttoastError(err);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tfetchUsers();\r\n\t\t}, 500);\r\n\t\treturn () => clearTimeout(delayDebounceFn);\r\n\t}, [searchParam]);\r\n\r\n\tuseEffect(() => {\r\n\t\tapi\r\n\t\t\t.get(`/whatsapp/filter`, { params: { session: 0, channel: channelFilter } })\r\n\t\t\t.then(({ data }) => {\r\n\t\t\t\t// Mapear os dados recebidos da API para adicionar a propriedade 'selected'\r\n\t\t\t\tconst mappedWhatsapps = data.map((whatsapp) => ({\r\n\t\t\t\t\t...whatsapp,\r\n\t\t\t\t\tselected: false,\r\n\t\t\t\t}));\r\n\r\n\t\t\t\tsetWhatsapps(mappedWhatsapps);\r\n\t\t\t\tif (mappedWhatsapps.length && mappedWhatsapps?.length === 1){\r\n\t\t\t\t\tsetSelectedWhatsapps(mappedWhatsapps[0].id)\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t}, [currentContact, channelFilter])\r\n\r\n\tuseEffect(() => {\r\n\t\tif (contactId && contacts.length) {\r\n\t\t\tconst contact = contacts.find(c => c.id === contactId);\r\n\t\t\tif (contact) {\r\n\t\t\t\tsetCurrentContact(contact);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [contactId, contacts]);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst { companyId } = user;\r\n\t\tif (open) {\r\n\t\t\ttry {\r\n\t\t\t\t(async () => {\r\n\t\t\t\t\tconst { data: contactList } = await api.get('/contacts/list', { params: { companyId: companyId } });\r\n\t\t\t\t\tlet customList = contactList.map((c) => ({ id: c.id, name: c.name, channel: c.channel }));\r\n\t\t\t\t\tif (isArray(customList)) {\r\n\t\t\t\t\t\tsetContacts([{ id: \"\", name: \"\", channel: \"\" }, ...customList]);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (contactId) {\r\n\t\t\t\t\t\tsetSchedule(prevState => {\r\n\t\t\t\t\t\t\treturn { ...prevState, contactId }\r\n\t\t\t\t\t\t});\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (!scheduleId) return;\r\n\r\n\t\t\t\t\tconst { data } = await api.get(`/schedules/${scheduleId}`);\r\n\t\t\t\t\tsetSchedule(prevState => {\r\n\t\t\t\t\t\treturn { ...prevState, ...data, sendAt: moment(data.sendAt).format('YYYY-MM-DDTHH:mm') };\r\n\t\t\t\t\t});\r\n\t\t\t\t\tif (data.whatsapp) {\r\n\t\t\t\t\t\tsetSelectedWhatsapps(data.whatsapp.id);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data.ticketUser) {\r\n\t\t\t\t\t\tsetSelectedUser(data.ticketUser);\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif (data.queueId) {\r\n\t\t\t\t\t\tsetSelectedQueue(data.queueId);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data.intervalo) {\r\n\t\t\t\t\t\tsetIntervalo(data.intervalo);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tif (data.tipoDias) {\r\n\t\t\t\t\t\tsetTipoDias(data.tipoDias);\r\n\t\t\t\t\t}\r\n\r\n\t\t\t\t\tsetCurrentContact(data.contact);\r\n\t\t\t\t})()\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t}\r\n\t}, [scheduleId, contactId, open, user]);\r\n\r\n\tconst filterOptions = createFilterOptions({\r\n\t\ttrim: true,\r\n\t});\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetAttachment(null);\r\n\t\tsetSchedule(initialState);\r\n\t};\r\n\r\n\tconst handleAttachmentFile = (e) => {\r\n\t\tconst file = head(e.target.files);\r\n\t\tif (file) {\r\n\t\t\tsetAttachment(file);\r\n\t\t}\r\n\t};\r\n\r\n\tconst IconChannel = (channel) => {\r\n\t\tswitch (channel) {\r\n\t\t\tcase \"facebook\":\r\n\t\t\t\treturn <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\r\n\t\t\tcase \"instagram\":\r\n\t\t\t\treturn <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\r\n\t\t\tcase \"whatsapp\":\r\n\t\t\t\treturn <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\r\n\t\t\tdefault:\r\n\t\t\t\treturn \"error\";\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderOption = option => {\r\n\t\tif (option.name) {\r\n\t\t\treturn <>\r\n\t\t\t\t{IconChannel(option.channel)}\r\n\t\t\t\t<Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n\t\t\t\t\t{option.name}\r\n\t\t\t\t</Typography>\r\n\t\t\t</>\r\n\t\t} else {\r\n\t\t\treturn `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\r\n\t\t}\r\n\t};\r\n\tconst handleSaveSchedule = async values => {\r\n\t\tconst scheduleData = {\r\n\t\t\t...values, userId: user.id, whatsappId: selectedWhatsapps, ticketUserId: selectedUser?.id || null,\r\n\t\t\tqueueId: selectedQueue || null, intervalo: intervalo || 1, tipoDias: tipoDias || 4\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tif (scheduleId) {\r\n\t\t\t\tawait api.put(`/schedules/${scheduleId}`, scheduleData);\r\n\t\t\t\tif (attachment != null) {\r\n\t\t\t\t\tconst formData = new FormData();\r\n\t\t\t\t\tformData.append(\"file\", attachment);\r\n\t\t\t\t\tawait api.post(\r\n\t\t\t\t\t\t`/schedules/${scheduleId}/media-upload`,\r\n\t\t\t\t\t\tformData\r\n\t\t\t\t\t);\r\n\t\t\t\t}\r\n\t\t\t} else {\r\n\t\t\t\tconst { data } = await api.post(\"/schedules\", scheduleData);\r\n\t\t\t\tif (attachment != null) {\r\n\t\t\t\t\tconst formData = new FormData();\r\n\t\t\t\t\tformData.append(\"file\", attachment);\r\n\t\t\t\t\tawait api.post(`/schedules/${data.id}/media-upload`, formData);\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"scheduleModal.success\"));\r\n\t\t\tif (typeof reload == 'function') {\r\n\t\t\t\treload();\r\n\t\t\t}\r\n\t\t\tif (contactId) {\r\n\t\t\t\tif (typeof cleanContact === 'function') {\r\n\t\t\t\t\tcleanContact();\r\n\t\t\t\t\thistory.push('/schedules');\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\tsetCurrentContact(initialContact);\r\n\t\tsetSchedule(initialState);\r\n\t\thandleClose();\r\n\t};\r\n\tconst handleClickMsgVar = async (msgVar, setValueFunc) => {\r\n\t\tconst el = messageInputRef.current;\r\n\t\tconst firstHalfText = el.value.substring(0, el.selectionStart);\r\n\t\tconst secondHalfText = el.value.substring(el.selectionEnd);\r\n\t\tconst newCursorPos = el.selectionStart + msgVar.length;\r\n\r\n\t\tsetValueFunc(\"body\", `${firstHalfText}${msgVar}${secondHalfText}`);\r\n\r\n\t\tawait new Promise(r => setTimeout(r, 100));\r\n\t\tmessageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\r\n\t};\r\n\r\n\tconst deleteMedia = async () => {\r\n\t\tif (attachment) {\r\n\t\t\tsetAttachment(null);\r\n\t\t\tattachmentFile.current.value = null;\r\n\t\t}\r\n\r\n\t\tif (schedule.mediaPath) {\r\n\t\t\tawait api.delete(`/schedules/${schedule.id}/media-upload`);\r\n\t\t\tsetSchedule((prev) => ({\r\n\t\t\t\t...prev,\r\n\t\t\t\tmediaPath: null,\r\n\t\t\t}));\r\n\t\t\ttoast.success(i18n.t(\"scheduleModal.toasts.deleted\"));\r\n\t\t\tif (typeof reload == \"function\") {\r\n\t\t\t\treload();\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<ConfirmationModal\r\n\t\t\t\ttitle={i18n.t(\"scheduleModal.confirmationModal.deleteTitle\")}\r\n\t\t\t\topen={confirmationOpen}\r\n\t\t\t\tonClose={() => setConfirmationOpen(false)}\r\n\t\t\t\tonConfirm={deleteMedia}\r\n\t\t\t>\r\n\t\t\t\t{i18n.t(\"scheduleModal.confirmationModal.deleteMessage\")}\r\n\t\t\t</ConfirmationModal>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"md\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{schedule.status === 'ERRO' ? 'Erro de Envio' : `Mensagem ${capitalize(schedule.status)}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<div style={{ display: \"none\" }}>\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\ttype=\"file\"\r\n\t\t\t\t\t\taccept=\".png,.jpg,.jpeg\"\r\n\t\t\t\t\t\tref={attachmentFile}\r\n\t\t\t\t\t\tonChange={(e) => handleAttachmentFile(e)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</div>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={schedule}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ScheduleSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveSchedule(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ touched, errors, isSubmitting, values, setFieldValue }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={currentContact}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={contacts}\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, contact) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tconst contactId = contact ? contact.id : '';\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSchedule({ ...schedule, contactId });\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetCurrentContact(contact ? contact : initialContact);\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetChannelFilter(contact ? contact.channel : \"whatsapp\");\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => option.name}\r\n\t\t\t\t\t\t\t\t\t\t\trenderOption={renderOption}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionSelected={(option, value) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\treturn value.id === option.id\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => <TextField {...params} variant=\"outlined\" placeholder=\"Contato\" />}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\trows={9}\r\n\t\t\t\t\t\t\t\t\t\tmultiline={true}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.body\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"body\"\r\n\t\t\t\t\t\t\t\t\t\tinputRef={messageInputRef}\r\n\t\t\t\t\t\t\t\t\t\terror={touched.body && Boolean(errors.body)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.body && errors.body}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={6}>\r\n\t\t\t\t\t\t\t\t\t<MessageVariablesPicker\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tonClick={value => handleClickMsgVar(value, setFieldValue)}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"whatsapp-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"whatsapp-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"whatsappIds\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"whatsappIds\"\r\n\t\t\t\t\t\t\t\t\t\t\t\trequired\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={touched.whatsappId && Boolean(errors.whatsappId)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedWhatsapps}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(event) => setSelectedWhatsapps(event.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{whatsapps &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\twhatsapps.map((whatsapp) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={whatsapp.id} value={whatsapp.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{whatsapp.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"openTicket-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.openTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.openTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"campaigns.dialog.form.openTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"openTicket-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"openTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"openTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.openTicket && Boolean(errors.openTicket)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"enabled\"}>{i18n.t(\"campaigns.dialog.form.enabledOpenTicket\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"disabled\"}>{i18n.t(\"campaigns.dialog.form.disabledOpenTicket\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid spacing={1} container>\r\n\t\t\t\t\t\t\t\t\t{/* SELECIONAR USUARIO */}\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '8px' }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t\tgetOptionLabel={(option) => `${option.name}`}\r\n\t\t\t\t\t\t\t\t\t\t\tvalue={selectedUser}\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e, newValue) => {\r\n\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedUser(newValue);\r\n\t\t\t\t\t\t\t\t\t\t\t\tif (newValue != null && Array.isArray(newValue.queues)) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tif (newValue.queues.length === 1) {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedQueue(newValue.queues[0].id);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetQueues(newValue.queues);\r\n\r\n\t\t\t\t\t\t\t\t\t\t\t\t} else {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetQueues(allQueues);\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetSelectedQueue(\"\");\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\toptions={options}\r\n\t\t\t\t\t\t\t\t\t\t\tfilterOptions={filterOptions}\r\n\t\t\t\t\t\t\t\t\t\t\tfreeSolo\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\tautoHighlight\r\n\t\t\t\t\t\t\t\t\t\t\tnoOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n\t\t\t\t\t\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\t\t\t\t\t\trenderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n\t\t\t\t\t\t\t\t\t\t\trenderInput={(params) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSearchParam(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t...params.InputProps,\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedQueue}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t{queues.map((queue) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{queue.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<Grid spacing={1} container style={{ marginTop: '-10px' }}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"statusTicket-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"campaigns.dialog.form.statusTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"campaigns.dialog.form.statusTicket\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\"campaigns.dialog.form.statusTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"statusTicket-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"statusTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"statusTicket\"\r\n\t\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\t\ttouched.statusTicket && Boolean(errors.statusTicket)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"closed\"}>{i18n.t(\"campaigns.dialog.form.closedTicketStatus\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={\"open\"}>{i18n.t(\"campaigns.dialog.form.openTicketStatus\")}</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.sendAt\")}\r\n\t\t\t\t\t\t\t\t\t\t\ttype=\"datetime-local\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"sendAt\"\r\n\t\t\t\t\t\t\t\t\t\t\t// InputLabelProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t// \tshrink: true,\r\n\t\t\t\t\t\t\t\t\t\t\t// }}\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.sendAt && Boolean(errors.sendAt)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.sendAt && errors.sendAt}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ marginTop: '8px' }}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"assinar\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.assinar}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisabled={values.openTicket === \"disabled\"}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"scheduleModal.form.assinar\")}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t<h3>Recorrência</h3>\r\n\t\t\t\t\t\t\t\t<p>\r\n\t\t\t\t\t\t\t\t\tVocê pode escolher enviar a mensagem de forma recorrente e\r\n\t\t\t\t\t\t\t\t\tescolher o intervalo. Caso seja uma mensagem a ser enviada\r\n\t\t\t\t\t\t\t\t\tuma unica vez, não altere nada nesta seção.\r\n\t\t\t\t\t\t\t\t</p>\r\n\t\t\t\t\t\t\t\t<br />\r\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl size=\"small\" fullWidth variant=\"outlined\">\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Intervalo</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"demo-simple-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={intervalo}\r\n\t\t\t\t\t\t\t\t\t\t\t\t// name=\"intervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetIntervalo(e.target.value || 1)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Intervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={1}>Dias</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={2}>Semanas</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={3}>Meses</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>Minutos</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Valor do Intervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"valorIntervalo\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.valorIntervalo && Boolean(errors.valorIntervalo)}\r\n\t\t\t\t\t\t\t\t\t\t\tInputLabelProps={{ shrink: true }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={4} xl={4}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enviar quantas vezes\"\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"enviarQuantasVezes\"\r\n\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={\r\n\t\t\t\t\t\t\t\t\t\t\t\ttouched.enviarQuantasVezes &&\r\n\t\t\t\t\t\t\t\t\t\t\t\tBoolean(errors.enviarQuantasVezes)\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t<FormControl size=\"small\" fullWidth variant=\"outlined\">\r\n\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"demo-simple-select-label\">Enviar quantas vezes</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t<Select\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"demo-simple-select-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tid=\"demo-simple-select\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tvalue={tipoDias}\r\n\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) =>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tsetTipoDias(e.target.value || 4)\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel=\"Enviar quantas vezes\"\r\n\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={4}>Enviar normalmente em dias não úteis</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={5}>Enviar um dia útil antes</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={6}>Enviar um dia útil depois</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t</Select>\r\n\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t{(schedule.mediaPath || attachment) && (\r\n\t\t\t\t\t\t\t\t\t<Grid xs={12} item>\r\n\t\t\t\t\t\t\t\t\t\t<Button startIcon={<AttachFile />}>\r\n\t\t\t\t\t\t\t\t\t\t\t{attachment ? attachment.name : schedule.mediaName}\r\n\t\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\tonClick={() => setConfirmationOpen(true)}\r\n\t\t\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t<DeleteOutline color=\"secondary\" />\r\n\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t{!attachment && !schedule.mediaPath && (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tonClick={() => attachmentFile.current.click()}\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{i18n.t(\"quickMessages.buttons.attach\")}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"scheduleModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t{(schedule.sentAt === null || schedule.sentAt === \"\") && (\r\n\t\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t{scheduleId\r\n\t\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"scheduleModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"scheduleModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ScheduleModal;","import React from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport {\r\n\tTooltip,\r\n\tTypography,\r\n} from \"@material-ui/core\";\r\n\r\n\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tmainPaper: {\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(1),\r\n\t\toverflowY: \"scroll\",\r\n\t\t...theme.scrollbarStyles,\r\n\t},\r\n\tcustomTableCell: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n\ttooltip: {\r\n\t\tbackgroundColor: \"#f5f5f9\",\r\n\t\tcolor: \"rgba(0, 0, 0, 0.87)\",\r\n\t\tfontSize: theme.typography.pxToRem(14),\r\n\t\tborder: \"1px solid #dadde9\",\r\n\t\tmaxWidth: 450,\r\n\t},\r\n\ttooltipPopper: {\r\n\t\ttextAlign: \"center\",\r\n\t},\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t},\r\n}));\r\n\r\nconst ToolTip = ({ title, content, children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Tooltip\r\n\t\t\tarrow\r\n      // placement=\"bottom\"\r\n\t\t\tclasses={{\r\n\t\t\t\ttooltip: classes.tooltip,\r\n\t\t\t\tpopper: classes.tooltipPopper,\r\n\t\t\t}}\r\n\t\t\ttitle={\r\n\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t<Typography gutterBottom color=\"inherit\">\r\n\t\t\t\t\t\t{title}\r\n\t\t\t\t\t</Typography>\r\n\t\t\t\t\t{content && <Typography>{content}</Typography>}\r\n\t\t\t\t</React.Fragment>\r\n\t\t\t}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</Tooltip>\r\n\t);\r\n};\r\n\r\nexport default ToolTip","import React, { useState, useEffect, useContext, useRef } from \"react\";\r\nimport \"emoji-mart/css/emoji-mart.css\";\r\nimport { Picker } from \"emoji-mart\";\r\nimport { useMediaQuery, useTheme } from '@material-ui/core';\r\nimport { isNil } from \"lodash\";\r\nimport {\r\n  CircularProgress,\r\n  ClickAwayListener,\r\n  IconButton,\r\n  InputBase,\r\n  makeStyles,\r\n  Paper,\r\n  Hidden,\r\n  Menu,\r\n  MenuItem,\r\n  Tooltip,\r\n  Fab,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  blue,\r\n  green,\r\n  pink,\r\n  grey,\r\n} from \"@material-ui/core/colors\";\r\nimport {\r\n  AttachFile,\r\n  CheckCircleOutline,\r\n  Clear,\r\n  Comment,\r\n  Create,\r\n  Description,\r\n  HighlightOff,\r\n  Mic,\r\n  Mood,\r\n  MoreVert,\r\n  Send,\r\n  PermMedia,\r\n  Person,\r\n  Reply,\r\n  Duo,\r\n  Timer,\r\n} from \"@material-ui/icons\";\r\nimport AddIcon from \"@material-ui/icons/Add\";\r\nimport { CameraAlt } from \"@material-ui/icons\";\r\nimport MicRecorder from \"mic-recorder-to-mp3\";\r\nimport clsx from \"clsx\";\r\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport RecordingTimer from \"./RecordingTimer\";\r\n\r\nimport useQuickMessages from \"../../hooks/useQuickMessages\";\r\nimport { isString, isEmpty } from \"lodash\";\r\nimport ContactSendModal from \"../ContactSendModal\";\r\nimport CameraModal from \"../CameraModal\";\r\nimport axios from \"axios\";\r\n\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\nimport MessageUploadMedias from \"../MessageUploadMedias\";\r\nimport { EditMessageContext } from \"../../context/EditingMessage/EditingMessageContext\";\r\nimport ScheduleModal from \"../ScheduleModal\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport ToolTip from '../ToolTips';\r\n\r\n\r\nconst Mp3Recorder = new MicRecorder({ bitRate: 128 });\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainWrapper: {\r\n    background: \"#eee\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      position: \"fixed\",\r\n      bottom: 0,\r\n      width: \"100%\",\r\n    },\r\n  },\r\n  avatar: {\r\n    width: \"50px\",\r\n    height: \"50px\",\r\n    borderRadius: \"25%\",\r\n  },\r\n  dropInfo: {\r\n    background: \"#eee\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n    padding: 15,\r\n    left: 0,\r\n    right: 0,\r\n  },\r\n  dropInfoOut: {\r\n    display: \"none\",\r\n  },\r\n  gridFiles: {\r\n    maxHeight: \"100%\",\r\n    overflow: \"scroll\",\r\n  },\r\n  newMessageBox: {\r\n    background: theme.palette.background.default,\r\n    width: \"100%\",\r\n    display: \"flex\",\r\n    padding: \"7px\",\r\n    alignItems: \"center\",\r\n  },\r\n  messageInputWrapper: {\r\n    padding: 6,\r\n    marginRight: 7,\r\n    background: theme.palette.background.paper,\r\n    display: \"flex\",\r\n    borderRadius: 20,\r\n    flex: 1,\r\n    position: \"relative\",\r\n  },\r\n  messageInputWrapperPrivate: {\r\n    padding: 6,\r\n    marginRight: 7,\r\n    background: \"#F0E68C\",\r\n    display: \"flex\",\r\n    borderRadius: 20,\r\n    flex: 1,\r\n    position: \"relative\",\r\n  },\r\n  messageInput: {\r\n    paddingLeft: 10,\r\n    flex: 1,\r\n    border: \"none\",\r\n\r\n  },\r\n  messageInputPrivate: {\r\n    paddingLeft: 10,\r\n    flex: 1,\r\n    border: \"none\",\r\n    color: grey[800],\r\n\r\n  },\r\n  sendMessageIcons: {\r\n    color: grey[700],\r\n  },\r\n  ForwardMessageIcons: {\r\n    color: grey[700],\r\n    transform: 'scaleX(-1)'\r\n  },\r\n  uploadInput: {\r\n    display: \"none\",\r\n  },\r\n  viewMediaInputWrapper: {\r\n    maxHeight: \"100%\",\r\n    display: \"flex\",\r\n    padding: \"10px 13px\",\r\n    position: \"relative\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    backgroundColor: theme.mode === 'light' ? \"#ffffff\" : \"#202c33\",\r\n    borderTop: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  emojiBox: {\r\n    position: \"absolute\",\r\n    bottom: 63,\r\n    width: 40,\r\n    borderTop: \"1px solid #e8e8e8\",\r\n  },\r\n  circleLoading: {\r\n    color: green[500],\r\n    opacity: \"70%\",\r\n    position: \"absolute\",\r\n    top: \"20%\",\r\n    left: \"50%\",\r\n    marginLeft: -12,\r\n  },\r\n  audioLoading: {\r\n    color: green[500],\r\n    opacity: \"70%\",\r\n  },\r\n  recorderWrapper: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    alignContent: \"middle\",\r\n  },\r\n  cancelAudioIcon: {\r\n    color: \"red\",\r\n  },\r\n  sendAudioIcon: {\r\n    color: \"green\",\r\n  },\r\n  replyginMsgWrapper: {\r\n    display: \"flex\",\r\n    width: \"100%\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    paddingTop: 8,\r\n    paddingLeft: 73,\r\n    paddingRight: 7,\r\n    backgroundColor: theme.palette.optionsBackground,\r\n  },\r\n  replyginMsgContainer: {\r\n    flex: 1,\r\n    marginRight: 5,\r\n    overflowY: \"hidden\",\r\n    backgroundColor: theme.mode === \"light\" ? \"#f0f0f0\" : \"#1d282f\", //\"rgba(0, 0, 0, 0.05)\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n  replyginMsgBody: {\r\n    padding: 10,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    whiteSpace: \"pre-wrap\",\r\n    overflow: \"hidden\",\r\n  },\r\n  replyginContactMsgSideColor: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#35cd96\",\r\n  },\r\n  replyginSelfMsgSideColor: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#6bcbef\",\r\n  },\r\n  messageContactName: {\r\n    display: \"flex\",\r\n    color: \"#6bcbef\",\r\n    fontWeight: 500,\r\n  },\r\n  messageQuickAnswersWrapper: {\r\n    margin: 0,\r\n    position: \"absolute\",\r\n    bottom: \"50px\",\r\n    background: theme.palette.background.default,\r\n    padding: 0,\r\n    border: \"none\",\r\n    left: 0,\r\n    width: \"100%\",\r\n    \"& li\": {\r\n      listStyle: \"none\",\r\n      \"& a\": {\r\n        display: \"block\",\r\n        padding: \"8px\",\r\n        textOverflow: \"ellipsis\",\r\n        overflow: \"hidden\",\r\n        maxHeight: \"30px\",\r\n        \"&:hover\": {\r\n          background: theme.palette.background.paper,\r\n          cursor: \"pointer\",\r\n        },\r\n      },\r\n    },\r\n  },\r\n  invertedFabMenu: {\r\n    border: \"none\",\r\n    borderRadius: 50, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    padding: theme.spacing(1),\r\n    backgroundColor: \"transparent\",\r\n    color: \"grey\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n    \"&:disabled\": {\r\n      backgroundColor: \"transparent !important\",\r\n    },\r\n  },\r\n  invertedFabMenuMP: {\r\n    border: \"none\",\r\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\r\n    height: theme.spacing(4),\r\n    backgroundColor: \"transparent\",\r\n    color: blue[800],\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  invertedFabMenuCont: {\r\n    border: \"none\",\r\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    minHeight: \"auto\",\r\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\r\n    height: theme.spacing(4),\r\n    backgroundColor: \"transparent\",\r\n    color: blue[500],\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  invertedFabMenuMeet: {\r\n    border: \"none\",\r\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    minHeight: \"auto\",\r\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\r\n    height: theme.spacing(4),\r\n    backgroundColor: \"transparent\",\r\n    color: green[500],\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  invertedFabMenuDoc: {\r\n    border: \"none\",\r\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\r\n    height: theme.spacing(4),\r\n    backgroundColor: \"transparent\",\r\n    color: \"#7f66ff\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  invertedFabMenuCamera: {\r\n    border: \"none\",\r\n    borderRadius: 0, // Define o raio da borda para 0 para remover qualquer borda\r\n    boxShadow: \"none\", // Remove a sombra\r\n    width: theme.spacing(4), // Ajuste o tamanho de acordo com suas preferências\r\n    height: theme.spacing(4),\r\n    backgroundColor: \"transparent\",\r\n    color: pink[500],\r\n    \"&:hover\": {\r\n      backgroundColor: \"transparent\",\r\n    },\r\n  },\r\n  flexContainer: {\r\n    display: \"flex\",\r\n    flex: 1,\r\n    flexDirection: \"column\",\r\n  },\r\n  flexItem: {\r\n    flex: 1,\r\n  },\r\n}));\r\n\r\nconst MessageInput = ({ ticketId, ticketStatus, droppedFiles, contactId, ticketChannel }) => {\r\n\r\n  const classes = useStyles();\r\n  const theme = useTheme();\r\n  const [mediasUpload, setMediasUpload] = useState([]);\r\n  const isMounted = useRef(true);\r\n\r\n  const [inputMessage, setInputMessage] = useState(\"\");\r\n  const [showEmoji, setShowEmoji] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [recording, setRecording] = useState(false);\r\n  const [quickAnswers, setQuickAnswer] = useState([]);\r\n  const [typeBar, setTypeBar] = useState(false);\r\n  const inputRef = useRef();\r\n  const [onDragEnter, setOnDragEnter] = useState(false);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const { setReplyingMessage, replyingMessage } = useContext(ReplyMessageContext);\r\n  const { setEditingMessage, editingMessage } = useContext(EditMessageContext);\r\n  const { user } = useContext(AuthContext);\r\n  const [appointmentModalOpen, setAppointmentModalOpen] = useState(false);\r\n\r\n  const [signMessagePar, setSignMessagePar] = useState(false);\r\n  const { get: getSetting } = useCompanySettings();\r\n  const [signMessage, setSignMessage] = useState(true);\r\n  const [privateMessage, setPrivateMessage] = useState(false);\r\n  const [privateMessageInputVisible, setPrivateMessageInputVisible] = useState(false);\r\n  const [senVcardModalOpen, setSenVcardModalOpen] = useState(false);\r\n  const [showModalMedias, setShowModalMedias] = useState(false);\r\n  const [mediaUrl, setMediaUrl] = useState('');\r\n  const [mediaName, setMediaName] = useState('');\r\n\r\n  const [showButtonSendUrlVideoCall, setShowButtonSendUrlVideoCall] = useState(false);\r\n  const [showButtonCamera, setShowButtonCamera] = useState(false);\r\n  const [showButtonSendContact, setShowButtonSendContact] = useState(false);\r\n  const [showHiddenMessageButton, setShowHiddenMessageButton] = useState(false);\r\n  const [showButtonSendAudio, setShowButtonSendAudio] = useState(false);  \r\n\r\n  const { listNotCategory: listQuickMessages } = useQuickMessages();\r\n\r\n\r\n  const isMobile = useMediaQuery('(max-width: 767px)'); // Ajuste o valor conforme necessário\r\n  const [placeholderText, setPlaceHolderText] = useState(\"\");\r\n\r\n  // Determine o texto do placeholder com base no ticketStatus\r\n  useEffect(() => {\r\n    if (ticketStatus === \"open\" || ticketStatus === \"group\") {\r\n      setPlaceHolderText(i18n.t(\"messagesInput.placeholderOpen\"));\r\n    } else {\r\n      setPlaceHolderText(i18n.t(\"messagesInput.placeholderClosed\"));\r\n    }\r\n\r\n    // Limitar o comprimento do texto do placeholder apenas em ambientes mobile\r\n    const maxLength = isMobile ? 20 : Infinity; // Define o limite apenas em mobile\r\n\r\n    if (isMobile && placeholderText.length > maxLength) {\r\n      setPlaceHolderText(placeholderText.substring(0, maxLength) + \"...\");\r\n    }\r\n  }, [ticketStatus])\r\n\r\n  const {\r\n    selectedMessages,\r\n    setForwardMessageModalOpen,\r\n    showSelectMessageCheckbox } = useContext(ForwardMessageContext);\r\n\r\n  useEffect(() => {\r\n    if (droppedFiles && droppedFiles.length > 0) {\r\n      const selectedMedias = Array.from(droppedFiles);\r\n      setMediasUpload(selectedMedias);\r\n      setShowModalMedias(true);\r\n    }\r\n  }, [droppedFiles]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    inputRef.current.focus();\r\n    if (editingMessage) {\r\n      setInputMessage(editingMessage.body);\r\n    }\r\n  }, [replyingMessage, editingMessage]);\r\n\r\n  useEffect(() => {\r\n    inputRef.current.focus();\r\n    return () => {\r\n      setInputMessage(\"\");\r\n      setShowEmoji(false);\r\n      setMediasUpload([]);\r\n      setReplyingMessage(null);\r\n      //setSignMessage(true);\r\n      setPrivateMessage(false);\r\n      setPrivateMessageInputVisible(false)\r\n      setEditingMessage(null);\r\n    };\r\n  }, [ticketId, setReplyingMessage, setEditingMessage]);\r\n\r\n  useEffect(() => {\r\n    setTimeout(() => {\r\n      if (isMounted.current)\r\n        setOnDragEnter(false);\r\n    }, 1000);\r\n    // eslint-disable-next-line\r\n  }, [onDragEnter === true]);\r\n\r\n  //permitir ativar/desativar firma\r\n  useEffect(() => {\r\n    const fetchSettings = async () => {\r\n      // const setting = await getSetting({\r\n      //   \"column\": \"sendSignMessage\"\r\n      // });\r\n     \r\n      const columns = [\r\n        \"sendSignMessage\",\r\n        \"showHiddenMessageButton\",\r\n        \"showButtonCamera\",\r\n        \"showButtonSendAudio\",\r\n        \"showButtonSendContact\",\r\n        \"showButtonSendUrlVideoCall\"\r\n      ];\r\n      \r\n      const setting = {};\r\n      for (const column of columns) {\r\n        const result = await getSetting({ column });\r\n        setting[column] = result[column];  // extrai apenas o valor (ex: \"disabled\")\r\n      }\r\n\r\n      console.log(setting)\r\n\r\n      if (isMounted.current) {\r\n        if (setting.sendSignMessage === \"enabled\") {\r\n          setSignMessagePar(true);\r\n          const signMessageStorage = JSON.parse(\r\n            localStorage.getItem(\"persistentSignMessage\")\r\n          );\r\n          if (isNil(signMessageStorage)) {\r\n            setSignMessage(true)\r\n          } else {\r\n            setSignMessage(signMessageStorage);\r\n          }\r\n        } else {\r\n          setSignMessagePar(false);\r\n        }\r\n\r\n\r\n        // Configurações adicionais\r\n        if (setting.showHiddenMessageButton === \"enabled\") {\r\n          setShowHiddenMessageButton(true);\r\n        } else {\r\n          setShowHiddenMessageButton(false);\r\n        }\r\n        \r\n        if (setting.showButtonCamera === \"enabled\") {\r\n          setShowButtonCamera(true);\r\n        } else {\r\n          setShowButtonCamera(false);\r\n        }\r\n        \r\n        if (setting.showButtonSendAudio === \"enabled\") {\r\n          setShowButtonSendAudio(true);\r\n        } else {\r\n          setShowButtonSendAudio(false);\r\n        }\r\n        \r\n        if (setting.showButtonSendContact === \"enabled\") {\r\n          setShowButtonSendContact(true);\r\n        } else {\r\n          setShowButtonSendContact(false);\r\n        }\r\n        \r\n        if (setting.showButtonSendUrlVideoCall === \"enabled\") {\r\n          setShowButtonSendUrlVideoCall(true);\r\n        } else {\r\n          setShowButtonSendUrlVideoCall(false);\r\n        }        \r\n      }\r\n    };\r\n    fetchSettings();\r\n  }, []);\r\n\r\n  const capitalizeFirstLetter = (string) => {\r\n    return string.charAt(0).toUpperCase() + string.slice(1);\r\n  }\r\n\r\n  const handleSendLinkVideo = async () => {\r\n    const link = `https://meet.jit.si/${ticketId}`;\r\n    setInputMessage(link);\r\n  }\r\n\r\n  const handleChangeInput = (e) => {\r\n    setInputMessage(e.target.value);\r\n  };\r\n\r\n  const handlePrivateMessage = (e) => {\r\n    setPrivateMessage(!privateMessage);\r\n    setPrivateMessageInputVisible(!privateMessageInputVisible);\r\n  };\r\n\r\n  const handleQuickAnswersClick = async (value) => {\r\n    if (value.mediaPath) {\r\n      try {\r\n        const { data } = await axios.get(value.mediaPath, {\r\n          responseType: \"blob\",\r\n        });\r\n\r\n        await handleUploadQuickMessageMedia(data, value.value ? value.value : value?.message);\r\n        setInputMessage(\"\");\r\n        return;\r\n        //  handleChangeMedias(response)\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    setInputMessage(\"\");\r\n    setInputMessage(value.value ? value.value : value?.message);\r\n    setTypeBar(false);\r\n  };\r\n\r\n  const handleAddEmoji = (e) => {\r\n    let emoji = e.native;\r\n    setInputMessage((prevState) => prevState + emoji);\r\n  };\r\n\r\n  const [modalCameraOpen, setModalCameraOpen] = useState(false);\r\n\r\n  const handleCapture = (imageData) => {\r\n    if (imageData) {\r\n      handleUploadCamera(imageData);\r\n    }\r\n  };\r\n\r\n  const handleChangeMedias = (e) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setMediasUpload(selectedMedias);\r\n    setShowModalMedias(true);\r\n  };\r\n\r\n  const handleChangeSign = (e) => {\r\n    getStatusSingMessageLocalstogare();\r\n  };\r\n\r\n  const handleOpenModalForward = () => {\r\n    if (selectedMessages.length === 0) {\r\n      setForwardMessageModalOpen(false)\r\n      toastError(i18n.t(\"messagesList.header.notMessage\"));\r\n      return;\r\n    }\r\n    setForwardMessageModalOpen(true);\r\n  }\r\n\r\n  const getStatusSingMessageLocalstogare = () => {\r\n    const signMessageStorage = JSON.parse(\r\n      localStorage.getItem(\"persistentSignMessage\")\r\n    );\r\n    //si existe uma chave \"sendSingMessage\"\r\n    if (signMessageStorage !== null) {\r\n      if (signMessageStorage) {\r\n        localStorage.setItem(\"persistentSignMessage\", false);\r\n        setSignMessage(false);\r\n      } else {\r\n        localStorage.setItem(\"persistentSignMessage\", true);\r\n        setSignMessage(true);\r\n      }\r\n    } else {\r\n      localStorage.setItem(\"persistentSignMessage\", false);\r\n      setSignMessage(false);\r\n    }\r\n  };\r\n\r\n  const handleInputPaste = (e) => {\r\n    if (e.clipboardData.files[0]) {\r\n      const selectedMedias = Array.from(e.clipboardData.files);\r\n      setMediasUpload(selectedMedias);\r\n      setShowModalMedias(true);\r\n    }\r\n  };\r\n\r\n  const handleInputDrop = (e) => {\r\n    e.preventDefault();\r\n    if (e.dataTransfer.files[0]) {\r\n      const selectedMedias = Array.from(e.dataTransfer.files);\r\n      setMediasUpload(selectedMedias);\r\n      setShowModalMedias(true);\r\n    }\r\n  };\r\n\r\n  const handleUploadMedia = async (mediasUpload) => {\r\n    setLoading(true);\r\n    // e.preventDefault();\r\n\r\n    // Certifique-se de que a variável medias esteja preenchida antes de continuar\r\n    if (!mediasUpload.length) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    const formData = new FormData();\r\n    formData.append(\"fromMe\", true);\r\n    formData.append(\"isPrivate\", privateMessage ? \"true\" : \"false\");\r\n    if (replyingMessage) {\r\n      formData.append(\"quotedMsg\", replyingMessage)\r\n    }\r\n    mediasUpload.forEach((media) => {\r\n      formData.append(\"body\", media.caption);\r\n      formData.append(\"medias\", media.file);\r\n    });\r\n\r\n    try {\r\n      await api.post(`/messages/${ticketId}`, formData);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setLoading(false);\r\n    setMediasUpload([]);\r\n    setShowModalMedias(false);\r\n    setPrivateMessage(false);\r\n    setPrivateMessageInputVisible(false)\r\n  };\r\n\r\n  const handleSendContatcMessage = async (vcard) => {\r\n    setSenVcardModalOpen(false);\r\n    setLoading(true);\r\n\r\n    if (isNil(vcard)) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n\r\n    const message = {\r\n      read: 1,\r\n      fromMe: true,\r\n      mediaUrl: \"\",\r\n      body: null,\r\n      quotedMsg: replyingMessage,\r\n      isPrivate: privateMessage ? \"true\" : \"false\",\r\n      vCard: vcard,\r\n    };\r\n    try {\r\n      await api.post(`/messages/${ticketId}`, message);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setInputMessage(\"\");\r\n    setShowEmoji(false);\r\n    setLoading(false);\r\n    setReplyingMessage(null);\r\n    setEditingMessage(null);\r\n    setPrivateMessage(false);\r\n    setPrivateMessageInputVisible(false);\r\n  };\r\n\r\n  const handleSendMessage = async () => {\r\n\r\n    if (inputMessage.trim() === \"\") return;\r\n    setLoading(true);\r\n\r\n    const userName = privateMessage\r\n      ? `${user.name} - Mensagem Privada`\r\n      : user.name;\r\n\r\n    const sendMessage = inputMessage.trim();\r\n\r\n    const message = {\r\n      read: 1,\r\n      fromMe: true,\r\n      mediaUrl: \"\",\r\n      body: (signMessage || privateMessage) && !editingMessage\r\n        ? `*${userName}:*\\n${sendMessage}`\r\n        : sendMessage,\r\n      quotedMsg: replyingMessage,\r\n      isPrivate: privateMessage ? \"true\" : \"false\",\r\n    };\r\n\r\n    try {\r\n      if (editingMessage !== null) {\r\n        await api.post(`/messages/edit/${editingMessage.id}`, message);\r\n      } else {\r\n        await api.post(`/messages/${ticketId}`, message);\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n    setInputMessage(\"\");\r\n    setShowEmoji(false);\r\n    setLoading(false);\r\n    setReplyingMessage(null);\r\n    setPrivateMessage(false);\r\n    setEditingMessage(null);\r\n    setPrivateMessageInputVisible(false)\r\n    handleMenuItemClick();\r\n  };\r\n\r\n  const handleStartRecording = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await navigator.mediaDevices.getUserMedia({ audio: true });\r\n      await Mp3Recorder.start();\r\n      setRecording(true);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const messages = await listQuickMessages({ companyId, userId: user.id });\r\n\r\n      const options = messages.map((m) => {\r\n        let truncatedMessage = m.message;\r\n        if (isString(truncatedMessage) && truncatedMessage.length > 90) {\r\n          truncatedMessage = m.message.substring(0, 90) + \"...\";\r\n        }\r\n        return {\r\n          value: m.message,\r\n          label: `/${m.shortcode} - ${truncatedMessage}`,\r\n          mediaPath: m.mediaPath,\r\n        };\r\n      });\r\n      if (isMounted.current) {\r\n\r\n        setQuickAnswer(options);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      isString(inputMessage) &&\r\n      !isEmpty(inputMessage) &&\r\n      inputMessage.length >= 1\r\n    ) {\r\n      const firstWord = inputMessage.charAt(0);\r\n\r\n      if (firstWord === \"/\") {\r\n        setTypeBar(firstWord.indexOf(\"/\") > -1);\r\n\r\n        const filteredOptions = quickAnswers.filter(\r\n          (m) => m.label.toLowerCase().indexOf(inputMessage.toLowerCase()) > -1\r\n        );\r\n        setTypeBar(filteredOptions);\r\n      } else {\r\n        setTypeBar(false);\r\n      }\r\n    } else {\r\n      setTypeBar(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [inputMessage]);\r\n\r\n  const disableOption = () => {\r\n    return (\r\n      loading ||\r\n      recording ||\r\n      (ticketStatus !== \"open\" && ticketStatus !== \"group\")\r\n    );\r\n  };\r\n\r\n  const handleUploadCamera = async (blob) => {\r\n    setLoading(true);\r\n    try {\r\n      const formData = new FormData();\r\n      const filename = `${new Date().getTime()}.png`;\r\n      formData.append(\"medias\", blob, filename);\r\n      formData.append(\"body\", privateMessage ? `\\u200d` : \"\");\r\n      formData.append(\"fromMe\", true);\r\n\r\n      await api.post(`/messages/${ticketId}`, formData);\r\n    } catch (err) {\r\n      toastError(err);\r\n      setLoading(false);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleUploadQuickMessageMedia = async (blob, message) => {\r\n    setLoading(true);\r\n    try {\r\n      const extension = blob.type.split(\"/\")[1];\r\n\r\n      const formData = new FormData();\r\n      const filename = `${new Date().getTime()}.${extension}`;\r\n      formData.append(\"medias\", blob, filename);\r\n      formData.append(\"body\", privateMessage ? `\\u200d${message}` : message);\r\n      formData.append(\"fromMe\", true);\r\n\r\n      if (isMounted.current) {\r\n        await api.post(`/messages/${ticketId}`, formData);\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    } finally {\r\n      if (isMounted.current) {\r\n        setLoading(false);\r\n      }\r\n    }\r\n  };\r\n\r\n\r\n  const handleUploadAudio = async () => {\r\n\r\n    setLoading(true);\r\n    try {\r\n      const [, blob] = await Mp3Recorder.stop().getMp3();\r\n      if (blob.size < 10000) {\r\n        setLoading(false);\r\n        setRecording(false);\r\n        return;\r\n      }\r\n\r\n      const formData = new FormData();\r\n      const filename = ticketChannel === \"whatsapp\" ? `${new Date().getTime()}.mp3` : `${new Date().getTime()}.m4a`;\r\n\r\n      formData.append(\"medias\", blob, filename);\r\n      formData.append(\"body\", filename);\r\n      formData.append(\"fromMe\", true);\r\n      if (replyingMessage) {\r\n        formData.append(\"quotedMsgId\", replyingMessage?.id);\r\n      }\r\n\r\n      if (isMounted.current) {\r\n        await api.post(`/messages/${ticketId}`, formData);\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    } finally {\r\n      if (isMounted.current) {\r\n        setLoading(false);\r\n        setRecording(false);\r\n        setReplyingMessage(null);\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleCloseModalMedias = () => {\r\n    setShowModalMedias(false);\r\n  };\r\n  const handleCancelAudio = async () => {\r\n    try {\r\n      await Mp3Recorder.stop().getMp3();\r\n      setRecording(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenMenuClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleMenuItemClick = (event) => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const handleSendContactModalOpen = async () => {\r\n    handleMenuItemClick();\r\n    setSenVcardModalOpen(true);\r\n  };\r\n\r\n  const handleCameraModalOpen = async () => {\r\n    handleMenuItemClick();\r\n    setModalCameraOpen(true);\r\n  };\r\n\r\n  const handleCancelSelection = () => {\r\n    setMediasUpload([]);\r\n    setShowModalMedias(false);\r\n  };\r\n\r\n  const renderReplyingMessage = (message) => {\r\n    return (\r\n      <div className={classes.replyginMsgWrapper}>\r\n        <div className={classes.replyginMsgContainer}>\r\n          <span\r\n            className={clsx(classes.replyginContactMsgSideColor, {\r\n              [classes.replyginSelfMsgSideColor]: !message.fromMe,\r\n            })}\r\n          ></span>\r\n          {replyingMessage && (\r\n            <div className={classes.replyginMsgBody}>\r\n              {!message.fromMe && (\r\n                <span className={classes.messageContactName}>\r\n                  {message.contact?.name}\r\n                </span>\r\n              )}\r\n              {message.body}\r\n            </div>\r\n          )\r\n          }\r\n        </div>\r\n        <IconButton\r\n          aria-label=\"showRecorder\"\r\n          component=\"span\"\r\n          disabled={disableOption()}\r\n          onClick={() => {\r\n            setReplyingMessage(null);\r\n            setEditingMessage(null);\r\n            setInputMessage(\"\");\r\n          }}\r\n        >\r\n          <Clear className={classes.sendMessageIcons} />\r\n        </IconButton>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (mediasUpload.length > 0) {\r\n    return (\r\n\r\n      <Paper\r\n        elevation={0}\r\n        square\r\n        className={classes.viewMediaInputWrapper}\r\n        onDragEnter={() => setOnDragEnter(true)}\r\n        onDrop={(e) => handleInputDrop(e)}\r\n      >\r\n        {showModalMedias && (\r\n          <MessageUploadMedias\r\n            isOpen={showModalMedias}\r\n            files={mediasUpload}\r\n            onClose={handleCloseModalMedias}\r\n            onSend={handleUploadMedia}\r\n            onCancelSelection={handleCancelSelection}\r\n          />\r\n        )}\r\n\r\n      </Paper>\r\n    )\r\n  }\r\n  else {\r\n    return (\r\n      <>\r\n        {modalCameraOpen && (\r\n          <CameraModal\r\n            isOpen={modalCameraOpen}\r\n            onRequestClose={() => setModalCameraOpen(false)}\r\n            onCapture={handleCapture}\r\n          />\r\n        )}\r\n        {senVcardModalOpen && (\r\n          <ContactSendModal\r\n            modalOpen={senVcardModalOpen}\r\n            onClose={(c) => {\r\n              handleSendContatcMessage(c);\r\n            }}\r\n          />\r\n        )}\r\n        <Paper\r\n          square\r\n          elevation={0}\r\n          className={classes.mainWrapper}\r\n          onDragEnter={() => setOnDragEnter(true)}\r\n          onDrop={(e) => handleInputDrop(e)}\r\n        >\r\n          {(replyingMessage && renderReplyingMessage(replyingMessage)) || (editingMessage && renderReplyingMessage(editingMessage))}\r\n          <div className={classes.newMessageBox}>\r\n            <Hidden only={[\"sm\", \"xs\"]}>\r\n              <IconButton\r\n                aria-label=\"emojiPicker\"\r\n                component=\"span\"\r\n                disabled={disableOption()}\r\n                onClick={(e) => setShowEmoji((prevState) => !prevState)}\r\n              >\r\n                <Mood className={classes.sendMessageIcons} />\r\n              </IconButton>\r\n              {showEmoji ? (\r\n                <div className={classes.emojiBox}>\r\n                  <ClickAwayListener onClickAway={(e) => setShowEmoji(false)}>\r\n                    <Picker\r\n                      perLine={16}\r\n                      theme={\"dark\"}\r\n                      i18n={i18n}\r\n                      showPreview={true}\r\n                      showSkinTones={false}\r\n                      onSelect={handleAddEmoji}\r\n                    />\r\n                  </ClickAwayListener>\r\n                </div>\r\n              ) : null}\r\n\r\n              <Fab\r\n                disabled={disableOption()}\r\n                aria-label=\"uploadMedias\"\r\n                component=\"span\"\r\n                className={classes.invertedFabMenu}\r\n                onClick={handleOpenMenuClick}\r\n              >\r\n                <AddIcon />\r\n              </Fab>\r\n              <Menu\r\n                anchorEl={anchorEl}\r\n                keepMounted\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleMenuItemClick}\r\n                id=\"simple-menu\"\r\n              >\r\n                <MenuItem onClick={handleMenuItemClick}>\r\n                  <input\r\n                    multiple\r\n                    type=\"file\"\r\n                    id=\"upload-img-button\"\r\n                    accept=\"image/*, video/*, audio/* \"\r\n                    // disabled={disableOption()}\r\n                    className={classes.uploadInput}\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                  <label htmlFor=\"upload-img-button\">\r\n                    <Fab\r\n                      aria-label=\"upload-img\"\r\n                      component=\"span\"\r\n                      className={classes.invertedFabMenuMP}\r\n                    >\r\n                      <PermMedia />\r\n                    </Fab>\r\n                    {i18n.t(\"messageInput.type.imageVideo\")}\r\n                  </label>\r\n                </MenuItem>\r\n                {showButtonCamera && (\r\n                  <MenuItem onClick={handleCameraModalOpen}>\r\n                    <Fab className={classes.invertedFabMenuCamera}>\r\n                      <CameraAlt />\r\n                    </Fab>\r\n                    {i18n.t(\"messageInput.type.cam\")}\r\n                  </MenuItem>\r\n                )}\r\n                <MenuItem onClick={handleMenuItemClick}>\r\n                  <input\r\n                    multiple\r\n                    type=\"file\"\r\n                    id=\"upload-doc-button\"\r\n                    accept=\"application/*, text/*\"\r\n                    // disabled={disableOption()}\r\n                    className={classes.uploadInput}\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                  <label htmlFor=\"upload-doc-button\">\r\n                    <Fab aria-label=\"upload-img\"\r\n                      component=\"span\" className={classes.invertedFabMenuDoc}>\r\n                      <Description />\r\n                    </Fab>\r\n                    Documento\r\n                  </label>\r\n                </MenuItem>\r\n                {showButtonSendContact && (\r\n                  <MenuItem onClick={handleSendContactModalOpen}>\r\n                    <Fab className={classes.invertedFabMenuCont}>\r\n                      <Person />\r\n                    </Fab>\r\n                    {i18n.t(\"messageInput.type.contact\")}\r\n                  </MenuItem>\r\n                )}\r\n                {showButtonSendUrlVideoCall && (\r\n                  <MenuItem onClick={handleSendLinkVideo}>\r\n                    <Fab className={classes.invertedFabMenuMeet}>\r\n                      <Duo />\r\n                    </Fab>\r\n                    {i18n.t(\"messageInput.type.meet\")}\r\n                  </MenuItem>\r\n                )}                \r\n              </Menu>\r\n              {/* <IconButton\r\n                aria-label=\"upload\"\r\n                component=\"span\"\r\n                disabled={disableOption()}\r\n                onMouseOver={() => setOnDragEnter(true)}\r\n              >\r\n                <AttachFile className={classes.sendMessageIcons} />\r\n              </IconButton> */}\r\n\r\n              {/* </label> */}\r\n              {signMessagePar && (\r\n                <Tooltip title={i18n.t(\"messageInput.tooltip.signature\")}>\r\n                  <IconButton\r\n                    aria-label=\"send-upload\"\r\n                    component=\"span\"\r\n                    onClick={handleChangeSign}\r\n                  >\r\n                    {signMessage === true ? (\r\n                      <Create style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\r\n                    ) : (\r\n                      <Create style={{ color: \"grey\" }} />\r\n                    )}\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n              {showHiddenMessageButton && (\r\n                <Tooltip title={i18n.t(\"messageInput.tooltip.privateMessage\")}>\r\n                  <IconButton\r\n                    aria-label=\"send-upload\"\r\n                    component=\"span\"\r\n                    onClick={handlePrivateMessage}\r\n                  >\r\n                    {privateMessage === true ? (\r\n                      <Comment style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\r\n                    ) : (\r\n                      <Comment style={{ color: \"grey\" }} />\r\n                    )}\r\n                  </IconButton>\r\n                </Tooltip>\r\n              )}\r\n              {/* <Tooltip title={i18n.t(\"messageInput.tooltip.meet\")}>\r\n                <IconButton\r\n                  aria-label=\"send-upload\"\r\n                  component=\"span\"\r\n                  onClick={handleSendLinkVideo}\r\n                >\r\n                  <Duo style={{ color: \"grey\" }} />\r\n                </IconButton>\r\n              </Tooltip> */}\r\n            </Hidden>\r\n            <Hidden only={[\"md\", \"lg\", \"xl\"]}>\r\n              <IconButton\r\n                aria-controls=\"simple-menu\"\r\n                aria-haspopup=\"true\"\r\n                onClick={handleOpenMenuClick}\r\n              >\r\n                <MoreVert></MoreVert>\r\n              </IconButton>\r\n              <Menu\r\n                id=\"simple-menu\"\r\n                keepMounted\r\n                anchorEl={anchorEl}\r\n                open={Boolean(anchorEl)}\r\n                onClose={handleMenuItemClick}\r\n              >\r\n                <MenuItem onClick={handleMenuItemClick}>\r\n                  <IconButton\r\n                    aria-label=\"emojiPicker\"\r\n                    component=\"span\"\r\n                    disabled={disableOption()}\r\n                    onClick={(e) => setShowEmoji((prevState) => !prevState)}\r\n                  >\r\n                    <Mood className={classes.sendMessageIcons} />\r\n                  </IconButton>\r\n                </MenuItem>\r\n                <MenuItem onClick={handleMenuItemClick}>\r\n                  <input\r\n                    multiple\r\n                    type=\"file\"\r\n                    id=\"upload-button\"\r\n                    disabled={disableOption()}\r\n                    className={classes.uploadInput}\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                  <label htmlFor=\"upload-button\">\r\n                    <IconButton\r\n                      aria-label=\"upload\"\r\n                      component=\"span\"\r\n                      disabled={disableOption()}\r\n                    >\r\n                      <AttachFile className={classes.sendMessageIcons} />\r\n                    </IconButton>\r\n                  </label>\r\n                </MenuItem>\r\n\r\n                {signMessagePar && (\r\n                  <Tooltip title=\"Habilitar/Desabilitar Assinatura\">\r\n                    <IconButton\r\n                      aria-label=\"send-upload\"\r\n                      component=\"span\"\r\n                      onClick={handleChangeSign}\r\n                    >\r\n                      {signMessage === true ? (\r\n                        <Create style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\r\n                      ) : (\r\n                        <Create style={{ color: \"grey\" }} />\r\n                      )}\r\n                    </IconButton>\r\n                  </Tooltip>\r\n                )}\r\n                <Tooltip title=\"Habilitar/Desabilitar Comentários\">\r\n                  <IconButton\r\n                    aria-label=\"send-upload\"\r\n                    component=\"span\"\r\n                    onClick={handlePrivateMessage}\r\n                  >\r\n                    {privateMessage === true ? (\r\n                      <Comment style={{ color: theme.mode === \"light\" ? theme.palette.primary.main : \"#EEE\" }} />\r\n                    ) : (\r\n                      <Comment style={{ color: \"grey\" }} />\r\n                    )}\r\n                  </IconButton>\r\n                </Tooltip>\r\n\r\n              </Menu>\r\n            </Hidden>\r\n            <div className={classes.flexContainer}>\r\n              {privateMessageInputVisible && (\r\n                <div className={classes.flexItem}>\r\n                  <div className={classes.messageInputWrapperPrivate}>\r\n                    <InputBase\r\n                      inputRef={(input) => {\r\n                        input && input.focus();\r\n                        input && (inputRef.current = input);\r\n                      }}\r\n                      className={classes.messageInputPrivate}\r\n                      placeholder={\r\n                        ticketStatus === \"open\" || ticketStatus === \"group\"\r\n                          ? i18n.t(\"messagesInput.placeholderPrivateMessage\")\r\n                          : i18n.t(\"messagesInput.placeholderClosed\")\r\n                      }\r\n                      multiline\r\n                      maxRows={5}\r\n                      value={inputMessage}\r\n                      onChange={handleChangeInput}\r\n                      disabled={disableOption()}\r\n                      onPaste={(e) => {\r\n                        (ticketStatus === \"open\" || ticketStatus === \"group\") &&\r\n                          handleInputPaste(e);\r\n                      }}\r\n                      onKeyPress={(e) => {\r\n                        if (loading || e.shiftKey) return;\r\n                        else if (e.key === \"Enter\") {\r\n                          handleSendMessage();\r\n                        }\r\n                      }}\r\n\r\n                    />\r\n                    {typeBar ? (\r\n                      <ul className={classes.messageQuickAnswersWrapper}>\r\n                        {typeBar.map((value, index) => {\r\n                          return (\r\n                            <li\r\n                              className={classes.messageQuickAnswersWrapperItem}\r\n                              key={index}\r\n                            >\r\n                              {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                              <a onClick={() => handleQuickAnswersClick(value)}>\r\n                                {`${value.label} - ${value.value}`}\r\n                              </a>\r\n                            </li>\r\n                          );\r\n                        })}\r\n                      </ul>\r\n                    ) : (\r\n                      <div></div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n              {!privateMessageInputVisible && (\r\n                <div className={classes.flexItem}>\r\n                  <div className={classes.messageInputWrapper}>\r\n                    <InputBase\r\n                      inputRef={(input) => {\r\n                        input && input.focus();\r\n                        input && (inputRef.current = input);\r\n                      }}\r\n                      className={classes.messageInput}\r\n                      placeholder={placeholderText}\r\n                      multiline\r\n                      maxRows={5}\r\n                      value={inputMessage}\r\n                      onChange={handleChangeInput}\r\n                      disabled={disableOption()}\r\n                      onPaste={(e) => {\r\n                        (ticketStatus === \"open\" || ticketStatus === \"group\") &&\r\n                          handleInputPaste(e);\r\n                      }}\r\n                      onKeyPress={(e) => {\r\n                        if (loading || e.shiftKey) return;\r\n                        else if (e.key === \"Enter\") {\r\n                          handleSendMessage();\r\n                        }\r\n                      }}\r\n                    />\r\n                    {typeBar ? (\r\n                      <ul className={classes.messageQuickAnswersWrapper}>\r\n                        {typeBar.map((value, index) => {\r\n                          return (\r\n                            <li\r\n                              className={classes.messageQuickAnswersWrapperItem}\r\n                              key={index}\r\n                            >\r\n                              {/* eslint-disable-next-line jsx-a11y/anchor-is-valid */}\r\n                              <a onClick={() => handleQuickAnswersClick(value)}>\r\n                                {`${value.label} - ${value.value}`}\r\n                              </a>\r\n                            </li>\r\n                          );\r\n                        })}\r\n                      </ul>\r\n                    ) : (\r\n                      <div></div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              )}\r\n            </div>\r\n            {!privateMessageInputVisible && (\r\n              <>\r\n                <Tooltip title={i18n.t(\"tickets.buttons.scredule\")}>\r\n                  <IconButton\r\n                    aria-label=\"scheduleMessage\"\r\n                    component=\"span\"\r\n                    onClick={() => setAppointmentModalOpen(true)}\r\n                    disabled={loading}\r\n                  >\r\n                    <Timer className={classes.sendMessageIcons} />\r\n                  </IconButton>\r\n                </Tooltip>\r\n                {inputMessage || showSelectMessageCheckbox ? (\r\n                  <>\r\n                    <IconButton\r\n                      aria-label=\"sendMessage\"\r\n                      component=\"span\"\r\n                      onClick={showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage}\r\n                      disabled={loading}\r\n                    >\r\n                      {showSelectMessageCheckbox ?\r\n                        <Reply className={classes.ForwardMessageIcons} /> : <Send className={classes.sendMessageIcons} />}\r\n                    </IconButton>\r\n                  </>\r\n                ) : recording ? (\r\n                  <div className={classes.recorderWrapper}>\r\n                    <IconButton\r\n                      aria-label=\"cancelRecording\"\r\n                      component=\"span\"\r\n                      fontSize=\"large\"\r\n                      disabled={loading}\r\n                      onClick={handleCancelAudio}\r\n                    >\r\n                      <HighlightOff className={classes.cancelAudioIcon} />\r\n                    </IconButton>\r\n                    {loading ? (\r\n                      <div>\r\n                        <CircularProgress className={classes.audioLoading} />\r\n                      </div>\r\n                    ) : (\r\n                      <RecordingTimer />\r\n                    )}\r\n\r\n                    <IconButton\r\n                      aria-label=\"sendRecordedAudio\"\r\n                      component=\"span\"\r\n                      onClick={handleUploadAudio}\r\n                      disabled={loading}\r\n                    >\r\n                      <CheckCircleOutline className={classes.sendAudioIcon} />\r\n                    </IconButton>\r\n                  </div>\r\n                ) : (\r\n                  showButtonSendAudio && (\r\n                    <IconButton\r\n                      aria-label=\"showRecorder\"\r\n                      component=\"span\"\r\n                      disabled={disableOption()}\r\n                      onClick={handleStartRecording}\r\n                    >\r\n                      <Mic className={classes.sendMessageIcons} />\r\n                    </IconButton>\r\n                  )\r\n                )}\r\n              </>\r\n            )}\r\n\r\n            {privateMessageInputVisible && (\r\n              <>\r\n                <IconButton\r\n                  aria-label=\"sendMessage\"\r\n                  component=\"span\"\r\n                  onClick={showSelectMessageCheckbox ? handleOpenModalForward : handleSendMessage}\r\n                  disabled={loading}\r\n                >\r\n                  {showSelectMessageCheckbox ?\r\n                    <Reply className={classes.ForwardMessageIcons} /> : <Send className={classes.sendMessageIcons} />}\r\n                </IconButton>\r\n              </>\r\n            )}\r\n            {appointmentModalOpen && (\r\n              <ScheduleModal\r\n                open={appointmentModalOpen}\r\n                onClose={() => setAppointmentModalOpen(false)}\r\n                message={inputMessage}\r\n                contactId={contactId}\r\n              />\r\n            )}\r\n          </div>\r\n        </Paper>\r\n      </>\r\n    );\r\n  }\r\n};\r\n\r\nexport default MessageInput;","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Avatar, Card, CardHeader } from \"@material-ui/core\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tticketHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\t// backgroundColor: \"#eee\",\r\n\t\tbackground: theme.palette.tabHeaderBackground,\r\n\t\tflex: \"none\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\theight: \"65px\"\r\n\t},\r\n}));\r\n\r\nconst TicketHeaderSkeleton = () => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn (\r\n\t\t<Card square className={classes.ticketHeader}>\r\n\t\t\t<CardHeader\r\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\r\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\r\n\t\t\t\tavatar={\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\">\r\n\t\t\t\t\t\t<Avatar alt=\"contact_image\" />\r\n\t\t\t\t\t</Skeleton>\r\n\t\t\t\t}\r\n\t\t\t\ttitle={<Skeleton animation=\"wave\" width={80} />}\r\n\t\t\t\tsubheader={<Skeleton animation=\"wave\" width={140} />}\r\n\t\t\t/>\r\n\t\t</Card>\r\n\t);\r\n};\r\n\r\nexport default TicketHeaderSkeleton;\r\n","import React, { useEffect } from \"react\";\r\n\r\nimport { Card, Button } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TicketHeaderSkeleton from \"../TicketHeaderSkeleton\";\r\nimport ArrowBackIos from \"@material-ui/icons/ArrowBackIos\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tticketHeader: {\r\n\t\tdisplay: \"flex\",\r\n\t\t// backgroundColor: \"#eee\",\r\n\t\tbackground: theme.palette.total,\r\n\t\tflex: \"none\",\r\n\t\tborderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n\t\theight: \"65px\",\r\n\t\t[theme.breakpoints.down(\"sm\")]: {\r\n\t\t\tflexWrap: \"wrap\",\r\n\t\t\theight: 'max-content'\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nconst TicketHeader = ({ loading, children }) => {\r\n\tconst classes = useStyles();\r\n\tconst history = useHistory();\r\n\r\n\tconst handleBack = () => {\r\n\r\n\t\thistory.push(\"/tickets\");\r\n\t};\r\n\r\n\t// useEffect(() => {\r\n\t// \tconst handleKeyDown = (event) => {\r\n\t// \t\tif (event.key === \"Escape\") {\r\n\t// \t\t\thandleBack();\r\n\t// \t\t}\r\n\t// \t};\r\n\t// \tdocument.addEventListener(\"keydown\", handleKeyDown);\r\n\t// \treturn () => {\r\n\t// \t\tdocument.removeEventListener(\"keydown\", handleKeyDown);\r\n\t// \t};\r\n\t// }, [history]);\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading ? (\r\n\t\t\t\t<TicketHeaderSkeleton />\r\n\t\t\t) : (\r\n\t\t\t\t<Card\r\n\t\t\t\t\tsquare\r\n\t\t\t\t\tclassName={classes.ticketHeader}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Button color=\"primary\" onClick={handleBack}>\r\n\t\t\t\t\t\t<ArrowBackIos />\r\n\t\t\t\t\t</Button>\r\n\t\t\t\t\t{children}\r\n\t\t\t\t</Card>\r\n\t\t\t)}\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TicketHeader;\r\n","import React, { useState } from \"react\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { Avatar, CardHeader, Grid, TextField, Input, InputAdornment, InputLabel } from \"@material-ui/core\";\r\nimport { TagsKanbanContainer } from \"../TagsKanbanContainer\";\r\n\r\nconst TicketInfo = ({ contact, ticket, onClick }) => {\r\n\tconst [amount, setAmount] = useState(\"\");\r\n\r\n\tconst renderCardReader = () => {\r\n\t\treturn (\r\n\t\t\t<CardHeader\r\n\t\t\t\tonClick={onClick}\r\n\t\t\t\tstyle={{ cursor: \"pointer\" }}\r\n\t\t\t\ttitleTypographyProps={{ noWrap: true }}\r\n\t\t\t\tsubheaderTypographyProps={{ noWrap: true }}\r\n\t\t\t\tavatar={<Avatar src={contact?.urlPicture} alt=\"contact_image\" />}\r\n\t\t\t\ttitle={`${contact?.name || '(sem contato)'} #${ticket.id}`}\r\n\t\t\t\tsubheader={\r\n\t\t\t\t\tticket.user &&\r\n\t\t\t\t\t`${i18n.t(\"messagesList.header.assignedTo\")} ${ticket.user.name}`\r\n\t\t\t\t}\r\n\r\n\t\t\t/>\r\n\t\t);\r\n\t}\r\n\r\n\tconst handleChange = (event) => {\r\n\t\tconst value = event.target.value;\r\n\r\n\t\tsetAmount(value);\r\n\t}\r\n\r\n\r\n\treturn (\r\n\t\t<React.Fragment>\r\n\t\t\t<Grid container alignItems=\"center\" spacing={10}>\r\n\t\t\t\t{/* Conteúdo do contato à esquerda */}\r\n\t\t\t\t<Grid item xs={6}>\r\n\t\t\t\t\t{renderCardReader()}\r\n\t\t\t\t</Grid>\r\n\t\t\t</Grid>\r\n\t\t</React.Fragment>\r\n\t);\r\n};\r\n\r\nexport default TicketInfo;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { Grid, makeStyles } from \"@material-ui/core\";\r\n\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Autocomplete, {\r\n  createFilterOptions,\r\n} from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\nimport { isNil } from \"lodash\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  maxWidth: {\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst filterOptions = createFilterOptions({\r\n  trim: true,\r\n});\r\n\r\nconst TransferTicketModalCustom = ({ modalOpen, onClose, ticketid, ticket }) => {\r\n  const history = useHistory();\r\n  const [options, setOptions] = useState([]);\r\n  const [queues, setQueues] = useState([]);\r\n  const [allQueues, setAllQueues] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\r\n  const classes = useStyles();\r\n  const { findAll: findAllQueues } = useQueues();\r\n  const isMounted = useRef(true);\r\n  const [msgTransfer, setMsgTransfer] = useState('');\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      const loadQueues = async () => {\r\n        const list = await findAllQueues();\r\n        setAllQueues(list);\r\n        setQueues(list);\r\n\r\n      };\r\n      loadQueues();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    if (!modalOpen || searchParam.length < 3) {\r\n      setLoading(false);\r\n      setSelectedQueue(\"\");\r\n      return;\r\n    }\r\n    const delayDebounceFn = setTimeout(() => {\r\n      setLoading(true);\r\n      const fetchUsers = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/users/\", {\r\n            params: { searchParam },\r\n          });\r\n          setOptions(data.users);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n\r\n      fetchUsers();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, modalOpen]);\r\n\r\n  const handleMsgTransferChange = (event) => {\r\n    setMsgTransfer(event.target.value);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setSearchParam(\"\");\r\n    setSelectedUser(null);\r\n  };\r\n\r\n  const handleSaveTicket = async (e) => {\r\n    // e.preventDefault();\r\n    if (!ticketid) return;\r\n    if (!selectedQueue || selectedQueue === \"\") return;\r\n    setLoading(true);\r\n    try {\r\n      let data = {};\r\n\r\n        data.userId = !selectedUser ? null : selectedUser.id;\r\n        data.status = !selectedUser ? \"pending\" : ticket.isGroup ? \"group\" : \"open\";\r\n        data.queueId = selectedQueue;\r\n        data.msgTransfer = msgTransfer ? msgTransfer : null;\r\n        data.isTransfered = true;\r\n\r\n      await api.put(`/tickets/${ticketid}`, data);\r\n      setLoading(false);\r\n      history.push(`/tickets/`);\r\n      handleClose();\r\n    } catch (err) {\r\n      setLoading(false);\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n\r\n  return (\r\n    <Dialog open={modalOpen} onClose={handleClose} maxWidth=\"md\" fullWidth scroll=\"paper\">\r\n      {/* <form onSubmit={handleSaveTicket}> */}\r\n      <DialogTitle id=\"form-dialog-title\">\r\n        {i18n.t(\"transferTicketModal.title\")}\r\n      </DialogTitle>\r\n      <DialogContent dividers>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12} sm={6} xl={6}>\r\n            <Autocomplete\r\n              fullWidth\r\n              getOptionLabel={(option) => `${option.name}`}\r\n              onChange={(e, newValue) => {\r\n                setSelectedUser(newValue);\r\n                if (newValue != null && Array.isArray(newValue.queues)) {\r\n                  if (newValue.queues.length === 1) {\r\n                    setSelectedQueue(newValue.queues[0].id);\r\n                  }\r\n                  setQueues(newValue.queues);\r\n\r\n                } else {\r\n                  setQueues(allQueues);\r\n                  setSelectedQueue(\"\");\r\n                }\r\n              }}\r\n              options={options}\r\n              filterOptions={filterOptions}\r\n              freeSolo\r\n              autoHighlight\r\n              noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n              loading={loading}\r\n              renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n              renderInput={(params) => (\r\n                <TextField\r\n                  {...params}\r\n                  label={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n                  variant=\"outlined\"\r\n                  autoFocus\r\n                  onChange={(e) => setSearchParam(e.target.value)}\r\n                  InputProps={{\r\n                    ...params.InputProps,\r\n                    endAdornment: (\r\n                      <React.Fragment>\r\n                        {loading ? (\r\n                          <CircularProgress color=\"inherit\" size={20} />\r\n                        ) : null}\r\n                        {params.InputProps.endAdornment}\r\n                      </React.Fragment>\r\n                    ),\r\n                  }}\r\n                />\r\n              )}\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} sm={6} xl={6} item >\r\n            <FormControl variant=\"outlined\" fullWidth>\r\n              <InputLabel>\r\n                {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n              </InputLabel>\r\n              <Select\r\n                value={selectedQueue}\r\n                onChange={(e) => setSelectedQueue(e.target.value)}\r\n                label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n              >\r\n                {queues.map((queue) => (\r\n                  <MenuItem key={queue.id} value={queue.id}>\r\n                    {queue.name}\r\n                  </MenuItem>\r\n                ))}\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n        </Grid>\r\n        <Grid container spacing={2}>\r\n          <Grid item xs={12} sm={12} xl={12} >\r\n            <TextField\r\n              label={i18n.t(\"transferTicketModal.msgTransfer\")}\r\n              value={msgTransfer}\r\n              onChange={handleMsgTransferChange}\r\n              variant=\"outlined\"\r\n              multiline\r\n              maxRows={5}\r\n              minRows={5}\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button\r\n          onClick={handleClose}\r\n          color=\"secondary\"\r\n          disabled={loading}\r\n          variant=\"outlined\"\r\n        >\r\n          {i18n.t(\"transferTicketModal.buttons.cancel\")}\r\n        </Button>\r\n        <ButtonWithSpinner\r\n          variant=\"contained\"\r\n          type=\"submit\"\r\n          color=\"primary\"\r\n          loading={loading}\r\n          disabled={selectedQueue === \"\"}\r\n          onClick={() => handleSaveTicket(selectedQueue)}\r\n\r\n        >\r\n          {i18n.t(\"transferTicketModal.buttons.ok\")}\r\n        </ButtonWithSpinner>\r\n      </DialogActions>\r\n      {/* </form> */}\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default TransferTicketModalCustom;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport {\r\n    Button,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    FormControl,\r\n    InputLabel,\r\n    makeStyles,\r\n    MenuItem,\r\n    Select\r\n } from \"@material-ui/core\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Form, Formik } from \"formik\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\n// const filter = createFilterOptions({\r\n// \ttrim: true,\r\n// });\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n\tautoComplete: { \r\n\t\twidth: 300,\r\n\t\t// marginBottom: 20 \r\n\t},\r\n\tmaxWidth: {\r\n\t\twidth: \"100%\",\r\n\t},\r\n\tbuttonColorError: {\r\n\t\tcolor: theme.palette.error.main,\r\n\t\tborderColor: theme.palette.error.main,\r\n\t},\r\n}));\r\n\r\nconst AcceptTicketWithouSelectQueue = ({ modalOpen, onClose, ticketId, ticket }) => {\r\n\tconst history = useHistory();\r\n\tconst classes = useStyles();\r\n\tconst [selectedQueue, setSelectedQueue] = useState('');\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst [ openAlert, setOpenAlert ] = useState(false);\r\n\tconst [ userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n\tconst [ queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n\tconst { tabOpen, setTabOpen } = useContext(TicketsContext);\r\n\r\n\tconst {get:getSetting} = useCompanySettings();\r\n\r\nuseEffect(() => {\r\n\ttry {\r\n\tif (user.queues.length === 1) {\r\n        setSelectedQueue(user.queues[0].id)\r\n      }\r\n\t} catch (err) {\r\n\t\tsetLoading(false);\r\n\t\ttoastError(err);\r\n\t}\r\n},[selectedQueue])\r\n\r\nconst handleClose = () => {\r\n\tonClose();\r\n\tsetSelectedQueue(\"\");\r\n};\r\n\r\nconst handleCloseAlert = () => {\r\n\tsetOpenAlert(false);\r\n\tsetLoading(false)\r\n};\r\n\r\nconst handleSendMessage = async (id) => {\r\n\r\n\tlet isGreetingMessage = false;\r\n\r\n\ttry {\r\n\t\tconst  setting  = await getSetting({\r\n\t\t\t\"column\":\"sendGreetingAccepted\"\r\n\t\t});\r\n\t\tif (setting.sendGreetingAccepted === \"enabled\") isGreetingMessage = true;\r\n\t} catch (err) {\r\n\t\ttoastError(err);\r\n\t}\r\n\t\r\n\tlet settingMessage\r\n\ttry {\r\n\t\tsettingMessage = await getSetting({\r\n\t\t\t\"column\": \"greetingAcceptedMessage\"\r\n\t\t})\r\n\t} catch (err) {\r\n\t\ttoastError(err);\r\n\t}\r\n\t\r\n\t// console.log(ticket)\r\n\tconst msg = `${settingMessage.greetingAcceptedMessage}`;\r\n\tif (isGreetingMessage && (!ticket.isGroup || ticket.whatsapp?.groupAsTicket === \"enabled\") && ticket.status === \"pending\" && (msg && msg.trim() !== \"\")) {\r\n\t\t// const msg = `{{ms}} *{{name}}*, ${i18n.t(\"mainDrawer.appBar.user.myName\")} *${user?.name}* ${i18n.t(\"mainDrawer.appBar.user.continuity\")}.`;\r\n\t\tconst message = {\r\n\t\t\tread: 1,\r\n\t\t\tfromMe: true,\r\n\t\t\tmediaUrl: \"\",\r\n\t\t\tbody: `${msg.trim()}`,\r\n\t\t};\r\n\t\ttry {\r\n\t\t\tawait api.post(`/messages/${id}`, message);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}\r\n};\r\n\r\nconst handleUpdateTicketStatus = async (queueId) => {\r\n\tsetLoading(true);\r\n\ttry {\r\n\t\tconst otherTicket = await api.put(`/tickets/${ticketId}`, {\r\n\t\t\tstatus: ticket.isGroup && ticket.channel === 'whatsapp' ? \"group\" : \"open\",\r\n\t\t\tuserId: user?.id || null,\r\n\t\t\tqueueId: queueId\r\n\t\t});\r\n\r\n\t\tif (otherTicket.data.id !== ticket.id) {\r\n\t\t\tif (otherTicket.data.userId !== user?.id) {\r\n\t\t\t\tsetOpenAlert(true)\r\n\t\t\t\tsetUserTicketOpen(otherTicket.data.user.name)\r\n\t\t\t\tsetQueueTicketOpen(otherTicket.data.queue.name)\r\n\t\t\t} else {\r\n\t\t\t\tsetLoading(false);\r\n\t\t\t\tsetTabOpen(otherTicket.isGroup ? \"group\" : \"open\");\r\n\t\t\t\thistory.push(`/tickets/${otherTicket.data.uuid}`);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\thandleSendMessage(ticket.id)\r\n\t\t\tsetLoading(false);\r\n\t\t\tsetTabOpen(ticket.isGroup ? \"group\" : \"open\");\r\n\t\t\thistory.push(`/tickets/${ticket.uuid}`);\r\n\t\t\thandleClose();\r\n\t\t}\r\n\t} catch (err) {\r\n\t\tsetLoading(false);\r\n\t\ttoastError(err);\r\n\t}\r\n};\r\n\r\nreturn (\r\n\t<>\r\n\t\t<Dialog open={modalOpen} onClose={handleClose}>\r\n\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t{i18n.t(\"ticketsList.acceptModal.title\")}\r\n\t\t\t</DialogTitle>\r\n\t\t\t<DialogContent dividers>\r\n\t\t\t\t<FormControl variant=\"outlined\" className={classes.maxWidth}>\r\n\t\t\t\t\t<InputLabel>{i18n.t(\"ticketsList.acceptModal.queue\")}</InputLabel>\r\n\t\t\t\t\t<Select\r\n\t\t\t\t\t\tvalue={selectedQueue}\r\n\t\t\t\t\t\tclassName={classes.autoComplete}\r\n\t\t\t\t\t\tonChange={(e) => setSelectedQueue(e.target.value)}\r\n\t\t\t\t\t\tlabel={i18n.t(\"ticketsList.acceptModal.queue\")}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t<MenuItem value={''}>&nbsp;</MenuItem>\r\n\t\t\t\t\t\t{user.queues.map((queue) => (\r\n\t\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>{queue.name}</MenuItem>\r\n\t\t\t\t\t\t))}\r\n\t\t\t\t\t</Select>\r\n\t\t\t\t</FormControl>\r\n\t\t\t</DialogContent>\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\tclassName={classes.buttonColorError}\r\n\t\t\t\t\tdisabled={loading}\r\n\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"ticketsList.buttons.cancel\")}\r\n\t\t\t\t</Button>\r\n\t\t\t\t<ButtonWithSpinner\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\tdisabled={(selectedQueue === \"\")}\r\n\t\t\t\t\tonClick={() => handleUpdateTicketStatus(selectedQueue)}\r\n\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\tloading={loading}\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"ticketsList.buttons.start\")}\r\n\t\t\t\t</ButtonWithSpinner>\r\n\t\t\t</DialogActions>\r\n\t\t\t<ShowTicketOpen\r\n\t\t\t\tisOpen={openAlert}\r\n\t\t\t\thandleClose={handleCloseAlert}\r\n\t\t\t\tuser={userTicketOpen}\r\n\t\t\t\tqueue={queueTicketOpen}\r\n\t\t\t/>\r\n\t\t</Dialog>\r\n\t</>\r\n);\r\n};\r\n\r\nexport default AcceptTicketWithouSelectQueue;","import React, { useState, useEffect } from 'react';\r\nimport { Dialog, DialogTitle, DialogContent, DialogContentText, DialogActions, Button } from '@mui/material';\r\nimport { i18n } from '../../translate/i18n';\r\nimport { Stepper, Step, StepLabel, Typography, Paper, Grid } from '@material-ui/core';\r\nimport { format, parseISO } from 'date-fns';\r\nimport api from '../../services/api';\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst ShowTicketLogModal = ({ isOpen, handleClose, ticketId }) => {\r\n  const [activeStep, setActiveStep] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const [logs, setLogs] = useState([]);\r\n\r\n  const typeDescriptions = {\r\n    create: i18n.t(\"showTicketLogModal.options.create\"),\r\n    chatBot: i18n.t(\"showTicketLogModal.options.chatBot\"),\r\n    queue: i18n.t(\"showTicketLogModal.options.queue\"),\r\n    open: i18n.t(\"showTicketLogModal.options.open\"),\r\n    access: i18n.t(\"showTicketLogModal.options.access\"),\r\n    transfered: i18n.t(\"showTicketLogModal.options.transfered\"),\r\n    receivedTransfer: i18n.t(\"showTicketLogModal.options.receivedTransfer\"),\r\n    pending: i18n.t(\"showTicketLogModal.options.pending\"),\r\n    closed: i18n.t(\"showTicketLogModal.options.closed\"),\r\n    reopen: i18n.t(\"showTicketLogModal.options.reopen\"),\r\n    redirect: i18n.t(\"showTicketLogModal.options.redirect\")\r\n    // Adicione outros mapeamentos conforme necessário\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchLogs = async () => {\r\n        try {\r\n          const { data } = await api.get(`/tickets-log/${ticketId}`);\r\n          setLogs(data);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchLogs();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [ticketId]);\r\n\r\n  return (\r\n    <Dialog open={isOpen} onClose={handleClose}>\r\n      <DialogTitle>{i18n.t('showTicketLogModal.title.header')}</DialogTitle>\r\n      <DialogContent>\r\n        <Paper>\r\n          <DialogContentText>\r\n            <Stepper activeStep={activeStep} orientation=\"vertical\">\r\n              {logs.map((log, index) => (\r\n                <Step key={index}>\r\n                  <StepLabel>\r\n                    {`${log.type === 'access' ||\r\n                      log.type === 'transfered' ||\r\n                      log.type === 'open' || log.type === 'pending' || log.type === \"closed\" || log.type === \"reopen\"\r\n                      ? log?.user?.name\r\n                      : log?.type === 'queue' || log?.type === 'redirect'\r\n                        ? log?.queue?.name\r\n                        : log.type === 'receivedTransfer'\r\n                          ? log?.queue?.name + ' - ' + log?.user?.name\r\n                          : ''} \r\n                    ${typeDescriptions[log.type]} - ${format(\r\n                            parseISO(log?.createdAt),\r\n                            'dd/MM/yyyy HH:mm'\r\n                          )}`}\r\n                  </StepLabel>\r\n                </Step>\r\n              ))}\r\n            </Stepper>\r\n          </DialogContentText>\r\n        </Paper>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Fechar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ShowTicketLogModal;\r\n","export default __webpack_public_path__ + \"static/media/wa-background-dark.4c52474f.png\";","export default __webpack_public_path__ + \"static/media/wa-background.cd00123e.png\";","import React, { useEffect } from 'react';\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport { Button, Divider, Typography } from \"@material-ui/core\";\r\n\r\nconst LocationPreview = ({ image, link, description }) => {\r\n\tuseEffect(() => { }, [image, link, description]);\r\n\r\n\tconst handleLocation = async () => {\r\n\t\ttry {\r\n\t\t\twindow.open(link);\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<div style={{\r\n\t\t\t\tminWidth: \"250px\",\r\n\t\t\t}}>\r\n\t\t\t\t<div>\r\n\t\t\t\t\t<div style={{ float: \"left\" }}>\r\n\t\t\t\t\t\t<img src={image} alt=\"loc\" onClick={handleLocation} style={{ width: \"100px\" }} />\r\n\t\t\t\t\t</div>\r\n\t\t\t\t\t{description && (\r\n\t\t\t\t\t\t<div style={{ display: \"flex\", flexWrap: \"wrap\" }}>\r\n\t\t\t\t\t\t\t<Typography style={{ marginTop: \"12px\", marginLeft: \"15px\", marginRight: \"15px\", float: \"left\" }} variant=\"subtitle1\" color=\"primary\" gutterBottom>\r\n\t\t\t\t\t\t\t\t<div dangerouslySetInnerHTML={{ __html: description.replace('\\\\n', '<br />') }}></div>\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<div style={{ display: \"block\", content: \"\", clear: \"both\" }}></div>\r\n\t\t\t\t\t<div>\r\n\t\t\t\t\t\t<Divider />\r\n\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\tonClick={handleLocation}\r\n\t\t\t\t\t\t\tdisabled={!link}\r\n\t\t\t\t\t\t>Visualizar</Button>\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</>\r\n\t);\r\n\r\n};\r\n\r\nexport default LocationPreview;","import React from \"react\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst InformationModal = ({ title, children, open, onClose }) => {\r\n\treturn (\r\n\t\t<Dialog\r\n\t\t\topen={open}\r\n\t\t\tonClose={() => onClose(false)}\r\n\t\t\taria-labelledby=\"confirm-dialog\"\r\n\t\t>\r\n\t\t\t<DialogTitle id=\"confirm-dialog\">{title}</DialogTitle>\r\n\t\t\t<DialogContent dividers>\r\n\t\t\t\t<Typography>{children}</Typography>\r\n\t\t\t</DialogContent>\r\n\t\t\t<DialogActions>\r\n\t\t\t\t<Button\r\n\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\tonClick={() => onClose(false)}\r\n\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t>\r\n\t\t\t\t\t{i18n.t(\"Fechar\")}\r\n\t\t\t\t</Button>\r\n\t\t\t</DialogActions>\r\n\t\t</Dialog>\r\n\t);\r\n};\r\n\r\nexport default InformationModal;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Autocomplete, {\r\n\tcreateFilterOptions,\r\n} from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport toastError from \"../../errors/toastError\"; \r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Typography } from \"@mui/material\";\r\nimport { FormControlLabel, Switch } from \"@material-ui/core\";\r\n\r\nconst ForwardMessageModal = ({ messages, onClose, modalOpen }) => {\r\n    const [optionsContacts, setOptionsContacts] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [searchParam, setSearchParam] = useState(\"\");\r\n\tconst [selectedContact, setSelectedContact] = useState(null);\r\n\tconst [newContact, setNewContact] = useState({});\r\n\tconst [contactModalOpen, setContactModalOpen] = useState(false);\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst [sending, setSending] = useState(false);\r\n\tconst [messageSending, setMessageSending] = useState('');\r\n\tconst [signMessage, setSignMessage] = useState(true);\r\n\r\n    useEffect(() => {\r\n\t\tif (!modalOpen || searchParam.length < 3) {\r\n\t\t\tsetLoading(false);\r\n\t\t\treturn;\r\n\t\t}\r\n\t\tsetLoading(true);\r\n\t\tconst delayDebounceFn = setTimeout(() => {\r\n\t\t\tconst fetchContacts = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { data } = await api.get(\"contacts\", {\r\n\t\t\t\t\t\tparams: { searchParam },\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetOptionsContacts(data.contacts);\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\tsetLoading(false);\r\n\t\t\t\t\ttoastError(err);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tfetchContacts();\r\n\t\t}, 500);\r\n\t\treturn () => clearTimeout(delayDebounceFn);\r\n\t}, [searchParam, modalOpen]);\r\n\r\n\tconst history = useHistory();\r\n\r\n\tconst sleep = (ms) => {\r\n\t\treturn new Promise(resolve => setTimeout(resolve, ms));\r\n\t};\r\n\r\n    const handleForwardMessage = async(contactL) => {\r\n\t\tconst responseList = [];\r\n\t\tfor (const message of messages) {\r\n\t\t\tsetSending(true);\r\n\t\t\ttry {\r\n\t\t\t\tsetMessageSending(message.id);\r\n\t\t\t\tconst response = await api.post('/message/forward', {messageId: message.id, contactId: contactL.id, signMessage: signMessage});\r\n\t\t\t\tresponseList.push(response);\r\n\t\t\t\tsleep(900);\r\n\t\t\t} catch (error) {\r\n\t\t\t\ttoastError(error);\r\n\t\t\t}\t\t\r\n\t\t}\r\n\t\tsetSending(false);\r\n\r\n\t\thistory.push('/tickets');\r\n    }\r\n\r\n    const handleSelectOption = (e, newValue) => {\r\n\t\tif (newValue?.number) {\r\n\t\t\tsetSelectedContact(newValue);\r\n\t\t} else if (newValue?.name) {\r\n\t\t\tsetNewContact({ name: newValue.name });\r\n\t\t\tsetContactModalOpen(true);\r\n\t\t}\r\n\t};\r\n\r\n    const handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetSearchParam(\"\");\r\n\t\tsetSelectedContact(null);\r\n\t\tsetSending(false);\r\n\t};\r\n\r\n    const handleCloseContactModal = () => {\r\n\t\tsetContactModalOpen(false);\r\n\t};\r\n\r\n    const renderOption = optionL => {\r\n\t\tif (optionL.number) {\r\n\t\t\treturn `${optionL.name} - ${optionL.number}`;\r\n\t\t} else {\r\n\t\t\treturn `Nenhum contato encontrado com o nome ${optionL.name}`;\r\n\t\t}\r\n\t};\r\n\r\n\tconst renderOptionLabel = optionL => {\r\n\t\tif (optionL.number) {\r\n\t\t\treturn `${optionL.name} - ${optionL.number}`;\r\n\t\t} else {\r\n\t\t\treturn `${optionL.name}`;\r\n\t\t}\r\n\t};\r\n\r\n\tconst filter = createFilterOptions({\r\n\t\ttrim: true,\r\n\t});\r\n\r\n\tconst createAddContactOption = (filterOptions, params) => {\r\n\t\tconst filtered = filter(filterOptions, params);\r\n\r\n\t\tif (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\r\n\t\t\tfiltered.push({\r\n\t\t\t\tname: `${params.inputValue}`,\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn filtered;\r\n\t};\r\n\r\n    return (\r\n        <>\r\n\t\t\t<ContactModal\r\n\t\t\t\topen={contactModalOpen}\r\n\t\t\t\tinitialValues={newContact}\r\n\t\t\t\tonClose={handleCloseContactModal}\r\n\t\t\t></ContactModal>\r\n\t\t\t<Dialog open={modalOpen} onClose={handleClose}>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\tEncaminhar mensagem\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t<Autocomplete\r\n\t\t\t\t\t\toptions={optionsContacts}\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t\tstyle={{ width: 300 }}\r\n\t\t\t\t\t\tclearOnBlur\r\n\t\t\t\t\t\tautoHighlight\r\n\t\t\t\t\t\tfreeSolo\r\n\t\t\t\t\t\tclearOnEscape\r\n\t\t\t\t\t\tgetOptionLabel={renderOptionLabel}\r\n\t\t\t\t\t\trenderOption={renderOption}\r\n\t\t\t\t\t\tfilterOptions={createAddContactOption}\r\n\t\t\t\t\t\tonChange={(e, newValue) => handleSelectOption(e, newValue)}\r\n\t\t\t\t\t\trenderInput={params => (\r\n\t\t\t\t\t\t\t<TextField\r\n\t\t\t\t\t\t\t\t{...params}\r\n\t\t\t\t\t\t\t\tlabel={i18n.t(\"newTicketModal.fieldLabel\")}\r\n\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\tonChange={e => setSearchParam(e.target.value)}\r\n\t\t\t\t\t\t\t\tonKeyPress={e => {\r\n\t\t\t\t\t\t\t\t\tif (loading || !selectedContact) return;\r\n\t\t\t\t\t\t\t\t\telse if (e.key === \"Enter\") {\r\n\t\t\t\t\t\t\t\t\t\t// handleSaveTicket(selectedContact.id);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t...params.InputProps,\r\n\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t<React.Fragment>\r\n\t\t\t\t\t\t\t\t\t\t\t{loading ? (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\r\n\t\t\t\t\t\t\t\t\t\t\t) : null}\r\n\t\t\t\t\t\t\t\t\t\t\t{params.InputProps.endAdornment}\r\n\t\t\t\t\t\t\t\t\t\t</React.Fragment>\r\n\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t)}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</DialogContent>\r\n\t\t\t\t<DialogActions>\r\n\t\t\t\t\t{sending && (\r\n\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t<CircularProgress color=\"inherit\" size={20} />\r\n\t\t\t\t\t\t\t<Typography variant=\"body1\" color=\"textSecondary\">\r\n\t\t\t\t\t\t\t\tEnviando {messageSending}...\r\n\t\t\t\t\t\t\t</Typography>\r\n\t\t\t\t\t\t</>\r\n\t\t\t\t\t)}\r\n\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\tstyle={{ marginRight: 7, color: \"gray\" }}\r\n\t\t\t\t\t\tlabel={i18n.t(\"messagesInput.signMessage\")}\r\n\t\t\t\t\t\tlabelPlacement=\"start\"\r\n\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t<Switch\r\n\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\tchecked={signMessage}\r\n\t\t\t\t\t\t\t\tonChange={(e) => {\r\n\t\t\t\t\t\t\t\t\tsetSignMessage(e.target.checked);\r\n\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\tname=\"showAllTickets\"\r\n\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t<ButtonWithSpinner\r\n\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\ttype=\"button\"\r\n\t\t\t\t\t\tdisabled={!selectedContact || sending}\r\n\t\t\t\t\t\tonClick={() => handleForwardMessage(selectedContact)}\r\n\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\tloading={loading}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tEncaminhar\r\n\t\t\t\t\t</ButtonWithSpinner>\r\n\t\t\t\t</DialogActions>\r\n\t\t\t</Dialog>\r\n\t\t</>\r\n    );\r\n};\r\n\r\nexport default ForwardMessageModal;","import React, { useContext, useState } from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\n\r\nimport { Grid, IconButton, Menu, Popover } from \"@material-ui/core\";\r\nimport AddCircleOutlineIcon from \"@mui/icons-material/Add\";\r\nimport makeStyles from \"@mui/styles/makeStyles\";\r\nimport { EditMessageContext } from \"../../context/EditingMessage/EditingMessageContext\";\r\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport InformationModal from \"../InformationModal\";\r\n\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n// import { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport AcceptTicketWithoutQueue from \"../AcceptTicketWithoutQueueModal\";\r\nimport ForwardModal from \"../ForwardMessageModal\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  iconButton: {\r\n    padding: \"4px\", // Ajuste o valor conforme necessário\r\n  },\r\n  gridContainer: {\r\n    padding: \"10px\",\r\n    justifyContent: \"center\",\r\n  },\r\n  // addCircleButton: {\r\n  //   padding: '8px',\r\n  //   fontSize: '2rem', // Aumentar o tamanho do ícone\r\n  //   backgroundColor: 'rgb(242 242 247);',\r\n  // },\r\n  popoverContent: {\r\n    maxHeight: \"300px\", // Ajuste conforme necessário\r\n    overflowY: \"auto\",\r\n    \"&::-webkit-scrollbar\": {\r\n      width: \"0.4em\",\r\n      height: \"0.4em\",\r\n    },\r\n    \"&::-webkit-scrollbar-thumb\": {\r\n      backgroundColor: \"rgba(0,0,0,.1)\",\r\n      borderRadius: \"50px\",\r\n    },\r\n    \"&::-webkit-scrollbar-track\": {\r\n      boxShadow: \"inset 0 0 6px rgba(0,0,0,0.00)\",\r\n      webkitBoxShadow: \"inset 0 0 6px rgba(0,0,0,0.00)\",\r\n    },\r\n  },\r\n  hideScrollbar: {\r\n    maxHeight: \"300px\", // retirei porque estava quebrando a pagina\r\n    overflow: \"hidden\",\r\n  },\r\n}));\r\n\r\nconst MessageOptionsMenu = ({\r\n  message,\r\n  menuOpen,\r\n  handleClose,\r\n  anchorEl,\r\n  isGroup,\r\n  queueId,\r\n  whatsappId,\r\n}) => {\r\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n  const editingContext = useContext(EditMessageContext);\r\n  const setEditingMessage = editingContext\r\n    ? editingContext.setEditingMessage\r\n    : null;\r\n  const { setTabOpen } = useContext(TicketsContext);\r\n  const history = useHistory();\r\n\r\n  const [openAlert, setOpenAlert] = useState(false);\r\n  const [userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n  const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n  const [\r\n    acceptTicketWithouSelectQueueOpen,\r\n    setAcceptTicketWithouSelectQueueOpen,\r\n  ] = useState(false);\r\n\r\n  const [ticketOpen, setTicketOpen] = useState(null);\r\n\r\n  // Transcrição de áudio\r\n  const [showTranscribedText, setShowTranscribedText] = useState(false);\r\n  const [audioMessageTranscribeToText, setAudioMessageTranscribeToText] =\r\n    useState(\"\");\r\n\r\n  // Reagir mensagens\r\n  const [reactionAnchorEl, setReactionAnchorEl] = useState(null);\r\n  const [moreAnchorEl, setMoreAnchorEl] = useState(null);\r\n\r\n  const {\r\n    showSelectMessageCheckbox,\r\n    setShowSelectMessageCheckbox,\r\n    selectedMessages,\r\n    forwardMessageModalOpen,\r\n    setForwardMessageModalOpen,\r\n    setSelectedMessages,\r\n  } = useContext(ForwardMessageContext);\r\n\r\n  const classes = useStyles();\r\n\r\n  const handleCloseFowardMessageModal = () => {\r\n    setForwardMessageModalOpen(false);\r\n    setShowSelectMessageCheckbox(false);\r\n    setSelectedMessages([]);\r\n  };\r\n\r\n  const openReactionsMenu = (event) => {\r\n    setReactionAnchorEl(event.currentTarget);\r\n    handleClose();\r\n  };\r\n\r\n  const closeReactionsMenu = () => {\r\n    setReactionAnchorEl(null);\r\n    handleClose();\r\n  };\r\n\r\n  const openMoreReactionsMenu = (event) => {\r\n    setMoreAnchorEl(event.currentTarget);\r\n    closeReactionsMenu(); // Fechar o primeiro popover\r\n  };\r\n\r\n  const closeMoreReactionsMenu = () => {\r\n    setMoreAnchorEl(null);\r\n  };\r\n\r\n  const handleSaveTicket = async (contactId) => {\r\n    if (!contactId) return;\r\n\r\n    try {\r\n      const { data: ticket } = await api.post(\"/tickets\", {\r\n        contactId: contactId,\r\n        userId: user?.id,\r\n        status: \"open\",\r\n        queueId: queueId,\r\n        whatsappId: whatsappId,\r\n      });\r\n\r\n      setTicketOpen(ticket);\r\n      if (ticket.queueId === null) {\r\n        setAcceptTicketWithouSelectQueueOpen(true);\r\n      } else {\r\n        setTabOpen(\"open\");\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n      }\r\n    } catch (err) {\r\n      const ticket = JSON.parse(err.response.data.error);\r\n\r\n      if (ticket.userId !== user?.id) {\r\n        setOpenAlert(true);\r\n        setUserTicketOpen(ticket.user.name);\r\n        setQueueTicketOpen(ticket.queue.name);\r\n      } else {\r\n        setOpenAlert(false);\r\n        setUserTicketOpen(\"\");\r\n        setQueueTicketOpen(\"\");\r\n\r\n        // handleSelectTicket(ticket);\r\n        setTabOpen(ticket.status);\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n      }\r\n    }\r\n    //setLoading(false);\r\n    handleClose();\r\n  };\r\n\r\n  const handleCloseAlert = () => {\r\n    setOpenAlert(false);\r\n    setOpenAlert(false);\r\n    setUserTicketOpen(\"\");\r\n    setQueueTicketOpen(\"\");\r\n  };\r\n\r\n  const handleSetShowSelectCheckbox = () => {\r\n    setShowSelectMessageCheckbox(!showSelectMessageCheckbox);\r\n    handleClose();\r\n  };\r\n\r\n  const handleDeleteMessage = async () => {\r\n    try {\r\n      await api.delete(`/messages/${message.id}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleEditMessage = async () => {\r\n    setEditingMessage(message);\r\n    handleClose();\r\n  };\r\n  // const handleForwardMessage = (msg) => {\r\n  //   setForwardModalOpen(true);\r\n  //   setForwardMessage(msg);\r\n  //   handleClose();\r\n  // };\r\n  // const handleCloseForwardModal = () => {\r\n\r\n  //   //setSelectedSchedule(null);\r\n  //   setForwardModalOpen(false);\r\n  //   handleClose();\r\n  // };\r\n\r\n  // Reagir Mensagens\r\n  const handleReactToMessage = async (reactionType) => {\r\n    try {\r\n      await api.post(`/messages/${message.id}/reactions`, {\r\n        type: reactionType,\r\n      });\r\n      toast.success(i18n.t(\"messageOptionsMenu.reactionSuccess\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    closeReactionsMenu(); // Fechar o menu de reações ao reagir\r\n  };\r\n\r\n  // Array de emojis\r\n  const availableReactions = [\r\n    \"😀\",\r\n    \"😂\",\r\n    \"❤️\",\r\n    \"👍\",\r\n    \"🎉\",\r\n    \"😢\",\r\n    \"😮\",\r\n    \"😡\",\r\n    \"👏\",\r\n    \"🔥\",\r\n    \"🥳\",\r\n    \"😎\",\r\n    \"🤩\",\r\n    \"😜\",\r\n    \"🤔\",\r\n    \"🙄\",\r\n    \"😴\",\r\n    \"😇\",\r\n    \"🤯\",\r\n    \"💩\",\r\n    \"🤗\",\r\n    \"\",\r\n    \"🤭\",\r\n    \"🤓\",\r\n    \"🤪\",\r\n    \"🤥\",\r\n    \"🤡\",\r\n    \"🤠\",\r\n    \"🤢\",\r\n    \"🤧\",\r\n    \"😷\",\r\n    \"🤕\",\r\n    \"🤒\",\r\n    \"👻\",\r\n    \"💀\",\r\n    \"☠️\",\r\n    \"👽\",\r\n    \"👾\",\r\n    \"🤖\",\r\n    \"🎃\",\r\n    \"😺\",\r\n    \"\",\r\n    \"😹\",\r\n    \"😻\",\r\n    \"😼\",\r\n    \"😽\",\r\n    \"🙀\",\r\n    \"😿\",\r\n    \"😾\",\r\n    \"🙈\",\r\n    \"🙉\",\r\n    \"\",\r\n    \"🐵\",\r\n    \"🐒\",\r\n    \"🦍\",\r\n    \"🐶\",\r\n    \"🐕\",\r\n    \"🐩\",\r\n    \"🐺\",\r\n    \"🦊\",\r\n    \"🦝\",\r\n    \"🐱\",\r\n    \"🐈\",\r\n    \"🦁\",\r\n    \"🐯\",\r\n    \"🐅\",\r\n    \"🐆\",\r\n    \"🐴\",\r\n    \"🐎\",\r\n    \"🦄\",\r\n  ];\r\n\r\n  const handleTranscriptionAudioToText = async () => {\r\n    try {\r\n      const audioUrl = String(message.mediaUrl);\r\n\r\n      const match = audioUrl.match(/\\/([^\\/]+\\.ogg)$/);\r\n      const extractedPart = match ? match[1] : null;\r\n\r\n      if (!extractedPart) {\r\n        throw new Error(\"Formato de URL de áudio inesperado\");\r\n      }\r\n\r\n      const response = await api.get(\r\n        `/messages/transcribeAudio/${extractedPart}`\r\n      );\r\n      const { data } = response;\r\n\r\n      if (data && typeof data.transcribedText === \"string\") {\r\n        setAudioMessageTranscribeToText(data.transcribedText);\r\n        setShowTranscribedText(true);\r\n        handleClose();\r\n      } else if (data && data.error) {\r\n        throw new Error(data.error);\r\n      } else {\r\n        throw new Error(\"Dados de transcrição inválidos\");\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    } finally {\r\n      setReactionAnchorEl(null);\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  const hanldeReplyMessage = () => {\r\n    setReplyingMessage(message);\r\n    handleClose();\r\n  };\r\n\r\n  const isWithinFifteenMinutes = () => {\r\n    const fifteenMinutesInMilliseconds = 15 * 60 * 1000; // 15 minutos em milissegundos\r\n    const currentTime = new Date();\r\n    const messageTime = new Date(message.createdAt);\r\n\r\n    // Verifica se a diferença entre o tempo atual e o tempo da mensagem é menor que 15 minutos\r\n    return currentTime - messageTime <= fifteenMinutesInMilliseconds;\r\n  };\r\n\r\n  const handleOpenConfirmationModal = (e) => {\r\n    setConfirmationOpen(true);\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <AcceptTicketWithoutQueue\r\n        modalOpen={acceptTicketWithouSelectQueueOpen}\r\n        onClose={(e) => setAcceptTicketWithouSelectQueueOpen(false)}\r\n        ticket={ticketOpen}\r\n        ticketId={ticketOpen?.id}\r\n      />\r\n      <ShowTicketOpen\r\n        isOpen={openAlert}\r\n        handleClose={handleCloseAlert}\r\n        user={userTicketOpen}\r\n        queue={queueTicketOpen}\r\n      />\r\n      <ConfirmationModal\r\n        title={i18n.t(\"messageOptionsMenu.confirmationModal.title\")}\r\n        open={confirmationOpen}\r\n        onClose={setConfirmationOpen}\r\n        onConfirm={handleDeleteMessage}\r\n      >\r\n        {i18n.t(\"messageOptionsMenu.confirmationModal.message\")}\r\n      </ConfirmationModal>\r\n\r\n      <InformationModal\r\n        title={i18n.t(\"Transcrição de áudio\")}\r\n        open={showTranscribedText}\r\n        onClose={setShowTranscribedText}\r\n      >\r\n        {audioMessageTranscribeToText}\r\n      </InformationModal>\r\n\r\n      <ForwardModal\r\n        modalOpen={forwardMessageModalOpen}\r\n        messages={selectedMessages}\r\n        onClose={handleCloseFowardMessageModal}\r\n      />\r\n      <Menu\r\n        anchorEl={anchorEl}\r\n        getContentAnchorEl={null}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        open={menuOpen}\r\n        onClose={handleClose}\r\n      >\r\n        {message.fromMe && (\r\n          <MenuItem key=\"delete\" onClick={handleOpenConfirmationModal}>\r\n            {i18n.t(\"messageOptionsMenu.delete\")}\r\n          </MenuItem>\r\n        )}\r\n        {message.fromMe && isWithinFifteenMinutes() && (\r\n          <MenuItem key=\"edit\" onClick={handleEditMessage}>\r\n            {i18n.t(\"messageOptionsMenu.edit\")}\r\n          </MenuItem>\r\n        )}\r\n        {message.mediaType === \"audio\" && !message.fromMe && (\r\n          <MenuItem onClick={handleTranscriptionAudioToText}>\r\n            {i18n.t(\"Transcrever áudio\")}\r\n          </MenuItem>\r\n        )}\r\n        <MenuItem onClick={hanldeReplyMessage}>\r\n          {i18n.t(\"messageOptionsMenu.reply\")}\r\n        </MenuItem>\r\n        <MenuItem onClick={handleSetShowSelectCheckbox}>\r\n          {i18n.t(\"messageOptionsMenu.forward\")}\r\n        </MenuItem>\r\n        {/* {!isGroup && ( */}\r\n          <MenuItem onClick={openReactionsMenu}>\r\n            {i18n.t(\"messageOptionsMenu.react\")}\r\n          </MenuItem>\r\n        {/* )} */}\r\n\r\n        {!message.fromMe && isGroup && (\r\n          <MenuItem onClick={() => handleSaveTicket(message?.contact?.id)}>\r\n            {i18n.t(\"messageOptionsMenu.talkTo\")}\r\n          </MenuItem>\r\n        )}\r\n      </Menu>\r\n      <Popover\r\n        open={Boolean(reactionAnchorEl)}\r\n        anchorEl={reactionAnchorEl}\r\n        onClose={closeReactionsMenu}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"right\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"right\",\r\n        }}\r\n        PaperProps={{\r\n          style: { width: \"auto\", maxWidth: \"380px\", borderRadius: \"50px\" },\r\n        }}\r\n      >\r\n        <div className={classes.hideScrollbar}>\r\n          <Grid container spacing={1} className={classes.gridContainer}>\r\n            {availableReactions.slice(0, 6).map((reaction) => (\r\n              <Grid item key={reaction}>\r\n                <IconButton\r\n                  className={classes.iconButton}\r\n                  onClick={() => handleReactToMessage(reaction)}\r\n                  size=\"large\"\r\n                >\r\n                  {reaction}\r\n                </IconButton>\r\n              </Grid>\r\n            ))}\r\n            <Grid item>\r\n              <IconButton\r\n                // className={classes.addCircleButton}\r\n                onClick={openMoreReactionsMenu}\r\n                size=\"large\"\r\n              >\r\n                <AddCircleOutlineIcon fontSize=\"normal\" />\r\n              </IconButton>\r\n            </Grid>\r\n          </Grid>\r\n        </div>\r\n      </Popover>\r\n      <Popover\r\n        open={Boolean(moreAnchorEl)}\r\n        anchorEl={moreAnchorEl}\r\n        onClose={closeMoreReactionsMenu}\r\n        anchorOrigin={{\r\n          vertical: \"bottom\",\r\n          horizontal: \"center\",\r\n        }}\r\n        transformOrigin={{\r\n          vertical: \"top\",\r\n          horizontal: \"center\",\r\n        }}\r\n        PaperProps={{\r\n          style: { width: \"auto\", maxWidth: \"400px\", borderRadius: \"6px\" },\r\n        }}\r\n      >\r\n        <div className={classes.popoverContent}>\r\n          <Grid container spacing={1} className={classes.gridContainer}>\r\n            {availableReactions.map((reaction) => (\r\n              <Grid item key={reaction}>\r\n                <IconButton\r\n                  className={classes.iconButton}\r\n                  onClick={() => handleReactToMessage(reaction)}\r\n                  size=\"large\"\r\n                >\r\n                  {reaction}\r\n                </IconButton>\r\n              </Grid>\r\n            ))}\r\n          </Grid>\r\n        </div>\r\n      </Popover>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default MessageOptionsMenu;\r\n","import React, { useState, useEffect } from 'react';\r\nimport YouTube from 'react-youtube';\r\n\r\nconst YouTubePreview = ({ videoUrl }) => {\r\n  const [videoId, setVideoId] = useState('');\r\n\r\n  useEffect(() => {\r\n    // Extract the video ID from the URL\r\n    let videoId = videoUrl.split('v=')[1];\r\n\r\n    if (!videoId) {\r\n      const match = videoUrl.match(/(?:youtu\\.be\\/)([^?\\n]+)/);\r\n      videoId = match ? match[1] : null;\r\n\r\n    }\r\n\r\n    let ampersandPosition = videoId.indexOf('&');\r\n\r\n    if (ampersandPosition != -1) {\r\n      videoId = videoId.substring(0, ampersandPosition);\r\n    }\r\n    \r\n    setVideoId(videoId);\r\n  }, [videoUrl]);\r\n\r\n  const opts = {\r\n    height: '300',\r\n    width: '100%',\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      {videoId && <YouTube videoId={videoId} opts={opts} style={{ borderRadius: 10, overflow: 'hidden' }} />}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default YouTubePreview;","import React, { useEffect, useState, useContext } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport { Button, Divider, useTheme, } from \"@material-ui/core\";\r\nimport { isNil } from 'lodash';\r\nimport ShowTicketOpen from '../ShowTicketOpenModal';\r\nimport { grey } from '@material-ui/core/colors';\r\n\r\nconst VcardPreview = ({ contact, numbers, queueId, whatsappId }) => {\r\n    const theme = useTheme();\r\n    const history = useHistory();\r\n    const { user } = useContext(AuthContext);\r\n\r\n    const companyId = user.companyId;\r\n\r\n    const [openAlert, setOpenAlert] = useState(false);\r\n    const [userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n    const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n\r\n    const [selectedContact, setContact] = useState({\r\n        id: 0,\r\n        name: \"\",\r\n        number: 0,\r\n        profilePicUrl: \"\"\r\n    });\r\n\r\n    // useEffect(() => {\r\n    //     const delayDebounceFn = setTimeout(() => {\r\n    //         const fetchContacts = async () => {\r\n    //             try {\r\n    //                 const number = numbers.replace(/\\D/g, \"\");\r\n    //                 const { data } = await api.get(`/contacts/profile/${number}`);\r\n\r\n    //                 let obj = {\r\n    //                     id: data.contactId,\r\n    //                     name: contact,\r\n    //                     number: numbers,\r\n    //                     profilePicUrl: data.profilePicUrl\r\n    //                 }\r\n\r\n    //                 setContact(obj)\r\n\r\n    //             } catch (err) {\r\n    //                 console.log(err)\r\n    //                 toastError(err);\r\n    //             }\r\n    //         };\r\n    //         fetchContacts();\r\n    //     }, 500);\r\n    //     return () => clearTimeout(delayDebounceFn);\r\n    // }, [contact, numbers]);\r\n\r\n\r\n    useEffect(() => {\r\n        const delayDebounceFn = setTimeout(() => {\r\n            const fetchContacts = async () => {\r\n                try {\r\n                    if (isNil(numbers)) {\r\n                        return\r\n                    }\r\n                    const number = numbers.replace(/\\D/g, \"\");\r\n                    const getData = await api.get(`/contacts/profile/${number}`);\r\n\r\n                    if (getData.data.contactId && getData.data.contactId !== 0) {\r\n                        let obj = {\r\n                            id: getData.data.contactId,\r\n                            name: contact,\r\n                            number: numbers,\r\n                            profilePicUrl: getData.data.urlPicture\r\n                        }\r\n\r\n                        setContact(obj)\r\n                    } else {\r\n                        let contactObj = {\r\n                            name: contact,\r\n                            number: number,\r\n                            email: \"\",\r\n                            companyId: companyId\r\n                        }\r\n                                                \r\n                        const { data } = await api.post(\"/contacts\", contactObj);\r\n                        setContact(data)\r\n                    }\r\n\r\n                } catch (err) {\r\n                    console.log(err)\r\n                    toastError(err);\r\n                }\r\n            };\r\n            fetchContacts();\r\n        }, 500);\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [companyId, contact, numbers]);\r\n\r\n    const handleCloseAlert = () => {\r\n        setOpenAlert(false);\r\n        setOpenAlert(false);\r\n        setUserTicketOpen(\"\");\r\n        setQueueTicketOpen(\"\");\r\n    };\r\n\r\n    const handleNewChat = async () => {\r\n        try {\r\n            const { data: ticket } = await api.post(\"/tickets\", {\r\n                contactId: selectedContact.id,\r\n                userId: user.id,\r\n                status: \"open\",\r\n                queueId,\r\n                companyId: companyId,\r\n                whatsappId\r\n            });\r\n\r\n            history.push(`/tickets/${ticket.uuid}`);\r\n        } catch (err) {\r\n            const ticket = JSON.parse(err.response.data.error);\r\n\r\n            if (ticket.userId !== user?.id) {\r\n                setOpenAlert(true);\r\n                setUserTicketOpen(ticket.user.name);\r\n                setQueueTicketOpen(ticket.queue.name);\r\n            } else {\r\n                setOpenAlert(false);\r\n                setUserTicketOpen(\"\");\r\n                setQueueTicketOpen(\"\");\r\n\r\n                history.push(`/tickets/${ticket.uuid}`);\r\n            }\r\n        }\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <div style={{\r\n                minWidth: \"250px\",\r\n            }}>\r\n                <ShowTicketOpen\r\n                    isOpen={openAlert}\r\n                    handleClose={handleCloseAlert}\r\n                    user={userTicketOpen}\r\n                    queue={queueTicketOpen}\r\n                />\r\n                <Grid container spacing={1}>\r\n                    <Grid item xs={2}>\r\n                        <Avatar src={`${selectedContact?.urlPicture}`} />\r\n                    </Grid>\r\n                    <Grid item xs={9}>\r\n                        <Typography\r\n                            style={{ marginTop: \"12px\", marginLeft: \"10px\" }}\r\n                            color=\"primary\"\r\n                            variant=\"subtitle1\"\r\n                            gutterBottom\r\n                        >\r\n                            {selectedContact.name}\r\n                        </Typography>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                        <Divider />\r\n                        <Button\r\n                            fullWidth\r\n                            color=\"primary\"\r\n                            onClick={handleNewChat}\r\n                            disabled={!selectedContact.number}\r\n                        >Conversar</Button>\r\n                    </Grid>\r\n                </Grid>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n};\r\n\r\nexport default VcardPreview;","import React, { useState, createContext } from \"react\";\r\n\r\nconst QueueSelectedContext = createContext();\r\n\r\nconst QueueSelectedProvider = ({ children }) => {\r\n\tconst [selectedQueuesMessage, setSelectedQueuesMessage] = useState([]);\r\n\treturn (\r\n\t\t<QueueSelectedContext.Provider\r\n\t\t\tvalue={{ selectedQueuesMessage, setSelectedQueuesMessage }}\r\n\t\t>\r\n\t\t\t{children}\r\n\t\t</QueueSelectedContext.Provider>\r\n\t);\r\n};\r\n\r\nexport { QueueSelectedContext, QueueSelectedProvider };\r\n","import React, { useContext } from \"react\";\r\nimport toastError  from \"../../errors/toastError\";\r\nimport { Checkbox } from \"@mui/material\";\r\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\n\r\nconst SelectMessageCheckbox = ({ message }) => {\r\n    const [isChecked, setIsChecked] = React.useState(false);\r\n    const { showSelectMessageCheckbox,\r\n      setSelectedMessages,\r\n      selectedMessages,\r\n   } = useContext(ForwardMessageContext);\r\n\r\n    const handleSelectMessage = (e, message) => {\r\n        const list = selectedMessages;\r\n        if (e.target.checked) {\r\n          // if (list.length >= 4) {\r\n          //   toastError(\"Não é possível selecionar mais de 4 mensagens para encaminhar.\");\r\n          //   return;\r\n          // }\r\n          setIsChecked(true);\r\n          list.push(message);\r\n        } else {\r\n          const index = list.findIndex((m) => m.id === message.id);\r\n          list.splice(index, 1);\r\n          setIsChecked(true);\r\n        }\r\n        setSelectedMessages(list);\r\n      }\r\n\r\n    if (showSelectMessageCheckbox) {\r\n        return <Checkbox color=\"primary\" checked={isChecked} onChange={(e) => handleSelectMessage(e, message)}  />;\r\n    } else {\r\n        return null;\r\n    }\r\n}\r\n\r\nexport default SelectMessageCheckbox;","import {\r\n  Button,\r\n  CircularProgress,\r\n  Divider,\r\n  IconButton,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { blue, green } from \"@material-ui/core/colors\";\r\nimport clsx from \"clsx\";\r\nimport { format, isSameDay, parseISO } from \"date-fns\";\r\nimport { isNil } from \"lodash\";\r\nimport React, {\r\n  useContext,\r\n  useEffect,\r\n  useReducer,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\n\r\nimport {\r\n  AccessTime,\r\n  Done,\r\n  DoneAll,\r\n  ExpandMore,\r\n  Facebook,\r\n  GetApp,\r\n  Instagram,\r\n  Reply,\r\n} from \"@material-ui/icons\";\r\n\r\nimport whatsBackgroundDark from \"../../assets/wa-background-dark.png\";\r\nimport whatsBackground from \"../../assets/wa-background.png\";\r\nimport LocationPreview from \"../LocationPreview\";\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport MessageOptionsMenu from \"../MessageOptionsMenu\";\r\nimport ModalImageCors from \"../ModalImageCors\";\r\nimport YouTubePreview from \"../ModalYoutubeCors\";\r\nimport VcardPreview from \"../VcardPreview\";\r\n\r\nimport { ForwardMessageContext } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\nimport { ReplyMessageContext } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\n\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { QueueSelectedContext } from \"../../context/QueuesSelected/QueuesSelectedContext\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport AudioModal from \"../AudioModal\";\r\nimport SelectMessageCheckbox from \"./SelectMessageCheckbox\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  messagesListWrapper: {\r\n    overflow: \"hidden\",\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n    width: \"100%\",\r\n    minWidth: 300,\r\n    minHeight: 200,\r\n  },\r\n\r\n  currentTick: {\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n    width: \"95%\",\r\n    backgroundColor: theme.palette.primary.main,\r\n    margin: \"10px\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"1px 5px 10px #b3b3b3\",\r\n  },\r\n\r\n  currentTicktText: {\r\n    color: theme.palette.primary,\r\n    fontWeight: \"bold\",\r\n    padding: 8,\r\n    alignSelf: \"center\",\r\n    marginLeft: \"0px\",\r\n  },\r\n\r\n  messagesList: {\r\n    backgroundImage:\r\n      theme.mode === \"light\"\r\n        ? `url(${whatsBackground})`\r\n        : `url(${whatsBackgroundDark})`,\r\n    backgroundColor: theme.mode === \"light\" ? \"transparent\" : \"#0b0b0d\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n    padding: \"20px 20px 30px 20px\",\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      padding: \"20px 20px 100px 20px\",\r\n    },\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  dragElement: {\r\n    background: \"rgba(255, 255, 255, 0.8)\",\r\n    position: \"absolute\",\r\n    width: \"100%\",\r\n    height: \"100%\",\r\n    zIndex: 999999,\r\n    textAlign: \"center\",\r\n    fontSize: \"3em\",\r\n    border: \"5px dashed #333\",\r\n    color: \"#333\",\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n  circleLoading: {\r\n    color: blue[500],\r\n    position: \"absolute\",\r\n    opacity: \"70%\",\r\n    top: 0,\r\n    left: \"50%\",\r\n    marginTop: 12,\r\n  },\r\n\r\n  messageLeft: {\r\n    marginRight: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      maxWidth: 300,\r\n    },\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: theme.mode === \"light\" ? \"#ffffff\" : \"#202c33\",\r\n    color: theme.mode === \"light\" ? \"#303030\" : \"#ffffff\",\r\n    alignSelf: \"flex-start\",\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow:\r\n      theme.mode === \"light\" ? \"0 1px 1px #b3b3b3\" : \"0 1px 1px #000000\",\r\n  },\r\n\r\n  quotedContainerLeft: {\r\n    margin: \"-3px -80px 6px -6px\",\r\n    overflow: \"hidden\",\r\n    backgroundColor: theme.mode === \"light\" ? \"#f0f0f0\" : \"#1d282f\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  quotedMsg: {\r\n    padding: 10,\r\n    maxWidth: 300,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    whiteSpace: \"pre-wrap\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  quotedSideColorLeft: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#388aff\",\r\n  },\r\n\r\n  messageRight: {\r\n    marginLeft: 20,\r\n    marginTop: 2,\r\n    marginBottom: 8,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    [theme.breakpoints.down(\"xs\")]: {\r\n      maxWidth: 300,\r\n    },\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: theme.mode === \"light\" ? \"#dcf8c6\" : \"#005c4b\",\r\n    color: theme.mode === \"light\" ? \"#303030\" : \"#ffffff\",\r\n    alignSelf: \"flex-end\",\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 0,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow:\r\n      theme.mode === \"light\" ? \"0 1px 1px #b3b3b3\" : \"0 1px 1px #000000\",\r\n  },\r\n\r\n  messageRightPrivate: {\r\n    marginLeft: 20,\r\n    marginTop: 2,\r\n    minWidth: 100,\r\n    maxWidth: 600,\r\n    height: \"auto\",\r\n    display: \"block\",\r\n    position: \"relative\",\r\n    \"&:hover #messageActionsButton\": {\r\n      display: \"flex\",\r\n      position: \"absolute\",\r\n      top: 0,\r\n      right: 0,\r\n    },\r\n    whiteSpace: \"pre-wrap\",\r\n    backgroundColor: \"#F0E68C\",\r\n    color: \"#303030\",\r\n    alignSelf: \"flex-end\",\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 0,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow:\r\n      theme.mode === \"light\" ? \"0 1px 1px #b3b3b3\" : \"0 1px 1px #000000\",\r\n  },\r\n\r\n  quotedContainerRight: {\r\n    margin: \"-3px -80px 6px -6px\",\r\n    overflowY: \"hidden\",\r\n    backgroundColor: theme.mode === \"light\" ? \"#cfe9ba\" : \"#025144\",\r\n    borderRadius: \"7.5px\",\r\n    display: \"flex\",\r\n    position: \"relative\",\r\n  },\r\n\r\n  quotedMsgRight: {\r\n    padding: 10,\r\n    maxWidth: 300,\r\n    height: \"auto\",\r\n    whiteSpace: \"pre-wrap\",\r\n  },\r\n\r\n  quotedSideColorRight: {\r\n    flex: \"none\",\r\n    width: \"4px\",\r\n    backgroundColor: \"#35cd96\",\r\n  },\r\n\r\n  messageActionsButton: {\r\n    display: \"none\",\r\n    position: \"relative\",\r\n    color: \"#999\",\r\n    zIndex: 1,\r\n    backgroundColor: \"inherit\",\r\n    opacity: \"90%\",\r\n    \"&:hover, &.Mui-focusVisible\": { backgroundColor: \"inherit\" },\r\n  },\r\n\r\n  messageContactName: {\r\n    display: \"flex\",\r\n    color: \"#6bcbef\",\r\n    fontWeight: 500,\r\n  },\r\n\r\n  textContentItem: {\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 80px 6px 6px\",\r\n  },\r\n\r\n  textContentItemDeleted: {\r\n    fontStyle: \"italic\",\r\n    color: \"rgba(0, 0, 0, 0.36)\",\r\n    overflowWrap: \"break-word\",\r\n    padding: \"3px 80px 6px 6px\",\r\n  },\r\n\r\n  messageMedia: {\r\n    objectFit: \"cover\",\r\n    width: 400,\r\n    height: \"auto\",\r\n    borderTopLeftRadius: 8,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n  },\r\n\r\n  timestamp: {\r\n    fontSize: 11,\r\n    position: \"absolute\",\r\n    bottom: 0,\r\n    right: 5,\r\n    color: \"#999\",\r\n  },\r\n  reactionAreaRigth: {\r\n    height: 25,\r\n    borderRadius: \"25%\",\r\n    borderRadius: 10,\r\n    backgroundColor: \"#FFFFFF\",\r\n    position: \"absolute\",\r\n    bottom: -20,\r\n    right: 5,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    gap: 2,\r\n    padding: 4,\r\n  },\r\n  reactionAreaLeft: {\r\n    height: 22,\r\n    borderRadius: \"25%\",\r\n    backgroundColor: \"#FFFFFF\",\r\n    position: \"absolute\",\r\n    bottom: -18,\r\n    left: 5,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    gap: 2,\r\n    padding: 4,\r\n  },\r\n  reactionMsg: {\r\n    fontSize: 11,\r\n    display:\"block\"\r\n  },\r\n\r\n  forwardMessage: {\r\n    fontSize: 12,\r\n    fontStyle: \"italic\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    left: 5,\r\n    color: \"#999\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  dailyTimestamp: {\r\n    alignItems: \"center\",\r\n    textAlign: \"center\",\r\n    alignSelf: \"center\",\r\n    width: \"110px\",\r\n    backgroundColor: \"#e1f3fb\",\r\n    margin: \"10px\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  dailyTimestampText: {\r\n    color: \"#808888\",\r\n    padding: 8,\r\n    alignSelf: \"center\",\r\n    marginLeft: \"0px\",\r\n  },\r\n\r\n  ackIcons: {\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n\r\n  deletedIcon: {\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginRight: 4,\r\n  },\r\n\r\n  ackDoneAllIcon: {\r\n    color: blue[500],\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n\r\n  ackPlayedIcon: {\r\n    color: green[500],\r\n    fontSize: 18,\r\n    verticalAlign: \"middle\",\r\n    marginLeft: 4,\r\n  },\r\n  downloadMedia: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    backgroundColor: \"inherit\",\r\n    padding: 10,\r\n    color: theme.mode === \"light\" ? theme.palette.light : theme.palette.dark,\r\n  },\r\n\r\n  messageCenter: {\r\n    marginTop: 5,\r\n    alignItems: \"center\",\r\n    verticalAlign: \"center\",\r\n    alignContent: \"center\",\r\n    backgroundColor: \"#E1F5FEEB\",\r\n    fontSize: \"12px\",\r\n    minWidth: 100,\r\n    maxWidth: 270,\r\n    color: \"#272727\",\r\n    borderTopLeftRadius: 0,\r\n    borderTopRightRadius: 8,\r\n    borderBottomLeftRadius: 8,\r\n    borderBottomRightRadius: 8,\r\n    paddingLeft: 5,\r\n    paddingRight: 5,\r\n    paddingTop: 5,\r\n    paddingBottom: 0,\r\n    boxShadow: \"0 1px 1px #b3b3b3\",\r\n  },\r\n\r\n  deletedMessage: {\r\n    color: \"#f55d65\",\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_MESSAGES\") {\r\n    const messages = action.payload;\r\n    const newMessages = [];\r\n\r\n    messages.forEach((message) => {\r\n      const messageIndex = state.findIndex((m) => m.id === message.id);\r\n      if (messageIndex !== -1) {\r\n        state[messageIndex] = message;\r\n      } else {\r\n        newMessages.push(message);\r\n      }\r\n    });\r\n\r\n    return [...newMessages, ...state];\r\n  }\r\n\r\n  if (action.type === \"ADD_MESSAGE\") {\r\n    const newMessage = action.payload;\r\n    const messageIndex = state.findIndex((m) => m.id === newMessage.id);\r\n\r\n    if (messageIndex !== -1) {\r\n      state[messageIndex] = newMessage;\r\n    } else {\r\n      state.push(newMessage);\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"ADD_REACTION\") {\r\n    const messageReaction = action.payload;\r\n    const messageIndex = state.findIndex(\r\n      (m) => m.id === messageReaction.quotedMsgId\r\n    );\r\n    const reactionObject = {\r\n      id: messageReaction.id,\r\n      fromMe: messageReaction.fromMe,\r\n      body: messageReaction.body,\r\n      contactId : messageReaction.contactId,\r\n      createdAt: messageReaction.createdAt,\r\n    };\r\n        \r\n    if (messageIndex !== -1) {            \r\n      if(state[messageIndex].hasOwnProperty(\"reactionsMsg\")){\r\n        state[messageIndex].reactionsMsg.push(reactionObject)        \r\n      }else{\r\n        \r\n        state[messageIndex].reactionsMsg = [reactionObject]\r\n      }\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if(action.type === \"DELETE_REACTION\"){\r\n    const messageReaction = action.payload;\r\n    let messageIndex = state.findIndex(\r\n      (m) => m.id === messageReaction.messageId\r\n    );\r\n\r\n    if (messageIndex !== -1) {\r\n      \r\n      let reactionIndex\r\n      if(messageReaction.fromMe){\r\n        reactionIndex = state[messageIndex].reactionsMsg.findIndex((r)=> r.id === messageReaction.reactionId && r.fromMe )\r\n      }else{\r\n        reactionIndex = state[messageIndex].reactionsMsg.findIndex((r)=> r.id === messageReaction.reactionId && r.contactId == messageReaction.contactId )\r\n      }\r\n      if(reactionIndex !== -1){\r\n               \r\n        state[messageIndex].reactionsMsg.splice(reactionIndex,1);\r\n      }\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_MESSAGE\") {\r\n    const messageToUpdate = action.payload;\r\n    const messageIndex = state.findIndex((m) => m.id === messageToUpdate.id);\r\n\r\n    if (messageIndex !== -1) {\r\n      state[messageIndex] = messageToUpdate;\r\n    }\r\n\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst MessagesList = ({ isGroup, onDrop, whatsappId, queueId, channel }) => {\r\n  const classes = useStyles();\r\n  const [messagesList, dispatch] = useReducer(reducer, []);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const history = useHistory();\r\n  const lastMessageRef = useRef();\r\n\r\n  const [selectedMessage, setSelectedMessage] = useState({});\r\n  const { setReplyingMessage } = useContext(ReplyMessageContext);\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n  const messageOptionsMenuOpen = Boolean(anchorEl);\r\n  const { ticketId } = useParams();\r\n\r\n  const currentTicketId = useRef(ticketId);\r\n  const { getAll } = useCompanySettings();\r\n  const [dragActive, setDragActive] = useState(false);\r\n\r\n  const [lgpdDeleteMessage, setLGPDDeleteMessage] = useState(false);\r\n  const { selectedQueuesMessage } = useContext(QueueSelectedContext);\r\n\r\n  const { showSelectMessageCheckbox } = useContext(ForwardMessageContext);\r\n\r\n  const { user, socket } = useContext(AuthContext);\r\n  const userQueueIds = user.queues.map((q) => q.id);\r\n  const companyId = user.companyId;\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const settings = await getAll(companyId);\r\n\r\n      let settinglgpdDeleteMessage;\r\n      let settingEnableLGPD;\r\n\r\n      for (const [key, value] of Object.entries(settings)) {\r\n        if (key === \"lgpdDeleteMessage\") settinglgpdDeleteMessage = value;\r\n        if (key === \"enableLGPD\") settingEnableLGPD = value;\r\n      }\r\n      if (\r\n        settingEnableLGPD === \"enabled\" &&\r\n        settinglgpdDeleteMessage === \"enabled\"\r\n      ) {\r\n        setLGPDDeleteMessage(true);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n\r\n    currentTicketId.current = ticketId;\r\n  }, [ticketId, selectedQueuesMessage]);\r\n\r\n  function contarOcorrencias(arrayReaction) {\r\n    const contagem = {};\r\n  \r\n    if(!arrayReaction || (arrayReaction.length <= 0) ){\r\n      return []\r\n    }\r\n\r\n    // Contar as ocorrências de cada body\r\n    arrayReaction.forEach(obj => {\r\n      contagem[obj.body] = (contagem[obj.body] || 0) + 1;\r\n    });\r\n  \r\n    // Transformar o objeto de contagem em um array\r\n    return Object.entries(contagem).map(([body, quantidade]) => ({ body, quantidade }));\r\n  }\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchMessages = async () => {\r\n        if (ticketId === \"undefined\") {\r\n          history.push(\"/tickets\");\r\n          return;\r\n        }\r\n        if (isNil(ticketId)) return;\r\n        try {\r\n          const queueMessage =\r\n            selectedQueuesMessage?.length > 0\r\n              ? selectedQueuesMessage\r\n              : userQueueIds;\r\n          const { data } = await api.get(\"/messages/\" + ticketId, {\r\n            params: {\r\n              pageNumber,\r\n              selectedQueues: JSON.stringify(queueMessage),\r\n            },\r\n          });\r\n\r\n          if (currentTicketId.current === ticketId) {\r\n            dispatch({ type: \"LOAD_MESSAGES\", payload: data.messages });\r\n            setHasMore(data.hasMore);\r\n            setLoading(false);\r\n            setLoadingMore(false);\r\n          }\r\n\r\n          if (pageNumber === 1 && data.messages.length > 1) {\r\n            scrollToBottom();\r\n          }\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n          setLoadingMore(false);\r\n        }\r\n      };\r\n\r\n      fetchMessages();\r\n    }, 500);\r\n    return () => {\r\n      clearTimeout(delayDebounceFn);\r\n    };\r\n  }, [pageNumber, ticketId, selectedQueuesMessage]);\r\n\r\n  useEffect(() => {\r\n    if (ticketId === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    const companyId = user.companyId;\r\n\r\n    //    const socket = socketManager.GetSocket();\r\n    const connectEventMessagesList = () => {\r\n      socket.emit(\"joinChatBox\", `${ticketId}`);\r\n    };\r\n\r\n    const onAppMessageMessagesList = (data) => {\r\n      if (\r\n        data.action === \"create\" &&\r\n        data?.ticket?.uuid === ticketId &&\r\n        data?.message?.mediaType !== \"reactionMessage\"\r\n      ) {\r\n        dispatch({ type: \"ADD_MESSAGE\", payload: data.message });\r\n        scrollToBottom();\r\n      }\r\n\r\n      if (\r\n        data.action === \"update\" &&\r\n        data?.message?.ticket?.uuid === ticketId &&\r\n        data?.message?.mediaType !== \"reactionMessage\"\r\n      ) {\r\n        dispatch({ type: \"UPDATE_MESSAGE\", payload: data.message });\r\n      }\r\n\r\n      if (\r\n        data.action === \"create\" &&\r\n        data?.message?.ticket.uuid === ticketId &&\r\n        data?.message?.mediaType === \"reactionMessage\"\r\n      ) {\r\n        dispatch({ type: \"ADD_REACTION\", payload: data.message });\r\n      }\r\n\r\n      if (\r\n          data.action == \"delete\" && \r\n          data?.message?.ticket?.uuid === ticketId &&\r\n          data?.message?.mediaType !== \"reactionMessage\"\r\n        ) {\r\n        dispatch({ type: \"DELETE_MESSAGE\", payload: data.messageId });\r\n      }\r\n         \r\n      if (\r\n          data.action == \"delete\" && \r\n          data?.message?.uuid === ticketId &&\r\n          data?.message?.mediaType === \"reactionMessage\"\r\n        ) {\r\n          \r\n        dispatch({ type: \"DELETE_REACTION\", payload: data.message });\r\n      }\r\n    };\r\n    socket.on(\"connect\", connectEventMessagesList);\r\n    socket.on(`company-${companyId}-appMessage`, onAppMessageMessagesList);\r\n\r\n    return () => {\r\n      socket.emit(\"joinChatBoxLeave\", `${ticketId}`);\r\n\r\n      socket.off(\"connect\", connectEventMessagesList);\r\n      socket.off(`company-${companyId}-appMessage`, onAppMessageMessagesList);\r\n    };\r\n  }, [ticketId]);\r\n\r\n  const loadMore = () => {\r\n    if (loadingMore) return;\r\n    setLoadingMore(true);\r\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n  };\r\n\r\n  const scrollToBottom = () => {\r\n    setTimeout(() => {\r\n      if (lastMessageRef.current) {\r\n        lastMessageRef.current.scrollIntoView({});\r\n      }\r\n    }, 100);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore) return;\r\n    const { scrollTop } = e.currentTarget;\r\n\r\n    if (scrollTop === 0) {\r\n      document.getElementById(\"messagesList\").scrollTop = 1;\r\n    }\r\n\r\n    if (loading) {\r\n      return;\r\n    }\r\n\r\n    if (scrollTop < 50) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleOpenMessageOptionsMenu = (e, message) => {\r\n    setAnchorEl(e.currentTarget);\r\n    setSelectedMessage(message);\r\n  };\r\n\r\n  const handleCloseMessageOptionsMenu = (e) => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const hanldeReplyMessage = (e, message) => {\r\n    //if (ticket.status === \"open\" || ticket.status === \"group\") {\r\n    setAnchorEl(null);\r\n    setReplyingMessage(message);\r\n    //}\r\n  };\r\n\r\n  const checkMessageMedia = (message) => {\r\n    if (\r\n      message.mediaType === \"locationMessage\" &&\r\n      message.body.split(\"|\").length >= 2\r\n    ) {\r\n      let locationParts = message.body.split(\"|\");\r\n      let imageLocation = locationParts[0];\r\n      let linkLocation = locationParts[1];\r\n\r\n      let descriptionLocation = null;\r\n\r\n      if (locationParts.length > 2)\r\n        descriptionLocation = message.body.split(\"|\")[2];\r\n\r\n      return (\r\n        <LocationPreview\r\n          image={imageLocation}\r\n          link={linkLocation}\r\n          description={descriptionLocation}\r\n        />\r\n      );\r\n    } else if (message.mediaType === \"contactMessage\") {\r\n      let array = message.body.split(\"\\n\");\r\n      let obj = [];\r\n      let contact = \"\";\r\n      for (let index = 0; index < array.length; index++) {\r\n        const v = array[index];\r\n        let values = v.split(\":\");\r\n        for (let ind = 0; ind < values.length; ind++) {\r\n          if (values[ind].indexOf(\"+\") !== -1) {\r\n            obj.push({ number: values[ind] });\r\n          }\r\n          if (values[ind].indexOf(\"FN\") !== -1 && !contact) {\r\n            contact = values[ind + 1];\r\n          }\r\n        }\r\n      }\r\n\r\n      return (\r\n        <VcardPreview\r\n          contact={contact}\r\n          numbers={obj[0]?.number}\r\n          queueId={message?.ticket?.queueId}\r\n          whatsappId={message?.ticket?.whatsappId}\r\n        />\r\n      );\r\n    } else if (message.mediaType === \"image\") {\r\n      return <ModalImageCors imageUrl={message.mediaUrl} />;\r\n    } else if (message.mediaType === \"audio\") {\r\n      return (\r\n        <AudioModal url={message.mediaUrl} />\r\n        // <audio controls>\r\n        //   <source src={message.mediaUrl} type=\"audio/ogg\"></source>\r\n        //   {/* <source src={message.mediaUrl} type=\"audio/mp3\"></source> */}\r\n        // </audio>\r\n      );\r\n    } else if (message.mediaType === \"video\") {\r\n      return (\r\n        <video\r\n          className={classes.messageMedia}\r\n          src={message.mediaUrl}\r\n          controls\r\n        />\r\n      );\r\n    } else {\r\n      return (\r\n        <>\r\n          <div className={classes.downloadMedia}>\r\n            <Button\r\n              startIcon={<GetApp />}\r\n              variant=\"outlined\"\r\n              target=\"_blank\"\r\n              href={message.mediaUrl}\r\n            >\r\n              Download\r\n            </Button>\r\n          </div>\r\n          <Divider />\r\n        </>\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderMessageAck = (message) => {\r\n    if (message.ack === 0) {\r\n      return <AccessTime fontSize=\"small\" className={classes.ackIcons} />;\r\n    } else if (message.ack === 1) {\r\n      return <Done fontSize=\"small\" className={classes.ackIcons} />;\r\n    } else if (message.ack === 2) {\r\n      return <DoneAll fontSize=\"small\" className={classes.ackIcons} />;\r\n    } else if (message.ack === 3 || message.ack === 4) {\r\n      return (\r\n        <DoneAll\r\n          fontSize=\"small\"\r\n          className={\r\n            message.mediaType === \"audio\"\r\n              ? classes.ackPlayedIcon\r\n              : classes.ackDoneAllIcon\r\n          }\r\n        />\r\n      );\r\n    } else if (message.ack === 5) {\r\n      return <DoneAll fontSize=\"small\" className={classes.ackDoneAllIcon} />;\r\n    }\r\n  };\r\n\r\n  const renderDailyTimestamps = (message, index) => {\r\n    const today = format(new Date(), \"dd/MM/yyyy\");\r\n\r\n    if (index === 0) {\r\n      return (\r\n        <span\r\n          className={classes.dailyTimestamp}\r\n          key={`timestamp-${message.id}`}\r\n        >\r\n          <div className={classes.dailyTimestampText}>\r\n            {today ===\r\n            format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")\r\n              ? \"HOJE\"\r\n              : format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\r\n          </div>\r\n        </span>\r\n      );\r\n    } else if (index < messagesList.length - 1) {\r\n      let messageDay = parseISO(messagesList[index].createdAt);\r\n      let previousMessageDay = parseISO(messagesList[index - 1].createdAt);\r\n\r\n      if (!isSameDay(messageDay, previousMessageDay)) {\r\n        return (\r\n          <span\r\n            className={classes.dailyTimestamp}\r\n            key={`timestamp-${message.id}`}\r\n          >\r\n            <div className={classes.dailyTimestampText}>\r\n              {today ===\r\n              format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")\r\n                ? \"HOJE\"\r\n                : format(parseISO(messagesList[index].createdAt), \"dd/MM/yyyy\")}\r\n            </div>\r\n          </span>\r\n        );\r\n      }\r\n    } else if (index === messagesList.length - 1) {\r\n      return (\r\n        <div\r\n          key={`ref-${message.id}`}\r\n          ref={lastMessageRef}\r\n          style={{ float: \"left\", clear: \"both\" }}\r\n        />\r\n      );\r\n    }\r\n  };\r\n\r\n  const renderTicketsSeparator = (message, index) => {\r\n    let lastTicket = messagesList[index - 1]?.ticketId;\r\n    let currentTicket = message.ticketId;\r\n\r\n    if (lastTicket !== currentTicket && lastTicket !== undefined) {\r\n      if (message?.ticket?.queue) {\r\n        return (\r\n          <span\r\n            className={classes.currentTick}\r\n            key={`timestamp-${message.id}a`}\r\n          >\r\n            <div\r\n              className={classes.currentTicktText}\r\n              style={{\r\n                backgroundColor: message?.ticket?.queue?.color || \"grey\",\r\n              }}\r\n            >\r\n              #{i18n.t(\"ticketsList.called\")} {message?.ticketId} -{\" \"}\r\n              {message?.ticket?.queue?.name}\r\n            </div>\r\n          </span>\r\n        );\r\n      } else {\r\n        return (\r\n          <span\r\n            className={classes.currentTick}\r\n            key={`timestamp-${message.id}b`}\r\n          >\r\n            <div\r\n              className={classes.currentTicktText}\r\n              style={{ backgroundColor: \"grey\" }}\r\n            >\r\n              #{i18n.t(\"ticketsList.called\")} {message.ticketId} -{\" \"}\r\n              {i18n.t(\"ticketsList.noQueue\")}\r\n            </div>\r\n          </span>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderMessageDivider = (message, index) => {\r\n    if (index < messagesList.length && index > 0) {\r\n      let messageUser = messagesList[index].fromMe;\r\n      let previousMessageUser = messagesList[index - 1].fromMe;\r\n      if (messageUser !== previousMessageUser) {\r\n        return (\r\n          <span style={{ marginTop: 16 }} key={`divider-${message.id}`}></span>\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const path = require(\"path\");\r\n\r\n  const renderQuotedMessage = (message) => {\r\n    return (\r\n      <div\r\n        className={clsx(classes.quotedContainerLeft, {\r\n          [classes.quotedContainerRight]: message.fromMe,\r\n        })}\r\n      >\r\n        <span\r\n          className={clsx(classes.quotedSideColorLeft, {\r\n            [classes.quotedSideColorRight]: message.quotedMsg?.fromMe,\r\n          })}\r\n        ></span>\r\n        <div className={classes.quotedMsg}>\r\n          {!message.quotedMsg?.fromMe && (\r\n            <span className={classes.messageContactName}>\r\n              {message.quotedMsg?.contact?.name}\r\n            </span>\r\n          )}\r\n\r\n          {message.quotedMsg.mediaType === \"audio\" && (\r\n            <div className={classes.downloadMedia}>\r\n              <AudioModal url={message.quotedMsg.mediaUrl} />\r\n\r\n              {/* <audio controls>\r\n                  <source src={message.quotedMsg.mediaUrl} type=\"audio/mp3\"></source>\r\n                  {/* <source src={message.quotedMsg.mediaUrl} type=\"audio/ogg\"></source> \r\n                </audio> */}\r\n            </div>\r\n          )}\r\n          {message.quotedMsg.mediaType === \"video\" && (\r\n            <video\r\n              className={classes.messageMedia}\r\n              src={message.quotedMsg.mediaUrl}\r\n              controls\r\n            />\r\n          )}\r\n          {message.quotedMsg.mediaType === \"contactMessage\" && \"Contato\"}\r\n          {message.quotedMsg.mediaType === \"application\" && (\r\n            <div className={classes.downloadMedia}>\r\n              <Button\r\n                startIcon={<GetApp />}\r\n                // color=\"primary\"\r\n                variant=\"outlined\"\r\n                target=\"_blank\"\r\n                href={message.quotedMsg.mediaUrl}\r\n              >\r\n                Download\r\n              </Button>\r\n            </div>\r\n          )}\r\n\r\n          {(message.quotedMsg.mediaType === \"image\" && (\r\n            <ModalImageCors imageUrl={message.quotedMsg.mediaUrl} />\r\n          )) ||\r\n            message.quotedMsg?.body}\r\n\r\n          {!message.quotedMsg.mediaType === \"image\" && message.quotedMsg?.body}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const handleDrag = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    if (event.type === \"dragenter\" || event.type === \"dragover\") {\r\n      setDragActive(true);\r\n    } else if (event.type === \"dragleave\") {\r\n      setDragActive(false);\r\n    }\r\n  };\r\n\r\n  const isYouTubeLink = (url) => {\r\n    const youtubeRegex =\r\n      /(?:youtube\\.com\\/(?:[^\\/\\n\\s]+\\/\\S+\\/|(?:v|e(?:mbed)?)\\/|\\S*?[?&]v=)|youtu\\.be\\/)([a-zA-Z0-9_-]{11})/;\r\n    return youtubeRegex.test(url);\r\n  };\r\n\r\n  const handleDrop = (event) => {\r\n    event.preventDefault();\r\n    event.stopPropagation();\r\n    setDragActive(false);\r\n    if (event.dataTransfer.files && event.dataTransfer.files[0]) {\r\n      if (onDrop) {\r\n        onDrop(event.dataTransfer.files);\r\n      }\r\n    }\r\n  };\r\n  const xmlRegex = /<([^>]+)>/g;\r\n  const boldRegex = /\\*(.*?)\\*/g;\r\n\r\n  const formatXml = (xmlString) => {\r\n    // Verifica se o XML contém a assinatura com nome do atendente\r\n    if (boldRegex.test(xmlString)) {\r\n      // Formata o texto dentro da assinatura em negrito\r\n      xmlString = xmlString.replace(boldRegex, \"**$1**\");\r\n    }\r\n    return xmlString;\r\n  };\r\n\r\n  const renderMessages = () => {\r\n    if (messagesList.length > 0) {\r\n      const viewMessagesList = messagesList.map((message, index) => {\r\n        \r\n        const reactionList = contarOcorrencias(message.reactionsMsg);\r\n        \r\n        if (message.mediaType === \"call_log\") {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderTicketsSeparator(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              <div className={classes.messageCenter}>\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n                {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {message.contact?.name}\r\n                  </span>\r\n                )}\r\n\r\n                {/* {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {JSON.parse(message.dataJson).pushName} #{message.contact?.name}\r\n                  </span>\r\n                )} */}\r\n                <div>\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 20 17\"\r\n                    width=\"20\"\r\n                    height=\"17\"\r\n                  >\r\n                    <path\r\n                      fill=\"#df3333\"\r\n                      d=\"M18.2 12.1c-1.5-1.8-5-2.7-8.2-2.7s-6.7 1-8.2 2.7c-.7.8-.3 2.3.2 2.8.2.2.3.3.5.3 1.4 0 3.6-.7 3.6-.7.5-.2.8-.5.8-1v-1.3c.7-1.2 5.4-1.2 6.4-.1l.1.1v1.3c0 .2.1.4.2.6.1.2.3.3.5.4 0 0 2.2.7 3.6.7.2 0 1.4-2 .5-3.1zM5.4 3.2l4.7 4.6 5.8-5.7-.9-.8L10.1 6 6.4 2.3h2.5V1H4.1v4.8h1.3V3.2z\"\r\n                    ></path>\r\n                  </svg>{\" \"}\r\n                  <span>\r\n                    {i18n.t(\"ticketsList.missedCall\")}{\" \"}\r\n                    {format(parseISO(message.createdAt), \"HH:mm\")}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        }\r\n\r\n        if (!message.fromMe) {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderTicketsSeparator(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              <div\r\n                className={classes.messageLeft}\r\n                title={message.queueId && message.queue?.name}\r\n                onDoubleClick={(e) => hanldeReplyMessage(e, message)}\r\n              >\r\n                {showSelectMessageCheckbox && (\r\n                  <SelectMessageCheckbox\r\n                    // showSelectMessageCheckbox={showSelectMessageCheckbox}\r\n                    message={message}\r\n                    // selectedMessagesList={selectedMessagesList}\r\n                    // setSelectedMessagesList={setSelectedMessagesList}\r\n                  />\r\n                )}\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n\r\n                {message.isForwarded && (\r\n                  <div>\r\n                    <span className={classes.forwardMessage}>\r\n                      <Reply\r\n                        style={{ color: \"grey\", transform: \"scaleX(-1)\" }}\r\n                      />{\" \"}\r\n                      Encaminhada\r\n                    </span>\r\n                    <br />\r\n                  </div>\r\n                )}\r\n                {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {message.contact?.name}\r\n                  </span>\r\n                )}\r\n                {isYouTubeLink(message.body) && (\r\n                  <>\r\n                    <YouTubePreview videoUrl={message.body} />\r\n                  </>\r\n                )}\r\n                {/* {isGroup && (\r\n                  <span className={classes.messageContactName}>\r\n                    {JSON.parse(message.dataJson).pushName} #{message.contact?.name}\r\n                  </span>\r\n                )} */}\r\n\r\n                {/* aviso de mensagem apagado pelo contato */}\r\n\r\n                {!lgpdDeleteMessage && message.isDeleted && (\r\n                  <div>\r\n                    <span className={classes.deletedMessage}>\r\n                      🚫 Essa mensagem foi apagada pelo contato &nbsp;\r\n                    </span>\r\n                  </div>\r\n                )}\r\n\r\n                {(message.mediaUrl ||\r\n                  message.mediaType === \"locationMessage\" ||\r\n                  message.mediaType === \"contactMessage\") &&\r\n                  //|| message.mediaType === \"multi_vcard\"\r\n                  checkMessageMedia(message)}\r\n\r\n                <div\r\n                  className={clsx(classes.textContentItem, {\r\n                    [classes.textContentItemDeleted]: message.isDeleted,\r\n                  })}\r\n                >\r\n                  {message.quotedMsg && renderQuotedMessage(message)}\r\n                  {((message.mediaUrl !== null &&\r\n                    (message.mediaType === \"image\" ||\r\n                      message.mediaType === \"video\") &&\r\n                    path.basename(message.mediaUrl).trim() !==\r\n                      message.body.trim()) ||\r\n                    (message.mediaType !== \"audio\" &&\r\n                      message.mediaType !== \"image\" &&\r\n                      message.mediaType !== \"video\" &&\r\n                      message.mediaType != \"reactionMessage\" &&\r\n                      message.mediaType != \"locationMessage\" &&\r\n                      message.mediaType !== \"contactMessage\")) && (\r\n                    <>\r\n                      {xmlRegex.test(message.body) && (\r\n                        <span>{message.body}</span>\r\n                      )}\r\n                      {!xmlRegex.test(message.body) && (\r\n                        <MarkdownWrapper>\r\n                          {lgpdDeleteMessage && message.isDeleted\r\n                            ? \"🚫 _Mensagem apagada_ \"\r\n                            : message.body}\r\n                        </MarkdownWrapper>\r\n                      )}\r\n                    </>\r\n                  )}\r\n\r\n                  {message.quotedMsg &&\r\n                    message.mediaType === \"reactionMessage\" && (\r\n                      <>\r\n                        <span style={{ marginLeft: \"0px\" }}>\r\n                          <MarkdownWrapper>\r\n                            {\"\" +\r\n                              message?.contact?.name +\r\n                              \" reagiu... \" +\r\n                              message.body}\r\n                          </MarkdownWrapper>\r\n                        </span>\r\n                      </>\r\n                    )}\r\n\r\n                  <span className={classes.timestamp}>\r\n                    {message.isEdited\r\n                      ? \"Editada \" +\r\n                        format(parseISO(message.createdAt), \"HH:mm\")\r\n                      : format(parseISO(message.createdAt), \"HH:mm\")}\r\n                  </span>\r\n                  {reactionList?.length > 0 && (\r\n                    <>\r\n                      <div className={classes.reactionAreaLeft}>\r\n                        {reactionList &&\r\n                          reactionList.length > 0 &&\r\n                          reactionList.map((item, index) => (\r\n                            <>\r\n                              <div key={index} style={{ display: \"flex\", justifyContent: \"center\", alignItems:\"cernter\", gap: 2, fontSize: \"4px\" }}>\r\n                                <span className={classes.reactionMsg}>\r\n                                  {item.body }\r\n                                </span>\r\n                              </div>                          \r\n                            </>\r\n                          ))}\r\n                        {message.reactionsMsg.length > 1 &&\r\n                          <span className={classes.reactionMsg}>\r\n                            { message.reactionsMsg.length } \r\n                          </span>\r\n                        } \r\n                      </div>\r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        } else {\r\n          return (\r\n            <React.Fragment key={message.id}>\r\n              {renderDailyTimestamps(message, index)}\r\n              {renderTicketsSeparator(message, index)}\r\n              {renderMessageDivider(message, index)}\r\n              <div\r\n                className={\r\n                  message.isPrivate\r\n                    ? classes.messageRightPrivate\r\n                    : classes.messageRight\r\n                }\r\n                title={message.queueId && message.queue?.name}\r\n                onDoubleClick={(e) => hanldeReplyMessage(e, message)}\r\n              >\r\n                {showSelectMessageCheckbox && (\r\n                  <SelectMessageCheckbox\r\n                    // showSelectMessageCheckbox={showSelectMessageCheckbox}\r\n                    message={message}\r\n                    // selectedMessagesList={selectedMessagesList}\r\n                    // setSelectedMessagesList={setSelectedMessagesList}\r\n                  />\r\n                )}\r\n\r\n                <IconButton\r\n                  variant=\"contained\"\r\n                  size=\"small\"\r\n                  id=\"messageActionsButton\"\r\n                  disabled={message.isDeleted}\r\n                  className={classes.messageActionsButton}\r\n                  onClick={(e) => handleOpenMessageOptionsMenu(e, message)}\r\n                >\r\n                  <ExpandMore />\r\n                </IconButton>\r\n                {message.isForwarded && (\r\n                  <div>\r\n                    <span className={classes.forwardMessage}>\r\n                      <Reply\r\n                        style={{ color: \"grey\", transform: \"scaleX(-1)\" }}\r\n                      />{\" \"}\r\n                      Encaminhada\r\n                    </span>\r\n                    <br />\r\n                  </div>\r\n                )}\r\n                {isYouTubeLink(message.body) && (\r\n                  <>\r\n                    <YouTubePreview videoUrl={message.body} />\r\n                  </>\r\n                )}\r\n                {!lgpdDeleteMessage && message.isDeleted && (\r\n                  <div>\r\n                    <span className={classes.deletedMessage}>\r\n                      🚫 Essa mensagem foi apagada &nbsp;\r\n                    </span>\r\n                  </div>\r\n                )}\r\n                {(message.mediaUrl ||\r\n                  message.mediaType === \"locationMessage\" ||\r\n                  message.mediaType === \"contactMessage\") &&\r\n                  //|| message.mediaType === \"multi_vcard\"\r\n                  checkMessageMedia(message)}\r\n                <div\r\n                  className={clsx(classes.textContentItem, {\r\n                    [classes.textContentItemDeleted]: message.isDeleted,\r\n                  })}\r\n                >\r\n                  {/* {message.isDeleted && (`🚫`)} */}\r\n\r\n                  {message.quotedMsg && renderQuotedMessage(message)}\r\n\r\n                  {((message.mediaType === \"image\" ||\r\n                    message.mediaType === \"video\") &&\r\n                    path.basename(message.mediaUrl) === message.body) ||\r\n                    (message.mediaType !== \"audio\" &&\r\n                      message.mediaType != \"reactionMessage\" &&\r\n                      message.mediaType != \"locationMessage\" &&\r\n                      message.mediaType !== \"contactMessage\" && (\r\n                        <>\r\n                          {xmlRegex.test(message.body) && (\r\n                            <div>{formatXml(message.body)}</div>\r\n                          )}\r\n                          {!xmlRegex.test(message.body) && (\r\n                            <MarkdownWrapper>{message.body}</MarkdownWrapper>\r\n                          )}\r\n                        </>\r\n                      ))}\r\n\r\n                  {message.quotedMsg &&\r\n                    message.mediaType === \"reactionMessage\" && (\r\n                      <>\r\n                        <span style={{ marginLeft: \"0px\" }}>\r\n                          <MarkdownWrapper>\r\n                            {\"Você reagiu... \" + message.body}\r\n                          </MarkdownWrapper>\r\n                        </span>\r\n                      </>\r\n                    )}\r\n\r\n                  <span className={classes.timestamp}>\r\n                    {message.isEdited\r\n                      ? \"Editada \" +\r\n                        format(parseISO(message.createdAt), \"HH:mm\")\r\n                      : format(parseISO(message.createdAt), \"HH:mm\")}\r\n                    {renderMessageAck(message)}\r\n                  </span>\r\n                  {reactionList.length > 0 && (\r\n                    <>\r\n                      <div className={classes.reactionAreaLeft}>\r\n                        {reactionList &&\r\n                          reactionList.length > 0 &&\r\n                          reactionList.map((item, index) => (\r\n                            <div key={index} style={{ display: \"flex\", gap: 2 }}>\r\n                              <span className={classes.reactionMsg}>\r\n                                {item.body}                              \r\n                              </span>\r\n                            </div>\r\n                          ))}\r\n                         {message.reactionsMsg.length > 1 &&\r\n                          <span className={classes.reactionMsg}>\r\n                            { message.reactionsMsg.length } \r\n                          </span>\r\n                         } \r\n                      </div>                      \r\n                    </>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            </React.Fragment>\r\n          );\r\n        }\r\n      });\r\n      return viewMessagesList;\r\n    } else {\r\n      return <div>Diga olá para seu novo contato!</div>;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.messagesListWrapper} onDragEnter={handleDrag}>\r\n      {dragActive && (\r\n        <div\r\n          className={classes.dragElement}\r\n          onDragEnter={handleDrag}\r\n          onDragLeave={handleDrag}\r\n          onDragOver={handleDrag}\r\n          onDrop={handleDrop}\r\n        >\r\n          Solte o arquivo aqui\r\n        </div>\r\n      )}\r\n\r\n      <MessageOptionsMenu\r\n        message={selectedMessage}\r\n        anchorEl={anchorEl}\r\n        menuOpen={messageOptionsMenuOpen}\r\n        handleClose={handleCloseMessageOptionsMenu}\r\n        isGroup={isGroup}\r\n        whatsappId={whatsappId}\r\n        queueId={queueId}\r\n      />\r\n      <div\r\n        id=\"messagesList\"\r\n        className={classes.messagesList}\r\n        onScroll={handleScroll}\r\n      >\r\n        {messagesList.length > 0 ? renderMessages() : []}\r\n      </div>\r\n\r\n      {channel !== \"whatsapp\" && channel !== undefined && (\r\n        <div\r\n          style={{\r\n            width: \"100%\",\r\n            display: \"flex\",\r\n            padding: \"10px\",\r\n            alignItems: \"center\",\r\n            backgroundColor: \"#E1F3FB\",\r\n          }}\r\n        >\r\n          {channel === \"facebook\" ? <Facebook /> : <Instagram />}\r\n\r\n          <span>\r\n            Você tem 24h para responder após receber uma mensagem, de acordo com\r\n            as políticas do Facebook.\r\n          </span>\r\n        </div>\r\n      )}\r\n      {loading && (\r\n        <div>\r\n          <CircularProgress className={classes.circleLoading} />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MessagesList;\r\n","import React, { useCallback, useContext, useEffect, useState } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport {\r\n  Box,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport MessagesList from \"../MessagesList\";\r\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport { ForwardMessageProvider } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\n\r\nimport TicketHeader from \"../TicketHeader\";\r\nimport TicketInfo from \"../TicketInfo\";\r\n\r\nimport html2pdf from \"html2pdf.js\";\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  mainWrapper: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    borderLeft: \"0\",\r\n    marginRight: -drawerWidth,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n\r\n  mainWrapperShift: {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: 0,\r\n  },\r\n}));\r\n\r\nexport default function TicketMessagesDialog({ open, handleClose, ticketId }) {\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [, setDrawerOpen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [contact, setContact] = useState({});\r\n  const [ticket, setTicket] = useState({});\r\n\r\n  const [exportedToPDF, setExportedToPDF] = useState(false);\r\n\r\n  \r\n  const handleExportToPDF = () => {\r\n    const messagesListElement = document.getElementById(\"messagesList\"); // Id do elemento que você deseja exportar para PDF\r\n    const headerElement = document.getElementById(\"TicketHeader\"); // Id do elemento de cabeçalho que você deseja exportar\r\n\r\n\r\n    const pdfOPtions = {\r\n      margin: 1,\r\n      filename: `relatório_atendimento_${ticketId}.pdf`,\r\n      image: { type: 'jpeg', quality: 0.98 },\r\n      html2canvas: { scale: 2 },\r\n      jsPDF: { unit: 'mm', format: 'a4', orientation: 'portrait' }\r\n    };\r\n\r\n    if (messagesListElement) {\r\n      const headerClone = headerElement.cloneNode(true);\r\n      const messagesListClone = messagesListElement.cloneNode(true);\r\n\r\n      const containerElement = document.createElement(\"div\");\r\n      containerElement.appendChild(headerClone); // Adicione o elemento do cabeçalho\r\n      containerElement.appendChild(messagesListClone);\r\n      html2pdf()\r\n        .from(containerElement)\r\n        .set(pdfOPtions)\r\n        .save();\r\n    } else {\r\n      toastError(\"Elemento não encontrado para exportar.\");\r\n    }\r\n  };\r\n\r\n  const handleExportAndClose = () => {\r\n    if (!exportedToPDF) {\r\n      handleExportToPDF();\r\n      setExportedToPDF(true);\r\n      handleClose(); // Fecha o Dialog\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (open) {\r\n      // Execute a exportação para PDF e feche o Dialog\r\n      handleExportAndClose();\r\n    }\r\n  }, [open, ticketId, handleExportAndClose]);\r\n\r\n\r\n  return (\r\n    <Dialog maxWidth=\"md\" onClose={handleClose} open={open}>\r\n      <DialogActions>\r\n        <Button onClick={handleExportToPDF} color=\"primary\">\r\n          Exportar para PDF\r\n        </Button>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          Fechar\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { Can } from \"../Can\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { IconButton, Menu } from \"@material-ui/core\";\r\nimport { DeviceHubOutlined, History, MoreVert, PictureAsPdf, Replay, SwapHorizOutlined, Phone } from \"@material-ui/icons\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\n// import TicketOptionsMenu from \"../TicketOptionsMenu\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\nimport Tooltip from '@material-ui/core/Tooltip';\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form } from \"formik\";\r\nimport Dialog from '@material-ui/core/Dialog';\r\nimport DialogActions from '@material-ui/core/DialogActions';\r\n\r\nimport Button from '@material-ui/core/Button';\r\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\r\nimport AcceptTicketWithouSelectQueue from \"../AcceptTicketWithoutQueueModal\";\r\n\r\n//icones\r\nimport HighlightOffIcon from \"@material-ui/icons/HighlightOff\";\r\nimport UndoIcon from '@material-ui/icons/Undo';\r\n\r\nimport ScheduleModal from \"../ScheduleModal\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport { Switch } from \"@material-ui/core\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\nimport { toast } from \"react-toastify\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport ShowTicketLogModal from \"../ShowTicketLogModal\";\r\nimport TicketMessagesDialog from \"../TicketMessagesDialog\";\r\nimport { useTheme } from \"@material-ui/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    actionButtons: {\r\n        marginRight: 6,\r\n        maxWidth: \"100%\",\r\n        flex: \"none\",\r\n        alignSelf: \"center\",\r\n        marginLeft: \"auto\",\r\n        // flexBasis: \"50%\",\r\n        display: \"flex\",\r\n        \"& > *\": {\r\n            margin: theme.spacing(1),\r\n        },\r\n    },\r\n    bottomButtonVisibilityIcon: {\r\n        padding: 1,\r\n        color: theme.mode === \"light\" ? '#0872b9' : '#FFF',\r\n    },\r\n    botoes: {\r\n        display: \"flex\",\r\n        padding: \"15px\",\r\n        justifyContent: \"flex-end\",\r\n        maxWidth: \"100%\",\r\n        // alignItems: \"center\"\r\n\r\n    }\r\n}));\r\n\r\nconst SessionSchema = Yup.object().shape({\r\n    ratingId: Yup.string().required(\"Avaliação obrigatória\"),\r\n});\r\n\r\nconst TicketActionButtonsCustom = ({ ticket\r\n    // , showSelectMessageCheckbox,\r\n    // selectedMessages,\r\n    // forwardMessageModalOpen,\r\n    // setForwardMessageModalOpen\r\n}) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const history = useHistory();\r\n    const [isMounted, setIsMounted] = useState(true);\r\n    const [loading, setLoading] = useState(false);\r\n    const { user } = useContext(AuthContext);\r\n    const { setCurrentTicket, setTabOpen } = useContext(TicketsContext);\r\n    const [open, setOpen] = React.useState(false);\r\n    const formRef = React.useRef(null);\r\n    const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n    const [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\r\n    const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\r\n    const [contactId, setContactId] = useState(null);\r\n    const [acceptTicketWithouSelectQueueOpen, setAcceptTicketWithouSelectQueueOpen] = useState(false);\r\n    const [showTicketLogOpen, setShowTicketLogOpen] = useState(false);\r\n    const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\r\n    const [disableBot, setDisableBot] = useState(ticket.contact.disableBot);\r\n\r\n    const [showSchedules, setShowSchedules] = useState(false);\r\n    const [enableIntegration, setEnableIntegration] = useState(ticket.useIntegration);\r\n\r\n    const [openAlert, setOpenAlert] = useState(false);\r\n    const [userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n    const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n    const [logTicket, setLogTicket] = useState([]);\r\n\r\n    const { get: getSetting } = useCompanySettings()\r\n    const { getPlanCompany } = usePlans();\r\n\r\n\r\n    const [anchorEl, setAnchorEl] = useState(null);\r\n    const [menuOpen, setMenuOpen] = useState(false);\r\n\r\n    useEffect(() => {\r\n        fetchData();\r\n\r\n        // Cleanup function to set isMounted to false when the component unmounts\r\n        return () => {\r\n            setIsMounted(false);\r\n        };\r\n    }, []);\r\n\r\n\r\n    const fetchData = async () => {\r\n        const companyId = user.companyId;\r\n        const planConfigs = await getPlanCompany(undefined, companyId);\r\n        setShowSchedules(planConfigs.plan.useSchedules);\r\n        setOpenTicketMessageDialog(false);\r\n        setDisableBot(ticket.contact.disableBot)\r\n\r\n        setShowTicketLogOpen(false)\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }\r\n\r\n    const handleClickOpen = async (e) => {\r\n        const setting = await getSetting({\r\n            \"column\": \"requiredTag\"\r\n        });\r\n\r\n        if (setting?.requiredTag === \"enabled\") {\r\n            //verificar se tem uma tag   \r\n            try {\r\n                const contactTags = await api.get(`/contactTags/${ticket.contact.id}`);\r\n                if (!contactTags.data.tags) {\r\n                    toast.warning(i18n.t(\"messagesList.header.buttons.requiredTag\"))\r\n                } else {\r\n                    setOpen(true);\r\n                    // handleUpdateTicketStatus(e, \"closed\", user?.id);\r\n                }\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n        } else {\r\n\r\n            setOpen(true);\r\n            // handleUpdateTicketStatus(e, \"closed\", user?.id);\r\n        }\r\n    };\r\n\r\n    const handleClose = () => {\r\n        formRef.current.resetForm();\r\n        setOpen(false);\r\n    };\r\n\r\n    const handleCloseAlert = () => {\r\n        setOpenAlert(false);\r\n        setLoading(false);\r\n    };\r\n    const handleOpenAcceptTicketWithouSelectQueue = async () => {\r\n\r\n        setAcceptTicketWithouSelectQueueOpen(true);\r\n\r\n    };\r\n\r\n    const handleMenu = event => {\r\n        setAnchorEl(event.currentTarget);\r\n        setMenuOpen(true);\r\n    };\r\n\r\n    const handleCloseMenu = () => {\r\n        setAnchorEl(null);\r\n        setMenuOpen(false);\r\n    };\r\n\r\n    const handleOpenTransferModal = (e) => {\r\n        setTransferTicketModalOpen(true);\r\n        if (typeof handleClose == \"function\") handleClose();\r\n    };\r\n\r\n    const handleOpenConfirmationModal = (e) => {\r\n        setConfirmationOpen(true);\r\n        if (typeof handleClose == \"function\") handleClose();\r\n    };\r\n\r\n\r\n    const handleCloseTicketWithoutFarewellMsg = async () => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: \"closed\",\r\n                userId: user?.id || null,\r\n                sendFarewellMessage: false,\r\n                amountUsedBotQueues: 0\r\n            });\r\n\r\n            setLoading(false);\r\n            history.push(\"/tickets\");\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleExportPDF = async () => {\r\n        setOpenTicketMessageDialog(true);\r\n        handleCloseMenu();\r\n    }\r\n\r\n    const handleEnableIntegration = async () => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                useIntegration: !enableIntegration\r\n            });\r\n            setEnableIntegration(!enableIntegration)\r\n\r\n            setLoading(false);\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleShowLogTicket = async () => {\r\n        setShowTicketLogOpen(true);\r\n    };\r\n\r\n    const handleContactToggleDisableBot = async () => {\r\n\r\n        const { id } = ticket.contact;\r\n\r\n\r\n        try {\r\n            const { data } = await api.put(`/contacts/toggleDisableBot/${id}`);\r\n            ticket.contact.disableBot = data.disableBot;\r\n            setDisableBot(data.disableBot)\r\n\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleCloseTransferTicketModal = () => {\r\n        setTransferTicketModalOpen(false);\r\n    };\r\n\r\n    const handleDeleteTicket = async () => {\r\n        try {\r\n            await api.delete(`/tickets/${ticket.id}`);\r\n            history.push(\"/tickets\")\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleSendMessage = async (id) => {\r\n        let setting;\r\n\r\n        try {\r\n            setting = await getSetting({\r\n                \"column\": \"greetingAcceptedMessage\"\r\n            })\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        const msg = `${setting.greetingAcceptedMessage}`; //`{{ms}} *{{name}}*, ${i18n.t(\"mainDrawer.appBar.user.myName\")} *${user?.name}* ${i18n.t(\"mainDrawer.appBar.user.continuity\")}.`;\r\n        const message = {\r\n            read: 1,\r\n            fromMe: true,\r\n            mediaUrl: \"\",\r\n            body: `${msg.trim()}`,\r\n        };\r\n        try {\r\n            await api.post(`/messages/${id}`, message);\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n\r\n    const handleUpdateTicketStatus = async (e, status, userId) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${ticket.id}`, {\r\n                status: status,\r\n                userId: userId || null,\r\n            });\r\n\r\n            let setting;\r\n\r\n            try {\r\n                setting = await getSetting({\r\n                    \"column\": \"sendGreetingAccepted\"\r\n                })\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n\r\n            if (setting?.sendGreetingAccepted === \"enabled\" && (!ticket.isGroup || ticket.whatsapp?.groupAsTicket === \"enabled\") && ticket.status === \"pending\") {\r\n                handleSendMessage(ticket.id);\r\n            }\r\n\r\n\r\n            // if (isMounted.current) {\r\n            setLoading(false);\r\n            // }\r\n            if (status === \"open\" || status === \"group\") {\r\n                setCurrentTicket({ ...ticket, code: \"#\" + status });\r\n                // handleSelectTicket(ticket);\r\n                setTimeout(() => {\r\n                    history.push('/tickets');\r\n                }, 0);\r\n\r\n                setTimeout(() => {\r\n                    history.push(`/tickets/${ticket.uuid}`);\r\n                    setTabOpen(status)\r\n                }, 10);\r\n\r\n\r\n            } else {\r\n                setCurrentTicket({ id: null, code: null })\r\n                history.push(\"/tickets\");\r\n\r\n            }\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleAcepptTicket = async (id) => {\r\n        setLoading(true);\r\n        try {\r\n            const otherTicket = await api.put(`/tickets/${id}`, {\r\n                status: ticket.isGroup ? \"group\" : \"open\",\r\n                userId: user?.id,\r\n            });\r\n            if (otherTicket.data.id !== ticket.id) {\r\n                if (otherTicket.data.userId !== user?.id) {\r\n                    setOpenAlert(true)\r\n                    setUserTicketOpen(otherTicket.data.user.name)\r\n                    setQueueTicketOpen(otherTicket.data.queue.name)\r\n                    setTabOpen(otherTicket.isGroup ? \"group\" : \"open\")\r\n                } else {\r\n                    setLoading(false);\r\n                    // handleSelectTicket(otherTicket.data);\r\n                    setTabOpen(otherTicket.isGroup ? \"group\" : \"open\")\r\n\r\n                    history.push(`/tickets/${otherTicket.data.uuid}`);\r\n                }\r\n            } else {\r\n                // if (isMounted.current) {\r\n                setLoading(false);\r\n                // }\r\n\r\n                // handleSelectTicket(ticket);\r\n                history.push('/tickets');\r\n                setTimeout(() => {\r\n                    history.push(`/tickets/${ticket.uuid}`);\r\n                    setTabOpen(ticket.isGroup ? \"group\" : \"open\")\r\n                }, 1000)\r\n            }\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n    const handleOpenWavoipCall = () => {\r\n        if (!ticket?.whatsapp?.wavoip || !ticket?.contact?.number) {\r\n            toastError(\"Erro: Token ou número de telefone não disponível.\");\r\n            return;\r\n        }\r\n\r\n        const token = ticket.whatsapp.wavoip;\r\n        const phone = ticket.contact.number.replace(/\\D/g, \"\");\r\n        const name = ticket.contact.name;\r\n        const url = `https://app.wavoip.com/call?token=${token}&phone=${phone}&name=${name}&start_if_ready=true&close_after_call=true`;\r\n\r\n        window.open(url, \"wavoip\", \"toolbar=no,scrollbars=no,resizable=no,top=500,left=500,width=500,height=700\");\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {openAlert && (\r\n                <ShowTicketOpen\r\n                    isOpen={openAlert}\r\n                    handleClose={handleCloseAlert}\r\n                    user={userTicketOpen}\r\n                    queue={queueTicketOpen}\r\n                />\r\n            )}\r\n            {acceptTicketWithouSelectQueueOpen && (\r\n                <AcceptTicketWithouSelectQueue\r\n                    modalOpen={acceptTicketWithouSelectQueueOpen}\r\n                    onClose={(e) => setAcceptTicketWithouSelectQueueOpen(false)}\r\n                    ticketId={ticket.id}\r\n                    ticket={ticket}\r\n                />\r\n            )}\r\n            {showTicketLogOpen && (\r\n                <ShowTicketLogModal\r\n                    isOpen={showTicketLogOpen}\r\n                    handleClose={(e) => setShowTicketLogOpen(false)}\r\n                    ticketId={ticket.id}\r\n                />\r\n            )}\r\n            {openTicketMessageDialog && (\r\n                <TicketMessagesDialog\r\n                    open={openTicketMessageDialog}\r\n                    handleClose={() => setOpenTicketMessageDialog(false)}\r\n                    ticketId={ticket.id}\r\n                />\r\n            )}\r\n            <div className={classes.actionButtons}>\r\n\r\n                <IconButton color=\"secondary\" onClick={handleOpenWavoipCall}>\r\n                    <Phone />\r\n                </IconButton>\r\n\r\n                {ticket.status === \"closed\" && (ticket.queueId === null || ticket.queueId === undefined) && (\r\n                    <ButtonWithSpinner\r\n                        loading={loading}\r\n                        startIcon={<Replay />}\r\n                        size=\"small\"\r\n                        onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\r\n                    >\r\n                        {i18n.t(\"messagesList.header.buttons.reopen\")}\r\n                    </ButtonWithSpinner>\r\n                )}\r\n                {(ticket.status === \"closed\" && ticket.queueId !== null) && (\r\n                    <ButtonWithSpinner\r\n                        startIcon={<Replay />}\r\n                        loading={loading}\r\n                        onClick={e => handleAcepptTicket(ticket.id)}\r\n                    >\r\n                        {i18n.t(\"messagesList.header.buttons.reopen\")}\r\n                    </ButtonWithSpinner>\r\n                )}\r\n                {/* <IconButton\r\n                    className={classes.bottomButtonVisibilityIcon}\r\n                    onClick={handleShowLogTicket}\r\n                >\r\n                    <Tooltip title={i18n.t(\"messagesList.header.buttons.logTicket\")}>\r\n                        <History />\r\n\r\n                    </Tooltip>\r\n                </IconButton> */}\r\n                {(ticket.status === \"open\" || ticket.status === \"group\") && (\r\n                    <>\r\n                        {/* {!showSelectMessageCheckbox ? ( */}\r\n                        <>\r\n                            {/* <IconButton\r\n                                className={classes.bottomButtonVisibilityIcon}\r\n                                onClick={handleEnableIntegration}\r\n                            >\r\n                                <Tooltip title={i18n.t(\"messagesList.header.buttons.enableIntegration\")}>\r\n                                    {enableIntegration === true ? <DeviceHubOutlined style={{ color: \"green\" }} /> : <DeviceHubOutlined />}\r\n\r\n                                </Tooltip>\r\n                            </IconButton> */}\r\n\r\n                            <IconButton className={classes.bottomButtonVisibilityIcon}>\r\n                                <Tooltip title={i18n.t(\"messagesList.header.buttons.resolve\")}>\r\n                                    <HighlightOffIcon\r\n                                        // color=\"primary\"\r\n                                        onClick={handleClickOpen}\r\n                                    />\r\n                                </Tooltip>\r\n                            </IconButton>\r\n\r\n                            <IconButton className={classes.bottomButtonVisibilityIcon}>\r\n                                <Tooltip title={i18n.t(\"tickets.buttons.returnQueue\")}>\r\n                                    <UndoIcon\r\n                                        // color=\"primary\"\r\n                                        onClick={(e) => handleUpdateTicketStatus(e, \"pending\", null)}\r\n                                    />\r\n                                </Tooltip>\r\n                            </IconButton>\r\n\r\n                            <IconButton className={classes.bottomButtonVisibilityIcon}>\r\n                                <Tooltip title=\"Transferir Ticket\">\r\n                                    <SwapHorizOutlined\r\n                                        // color=\"primary\"\r\n                                        onClick={handleOpenTransferModal}\r\n                                    />\r\n                                </Tooltip>\r\n                            </IconButton>\r\n                        </>\r\n\r\n                        {/* {showSchedules && (\r\n                            <>\r\n                                <IconButton className={classes.bottomButtonVisibilityIcon}>\r\n                                    <Tooltip title={i18n.t(\"tickets.buttons.scredule\")}>\r\n                                        <EventIcon\r\n                                            // color=\"primary\"\r\n                                            onClick={handleOpenScheduleModal}\r\n                                        />\r\n                                    </Tooltip>\r\n                                </IconButton>\r\n                            </>\r\n                        )} */}\r\n\r\n                        <MenuItem className={classes.bottomButtonVisibilityIcon}>\r\n                            <Tooltip title={i18n.t(\"contactModal.form.chatBotContact\")}>\r\n                                <Switch\r\n                                    size=\"small\"\r\n                                    // color=\"primary\"\r\n                                    checked={disableBot}\r\n                                    onChange={() => handleContactToggleDisableBot()}\r\n                                />\r\n                            </Tooltip>\r\n                        </MenuItem>\r\n\r\n\r\n\r\n                        {confirmationOpen && (\r\n                            <ConfirmationModal\r\n                                title={`${i18n.t(\"ticketOptionsMenu.confirmationModal.title\")} #${ticket.id}?`}\r\n                                open={confirmationOpen}\r\n                                onClose={setConfirmationOpen}\r\n                                onConfirm={handleDeleteTicket}\r\n                            >\r\n                                {i18n.t(\"ticketOptionsMenu.confirmationModal.message\")}\r\n                            </ConfirmationModal>\r\n                        )}\r\n                        {transferTicketModalOpen && (\r\n                            <TransferTicketModalCustom\r\n                                modalOpen={transferTicketModalOpen}\r\n                                onClose={handleCloseTransferTicketModal}\r\n                                ticketid={ticket.id}\r\n                                ticket={ticket}\r\n                            />\r\n                        )}\r\n                        {/* {scheduleModalOpen && (\r\n                            <ScheduleModal\r\n                                open={scheduleModalOpen}\r\n                                onClose={handleCloseScheduleModal}\r\n                                aria-labelledby=\"form-dialog-title\"\r\n                                contactId={contactId}\r\n                            />\r\n                        )} */}\r\n\r\n                    </>\r\n                )}\r\n                {ticket.status === \"pending\" && (ticket.queueId === null || ticket.queueId === undefined) && (\r\n                    <ButtonWithSpinner\r\n                        loading={loading}\r\n                        size=\"small\"\r\n                        variant=\"contained\"\r\n                        onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\r\n                    >\r\n                        {i18n.t(\"messagesList.header.buttons.accept\")}\r\n                    </ButtonWithSpinner>\r\n                )}\r\n                {ticket.status === \"pending\" && ticket.queueId !== null && (\r\n                    <ButtonWithSpinner\r\n                        loading={loading}\r\n                        size=\"small\"\r\n                        variant=\"contained\"\r\n                        // color=\"primary\"\r\n                        onClick={e => handleUpdateTicketStatus(e, \"open\", user?.id)}\r\n                    >\r\n                        {i18n.t(\"messagesList.header.buttons.accept\")}\r\n                    </ButtonWithSpinner>\r\n                )}\r\n                <IconButton\r\n                    aria-label=\"account of current user\"\r\n                    aria-controls=\"menu-appbar\"\r\n                    aria-haspopup=\"true\"\r\n                    onClick={handleMenu}\r\n                    color=\"inherit\"\r\n                    style={{ paddingHorizontal: 3, paddingTop: 10 }}\r\n                >\r\n                    <MoreVert style={{ fontSize: 16, padding: 0 }} />\r\n                </IconButton>\r\n                <Menu\r\n                    id=\"menu-appbar\"\r\n                    anchorEl={anchorEl}\r\n                    getContentAnchorEl={null}\r\n                    anchorOrigin={{\r\n                        vertical: \"bottom\",\r\n                        horizontal: \"right\",\r\n                    }}\r\n                    keepMounted\r\n                    transformOrigin={{\r\n                        vertical: \"top\",\r\n                        horizontal: \"right\",\r\n                    }}\r\n                    open={menuOpen}\r\n                    onClose={handleCloseMenu}\r\n                >\r\n                    <MenuItem onClick={handleOpenConfirmationModal}>\r\n                        <Can\r\n                            role={user.profile}\r\n                            perform=\"ticket-options:deleteTicket\"\r\n                            yes={() => (\r\n                                i18n.t(\"tickets.buttons.deleteTicket\")\r\n                            )}\r\n                        />\r\n                    </MenuItem>\r\n                    <MenuItem onClick={handleEnableIntegration}>\r\n                        {enableIntegration === true ? i18n.t(\"messagesList.header.buttons.disableIntegration\") : i18n.t(\"messagesList.header.buttons.enableIntegration\")}\r\n                    </MenuItem>\r\n                    <MenuItem onClick={handleShowLogTicket}>\r\n                        {i18n.t(\"messagesList.header.buttons.logTicket\")}\r\n                    </MenuItem>\r\n                    <MenuItem onClick={handleExportPDF}>\r\n                        {i18n.t(\"ticketsList.buttons.exportAsPDF\")}\r\n                    </MenuItem>\r\n                </Menu>\r\n            </div>\r\n            <>\r\n                <Formik\r\n                    enableReinitialize={true}\r\n                    validationSchema={SessionSchema}\r\n                    innerRef={formRef}\r\n                    onSubmit={(values, actions) => {\r\n                        setTimeout(() => {\r\n                            actions.setSubmitting(false);\r\n                            actions.resetForm();\r\n                        }, 400);\r\n                    }}\r\n                >\r\n                    {({ values, touched, errors, isSubmitting, setFieldValue, resetForm }) => (\r\n                        <Dialog\r\n                            open={open}\r\n                            onClose={handleClose}\r\n                            aria-labelledby=\"alert-dialog-title\"\r\n                            aria-describedby=\"alert-dialog-description\"\r\n                        >\r\n                            <Form>\r\n                                <DialogActions className={classes.botoes}>\r\n                                    <Button\r\n                                        onClick={e => handleCloseTicketWithoutFarewellMsg()}\r\n                                        style={{ background: theme.palette.primary.main, color: \"white\" }}\r\n                                    >\r\n                                        {i18n.t(\"messagesList.header.dialogRatingWithoutFarewellMsg\")}\r\n                                    </Button>\r\n\r\n                                    <Button\r\n                                        onClick={e => handleUpdateTicketStatus(e, \"closed\", user?.id, ticket?.queue?.id)}\r\n                                        style={{ background: theme.palette.primary.main, color: \"white\" }}\r\n                                    >\r\n                                        {i18n.t(\"messagesList.header.dialogRatingCancel\")}\r\n                                    </Button>\r\n                                </DialogActions>\r\n                            </Form>\r\n                        </Dialog>\r\n                    )}\r\n                </Formik>\r\n            </>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default TicketActionButtonsCustom;\r\n","import React, { useState, useEffect, useContext, useRef, useCallback } from \"react\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport clsx from \"clsx\";\r\n\r\nimport { makeStyles, Paper } from \"@material-ui/core\";\r\n\r\nimport ContactDrawer from \"../ContactDrawer\";\r\nimport MessageInput from \"../MessageInput\";\r\nimport TicketHeader from \"../TicketHeader\";\r\nimport TicketInfo from \"../TicketInfo\";\r\nimport TicketActionButtons from \"../TicketActionButtonsCustom\";\r\nimport MessagesList from \"../MessagesList\";\r\nimport api from \"../../services/api\";\r\nimport { ReplyMessageProvider } from \"../../context/ReplyingMessage/ReplyingMessageContext\";\r\nimport { ForwardMessageProvider } from \"../../context/ForwarMessage/ForwardMessageContext\";\r\n\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { TagsContainer } from \"../TagsContainer\";\r\nimport { isNil } from 'lodash';\r\nimport { EditMessageProvider } from \"../../context/EditingMessage/EditingMessageContext\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nconst drawerWidth = 320;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    position: \"relative\",\r\n    overflow: \"hidden\",\r\n  },\r\n\r\n  mainWrapper: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopLeftRadius: 0,\r\n    borderBottomLeftRadius: 0,\r\n    borderLeft: \"0\",\r\n    marginRight: -drawerWidth,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.sharp,\r\n      duration: theme.transitions.duration.leavingScreen,\r\n    }),\r\n  },\r\n\r\n  mainWrapperShift: {\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n    transition: theme.transitions.create(\"margin\", {\r\n      easing: theme.transitions.easing.easeOut,\r\n      duration: theme.transitions.duration.enteringScreen,\r\n    }),\r\n    marginRight: 0,\r\n  },\r\n}));\r\n\r\nconst Ticket = () => {\r\n  const { ticketId } = useParams();\r\n  const history = useHistory();\r\n  const classes = useStyles();\r\n\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { setTabOpen } = useContext(TicketsContext);\r\n\r\n\r\n  const [drawerOpen, setDrawerOpen] = useState(false);\r\n  const [loading, setLoading] = useState(true);\r\n  const [contact, setContact] = useState({});\r\n  const [ticket, setTicket] = useState({});\r\n  const [dragDropFiles, setDragDropFiles] = useState([]);\r\n  const { companyId } = user;\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchTicket = async () => {\r\n        try {\r\n\r\n          if (!isNil(ticketId) && ticketId !== \"undefined\") {\r\n\r\n            const { data } = await api.get(\"/tickets/u/\" + ticketId);\r\n\r\n            setContact(data.contact);\r\n            // setWhatsapp(data.whatsapp);\r\n            // setQueueId(data.queueId);\r\n            setTicket(data);\r\n            if ([\"pending\", \"open\", \"group\"].includes(data.status)) {\r\n              setTabOpen(data.status);\r\n            }\r\n            setLoading(false);\r\n          }\r\n        } catch (err) {\r\n          history.push(\"/tickets\");   // correção para evitar tela branca uuid não encontrado Feito por Altemir 16/08/2023\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchTicket();\r\n    }, 500);\r\n\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [ticketId, user, history]);\r\n\r\n  useEffect(() => {\r\n    if (!ticket && !ticket.id && ticket.uuid !== ticketId && ticketId === \"undefined\") {\r\n      return;\r\n    }\r\n\r\n    if (user.companyId) {\r\n      //    const socket = socketManager.GetSocket();\r\n\r\n      const onConnectTicket = () => {\r\n        socket.emit(\"joinChatBox\", `${ticket.id}`);\r\n      }\r\n\r\n      const onCompanyTicket = (data) => {\r\n        if (data.action === \"update\" && data.ticket.id === ticket?.id) {\r\n          setTicket(data.ticket);\r\n        }\r\n\r\n        if (data.action === \"delete\" && data.ticketId === ticket?.id) {\r\n          history.push(\"/tickets\");\r\n        }\r\n      };\r\n\r\n      const onCompanyContactTicket = (data) => {\r\n        if (data.action === \"update\") {\r\n          // if (isMounted) {\r\n          setContact((prevState) => {\r\n            if (prevState.id === data.contact?.id) {\r\n              return { ...prevState, ...data.contact };\r\n            }\r\n            return prevState;\r\n          });\r\n          // }\r\n        }\r\n      };\r\n\r\n      socket.on(\"connect\", onConnectTicket)\r\n      socket.on(`company-${companyId}-ticket`, onCompanyTicket);\r\n      socket.on(`company-${companyId}-contact`, onCompanyContactTicket);\r\n\r\n      return () => {\r\n\r\n        socket.emit(\"joinChatBoxLeave\", `${ticket.id}`);\r\n        socket.off(\"connect\", onConnectTicket);\r\n        socket.off(`company-${companyId}-ticket`, onCompanyTicket);\r\n        socket.off(`company-${companyId}-contact`, onCompanyContactTicket);\r\n      };\r\n    }\r\n  }, [ticketId, ticket, history]);\r\n\r\n  const handleDrawerOpen = useCallback(() => {\r\n    setDrawerOpen(true);\r\n  }, []);\r\n\r\n  const handleDrawerClose = useCallback(() => {\r\n    setDrawerOpen(false);\r\n  }, []);\r\n\r\n  const renderMessagesList = () => {\r\n    return (\r\n      <>\r\n        <MessagesList\r\n          isGroup={ticket.isGroup}\r\n          onDrop={setDragDropFiles}\r\n          whatsappId={ticket.whatsappId}\r\n          queueId={ticket.queueId}\r\n          channel={ticket.channel}\r\n        >\r\n        </MessagesList>\r\n        <MessageInput\r\n          ticketId={ticket.id}\r\n          ticketStatus={ticket.status}\r\n          ticketChannel={ticket.channel}\r\n          droppedFiles={dragDropFiles}\r\n          contactId={contact.id}\r\n        />\r\n      </>\r\n    );\r\n  };\r\n\r\n\r\n  return (\r\n    <div className={classes.root} id=\"drawer-container\">\r\n      <Paper\r\n        variant=\"outlined\"\r\n        elevation={0}\r\n        className={clsx(classes.mainWrapper, {\r\n          [classes.mainWrapperShift]: drawerOpen,\r\n        })}\r\n      >\r\n        {/* <div id=\"TicketHeader\"> */}\r\n        <TicketHeader loading={loading}>\r\n          {ticket.contact !== undefined && (\r\n            <div id=\"TicketHeader\">\r\n              <TicketInfo\r\n                contact={contact}\r\n                ticket={ticket}\r\n                onClick={handleDrawerOpen}\r\n              />\r\n            </div>\r\n          )}\r\n          <TicketActionButtons\r\n            ticket={ticket}\r\n          />\r\n        </TicketHeader>\r\n        {/* </div> */}\r\n        <Paper>\r\n          <TagsContainer contact={contact} />\r\n        </Paper>\r\n        <ReplyMessageProvider>\r\n          <ForwardMessageProvider>\r\n            <EditMessageProvider>\r\n              {renderMessagesList()}\r\n            </EditMessageProvider>\r\n          </ForwardMessageProvider>\r\n        </ReplyMessageProvider>\r\n      </Paper>\r\n\r\n      <ContactDrawer\r\n        open={drawerOpen}\r\n        handleDrawerClose={handleDrawerClose}\r\n        contact={contact}\r\n        loading={loading}\r\n        ticket={ticket}\r\n      />\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Ticket;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ContactModal from \"../ContactModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Grid, ListItemText, MenuItem, Select } from \"@material-ui/core\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  online: {\r\n    fontSize: 11,\r\n    color: \"#25d366\"\r\n  },\r\n  offline: {\r\n    fontSize: 11,\r\n    color: \"#e1306c\"\r\n  }\r\n}));\r\n\r\nconst filter = createFilterOptions({\r\n  trim: true,\r\n});\r\n\r\nconst NewTicketModal = ({ modalOpen, onClose, initialContact }) => {\r\n  const classes = useStyles();\r\n  const [options, setOptions] = useState([]);\r\n  const [channelFilter, setChannelFilter] = useState(null);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedContact, setSelectedContact] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\");\r\n  const [newContact, setNewContact] = useState({});\r\n  const [whatsapps, setWhatsapps] = useState([]);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n  const { companyId, whatsappId } = user;\r\n\r\n  const [openAlert, setOpenAlert] = useState(false);\r\n  const [userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n  const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    if (initialContact?.id !== undefined) {\r\n      setOptions([initialContact]);\r\n      setSelectedContact(initialContact);\r\n    }\r\n  }, [initialContact]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        api\r\n          // .get(`/whatsapp/filter`, { params: { companyId, session: 0, channel: channelFilter } })\r\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\r\n          .then(({ data }) => setWhatsapps(data));\r\n\r\n          // .then(({ data }) => {\r\n          //   const mappedWhatsapps = data.map((whatsapp) => ({\r\n          //     ...whatsapp,\r\n          //     selected: false,\r\n          //   }));\r\n          //   setWhatsapps(mappedWhatsapps);\r\n          //   if (channelFilter && mappedWhatsapps.length && mappedWhatsapps?.length === 1 && (user.whatsappId === null || user?.whatsapp?.channel !== channelFilter)) {\r\n          //     setSelectedWhatsapp(mappedWhatsapps[0].id)\r\n          //   }\r\n          // });\r\n      };\r\n\r\n      if (whatsappId !== null && whatsappId !== undefined) {\r\n        setSelectedWhatsapp(whatsappId)\r\n      }\r\n\r\n      if (user.queues.length === 1) {\r\n        setSelectedQueue(user.queues[0].id)\r\n      }\r\n      fetchContacts();\r\n      setLoading(false);\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [selectedContact, channelFilter])\r\n\r\n  useEffect(() => {\r\n    if (!modalOpen || searchParam.length < 3) {\r\n      setLoading(false);\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"contacts\", {\r\n            params: { searchParam },\r\n          });\r\n          setOptions(data.contacts);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, modalOpen]);\r\n\r\n  const IconChannel = (channel) => {\r\n    switch (channel) {\r\n      case \"facebook\":\r\n        return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\r\n      case \"instagram\":\r\n        return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\r\n      case \"whatsapp\":\r\n        return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\r\n      default:\r\n        return \"error\";\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setSearchParam(\"\");\r\n    setOpenAlert(false);\r\n    setUserTicketOpen(\"\");\r\n    setQueueTicketOpen(\"\");\r\n    setSelectedContact(null);\r\n  };\r\n\r\n  const handleCloseAlert = () => {\r\n    setOpenAlert(false);\r\n    setLoading(false);\r\n    setOpenAlert(false);\r\n    setUserTicketOpen(\"\");\r\n    setQueueTicketOpen(\"\");\r\n  };\r\n\r\n  const handleSaveTicket = async contactId => {\r\n    if (!contactId) return;\r\n    // if (selectedQueue === \"\" && user.profile !== 'admin') {\r\n    if (selectedQueue === \"\") {\r\n      toast.error(\"Selecione uma fila\");\r\n      return;\r\n    }\r\n\r\n    setLoading(true);\r\n    try {\r\n      const queueId = selectedQueue !== \"\" ? selectedQueue : null;\r\n      const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null;\r\n      const { data: ticket } = await api.post(\"/tickets\", {\r\n        contactId: contactId,\r\n        queueId,\r\n        whatsappId,\r\n        userId: user.id,\r\n        status: \"open\",\r\n      });\r\n\r\n      onClose(ticket);\r\n    } catch (err) {\r\n\r\n      const ticket = JSON.parse(err.response.data.error);\r\n\r\n      if (ticket.userId !== user?.id) {\r\n        setOpenAlert(true);\r\n        setUserTicketOpen(ticket?.user?.name);\r\n        setQueueTicketOpen(ticket?.queue?.name);\r\n      } else {\r\n        setOpenAlert(false);\r\n        setUserTicketOpen(\"\");\r\n        setQueueTicketOpen(\"\");\r\n        setLoading(false);\r\n        onClose(ticket);\r\n      }\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSelectOption = (e, newValue) => {\r\n    if (newValue?.number) {\r\n      setSelectedContact(newValue);\r\n    } else if (newValue?.name) {\r\n      setNewContact({ name: newValue.name });\r\n      setContactModalOpen(true);\r\n    }\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const handleAddNewContactTicket = contact => {\r\n    setSelectedContact(contact);\r\n  };\r\n\r\n  const createAddContactOption = (filterOptions, params) => {\r\n    const filtered = filter(filterOptions, params);\r\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\r\n      filtered.push({\r\n        name: `${params.inputValue}`,\r\n      });\r\n    }\r\n    return filtered;\r\n  };\r\n\r\n  const renderOption = option => {\r\n    if (option.number) {\r\n      return <>\r\n        {IconChannel(option.channel)}\r\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n          {option.name} - {option.number}\r\n        </Typography>\r\n      </>\r\n    } else {\r\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\r\n    }\r\n  };\r\n\r\n  const renderOptionLabel = option => {\r\n    if (option.number) {\r\n      return `${option.name} - ${option.number}`;\r\n    } else {\r\n      return `${option.name}`;\r\n    }\r\n  };\r\n\r\n  const renderContactAutocomplete = () => {\r\n    if (initialContact === undefined || initialContact.id === undefined) {\r\n      return (\r\n        <Grid xs={12} item>\r\n          <Autocomplete\r\n            fullWidth\r\n            options={options}\r\n            loading={loading}\r\n            clearOnBlur\r\n            autoHighlight\r\n            freeSolo\r\n            clearOnEscape\r\n            getOptionLabel={renderOptionLabel}\r\n            renderOption={renderOption}\r\n            filterOptions={createAddContactOption}\r\n            onChange={(e, newValue) => {                     \r\n              setChannelFilter(newValue ? newValue.channel : \"whatsapp\");\r\n              handleSelectOption(e, newValue)\r\n            }}\r\n            renderInput={params => (\r\n              <TextField\r\n                {...params}\r\n                label={i18n.t(\"newTicketModal.fieldLabel\")}\r\n                variant=\"outlined\"\r\n                autoFocus\r\n                onChange={e => setSearchParam(e.target.value)}\r\n                onKeyPress={e => {\r\n                  if (loading || !selectedContact) return;\r\n                  else if (e.key === \"Enter\") {\r\n                    handleSaveTicket(selectedContact.id);\r\n                  }\r\n                }}\r\n                InputProps={{\r\n                  ...params.InputProps,\r\n                  endAdornment: (\r\n                    <React.Fragment>\r\n                      {loading ? (\r\n                        <CircularProgress color=\"inherit\" size={20} />\r\n                      ) : null}\r\n                      {params.InputProps.endAdornment}\r\n                    </React.Fragment>\r\n                  ),\r\n                }}\r\n              />\r\n            )}\r\n          />\r\n        </Grid>\r\n      )\r\n    }\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <>\r\n\r\n      <Dialog open={modalOpen} onClose={handleClose}>\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {i18n.t(\"newTicketModal.title\")}\r\n        </DialogTitle>\r\n        <DialogContent dividers>\r\n          <Grid style={{ width: 300 }} container spacing={2}>\r\n            {/* CONTATO */}\r\n            {renderContactAutocomplete()}\r\n            {/* FILA */}\r\n            <Grid xs={12} item>\r\n              <Select\r\n                required\r\n                fullWidth\r\n                displayEmpty\r\n                variant=\"outlined\"\r\n                value={selectedQueue}\r\n                onChange={(e) => {\r\n                  setSelectedQueue(e.target.value)\r\n                }}\r\n                MenuProps={{\r\n                  anchorOrigin: {\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  transformOrigin: {\r\n                    vertical: \"top\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  getContentAnchorEl: null,\r\n                }}\r\n                renderValue={() => {\r\n                  if (selectedQueue === \"\") {\r\n                    return \"Selecione uma fila\"\r\n                  }\r\n                  const queue = user.queues.find(q => q.id === selectedQueue)\r\n                  return queue.name\r\n                }}\r\n              >\r\n                {user.queues?.length > 0 &&\r\n                  user.queues.map((queue, key) => (\r\n                    <MenuItem dense key={key} value={queue.id}>\r\n                      <ListItemText primary={queue.name} />\r\n                    </MenuItem>\r\n                  ))\r\n                }\r\n              </Select>\r\n            </Grid>\r\n            {/* CONEXAO */}\r\n            <Grid xs={12} item>\r\n              <Select\r\n                required\r\n                fullWidth\r\n                displayEmpty\r\n                variant=\"outlined\"\r\n                value={selectedWhatsapp}\r\n                onChange={(e) => {\r\n                  setSelectedWhatsapp(e.target.value)\r\n                }}\r\n                MenuProps={{\r\n                  anchorOrigin: {\r\n                    vertical: \"bottom\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  transformOrigin: {\r\n                    vertical: \"top\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  getContentAnchorEl: null,\r\n                }}\r\n                renderValue={() => {\r\n                  if (selectedWhatsapp === \"\") {\r\n                    return \"Selecione uma Conexão\"\r\n                  }\r\n                  const whatsapp = whatsapps.find(w => w.id === selectedWhatsapp)\r\n                  return whatsapp?.name\r\n                }}\r\n              >\r\n                {whatsapps?.length > 0 &&\r\n                  whatsapps.map((whatsapp, key) => (\r\n                    <MenuItem dense key={key} value={whatsapp.id}>\r\n                      <ListItemText\r\n                        primary={\r\n                          <>\r\n                            {IconChannel(whatsapp.channel)}\r\n                            <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n                              {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\r\n                            </Typography>\r\n                          </>\r\n                        }\r\n                      />\r\n                    </MenuItem>\r\n                  ))}\r\n              </Select>\r\n            </Grid>\r\n          </Grid>\r\n        </DialogContent>\r\n        <DialogActions>\r\n          <Button\r\n            onClick={handleClose}\r\n            color=\"secondary\"\r\n            disabled={loading}\r\n            variant=\"outlined\"\r\n          >\r\n            {i18n.t(\"newTicketModal.buttons.cancel\")}\r\n          </Button>\r\n          <ButtonWithSpinner\r\n            variant=\"contained\"\r\n            type=\"button\"\r\n            disabled={!selectedContact}\r\n            onClick={() => handleSaveTicket(selectedContact.id)}\r\n            color=\"primary\"\r\n            loading={loading}\r\n          >\r\n            {i18n.t(\"newTicketModal.buttons.ok\")}\r\n          </ButtonWithSpinner>\r\n        </DialogActions>\r\n        {contactModalOpen && (\r\n          <ContactModal\r\n            open={contactModalOpen}\r\n            initialValues={newContact}\r\n            onClose={handleCloseContactModal}\r\n            onSave={handleAddNewContactTicket}\r\n          ></ContactModal>\r\n        )}\r\n        {openAlert && (\r\n          <ShowTicketOpen\r\n            isOpen={openAlert}\r\n            handleClose={handleCloseAlert}\r\n            user={userTicketOpen}\r\n            queue={queueTicketOpen}\r\n          />\r\n        )}\r\n      </Dialog >\r\n    </>\r\n  );\r\n};\r\nexport default NewTicketModal;","import { makeStyles } from \"@material-ui/styles\";\r\nimport React from \"react\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    tag: {\r\n        padding: \"1px 5px\",\r\n        borderRadius: \"3px\",\r\n        fontSize: \"0.8em\",\r\n        fontWeight: \"bold\",\r\n        color: \"#FFF\",\r\n        marginRight: \"5px\",\r\n        whiteSpace: \"nowrap\"\r\n    }\r\n}));\r\n\r\nconst ContactTag = ({ tag }) => {\r\n    const classes = useStyles();\r\n\r\n    return (\r\n        <div className={classes.tag} style={{ backgroundColor: tag.color, marginTop: '2px' }}>\r\n           {tag.name.toUpperCase()}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default ContactTag;","import React from \"react\";\r\n\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport InstagramIcon from \"@material-ui/icons/Instagram\";\r\nimport FacebookIcon from \"@material-ui/icons/Facebook\";\r\n\r\nconst ConnectionIcon = ({ connectionType }) => {\r\n\r\n    return (\r\n        <React.Fragment>\r\n            {connectionType === 'whatsapp' && <WhatsAppIcon fontSize=\"small\" style={{ marginBottom: '-5px', color: \"#25D366\" }} />}\r\n            {connectionType === 'instagram' && <InstagramIcon fontSize=\"small\" style={{ marginBottom: '-5px', color: \"#e1306c\" }} />}\r\n            {connectionType === 'facebook' && <FacebookIcon fontSize=\"small\" style={{ marginBottom: '-5px', color: \"#3b5998\" }} />}\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default ConnectionIcon;\r\n","import React, { useState, useEffect, useRef, useContext, useCallback } from \"react\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { parseISO, format, isSameDay } from \"date-fns\";\r\nimport clsx from \"clsx\";\r\n\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport { green, grey } from \"@material-ui/core/colors\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport MarkdownWrapper from \"../MarkdownWrapper\";\r\nimport { List, Tooltip } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\n\r\nimport GroupIcon from '@material-ui/icons/Group';\r\nimport ContactTag from \"../ContactTag\";\r\nimport ConnectionIcon from \"../ConnectionIcon\";\r\nimport AcceptTicketWithouSelectQueue from \"../AcceptTicketWithoutQueueModal\";\r\nimport TransferTicketModalCustom from \"../TransferTicketModalCustom\";\r\nimport ShowTicketOpen from \"../ShowTicketOpenModal\";\r\nimport { isNil } from \"lodash\";\r\nimport { toast } from \"react-toastify\";\r\nimport { Done, HighlightOff, Replay, SwapHoriz } from \"@material-ui/icons\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { Avatar, Badge, ListItemAvatar, ListItem, ListItemSecondaryAction, ListItemText, Typography } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    ticket: {\r\n        position: \"relative\"\r\n    },\r\n\r\n    pendingTicket: {\r\n        cursor: \"unset\",\r\n    },\r\n    queueTag: {\r\n        background: \"#FCFCFC\",\r\n        color: \"#000\",\r\n        marginRight: 1,\r\n        padding: 1,\r\n        fontWeight: 'bold',\r\n        // paddingLeft: 5,\r\n        // paddingRight: 5,\r\n        borderRadius: 3,\r\n        fontSize: \"0.5em\",\r\n        whiteSpace: \"nowrap\"\r\n    },\r\n    noTicketsDiv: {\r\n        display: \"flex\",\r\n        height: \"100px\",\r\n        margin: 40,\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n    newMessagesCount: {\r\n        justifySelf: \"flex-end\",\r\n        textAlign: \"right\",\r\n        position: \"relative\",\r\n        top: 0,\r\n        color: \"green\",\r\n        fontWeight: \"bold\",\r\n        marginRight: \"10px\",\r\n        borderRadius: 0,\r\n    },\r\n    noTicketsText: {\r\n        textAlign: \"center\",\r\n        color: \"rgb(104, 121, 146)\",\r\n        fontSize: \"14px\",\r\n        lineHeight: \"1.4\",\r\n    },\r\n    connectionTag: {\r\n        background: \"green\",\r\n        color: \"#FFF\",\r\n        marginRight: 1,\r\n        padding: 1,\r\n        fontWeight: 'bold',\r\n        // paddingLeft: 5,\r\n        // paddingRight: 5,\r\n        borderRadius: 3,\r\n        fontSize: \"0.6em\",\r\n        // whiteSpace: \"nowrap\"\r\n    },\r\n    noTicketsTitle: {\r\n        textAlign: \"center\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        margin: \"0px\",\r\n    },\r\n\r\n    contactNameWrapper: {\r\n        display: \"flex\",\r\n        justifyContent: \"space-between\",\r\n        marginLeft: \"5px\",\r\n        fontWeight: \"bold\",\r\n        color: theme.mode === 'light' ? \"black\" : \"white\",\r\n    },\r\n\r\n    lastMessageTime: {\r\n        justifySelf: \"flex-end\",\r\n        textAlign: \"right\",\r\n        position: \"relative\",\r\n        top: -30,\r\n        marginRight: \"1px\",\r\n        color: theme.mode === 'light' ? \"black\" : grey[400],\r\n    },\r\n\r\n    lastMessageTimeUnread: {\r\n        justifySelf: \"flex-end\",\r\n        textAlign: \"right\",\r\n        position: \"relative\",\r\n        top: -30,\r\n        color: \"green\",\r\n        fontWeight: \"bold\",\r\n        marginRight: \"1px\",\r\n    },\r\n\r\n    closedBadge: {\r\n        alignSelf: \"center\",\r\n        justifySelf: \"flex-end\",\r\n        marginRight: 32,\r\n        marginLeft: \"auto\",\r\n    },\r\n\r\n    contactLastMessage: {\r\n        paddingRight: \"0%\",\r\n        marginLeft: \"5px\",\r\n        color: theme.mode === 'light' ? \"black\" : grey[400],\r\n    },\r\n\r\n    contactLastMessageUnread: {\r\n        paddingRight: 20,\r\n        fontWeight: \"bold\",\r\n        color: theme.mode === 'light' ? \"black\" : grey[400],\r\n        width: \"50%\"\r\n    },\r\n\r\n    badgeStyle: {\r\n        color: \"white\",\r\n        backgroundColor: green[500],\r\n    },\r\n\r\n    acceptButton: {\r\n        position: \"absolute\",\r\n        right: \"1px\",\r\n    },\r\n\r\n    ticketQueueColor: {\r\n        flex: \"none\",\r\n        // width: \"8px\",\r\n        height: \"100%\",\r\n        position: \"absolute\",\r\n        top: \"0%\",\r\n        left: \"0%\",\r\n    },\r\n\r\n    ticketInfo: {\r\n        position: \"relative\",\r\n        top: -13\r\n    },\r\n    secondaryContentSecond: {\r\n        display: 'flex',\r\n        // marginBottom: 2,\r\n        // marginLeft: \"5px\",\r\n        alignItems: \"flex-start\",\r\n        flexWrap: \"nowrap\",\r\n        flexDirection: \"row\",\r\n        alignContent: \"flex-start\",\r\n        // height: \"10px\"\r\n    },\r\n    ticketInfo1: {\r\n        position: \"relative\",\r\n        top: 13,\r\n        right: 0\r\n    },\r\n    Radiusdot: {\r\n        \"& .MuiBadge-badge\": {\r\n            borderRadius: 2,\r\n            position: \"inherit\",\r\n            height: 16,\r\n            margin: 2,\r\n            padding: 3\r\n        },\r\n        \"& .MuiBadge-anchorOriginTopRightRectangle\": {\r\n            transform: \"scale(1) translate(0%, -40%)\",\r\n        },\r\n    },\r\n    connectionIcon: {\r\n        marginRight: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nconst TicketListItemCustom = ({ setTabOpen, ticket }) => {\r\n    const classes = useStyles();\r\n    const theme = useTheme();\r\n    const history = useHistory();\r\n    const [loading, setLoading] = useState(false);\r\n    const [acceptTicketWithouSelectQueueOpen, setAcceptTicketWithouSelectQueueOpen] = useState(false);\r\n    const [transferTicketModalOpen, setTransferTicketModalOpen] = useState(false);\r\n\r\n    const [openAlert, setOpenAlert] = useState(false);\r\n    const [userTicketOpen, setUserTicketOpen] = useState(\"\");\r\n    const [queueTicketOpen, setQueueTicketOpen] = useState(\"\");\r\n\r\n    const { ticketId } = useParams();\r\n    const isMounted = useRef(true);\r\n    const { setCurrentTicket } = useContext(TicketsContext);\r\n    const { user } = useContext(AuthContext);\r\n\r\n    const { get: getSetting } = useCompanySettings();\r\n\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, []);\r\n\r\n    const handleOpenAcceptTicketWithouSelectQueue = useCallback(() => {\r\n        // console.log(ticket)\r\n        setAcceptTicketWithouSelectQueueOpen(true);\r\n    }, []);\r\n\r\n    const handleCloseTicket = async (id) => {\r\n        \r\n        const setting = await getSetting(\r\n            {\r\n                \"column\": \"requiredTag\"\r\n            }\r\n        );\r\n        \r\n        if (setting.requiredTag === \"enabled\") {\r\n            //verificar se tem uma tag   \r\n            try {\r\n                const contactTags = await api.get(`/contactTags/${ticket.contact.id}`);\r\n                \r\n                \r\n                if (!contactTags.data.tags) {\r\n                    toast.warning(i18n.t(\"messagesList.header.buttons.requiredTag\"))\r\n                } else {\r\n                    await api.put(`/tickets/${id}`, {\r\n                        status: \"closed\",\r\n                        userId: user?.id || null,\r\n                    });\r\n\r\n                    if (isMounted.current) {\r\n                        setLoading(false);\r\n                    }\r\n\r\n                    history.push(`/tickets/`);\r\n                }\r\n            } catch (err) {\r\n                setLoading(false);\r\n                toastError(err);\r\n            }\r\n        } else {\r\n            setLoading(true);\r\n            try {\r\n                await api.put(`/tickets/${id}`, {\r\n                    status: \"closed\",\r\n                    userId: user?.id || null,\r\n                });\r\n\r\n            } catch (err) {\r\n                setLoading(false);\r\n                toastError(err);\r\n            }\r\n            if (isMounted.current) {\r\n                setLoading(false);\r\n            }\r\n\r\n            history.push(`/tickets/`);\r\n        }\r\n\r\n    };\r\n\r\n    const handleCloseIgnoreTicket = async (id) => {\r\n        setLoading(true);\r\n        try {\r\n            await api.put(`/tickets/${id}`, {\r\n                status: \"closed\",\r\n                userId: user?.id || null,\r\n                sendFarewellMessage: false,\r\n                amountUsedBotQueues: 0\r\n            });\r\n\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n\r\n        history.push(`/tickets/`);\r\n    };\r\n\r\n    const truncate = (str, len) => {\r\n        if (!isNil(str)) {\r\n            if (str.length > len) {\r\n                return str.substring(0, len) + \"...\";\r\n            }\r\n            return str;\r\n        }\r\n    };\r\n\r\n    const handleCloseTransferTicketModal = useCallback(() => {\r\n        if (isMounted.current) {\r\n            setTransferTicketModalOpen(false);\r\n        }\r\n    }, []);\r\n\r\n    const handleOpenTransferModal = () => {\r\n        setLoading(true)\r\n        setTransferTicketModalOpen(true);\r\n        if (isMounted.current) {\r\n            setLoading(false);\r\n        }\r\n        handleSelectTicket(ticket);\r\n        // history.push('/tickets');\r\n        // setTimeout(() => {\r\n        history.push(`/tickets/${ticket.uuid}`);\r\n        // }, 0);\r\n    }\r\n\r\n    const handleAcepptTicket = async (id) => {\r\n        setLoading(true);\r\n        try {\r\n            const otherTicket = await api.put(`/tickets/${id}`, ({\r\n                status: ticket.isGroup && ticket.channel === 'whatsapp' ? \"group\" : \"open\",\r\n                userId: user?.id,\r\n            }));\r\n\r\n            if (otherTicket.data.id !== ticket.id) {\r\n                if (otherTicket.data.userId !== user?.id) {\r\n                    setOpenAlert(true);\r\n                    setUserTicketOpen(otherTicket.data.user.name);\r\n                    setQueueTicketOpen(otherTicket.data.queue.name);\r\n                } else {\r\n                    setLoading(false);\r\n                    setTabOpen(ticket.isGroup ? \"group\" : \"open\");\r\n                    handleSelectTicket(otherTicket.data);\r\n                    // history.push('/tickets');\r\n                    // setTimeout(() => {\r\n                    history.push(`/tickets/${otherTicket.uuid}`);\r\n                    // }, 0);\r\n                }\r\n            } else {\r\n                let setting;\r\n\r\n                try {\r\n                    setting = await getSetting({\r\n                        \"column\": \"sendGreetingAccepted\"\r\n                    });\r\n                } catch (err) {\r\n                    toastError(err);\r\n                }\r\n\r\n                if (setting.sendGreetingAccepted === \"enabled\" && (!ticket.isGroup || ticket.whatsapp?.groupAsTicket === \"enabled\")) {\r\n                                       \r\n                    handleSendMessage(ticket.id);\r\n                }\r\n                if (isMounted.current) {\r\n                    setLoading(false);\r\n                }\r\n\r\n                setTabOpen(ticket.isGroup ? \"group\" : \"open\");\r\n                handleSelectTicket(ticket);\r\n                // history.push('/tickets');\r\n                // setTimeout(() => {\r\n                history.push(`/tickets/${ticket.uuid}`);\r\n                // }, 0);\r\n            }\r\n        } catch (err) {\r\n            setLoading(false);\r\n            toastError(err);\r\n        }\r\n    };\r\n\r\n\r\n    const handleSendMessage = async (id) => {\r\n        \r\n        let setting;\r\n\r\n        try {\r\n            setting = await getSetting({\r\n                \"column\": \"greetingAcceptedMessage\"\r\n            })\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        \r\n        if(setting?.greetingAcceptedMessage && setting?.greetingAcceptedMessage.trim() !== \"\") {\r\n            const msg = `${setting.greetingAcceptedMessage}`; //`{{ms}} *{{name}}*, ${i18n.t(\"mainDrawer.appBar.user.myName\")} *${user?.name}* ${i18n.t(\"mainDrawer.appBar.user.continuity\")}.`;\r\n            const message = {\r\n                read: 1,\r\n                fromMe: true,\r\n                mediaUrl: \"\",\r\n                body: `${msg.trim()}`,\r\n            };\r\n            try {\r\n                await api.post(`/messages/${id}`, message);\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n        }\r\n    };\r\n\r\n    const handleCloseAlert = useCallback(() => {\r\n        setOpenAlert(false);\r\n        setLoading(false);\r\n    }, []);\r\n\r\n    const handleSelectTicket = (ticket) => {\r\n        const code = uuidv4();\r\n        const { id, uuid } = ticket;\r\n        setCurrentTicket({ id, uuid, code });\r\n    };\r\n\r\n    return (\r\n        <React.Fragment key={ticket.id}>\r\n            {openAlert && (\r\n                <ShowTicketOpen\r\n                    isOpen={openAlert}\r\n                    handleClose={handleCloseAlert}\r\n                    user={userTicketOpen}\r\n                    queue={queueTicketOpen}\r\n                />\r\n            )}\r\n            {acceptTicketWithouSelectQueueOpen && (\r\n                <AcceptTicketWithouSelectQueue\r\n                    modalOpen={acceptTicketWithouSelectQueueOpen}\r\n                    onClose={(e) => setAcceptTicketWithouSelectQueueOpen(false)}\r\n                    ticketId={ticket.id}\r\n                    ticket={ticket}\r\n                />\r\n            )}\r\n            {transferTicketModalOpen && (\r\n                <TransferTicketModalCustom\r\n                    modalOpen={transferTicketModalOpen}\r\n                    onClose={handleCloseTransferTicketModal}\r\n                    ticketid={ticket.id}\r\n                    ticket={ticket}\r\n                />\r\n            )}\r\n            {/* <TicketMessagesDialog\r\n                open={openTicketMessageDialog}\r\n                handleClose={() => setOpenTicketMessageDialog(false)}\r\n                ticketId={ticket.id}\r\n            /> */}\r\n            <ListItem\r\n                button\r\n                dense\r\n                onClick={(e) => {\r\n                    \r\n                    const isCheckboxClicked = (e.target.tagName.toLowerCase() === 'input' && e.target.type === 'checkbox')\r\n                        || (e.target.tagName.toLowerCase() === 'svg' && e.target.type === undefined)\r\n                        || (e.target.tagName.toLowerCase() === 'path' && e.target.type === undefined);\r\n                    // Se o clique foi no Checkbox, não execute handleSelectTicket\r\n\r\n                    if (isCheckboxClicked) return;\r\n\r\n                    handleSelectTicket(ticket);\r\n                }}\r\n                selected={ticketId && ticketId === ticket.uuid}\r\n                className={clsx(classes.ticket, {\r\n                    [classes.pendingTicket]: ticket.status === \"pending\",\r\n                })}\r\n            >\r\n                <ListItemAvatar\r\n                    style={{ marginLeft: \"-15px\" }}\r\n                >\r\n                    <Avatar\r\n                        style={{\r\n                            width: \"50px\",\r\n                            height: \"50px\",\r\n                            borderRadius: \"50%\",\r\n                        }}\r\n                        src={`${ticket?.contact?.urlPicture}`}\r\n\r\n                    />\r\n                </ListItemAvatar>\r\n                <ListItemText\r\n                    disableTypography\r\n                    primary={\r\n                        <span className={classes.contactNameWrapper}>\r\n                            <Typography\r\n                                noWrap\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                            // color=\"textPrimary\"\r\n                            >\r\n                                {ticket.isGroup && ticket.channel === \"whatsapp\" && <GroupIcon fontSize=\"small\" style={{ color: grey[700], marginBottom: '-1px', marginLeft: '5px' }} />} &nbsp;\r\n                                {ticket.channel && <ConnectionIcon width=\"20\" height=\"20\" className={classes.connectionIcon} connectionType={ticket.channel} />} &nbsp;\r\n                                {truncate(ticket.contact?.name, 60)}\r\n                                {/* {profile === \"admin\"  && ( */}\r\n                                {/* <Tooltip title=\"Espiar Conversa\">\r\n                                        <VisibilityIcon\r\n                                            onClick={() => setOpenTicketMessageDialog(true)}\r\n                                            fontSize=\"small\"\r\n                                            style={{\r\n                                                color: blue[700],\r\n                                                cursor: \"pointer\",\r\n                                                marginLeft: 10,\r\n                                                verticalAlign: \"middle\"\r\n                                            }}\r\n                                        />\r\n                                    </Tooltip> */}\r\n                                {/* )} */}\r\n                            </Typography>\r\n                            {/* <ListItemSecondaryAction>\r\n                                <Box className={classes.ticketInfo1}>{renderTicketInfo()}</Box>\r\n                            </ListItemSecondaryAction> */}\r\n                        </span>\r\n                    }\r\n                    secondary={\r\n                        <span className={classes.contactNameWrapper}>\r\n\r\n                            <Typography\r\n                                className={Number(ticket.unreadMessages) > 0 ? classes.contactLastMessageUnread : classes.contactLastMessage}\r\n                                noWrap\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                            // color=\"textSecondary\"\r\n                            // style={console.log('ticket.lastMessage', ticket.lastMessage)}\r\n                            >\r\n                                {ticket.lastMessage ? (\r\n                                    <>\r\n                                        {ticket.lastMessage.includes('data:image/png;base64') ?\r\n                                            <MarkdownWrapper>Localização</MarkdownWrapper> :\r\n                                            <> {ticket.lastMessage.includes('BEGIN:VCARD') ?\r\n                                                <MarkdownWrapper>Contato</MarkdownWrapper> :\r\n                                                <MarkdownWrapper>{truncate(ticket.lastMessage, 40)}</MarkdownWrapper>}\r\n                                            </>\r\n                                        }\r\n                                    </>\r\n                                ) : (\r\n                                    <br />\r\n                                )}\r\n                                <span className={classes.secondaryContentSecond} >\r\n                                    {ticket?.whatsapp ? <Badge className={classes.connectionTag} style={{ backgroundColor: ticket.channel === \"whatsapp\" ? \"#25D366\" : ticket.channel === \"facebook\" ? \"#4267B2\" : \"#E1306C\" }}>{ticket.whatsapp?.name.toUpperCase()}</Badge> : <br></br>}\r\n                                    {<Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queueId ? ticket.queue?.name.toUpperCase() : ticket.status === \"lgpd\" ? \"LGPD\" : \"SEM FILA\"}</Badge>}\r\n                                    {ticket?.user && (<Badge style={{ backgroundColor: \"#000000\" }} className={classes.connectionTag}>{ticket.user?.name.toUpperCase()}</Badge>)}\r\n                                </span>\r\n                                <span className={classes.secondaryContentSecond} >\r\n                                    {\r\n                                        ticket.tags?.map((tag) => {\r\n                                            return (\r\n                                                <ContactTag tag={tag} key={`ticket-contact-tag-${ticket.id}-${tag.id}`} />\r\n                                            );\r\n                                        })\r\n                                    }\r\n                                </span>\r\n                            </Typography>\r\n\r\n                            <Badge\r\n                                className={classes.newMessagesCount}\r\n                                badgeContent={ticket.unreadMessages}\r\n                                classes={{\r\n                                    badge: classes.badgeStyle,\r\n                                }}\r\n                            />\r\n                        </span>\r\n                    }\r\n\r\n                />\r\n                <ListItemSecondaryAction>\r\n                    {ticket.lastMessage && (\r\n                        <>\r\n\r\n                            <Typography\r\n                                className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                            // color=\"textSecondary\"\r\n                            >\r\n\r\n                                {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\r\n                                    <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\r\n                                ) : (\r\n                                    <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\r\n                                )}\r\n                            </Typography>\r\n\r\n                            <br />\r\n\r\n                        </>\r\n                    )}\r\n\r\n                </ListItemSecondaryAction>\r\n                <ListItemSecondaryAction>\r\n                    <span className={classes.secondaryContentSecond}>\r\n                        {(ticket.status === \"pending\" && (ticket.queueId === null || ticket.queueId === undefined)) && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', borderRadius: \"50%\", right: '51px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.accept\")}`}>\r\n                                    <Done />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond} >\r\n                        {(ticket.status === \"pending\" && ticket.queueId !== null) && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', borderRadius: \"50%\", right: '51px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleAcepptTicket(ticket.id)}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.accept\")}`}>\r\n                                    <Done />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond1} >\r\n                        {(ticket.status === \"pending\" || ticket.status === \"open\" || ticket.status === \"group\") && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', borderRadius: \"50%\", right: '26px', position: 'absolute', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={handleOpenTransferModal}\r\n                            >\r\n                                {/* {i18n.t(\"ticketsList.buttons.transfer\")} */}\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.transfer\")}`}>\r\n                                    <SwapHoriz />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond} >\r\n                        {(ticket.status === \"open\" || ticket.status === \"group\") && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleCloseTicket(ticket.id)}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.closed\")}`}>\r\n                                    <HighlightOff />\r\n                                    {/*  */}\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond} >\r\n                        {((ticket.status === \"pending\" || ticket.status === \"lgpd\") && (user.userClosePendingTicket === \"enabled\" || user.profile === \"admin\")) && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleCloseIgnoreTicket(ticket.id)}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.ignore\")}`}>\r\n                                    <HighlightOff />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond} >\r\n                        {(ticket.status === \"closed\" && (ticket.queueId === null || ticket.queueId === undefined)) && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleOpenAcceptTicketWithouSelectQueue()}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.reopen\")}`}>\r\n                                    <Replay />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n\r\n                        )}\r\n                    </span>\r\n                    <span className={classes.secondaryContentSecond} >\r\n                        {(ticket.status === \"closed\" && ticket.queueId !== null) && (\r\n                            <ButtonWithSpinner\r\n                                //color=\"primary\"\r\n                                style={{ backgroundColor: 'transparent', boxShadow: 'none', border: 'none', color: theme.mode === \"light\" ? \"#0872B9\" : \"#FFF\", padding: '0px', bottom: '0px', borderRadius: \"50%\", right: '1px', fontSize: '0.6rem', bottom: '-30px', minWidth: '2em', width: 'auto' }}\r\n                                variant=\"contained\"\r\n                                className={classes.acceptButton}\r\n                                size=\"small\"\r\n                                loading={loading}\r\n                                onClick={e => handleAcepptTicket(ticket.id)}\r\n                            >\r\n                                <Tooltip title={`${i18n.t(\"ticketsList.buttons.reopen\")}`}>\r\n                                    <Replay />\r\n                                </Tooltip>\r\n                            </ButtonWithSpinner>\r\n\r\n                        )}\r\n                    </span>\r\n                </ListItemSecondaryAction>\r\n            </ListItem>\r\n            {/* <Divider variant=\"inset\" component=\"li\" /> */}\r\n        </React.Fragment>\r\n    );\r\n};\r\n\r\nexport default TicketListItemCustom;","import React from \"react\";\r\n\r\nimport ListItem from \"@material-ui/core/ListItem\";\r\nimport ListItemText from \"@material-ui/core/ListItemText\";\r\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\r\nimport Divider from \"@material-ui/core/Divider\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nconst TicketsSkeleton = () => {\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<ListItem dense>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\r\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t\t<Divider variant=\"inset\" />\r\n\t\t\t<ListItem dense>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={70} />}\r\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={120} />}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t\t<Divider variant=\"inset\" />\r\n\t\t\t<ListItem dense>\r\n\t\t\t\t<ListItemAvatar>\r\n\t\t\t\t\t<Skeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\r\n\t\t\t\t</ListItemAvatar>\r\n\t\t\t\t<ListItemText\r\n\t\t\t\t\tprimary={<Skeleton animation=\"wave\" height={20} width={60} />}\r\n\t\t\t\t\tsecondary={<Skeleton animation=\"wave\" height={20} width={90} />}\r\n\t\t\t\t/>\r\n\t\t\t</ListItem>\r\n\t\t\t<Divider variant=\"inset\" />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TicketsSkeleton;\r\n","import React, { useState, useEffect, useReducer, useContext, useMemo } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport List from \"@material-ui/core/List\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport TicketListItem from \"../TicketListItemCustom\";\r\nimport TicketsListSkeleton from \"../TicketsListSkeleton\";\r\n\r\nimport useTickets from \"../../hooks/useTickets\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    ticketsListWrapper: {\r\n        position: \"relative\",\r\n        display: \"flex\",\r\n        height: \"100%\",\r\n        flexDirection: \"column\",\r\n        overflow: \"hidden\",\r\n        borderTopRightRadius: 0,\r\n        borderBottomRightRadius: 0,\r\n    },\r\n\r\n    ticketsList: {\r\n        flex: 1,\r\n        maxHeight: \"100%\",\r\n        overflowY: \"scroll\",\r\n        ...theme.scrollbarStyles,\r\n        borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\r\n    },\r\n\r\n    ticketsListHeader: {\r\n        color: \"rgb(67, 83, 105)\",\r\n        zIndex: 2,\r\n        backgroundColor: \"white\",\r\n        borderBottom: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n        display: \"flex\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"space-between\",\r\n    },\r\n\r\n    ticketsCount: {\r\n        fontWeight: \"normal\",\r\n        color: \"rgb(104, 121, 146)\",\r\n        marginLeft: \"8px\",\r\n        fontSize: \"14px\",\r\n    },\r\n\r\n    noTicketsText: {\r\n        textAlign: \"center\",\r\n        color: \"rgb(104, 121, 146)\",\r\n        fontSize: \"14px\",\r\n        lineHeight: \"1.4\",\r\n    },\r\n\r\n    noTicketsTitle: {\r\n        textAlign: \"center\",\r\n        fontSize: \"16px\",\r\n        fontWeight: \"600\",\r\n        margin: \"0px\",\r\n    },\r\n\r\n    noTicketsDiv: {\r\n        display: \"flex\",\r\n        // height: \"190px\",\r\n        margin: 40,\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n    },\r\n}));\r\n\r\nconst ticketSortAsc = (a, b) => {\r\n    \r\n    if (a.updatedAt < b.updatedAt) {\r\n        return -1;\r\n    }\r\n    if (a.updatedAt > b.updatedAt) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nconst ticketSortDesc = (a, b) => {\r\n   \r\n    if (a.updatedAt > b.updatedAt) {\r\n        return -1;\r\n    }\r\n    if (a.updatedAt < b.updatedAt) {\r\n        return 1;\r\n    }\r\n    return 0;\r\n}\r\n\r\nconst reducer = (state, action) => {\r\n    //console.log(\"action\", action, state)\r\n    const sortDir = action.sortDir;\r\n    \r\n    if (action.type === \"LOAD_TICKETS\") {\r\n        const newTickets = action.payload;\r\n\r\n        newTickets.forEach((ticket) => {\r\n            const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n            if (ticketIndex !== -1) {\r\n                state[ticketIndex] = ticket;\r\n                if (ticket.unreadMessages > 0) {\r\n                    state.unshift(state.splice(ticketIndex, 1)[0]);\r\n                }\r\n            } else {\r\n                state.push(ticket);\r\n            }\r\n        });\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET_UNREAD\") {\r\n        const ticketId = action.payload;\r\n\r\n        const ticketIndex = state.findIndex((t) => t.id === ticketId);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex].unreadMessages = 0;\r\n        }\r\n\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_TICKET\") {\r\n        const ticket = action.payload;\r\n\r\n        const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex] = ticket;\r\n        } else {\r\n            state.unshift(ticket);\r\n        }\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_TICKET_UNREAD_MESSAGES\") {\r\n        const ticket = action.payload;\r\n\r\n        const ticketIndex = state.findIndex((t) => t.id === ticket.id);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex] = ticket;\r\n            state.unshift(state.splice(ticketIndex, 1)[0]);\r\n        } else {\r\n            if (action.status === action.payload.status) {\r\n                state.unshift(ticket);\r\n            }\r\n        }\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_TICKET_CONTACT\") {\r\n        const contact = action.payload;\r\n        const ticketIndex = state.findIndex((t) => t.contactId === contact.id);\r\n        if (ticketIndex !== -1) {\r\n            state[ticketIndex].contact = contact;\r\n        }\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"DELETE_TICKET\") {\r\n        const ticketId = action.payload;\r\n        const ticketIndex = state.findIndex((t) => t.id === ticketId);\r\n        if (ticketIndex !== -1) {\r\n            state.splice(ticketIndex, 1);\r\n        }\r\n\r\n        if (sortDir && ['ASC', 'DESC'].includes(sortDir)) {\r\n            sortDir === 'ASC' ? state.sort(ticketSortAsc) : state.sort(ticketSortDesc);\r\n        }\r\n\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET\") {\r\n        return [];\r\n    }\r\n};\r\n\r\nconst TicketsListCustom = (props) => {\r\n    const {\r\n        setTabOpen,\r\n        status,\r\n        searchParam,\r\n        searchOnMessages,\r\n        tags,\r\n        users,\r\n        showAll,\r\n        selectedQueueIds,\r\n        updateCount,\r\n        style,\r\n        whatsappIds,\r\n        forceSearch,\r\n        statusFilter,\r\n        userFilter,\r\n        sortTickets\r\n    } = props;\r\n\r\n    const classes = useStyles();\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    let [ticketsList, dispatch] = useReducer(reducer, []);\r\n    //   const socketManager = useContext(SocketContext);\r\n    const { user, socket } = useContext(AuthContext);\r\n\r\n    const { profile, queues } = user;\r\n    const showTicketWithoutQueue = user.allTicket === 'enable';\r\n    const companyId = user.companyId;\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"RESET\" });\r\n        setPageNumber(1);\r\n    }, [status, searchParam, dispatch, showAll, tags, users, forceSearch, selectedQueueIds, whatsappIds, statusFilter, sortTickets, searchOnMessages]);\r\n\r\n    const { tickets, hasMore, loading } = useTickets({\r\n        pageNumber,\r\n        searchParam,\r\n        status,\r\n        showAll,\r\n        searchOnMessages: searchOnMessages ? \"true\" : \"false\",\r\n        tags: JSON.stringify(tags),\r\n        users: JSON.stringify(users),\r\n        queueIds: JSON.stringify(selectedQueueIds),\r\n        whatsappIds: JSON.stringify(whatsappIds),\r\n        statusFilter: JSON.stringify(statusFilter),\r\n        userFilter,\r\n        sortTickets\r\n    });\r\n\r\n\r\n    useEffect(() => {\r\n        // const queueIds = queues.map((q) => q.id);\r\n        // const filteredTickets = tickets.filter(\r\n        //     (t) => queueIds.indexOf(t.queueId) > -1\r\n        // );\r\n        // const allticket = user.allTicket === 'enabled';\r\n        // if (profile === \"admin\" || allTicket || allowGroup || allHistoric) {\r\n        if (companyId) {\r\n            dispatch({\r\n                type: \"LOAD_TICKETS\",\r\n                payload: tickets,\r\n                status,\r\n                sortDir: sortTickets\r\n            });\r\n        }\r\n        // } else {\r\n        //  dispatch({ type: \"LOAD_TICKETS\", payload: filteredTickets });\r\n        // }\r\n\r\n    }, [tickets]);\r\n\r\n    useEffect(() => {\r\n        const shouldUpdateTicket = ticket => {\r\n            return (!ticket?.userId || ticket?.userId === user?.id || showAll) &&\r\n                ((!ticket?.queueId && showTicketWithoutQueue) || selectedQueueIds.indexOf(ticket?.queueId) > -1)\r\n            // (!blockNonDefaultConnections || (ticket.status == 'group' && ignoreUserConnectionForGroups) || !user?.whatsappId || ticket.whatsappId == user?.whatsappId);\r\n        }\r\n        // const shouldUpdateTicketUser = (ticket) =>\r\n        //     selectedQueueIds.indexOf(ticket?.queueId) > -1 && (ticket?.userId === user?.id || !ticket?.userId);\r\n\r\n        const notBelongsToUserQueues = (ticket) =>\r\n            ticket.queueId && selectedQueueIds.indexOf(ticket.queueId) === -1;\r\n\r\n        const onCompanyTicketTicketsList = (data) => {\r\n            // console.log(\"onCompanyTicketTicketsList\", data)\r\n            if (data.action === \"updateUnread\") {\r\n                dispatch({\r\n                    type: \"RESET_UNREAD\",\r\n                    payload: data.ticketId,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n            // console.log(shouldUpdateTicket(data.ticket))\r\n            if (data.action === \"update\" &&\r\n                shouldUpdateTicket(data.ticket) && data.ticket.status === status) {\r\n                dispatch({\r\n                    type: \"UPDATE_TICKET\",\r\n                    payload: data.ticket,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n\r\n            // else if (data.action === \"update\" && shouldUpdateTicketUser(data.ticket) && data.ticket.status === status) {\r\n            //     dispatch({\r\n            //         type: \"UPDATE_TICKET\",\r\n            //         payload: data.ticket,\r\n            //     });\r\n            // }\r\n            if (data.action === \"update\" && notBelongsToUserQueues(data.ticket)) {\r\n                dispatch({\r\n                    type: \"DELETE_TICKET\", payload: data.ticket?.id, status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n\r\n            if (data.action === \"delete\") {\r\n                dispatch({\r\n                    type: \"DELETE_TICKET\", payload: data?.ticketId, status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n\r\n            }\r\n        };\r\n\r\n        const onCompanyAppMessageTicketsList = (data) => {\r\n            if (data.action === \"create\" &&\r\n                shouldUpdateTicket(data.ticket) && data.ticket.status === status) {\r\n                dispatch({\r\n                    type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\r\n                    payload: data.ticket,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n            // else if (data.action === \"create\" && shouldUpdateTicketUser(data.ticket) && data.ticket.status === status) {\r\n            //     dispatch({\r\n            //         type: \"UPDATE_TICKET_UNREAD_MESSAGES\",\r\n            //         payload: data.ticket,\r\n            //     });\r\n            // }\r\n        };\r\n\r\n        const onCompanyContactTicketsList = (data) => {\r\n            if (data.action === \"update\" && data.contact) {\r\n                dispatch({\r\n                    type: \"UPDATE_TICKET_CONTACT\",\r\n                    payload: data.contact,\r\n                    status: status,\r\n                    sortDir: sortTickets\r\n                });\r\n            }\r\n        };\r\n\r\n        const onConnectTicketsList = () => {\r\n            if (status) {\r\n                socket.emit(\"joinTickets\", status);\r\n            } else {\r\n                socket.emit(\"joinNotification\");\r\n            }\r\n        }\r\n\r\n        socket.on(\"connect\", onConnectTicketsList)\r\n        socket.on(`company-${companyId}-ticket`, onCompanyTicketTicketsList);\r\n        socket.on(`company-${companyId}-appMessage`, onCompanyAppMessageTicketsList);\r\n        socket.on(`company-${companyId}-contact`, onCompanyContactTicketsList);\r\n\r\n        return () => {\r\n            if (status) {\r\n                socket.emit(\"leaveTickets\", status);\r\n            } else {\r\n                socket.emit(\"leaveNotification\");\r\n            }\r\n            socket.off(\"connect\", onConnectTicketsList);\r\n            socket.off(`company-${companyId}-ticket`, onCompanyTicketTicketsList);\r\n            socket.off(`company-${companyId}-appMessage`, onCompanyAppMessageTicketsList);\r\n            socket.off(`company-${companyId}-contact`, onCompanyContactTicketsList);\r\n        };\r\n\r\n    }, [status, showAll, user, selectedQueueIds, tags, users, profile, queues, sortTickets, showTicketWithoutQueue]);\r\n\r\n    useEffect(() => {\r\n        if (typeof updateCount === \"function\") {\r\n            updateCount(ticketsList.length);\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [ticketsList]);\r\n\r\n    const loadMore = () => {\r\n        setPageNumber((prevState) => prevState + 1);\r\n    };\r\n\r\n    const handleScroll = (e) => {\r\n        if (!hasMore || loading) return;\r\n\r\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n\r\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n            loadMore();\r\n        }\r\n    };\r\n\r\n    if (status && status !== \"search\") {\r\n        ticketsList = ticketsList.filter(ticket => ticket.status === status)\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.ticketsListWrapper} style={style}>\r\n            <Paper\r\n                square\r\n                name=\"closed\"\r\n                elevation={0}\r\n                className={classes.ticketsList}\r\n                onScroll={handleScroll}\r\n            >\r\n                <List style={{ paddingTop: 0 }} >\r\n                    {ticketsList.length === 0 && !loading ? (\r\n                        <div className={classes.noTicketsDiv}>\r\n                            <span className={classes.noTicketsTitle}>\r\n                                {i18n.t(\"ticketsList.noTicketsTitle\")}\r\n                            </span>\r\n                            <p className={classes.noTicketsText}>\r\n                                {i18n.t(\"ticketsList.noTicketsMessage\")}\r\n                            </p>\r\n                        </div>\r\n                    ) : (\r\n                        <>\r\n                            {ticketsList.map((ticket) => (\r\n                                // <List key={ticket.id}>\r\n                                //     {console.log(ticket)}\r\n                                <TicketListItem\r\n                                    ticket={ticket}\r\n                                    key={ticket.id}\r\n                                    setTabOpen={setTabOpen}\r\n                                />\r\n                                // </List>\r\n                            ))}\r\n                        </>\r\n                    )}\r\n                    {loading && <TicketsListSkeleton />}\r\n                </List>\r\n            </Paper>\r\n        </Paper>\r\n    );\r\n};\r\n\r\nexport default TicketsListCustom;\r\n","import React from \"react\";\r\n\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport { Checkbox, ListItemText } from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  menuListItem: {\r\n    paddingTop: 0,\r\n    paddingBottom: 0,\r\n  },\r\n  menuItem: {\r\n    maxHeight: 30,\r\n  },\r\n}));\r\n\r\nconst TicketsQueueSelect = ({\r\n  userQueues,\r\n  selectedQueueIds = [],\r\n  onChange,\r\n}) => {\r\n  const classes = useStyles();\r\n\r\n  const handleChange = (e) => {\r\n    onChange(e.target.value);\r\n  };\r\n\r\n  return (\r\n    <div style={{ width: 120, marginTop: -4 }}>\r\n      <FormControl fullWidth margin=\"dense\">\r\n        <Select\r\n          multiple\r\n          displayEmpty\r\n          variant=\"outlined\"\r\n          value={selectedQueueIds}\r\n          onChange={handleChange}\r\n          style={{\r\n            borderRadius: 8,\r\n            height: 30,\r\n          }}\r\n          MenuProps={{\r\n            anchorOrigin: {\r\n              vertical: \"bottom\",\r\n              horizontal: \"center\",\r\n            },\r\n            transformOrigin: {\r\n              vertical: \"top\",\r\n              horizontal: \"center\",\r\n            },\r\n            getContentAnchorEl: null,\r\n            PaperProps: {\r\n              style: {\r\n                borderRadius: \"0 0 8px 8px\",\r\n              },\r\n            },\r\n            MenuListProps: {\r\n              className: classes.menuListItem,\r\n            },\r\n          }}\r\n          renderValue={() => i18n.t(\"ticketsQueueSelect.placeholder\")}\r\n        >\r\n          {userQueues?.length > 0 &&\r\n            userQueues.map((queue) => (\r\n              <MenuItem\r\n                dense\r\n                key={queue.id}\r\n                value={queue.id}\r\n                className={classes.menuItem}\r\n              >\r\n                <Checkbox\r\n                  style={{\r\n                    color: queue.color,\r\n                  }}\r\n                  size=\"small\"\r\n                  color=\"primary\"\r\n                  checked={selectedQueueIds.indexOf(queue.id) > -1}\r\n                />\r\n                <ListItemText\r\n                  primary={queue.name}\r\n                  classes={{ primary: classes.listItemText }}\r\n                />\r\n              </MenuItem>\r\n            ))}\r\n        </Select>\r\n      </FormControl>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default TicketsQueueSelect;","import { Box, Chip, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\n\r\nexport function TagsFilter({ onFiltered }) {\r\n  const [tags, setTags] = useState([]);\r\n  const [selecteds, setSelecteds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadTags();\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const loadTags = async () => {\r\n    try {\r\n      const { data } = await api.get(`/tags/list`);\r\n      setTags(data);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const onChange = async (value) => {\r\n    setSelecteds(value);\r\n    onFiltered(value);\r\n  };\r\n\r\n  return (\r\n    <Box style={{ padding: 10 }}>\r\n      <Autocomplete\r\n        multiple\r\n        size=\"small\"\r\n        options={tags}\r\n        value={selecteds}\r\n        onChange={(e, v, r) => onChange(v)}\r\n        getOptionLabel={(option) => option.name}\r\n        renderTags={(value, getTagProps) =>\r\n          value.map((option, index) => (\r\n            <Chip\r\n              variant=\"outlined\"\r\n              style={{\r\n                backgroundColor: option.color || \"#eee\",\r\n                textShadow: \"1px 1px 1px #000\",\r\n                color: \"white\",\r\n              }}\r\n              label={option.name}\r\n              {...getTagProps({ index })}\r\n              size=\"small\"\r\n            />\r\n          ))\r\n        }\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            variant=\"outlined\"\r\n            placeholder=\"Filtro por Tags\"\r\n          />\r\n        )}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Chip, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nexport function UsersFilter({ onFiltered, initialUsers }) {\r\n  const [users, setUsers] = useState([]);\r\n  const [selecteds, setSelecteds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadUsers();\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSelecteds([]);\r\n    if (\r\n      Array.isArray(initialUsers) &&\r\n      Array.isArray(users) &&\r\n      users.length > 0\r\n    ) {\r\n      onChange(initialUsers);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [initialUsers, users]);\r\n\r\n  const loadUsers = async () => {\r\n    try {\r\n      const { data } = await api.get(`/users/list`);\r\n      const userList = data.map((u) => ({ id: u.id, name: u.name }));\r\n      setUsers(userList);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const onChange = async (value) => {\r\n    setSelecteds(value);\r\n    onFiltered(value);\r\n  };\r\n\r\n  return (\r\n    <Box style={{ padding: \"0px 10px 10px\" }}>\r\n      <Autocomplete\r\n        multiple\r\n        size=\"small\"\r\n        options={users}\r\n        value={selecteds}\r\n        onChange={(e, v, r) => onChange(v)}\r\n        getOptionLabel={(option) => option.name}\r\n        getOptionSelected={(option, value) => {\r\n          return (\r\n            option?.id === value?.id ||\r\n            option?.name.toLowerCase() === value?.name.toLowerCase()\r\n          );\r\n        }}\r\n        renderTags={(value, getUserProps) =>\r\n          value.map((option, index) => (\r\n            <Chip\r\n              variant=\"outlined\"\r\n              style={{\r\n                backgroundColor: \"#bfbfbf\",\r\n                textShadow: \"1px 1px 1px #000\",\r\n                color: \"white\",\r\n              }}\r\n              label={option.name}\r\n              {...getUserProps({ index })}\r\n              size=\"small\"\r\n            />\r\n          ))\r\n        }\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            variant=\"outlined\"\r\n            placeholder={i18n.t(\"tickets.search.filterUsers\")}\r\n          />\r\n        )}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Chip, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\n\r\nexport function StatusFilter({ onFiltered }) {\r\n  const [selecteds, setSelecteds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      \r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const onChange = async (value) => {\r\n    setSelecteds(value);\r\n    onFiltered(value);\r\n  };\r\n\r\n  const status = [\r\n    { status: 'open', name: `${i18n.t(\"tickets.search.filterConectionsOptions.open\")}` },\r\n    { status: 'closed', name: `${i18n.t(\"tickets.search.filterConectionsOptions.closed\")}` },\r\n    { status: 'pending', name: `${i18n.t(\"tickets.search.filterConectionsOptions.pending\")}` },\r\n    { status: 'group', name: 'Grupos' },\r\n\r\n  ]\r\n\r\n  return (\r\n    <Box style={{ padding: \"0px 10px 10px\" }}>\r\n      <Autocomplete \r\n       multiple      \r\n       size=\"small\"\r\n       options={status}\r\n       value={selecteds}\r\n       onChange={(e, v, r) => onChange(v)}\r\n       getOptionLabel={(option) => option.name}\r\n       renderTags={(value, getTagProps) =>\r\n         value.map((option, index) => (\r\n           <Chip\r\n             variant=\"outlined\"\r\n             style={{\r\n               backgroundColor: option.color || \"#eee\",\r\n               textShadow: \"1px 1px 1px #000\",\r\n               color: \"white\",\r\n             }}\r\n             label={option.name}\r\n             {...getTagProps({ index })}\r\n             size=\"small\"\r\n           />\r\n         ))\r\n       }\r\n       renderInput={(params) => (\r\n         <TextField\r\n           {...params}\r\n           variant=\"outlined\"\r\n           placeholder=\"Filtro por Status\"\r\n         />\r\n       )}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import { Box, Chip, TextField } from \"@material-ui/core\";\r\nimport Autocomplete from \"@material-ui/lab/Autocomplete\";\r\nimport React, { useEffect, useState } from \"react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nexport function WhatsappsFilter({ onFiltered, initialWhatsapps }) {\r\n  const [whatsapps, setWhatsapps] = useState([]);\r\n  const [selecteds, setSelecteds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadWhatsapps();\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setSelecteds([]);\r\n    if (\r\n      Array.isArray(initialWhatsapps) &&\r\n      Array.isArray(whatsapps) &&\r\n      whatsapps.length > 0\r\n    ) {\r\n      onChange(initialWhatsapps);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [initialWhatsapps, whatsapps]);\r\n\r\n  const loadWhatsapps = async () => {\r\n    try {\r\n      const { data } = await api.get(`/whatsapp`);\r\n      const whatsappList = data.map((w) => ({ id: w.id, name: w.name, channel: w.channel }));\r\n      setWhatsapps(whatsappList);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const onChange = async (value) => {\r\n    setSelecteds(value);\r\n    onFiltered(value);\r\n  };\r\n\r\n  return (\r\n    <Box style={{ padding: \"0px 10px 10px\" }}>\r\n      <Autocomplete\r\n        multiple\r\n        size=\"small\"\r\n        options={whatsapps}\r\n        value={selecteds}\r\n        onChange={(e, v, r) => onChange(v)}\r\n        getOptionLabel={(option) => option.name}\r\n        getOptionSelected={(option, value) => {\r\n          return (\r\n            option?.id === value?.id ||\r\n            option?.name.toLowerCase() === value?.name.toLowerCase()\r\n          );\r\n        }}\r\n        renderTags={(value, getWhatsappProps) =>\r\n          value.map((option, index) => (\r\n            <Chip\r\n              variant=\"outlined\"\r\n              style={{\r\n                backgroundColor: \"#bfbfbf\",\r\n                textShadow: \"1px 1px 1px #000\",\r\n                color: \"white\",\r\n              }}\r\n              label={option.name}\r\n              {...getWhatsappProps({ index })}\r\n              size=\"small\"\r\n            />\r\n          ))\r\n        }\r\n        renderInput={(params) => (\r\n          <TextField\r\n            {...params}\r\n            variant=\"outlined\"\r\n            placeholder={i18n.t(\"tickets.search.filterConections\")}\r\n          />\r\n        )}\r\n      />\r\n    </Box>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport { useTheme } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport {\r\n  makeStyles,\r\n  Paper,\r\n  InputBase,\r\n  Tabs,\r\n  Tab,\r\n  Badge,\r\n  IconButton,\r\n  Typography,\r\n  Grid,\r\n  Tooltip,\r\n  Switch,\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Group,\r\n  MoveToInbox as MoveToInboxIcon,\r\n  CheckBox as CheckBoxIcon,\r\n  MessageSharp as MessageSharpIcon,\r\n  AccessTime as ClockIcon,\r\n  Search as SearchIcon,\r\n  Add as AddIcon,\r\n  TextRotateUp,\r\n  TextRotationDown,\r\n} from \"@material-ui/icons\";\r\nimport VisibilityIcon from \"@material-ui/icons/Visibility\";\r\nimport VisibilityOffIcon from \"@material-ui/icons/VisibilityOff\";\r\nimport ToggleButton from \"@material-ui/lab/ToggleButton\";\r\n\r\nimport { FilterAltOff, FilterAlt, PlaylistAddCheckOutlined } from \"@mui/icons-material\";\r\n\r\nimport NewTicketModal from \"../NewTicketModal\";\r\nimport TicketsList from \"../TicketsListCustom\";\r\nimport TabPanel from \"../TabPanel\";\r\nimport { Can } from \"../Can\";\r\nimport TicketsQueueSelect from \"../TicketsQueueSelect\";\r\nimport { TagsFilter } from \"../TagsFilter\";\r\nimport { UsersFilter } from \"../UsersFilter\";\r\nimport { StatusFilter } from \"../StatusFilter\";\r\nimport { WhatsappsFilter } from \"../WhatsappsFilter\";\r\nimport { Button, Snackbar } from \"@material-ui/core\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { QueueSelectedContext } from \"../../context/QueuesSelected/QueuesSelectedContext\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  ticketsWrapper: {\r\n    position: \"relative\",\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n    overflow: \"hidden\",\r\n    borderTopRightRadius: 0,\r\n    borderBottomRightRadius: 0,\r\n  },\r\n\r\n  tabsHeader: {\r\n    minWidth: \"auto\",\r\n    width: \"auto\",\r\n    borderRadius: 8,\r\n    marginTop: theme.spacing(0.5),\r\n    marginBottom: theme.spacing(0.5),\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n    // backgroundColor: \"#eee\",\r\n    // backgroundColor: theme.palette.tabHeaderBackground,\r\n  },\r\n\r\n  settingsIcon: {\r\n    alignSelf: \"center\",\r\n    marginLeft: \"auto\",\r\n    padding: theme.spacing(1),\r\n  },\r\n\r\n  tab: {\r\n    minWidth: \"auto\",\r\n    width: \"auto\",\r\n    padding: theme.spacing(0.5, 1),\r\n    borderRadius: 8,\r\n    transition: \"0.3s\",\r\n    borderColor: \"#aaa\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    marginRight: theme.spacing(0.5),\r\n    marginLeft: theme.spacing(0.5),\r\n\r\n    [theme.breakpoints.down(\"lg\")]: {\r\n      fontSize: \"0.9rem\",\r\n      padding: theme.spacing(0.4, 0.8),\r\n      marginRight: theme.spacing(0.4),\r\n      marginLeft: theme.spacing(0.4),\r\n    },\r\n\r\n    [theme.breakpoints.down(\"md\")]: {\r\n      fontSize: \"0.8rem\",\r\n      padding: theme.spacing(0.3, 0.6),\r\n      marginRight: theme.spacing(0.3),\r\n      marginLeft: theme.spacing(0.3),\r\n    },\r\n\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(0, 0, 0, 0.1)\",\r\n    },\r\n\r\n    // \"&$selected\": {\r\n    //   color: \"#FFF\",\r\n    //   backgroundColor: theme.palette.primary.main,\r\n    // },\r\n  },\r\n\r\n  tabPanelItem: {\r\n    minWidth: \"33%\",\r\n    fontSize: 11,\r\n    marginLeft: 0,\r\n  },\r\n\r\n  tabIndicator: {\r\n    height: 6,\r\n    bottom: 0,\r\n    borderRadius: \"0 0 8px 8px\",\r\n    backgroundColor: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n  },\r\n  tabsBadge: {\r\n    top: \"105%\",\r\n    right: \"55%\",\r\n    transform: \"translate(45%, 0)\",\r\n    whiteSpace: \"nowrap\",\r\n    borderRadius: \"12px\",\r\n    padding: \"0 8px\",\r\n    backgroundColor: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n    color: theme.mode === \"light\" ? \"#FFF\" : theme.palette.primary.main,\r\n  },\r\n  ticketOptionsBox: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    alignItems: \"center\",\r\n    // background: \"#fafafa\",\r\n    background: theme.palette.optionsBackground,\r\n    borderRadius: 8,\r\n    borderColor: \"#aaa\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    marginTop: theme.spacing(0.5),\r\n    marginBottom: theme.spacing(1),\r\n    marginLeft: theme.spacing(1),\r\n    marginRight: theme.spacing(1),\r\n    padding: theme.spacing(0.5),\r\n  },\r\n\r\n  serachInputWrapper: {\r\n    flex: 1,\r\n    // background: \"#fff\",\r\n    height: 40,\r\n    background: theme.palette.total,\r\n    display: \"flex\",\r\n    borderRadius: 40,\r\n    padding: 4,\r\n    borderColor: \"#aaa\",\r\n    borderWidth: \"1px\",\r\n    borderStyle: \"solid\",\r\n    marginTop: theme.spacing(0.5),\r\n    marginBottom: theme.spacing(0.5),\r\n    marginLeft: theme.spacing(0.5),\r\n    marginRight: theme.spacing(0.5),\r\n  },\r\n\r\n  searchIcon: {\r\n    color: \"grey\",\r\n    marginLeft: 6,\r\n    marginRight: 6,\r\n    alignSelf: \"center\",\r\n  },\r\n\r\n  searchInput: {\r\n    flex: 1,\r\n    border: \"none\",\r\n    borderRadius: 30,\r\n  },\r\n\r\n  badge: {\r\n    // right: \"-10px\",\r\n  },\r\n\r\n  customBadge: {\r\n    right: \"-10px\",\r\n    backgroundColor: \"#f44336\",\r\n    color: \"#fff\",\r\n  },\r\n\r\n  show: {\r\n    display: \"block\",\r\n  },\r\n\r\n  hide: {\r\n    display: \"none !important\",\r\n  },\r\n\r\n  closeAllFab: {\r\n    backgroundColor: \"red\",\r\n    marginBottom: \"4px\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"darkred\",\r\n    },\r\n  },\r\n\r\n  speedDial: {\r\n    position: \"absolute\",\r\n    bottom: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n    \"& .MuiFab-root\": {\r\n      width: \"40px\",\r\n      height: \"40px\",\r\n      marginTop: \"4px\",\r\n    },\r\n    \"& .MuiFab-label\": {\r\n      width: \"100%\",\r\n      height: \"100%\",\r\n      display: \"flex\",\r\n      alignItems: \"center\",\r\n      justifyContent: \"center\",\r\n    },\r\n  },\r\n\r\n  snackbar: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: \"white\",\r\n    borderRadius: 30,\r\n    [theme.breakpoints.down(\"sm\")]: {\r\n      fontSize: \"0.8em\",\r\n    },\r\n    [theme.breakpoints.up(\"md\")]: {\r\n      fontSize: \"1em\",\r\n    },\r\n  },\r\n\r\n  yesButton: {\r\n    backgroundColor: \"#FFF\",\r\n    color: \"rgba(0, 100, 0, 1)\",\r\n    padding: \"4px 4px\",\r\n    fontSize: \"1em\",\r\n    fontWeight: \"bold\",\r\n    textTransform: \"uppercase\",\r\n    marginRight: theme.spacing(1),\r\n    \"&:hover\": {\r\n      backgroundColor: \"darkGreen\",\r\n      color: \"#FFF\",\r\n    },\r\n    borderRadius: 30,\r\n  },\r\n  noButton: {\r\n    backgroundColor: \"#FFF\",\r\n    color: \"rgba(139, 0, 0, 1)\",\r\n    padding: \"4px 4px\",\r\n    fontSize: \"1em\",\r\n    fontWeight: \"bold\",\r\n    textTransform: \"uppercase\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"darkRed\",\r\n      color: \"#FFF\",\r\n    },\r\n    borderRadius: 30,\r\n  },\r\n  filterIcon: {\r\n    marginRight: 6,\r\n    alignSelf: \"center\",\r\n    color: theme.mode === \"light\" ? \"#0872b9\" : \"#FFF\",\r\n    cursor: \"pointer\",\r\n  },\r\n  button: {\r\n    height: 30,\r\n    width: 30,\r\n    border: \"2px solid\",\r\n    borderColor: \"#aaa\",\r\n    borderRadius: 8,\r\n    marginRight: 8,\r\n    \"&:hover\": {\r\n      borderColor: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n    },\r\n  },\r\n  icon: {\r\n    color: \"#aaa\",\r\n    \"&:hover\": {\r\n      color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n    },\r\n  },\r\n  buttonOpen: {\r\n    \"& $icon\": {\r\n      color: theme.mode === \"light\" ? theme.palette.primary.main : \"#FFF\",\r\n    },\r\n  },\r\n}));\r\n\r\nconst TicketsManagerTabs = () => {\r\n  const theme = useTheme();\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [tab, setTab] = useState(\"open\");\r\n  // const [tabOpen, setTabOpen] = useState(\"open\");\r\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n  const [showAllTickets, setShowAllTickets] = useState(false);\r\n  const [sortTickets, setSortTickets] = useState(false);\r\n\r\n  const searchInputRef = useRef();\r\n  const [searchOnMessages, setSearchOnMessages] = useState(false);\r\n\r\n  const { user } = useContext(AuthContext);\r\n  const { profile } = user;\r\n  const { setSelectedQueuesMessage } = useContext(QueueSelectedContext);\r\n  const { tabOpen, setTabOpen } = useContext(TicketsContext);\r\n\r\n  const [openCount, setOpenCount] = useState(0);\r\n  const [pendingCount, setPendingCount] = useState(0);\r\n  const [groupingCount, setGroupingCount] = useState(0);\r\n\r\n  const userQueueIds = user.queues.map((q) => q.id);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n  const [selectedUsers, setSelectedUsers] = useState([]);\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState([]);\r\n  const [forceSearch, setForceSearch] = useState(false);\r\n  const [selectedStatus, setSelectedStatus] = useState([]);\r\n  const [filter, setFilter] = useState(false);\r\n  const [snackbarOpen, setSnackbarOpen] = useState(false);\r\n  const [hoveredButton, setHoveredButton] = useState(null);\r\n  const [isHoveredAll, setIsHoveredAll] = useState(false);\r\n  const [isHoveredNew, setIsHoveredNew] = useState(false);\r\n  const [isHoveredResolve, setIsHoveredResolve] = useState(false);\r\n  const [isHoveredOpen, setIsHoveredOpen] = useState(false);\r\n  const [isHoveredClosed, setIsHoveredClosed] = useState(false);\r\n  const [isHoveredSort, setIsHoveredSort] = useState(false);\r\n\r\n  const [isFilterActive, setIsFilterActive] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setSelectedQueuesMessage(selectedQueueIds);\r\n  }, [selectedQueueIds]);\r\n\r\n  useEffect(() => {\r\n    if (user.profile.toUpperCase() === \"ADMIN\" || user.allUserChat.toUpperCase() === \"ENABLED\") {\r\n      setShowAllTickets(false);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (tab === \"search\") {\r\n      searchInputRef.current.focus();\r\n    }\r\n    setForceSearch(!forceSearch);\r\n  }, [tab]);\r\n\r\n  let searchTimeout;\r\n\r\n  const handleSearch = (e) => {\r\n    const searchedTerm = e.target.value.toLowerCase();\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (searchedTerm === \"\") {\r\n      setSearchParam(searchedTerm);\r\n      setForceSearch(!forceSearch);\r\n      // setFilter(false);\r\n      setTab(\"open\");\r\n      return;\r\n    } else if (tab !== \"search\") {\r\n      handleFilter();\r\n      setTab(\"search\");\r\n    }\r\n\r\n    searchTimeout = setTimeout(() => {\r\n      setSearchParam(searchedTerm);\r\n      setForceSearch(!forceSearch);\r\n    }, 500);\r\n  };\r\n\r\n  const handleBack = () => {\r\n\r\n    history.push(\"/tickets\");\r\n  };\r\n\r\n  const handleChangeTab = (e, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleChangeTabOpen = (e, newValue) => {\r\n    // if (newValue === \"pending\" || newValue === \"group\") {\r\n    handleBack();\r\n    // }\r\n\r\n    setTabOpen(newValue);\r\n  };\r\n\r\n\r\n  const applyPanelStyle = (status) => {\r\n    if (tabOpen !== status) {\r\n      return { width: 0, height: 0 };\r\n    }\r\n  };\r\n\r\n  const handleSnackbarOpen = () => {\r\n    setSnackbarOpen(true);\r\n  };\r\n\r\n  const handleSnackbarClose = () => {\r\n    setSnackbarOpen(false);\r\n  };\r\n\r\n  const CloseAllTicket = async () => {\r\n    try {\r\n      const { data } = await api.post(\"/tickets/closeAll\", {\r\n        status: tabOpen,\r\n        selectedQueueIds,\r\n      });\r\n      handleSnackbarClose();\r\n    } catch (err) {\r\n      console.log(\"Error: \", err);\r\n    }\r\n  };\r\n\r\n  const handleCloseOrOpenTicket = (ticket) => {\r\n    setNewTicketModalOpen(false);\r\n    if (ticket !== undefined && ticket.uuid !== undefined) {\r\n      history.push(`/tickets/${ticket.uuid}`);\r\n    }\r\n  };\r\n\r\n  const handleSelectedTags = (selecteds) => {\r\n    const tags = selecteds.map((t) => t.id);\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (tags.length === 0) {\r\n      setForceSearch(!forceSearch);\r\n    } else if (tab !== \"search\") {\r\n      setTab(\"search\");\r\n    }\r\n\r\n    searchTimeout = setTimeout(() => {\r\n      setSelectedTags(tags);\r\n      setForceSearch(!forceSearch);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSelectedUsers = (selecteds) => {\r\n    const users = selecteds.map((t) => t.id);\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (users.length === 0) {\r\n      setForceSearch(!forceSearch);\r\n    } else if (tab !== \"search\") {\r\n      setTab(\"search\");\r\n    }\r\n    searchTimeout = setTimeout(() => {\r\n      setSelectedUsers(users);\r\n      setForceSearch(!forceSearch);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSelectedWhatsapps = (selecteds) => {\r\n    const whatsapp = selecteds.map((t) => t.id);\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (whatsapp.length === 0) {\r\n      setForceSearch(!forceSearch);\r\n    } else if (tab !== \"search\") {\r\n      setTab(\"search\");\r\n    }\r\n    searchTimeout = setTimeout(() => {\r\n      setSelectedWhatsapp(whatsapp);\r\n      setForceSearch(!forceSearch);\r\n    }, 500);\r\n  };\r\n\r\n  const handleSelectedStatus = (selecteds) => {\r\n    const statusFilter = selecteds.map((t) => t.status);\r\n\r\n    clearTimeout(searchTimeout);\r\n\r\n    if (statusFilter.length === 0) {\r\n      setForceSearch(!forceSearch);\r\n    } else if (tab !== \"search\") {\r\n      setTab(\"search\");\r\n    }\r\n\r\n    searchTimeout = setTimeout(() => {\r\n      setSelectedStatus(statusFilter);\r\n      setForceSearch(!forceSearch);\r\n    }, 500);\r\n  };\r\n\r\n  const handleFilter = () => {\r\n    if (filter) {\r\n      setFilter(false);\r\n      setTab(\"open\");\r\n    } else setFilter(true);\r\n    setTab(\"search\");\r\n  };\r\n\r\n  const [open, setOpen] = React.useState(false);\r\n  const [hidden, setHidden] = React.useState(false);\r\n\r\n  const handleVisibility = () => {\r\n    setHidden((prevHidden) => !prevHidden);\r\n  };\r\n\r\n  const handleOpen = () => {\r\n    setOpen(true);\r\n  };\r\n\r\n  const handleClosed = () => {\r\n    setOpen(false);\r\n  };\r\n\r\n  const tooltipTitleStyle = {\r\n    fontSize: \"10px\",\r\n  };\r\n\r\n  return (\r\n    <Paper elevation={0} variant=\"outlined\" className={classes.ticketsWrapper}>\r\n      <NewTicketModal\r\n        modalOpen={newTicketModalOpen}\r\n        onClose={(ticket) => {\r\n          handleCloseOrOpenTicket(ticket);\r\n        }}\r\n      />\r\n      <div className={classes.serachInputWrapper}>\r\n        <SearchIcon className={classes.searchIcon} />\r\n        <InputBase\r\n          className={classes.searchInput}\r\n          inputRef={searchInputRef}\r\n          placeholder={i18n.t(\"tickets.search.placeholder\")}\r\n          type=\"search\"\r\n          onChange={handleSearch}\r\n        />\r\n        <Tooltip placement=\"top\" title=\"Marque para pesquisar também nos conteúdos das mensagens (mais lento)\">\r\n          <div>\r\n            <Switch\r\n              size=\"small\"\r\n              checked={searchOnMessages}\r\n              onChange={(e) => { setSearchOnMessages(e.target.checked) }}\r\n            />\r\n          </div>\r\n        </Tooltip>\r\n        {/* <IconButton\r\n          className={classes.filterIcon}\r\n          color=\"primary\"\r\n          aria-label=\"upload picture\"\r\n          component=\"span\"\r\n          onClick={handleFilter}\r\n        >\r\n          <FilterListIcon />\r\n        </IconButton> */}\r\n        {/* <FilterListIcon\r\n          className={classes.filterIcon}\r\n          color=\"primary\"\r\n          aria-label=\"upload picture\"\r\n          component=\"span\"\r\n          onClick={handleFilter}\r\n        /> */}\r\n        <IconButton\r\n          style={{\r\n            backgroundColor: \"transparent\",\r\n            boxShadow: \"none\",\r\n            border: \"none\",\r\n            borderRadius: \"50%\",\r\n            justifyContent: \"flex-end\",\r\n            alignItems: \"center\",\r\n          }}\r\n          variant=\"contained\"\r\n          aria-label=\"filter\"\r\n          className={classes.filterIcon}\r\n          onClick={() => {\r\n            setIsFilterActive((prevState) => !prevState);\r\n            handleFilter();\r\n          }}\r\n        >\r\n          {isFilterActive ? (\r\n            <FilterAlt className={classes.icon} />\r\n          ) : (\r\n            <FilterAltOff className={classes.icon} />\r\n          )}\r\n        </IconButton>\r\n      </div>\r\n\r\n      {filter === true && (\r\n        <>\r\n          <TagsFilter onFiltered={handleSelectedTags} />\r\n          <WhatsappsFilter onFiltered={handleSelectedWhatsapps} />\r\n          <StatusFilter onFiltered={handleSelectedStatus} />\r\n          {profile === \"admin\" && (\r\n            <>\r\n              <UsersFilter onFiltered={handleSelectedUsers} />\r\n            </>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* <Paper elevation={0} square className={classes.tabsHeader}>\r\n        <Tabs\r\n          value={tab}\r\n          onChange={handleChangeTab}\r\n          variant=\"fullWidth\"\r\n          textColor=\"primary\"\r\n          aria-label=\"icon label tabs example\"\r\n          classes={{ indicator: classes.tabIndicator }}\r\n        >\r\n          <Tab\r\n            value={\"open\"}\r\n            icon={<MoveToInboxIcon />}\r\n            label={i18n.t(\"tickets.tabs.open.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n          <Tab\r\n            value={\"closed\"}\r\n            icon={<CheckBoxIcon />}\r\n            label={i18n.t(\"tickets.tabs.closed.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n          <Tab\r\n            value={\"search\"}\r\n            icon={<SearchIcon />}\r\n            label={i18n.t(\"tickets.tabs.search.title\")}\r\n            classes={{ root: classes.tab }}\r\n          />\r\n        </Tabs>\r\n      </Paper> */}\r\n      <Paper square elevation={0} className={classes.ticketOptionsBox}>\r\n        <Grid container alignItems=\"center\" justifyContent=\"space-between\">\r\n          <Grid item>\r\n            <Can\r\n              role={user.allUserChat === 'enabled' && user.profile === 'user' ? 'admin' : user.profile}\r\n              perform=\"tickets-manager:showall\"\r\n              yes={() => (\r\n                <Badge\r\n                  color=\"primary\"\r\n                  invisible={\r\n                    !isHoveredAll ||\r\n                    isHoveredNew ||\r\n                    isHoveredResolve ||\r\n                    isHoveredOpen ||\r\n                    isHoveredClosed\r\n                  }\r\n                  badgeContent={\"Todos\"}\r\n                  classes={{ badge: classes.tabsBadge }}\r\n                >\r\n                  <ToggleButton\r\n                    onMouseEnter={() => setIsHoveredAll(true)}\r\n                    onMouseLeave={() => setIsHoveredAll(false)}\r\n                    className={classes.button}\r\n                    value=\"uncheck\"\r\n                    selected={showAllTickets}\r\n                    onChange={() =>\r\n                      setShowAllTickets((prevState) => !prevState)\r\n                    }\r\n                  >\r\n                    {showAllTickets ? (\r\n                      <VisibilityIcon className={classes.icon} />\r\n                    ) : (\r\n                      <VisibilityOffIcon className={classes.icon} />\r\n                    )}\r\n                  </ToggleButton>\r\n                </Badge>\r\n              )}\r\n            />\r\n            <Snackbar\r\n              open={snackbarOpen}\r\n              onClose={handleSnackbarClose}\r\n              message={i18n.t(\"tickets.inbox.closedAllTickets\")}\r\n              ContentProps={{\r\n                className: classes.snackbar,\r\n              }}\r\n              action={\r\n                <>\r\n                  <Button\r\n                    className={classes.yesButton}\r\n                    size=\"small\"\r\n                    onClick={CloseAllTicket}\r\n                  >\r\n                    {i18n.t(\"tickets.inbox.yes\")}\r\n                  </Button>\r\n                  <Button\r\n                    className={classes.noButton}\r\n                    size=\"small\"\r\n                    onClick={handleSnackbarClose}\r\n                  >\r\n                    {i18n.t(\"tickets.inbox.no\")}\r\n                  </Button>\r\n                </>\r\n              }\r\n            />\r\n            <Badge\r\n              color=\"primary\"\r\n              invisible={\r\n                isHoveredAll ||\r\n                !isHoveredNew ||\r\n                isHoveredResolve ||\r\n                isHoveredOpen ||\r\n                isHoveredClosed\r\n              }\r\n              badgeContent={i18n.t(\"tickets.inbox.newTicket\")}\r\n              classes={{ badge: classes.tabsBadge }}\r\n            >\r\n              <IconButton\r\n                onMouseEnter={() => setIsHoveredNew(true)}\r\n                onMouseLeave={() => setIsHoveredNew(false)}\r\n                className={classes.button}\r\n                onClick={() => {\r\n                  setNewTicketModalOpen(true);\r\n                }}\r\n              >\r\n                <AddIcon className={classes.icon} />\r\n              </IconButton>\r\n            </Badge>\r\n            {user.profile === \"admin\" && (\r\n              <Badge\r\n                color=\"primary\"\r\n                invisible={\r\n                  isHoveredAll ||\r\n                  isHoveredNew ||\r\n                  !isHoveredResolve ||\r\n                  isHoveredOpen ||\r\n                  isHoveredClosed\r\n                }\r\n                badgeContent={i18n.t(\"tickets.inbox.closedAll\")}\r\n                classes={{ badge: classes.tabsBadge }}\r\n              >\r\n                <IconButton\r\n                  onMouseEnter={() => setIsHoveredResolve(true)}\r\n                  onMouseLeave={() => setIsHoveredResolve(false)}\r\n                  className={classes.button}\r\n                  onClick={handleSnackbarOpen}\r\n                >\r\n                  <PlaylistAddCheckOutlined style={{ color: theme.mode === \"light\" ? \"green\" : \"#FFF\" }} />\r\n                </IconButton>\r\n              </Badge>\r\n            )}\r\n            <Badge\r\n              // color=\"primary\"\r\n              invisible={\r\n                !(\r\n                  tab === \"open\" &&\r\n                  !isHoveredAll &&\r\n                  !isHoveredNew &&\r\n                  !isHoveredResolve &&\r\n                  !isHoveredClosed &&\r\n                  !isHoveredSort\r\n                ) && !isHoveredOpen\r\n              }\r\n              badgeContent={i18n.t(\"tickets.inbox.open\")}\r\n              classes={{ badge: classes.tabsBadge }}\r\n            >\r\n              <IconButton\r\n                onMouseEnter={() => {\r\n                  setIsHoveredOpen(true);\r\n                  setHoveredButton(\"open\");\r\n                }}\r\n                onMouseLeave={() => {\r\n                  setIsHoveredOpen(false);\r\n                  setHoveredButton(null);\r\n                }}\r\n                style={{\r\n                  height: 30,\r\n                  width: 30,\r\n                  border: isHoveredOpen\r\n                    ? theme.mode === \"light\"\r\n                      ? \"3px solid \" + theme.palette.primary.main\r\n                      : \"3px solid #FFF\"\r\n                    : tab === \"open\"\r\n                      ? theme.mode === \"light\"\r\n                        ? \"3px solid \" + theme.palette.primary.main\r\n                        : \"3px solid #FFF\"\r\n                      : theme.mode === \"light\"\r\n                        ? \"2px solid #aaa\"\r\n                        : \"2px solid #aaa\",\r\n                  borderRadius: 8,\r\n                  marginRight: 8,\r\n                }}\r\n                onClick={() => handleChangeTab(null, \"open\")}\r\n              >\r\n                <MoveToInboxIcon\r\n                  style={{\r\n                    color: isHoveredOpen\r\n                      ? theme.mode === \"light\"\r\n                        ? theme.palette.primary.main\r\n                        : \"#FFF\"\r\n                      : tab === \"open\"\r\n                        ? theme.mode === \"light\"\r\n                          ? theme.palette.primary.main\r\n                          : \"#FFF\"\r\n                        : \"#aaa\",\r\n                  }}\r\n                />\r\n              </IconButton>\r\n            </Badge>\r\n\r\n            <Badge\r\n              color=\"primary\"\r\n              invisible={\r\n                !(\r\n                  tab === \"closed\" &&\r\n                  !isHoveredAll &&\r\n                  !isHoveredNew &&\r\n                  !isHoveredResolve &&\r\n                  !isHoveredOpen &&\r\n                  !isHoveredSort\r\n                ) && !isHoveredClosed\r\n              }\r\n              badgeContent={i18n.t(\"tickets.inbox.resolverd\")}\r\n              classes={{ badge: classes.tabsBadge }}\r\n            >\r\n              <IconButton\r\n                onMouseEnter={() => {\r\n                  setIsHoveredClosed(true);\r\n                  setHoveredButton(\"closed\");\r\n                }}\r\n                onMouseLeave={() => {\r\n                  setIsHoveredClosed(false);\r\n                  setHoveredButton(null);\r\n                }}\r\n                style={{\r\n                  height: 30,\r\n                  width: 30,\r\n                  border: isHoveredClosed\r\n                    ? theme.mode === \"light\"\r\n                      ? \"3px solid \" + theme.palette.primary.main\r\n                      : \"3px solid #FFF\"\r\n                    : tab === \"closed\"\r\n                      ? theme.mode === \"light\"\r\n                        ? \"3px solid \" + theme.palette.primary.main\r\n                        : \"3px solid #FFF\"\r\n                      : theme.mode === \"light\"\r\n                        ? \"2px solid #aaa\"\r\n                        : \"2px solid #aaa\",\r\n                  borderRadius: 8,\r\n                  marginRight: 8,\r\n                }}\r\n                onClick={() => handleChangeTab(null, \"closed\")}\r\n              >\r\n                <CheckBoxIcon\r\n                  style={{\r\n                    color: isHoveredClosed\r\n                      ? theme.mode === \"light\"\r\n                        ? theme.palette.primary.main\r\n                        : \"#FFF\"\r\n                      : tab === \"closed\"\r\n                        ? theme.mode === \"light\"\r\n                          ? theme.palette.primary.main\r\n                          : \"#FFF\"\r\n                        : \"#aaa\",\r\n                  }}\r\n                />\r\n              </IconButton>\r\n            </Badge>\r\n            {tab !== \"closed\" && tab !== \"search\" && (\r\n              <Badge\r\n                color=\"primary\"\r\n                invisible={\r\n                  !isHoveredSort ||\r\n                  isHoveredAll ||\r\n                  isHoveredNew ||\r\n                  isHoveredResolve ||\r\n                  isHoveredOpen ||\r\n                  isHoveredClosed\r\n                }\r\n                badgeContent={!sortTickets ? \"Crescente\" : \"Decrescente\"}\r\n                classes={{ badge: classes.tabsBadge }}\r\n              >\r\n                <ToggleButton\r\n                  onMouseEnter={() => setIsHoveredSort(true)}\r\n                  onMouseLeave={() => setIsHoveredSort(false)}\r\n                  className={classes.button}\r\n                  value=\"uncheck\"\r\n                  selected={sortTickets}\r\n                  onChange={() =>\r\n                    setSortTickets((prevState) => !prevState)\r\n                  }\r\n                >\r\n                  {!sortTickets ? (\r\n                    <TextRotateUp style={{\r\n                      color: sortTickets\r\n                        ? theme.mode === \"light\"\r\n                          ? theme.palette.primary.main\r\n                          : \"#FFF\"\r\n                        : \"#aaa\",\r\n                    }} />\r\n                  ) : (\r\n                    <TextRotationDown style={{\r\n                      color: sortTickets\r\n                        ? theme.mode === \"light\"\r\n                          ? theme.palette.primary.main\r\n                          : \"#FFF\"\r\n                        : \"#aaa\",\r\n                    }} />\r\n                  )}\r\n                </ToggleButton>\r\n              </Badge>\r\n            )}\r\n          </Grid>\r\n          <Grid item>\r\n            <TicketsQueueSelect\r\n              selectedQueueIds={selectedQueueIds}\r\n              userQueues={user?.queues}\r\n              onChange={(values) => setSelectedQueueIds(values)}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n      <TabPanel value={tab} name=\"open\" className={classes.ticketsWrapper}>\r\n        <Tabs\r\n          value={tabOpen}\r\n          onChange={handleChangeTabOpen}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          variant=\"fullWidth\"\r\n        >\r\n          {/* ATENDENDO */}\r\n          <Tab\r\n            label={\r\n              <Grid container alignItems=\"center\" justifyContent=\"center\">\r\n                <Grid item>\r\n                  <Badge\r\n                    overlap=\"rectangular\"\r\n                    classes={{ badge: classes.customBadge }}\r\n                    badgeContent={openCount}\r\n                    color=\"primary\"\r\n                  >\r\n                    <MessageSharpIcon\r\n                      style={{\r\n                        fontSize: 18,\r\n                      }}\r\n                    />\r\n                  </Badge>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Typography\r\n                    style={{\r\n                      marginLeft: 8,\r\n                      fontSize: 10,\r\n                      fontWeight: 600,\r\n                    }}\r\n                  >\r\n                    {i18n.t(\"ticketsList.assignedHeader\")}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            }\r\n            value={\"open\"}\r\n            name=\"open\"\r\n            classes={{ root: classes.tabPanelItem }}\r\n          />\r\n\r\n          {/* AGUARDANDO */}\r\n          <Tab\r\n            label={\r\n              <Grid container alignItems=\"center\" justifyContent=\"center\">\r\n                <Grid item>\r\n                  <Badge\r\n                    overlap=\"rectangular\"\r\n                    classes={{ badge: classes.customBadge }}\r\n                    badgeContent={pendingCount}\r\n                    color=\"primary\"\r\n                  >\r\n                    <ClockIcon\r\n                      style={{\r\n                        fontSize: 18,\r\n                      }}\r\n                    />\r\n                  </Badge>\r\n                </Grid>\r\n                <Grid item>\r\n                  <Typography\r\n                    style={{\r\n                      marginLeft: 8,\r\n                      fontSize: 10,\r\n                      fontWeight: 600,\r\n                    }}\r\n                  >\r\n                    {i18n.t(\"ticketsList.pendingHeader\")}\r\n                  </Typography>\r\n                </Grid>\r\n              </Grid>\r\n            }\r\n            value={\"pending\"}\r\n            name=\"pending\"\r\n            classes={{ root: classes.tabPanelItem }}\r\n          />\r\n\r\n          {/* GRUPOS */}\r\n          {user.allowGroup && (\r\n            <Tab\r\n              label={\r\n                <Grid container alignItems=\"center\" justifyContent=\"center\">\r\n                  <Grid item>\r\n                    <Badge\r\n                      overlap=\"rectangular\"\r\n                      classes={{ badge: classes.customBadge }}\r\n                      badgeContent={groupingCount}\r\n                      color=\"primary\"\r\n                    >\r\n                      <Group\r\n                        style={{\r\n                          fontSize: 18,\r\n                        }}\r\n                      />\r\n                    </Badge>\r\n                  </Grid>\r\n                  <Grid item>\r\n                    <Typography\r\n                      style={{\r\n                        marginLeft: 8,\r\n                        fontSize: 10,\r\n                        fontWeight: 600,\r\n                      }}\r\n                    >\r\n                      {i18n.t(\"ticketsList.groupingHeader\")}\r\n                    </Typography>\r\n                  </Grid>\r\n                </Grid>\r\n              }\r\n              value={\"group\"}\r\n              name=\"group\"\r\n              classes={{ root: classes.tabPanelItem }}\r\n            />\r\n          )}\r\n        </Tabs>\r\n\r\n        <Paper className={classes.ticketsWrapper}>\r\n          <TicketsList\r\n            status=\"open\"\r\n            showAll={showAllTickets}\r\n            sortTickets={sortTickets ? \"ASC\" : \"DESC\"}\r\n            selectedQueueIds={selectedQueueIds}\r\n            updateCount={(val) => setOpenCount(val)}\r\n            style={applyPanelStyle(\"open\")}\r\n            setTabOpen={setTabOpen}\r\n          />\r\n          <TicketsList\r\n            status=\"pending\"\r\n            selectedQueueIds={selectedQueueIds}\r\n            sortTickets={sortTickets ? \"ASC\" : \"DESC\"}\r\n            showAll={user.profile === \"admin\" || user.allUserChat === 'enabled' ? showAllTickets : false}\r\n            updateCount={(val) => setPendingCount(val)}\r\n            style={applyPanelStyle(\"pending\")}\r\n            setTabOpen={setTabOpen}\r\n          />\r\n          {user.allowGroup && (\r\n            <TicketsList\r\n              status=\"group\"\r\n              showAll={showAllTickets}\r\n              sortTickets={sortTickets ? \"ASC\" : \"DESC\"}\r\n              selectedQueueIds={selectedQueueIds}\r\n              updateCount={(val) => setGroupingCount(val)}\r\n              style={applyPanelStyle(\"group\")}\r\n              setTabOpen={setTabOpen}\r\n            />\r\n          )}\r\n        </Paper>\r\n      </TabPanel>\r\n      <TabPanel value={tab} name=\"closed\" className={classes.ticketsWrapper}>\r\n        <TicketsList\r\n          status=\"closed\"\r\n          showAll={showAllTickets}\r\n          selectedQueueIds={selectedQueueIds}\r\n          setTabOpen={setTabOpen}\r\n        />\r\n      </TabPanel>\r\n      <TabPanel value={tab} name=\"search\" className={classes.ticketsWrapper}>\r\n        {profile === \"admin\" && (\r\n          <>\r\n            <TicketsList\r\n              statusFilter={selectedStatus}\r\n              searchParam={searchParam}\r\n              showAll={showAllTickets}\r\n              tags={selectedTags}\r\n              users={selectedUsers}\r\n              selectedQueueIds={selectedQueueIds}\r\n              whatsappIds={selectedWhatsapp}\r\n              forceSearch={forceSearch}\r\n              searchOnMessages={searchOnMessages}\r\n              status=\"search\"\r\n              setTabOpen={(value) => {\r\n                setTabOpen(value);\r\n                handleFilter();\r\n              }}\r\n            />\r\n          </>\r\n        )}\r\n\r\n        {profile === \"user\" && (\r\n          <TicketsList\r\n            statusFilter={selectedStatus}\r\n            searchParam={searchParam}\r\n            showAll={false}\r\n            tags={selectedTags}\r\n            selectedQueueIds={selectedQueueIds}\r\n            whatsappIds={selectedWhatsapp}\r\n            forceSearch={forceSearch}\r\n            searchOnMessages={searchOnMessages}\r\n            status=\"search\"\r\n            setTabOpen={(value) => {\r\n              setTabOpen(value);\r\n              handleFilter();\r\n            }}\r\n          />\r\n        )}\r\n      </TabPanel>\r\n    </Paper >\r\n  );\r\n};\r\n\r\nexport default TicketsManagerTabs;\r\n","import Hidden from \"@material-ui/core/Hidden\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport Ticket from \"../../components/Ticket\";\r\nimport TicketsManager from \"../../components/TicketsManagerTabs\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { QueueSelectedProvider } from \"../../context/QueuesSelected/QueuesSelectedContext\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst defaultTicketsManagerWidth = 550;\r\nconst minTicketsManagerWidth = 404;\r\nconst maxTicketsManagerWidth = 700;\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  chatContainer: {\r\n    flex: 1,\r\n    padding: \"2px\",\r\n    height: `100dvh`,\r\n    overflowY: \"hidden\",\r\n  },\r\n  chatContainerHorizontal: {\r\n    padding: \"2px\",\r\n    overflowY: \"hidden\",\r\n    height: \"calc(100% - 48px)\",\r\n  },\r\n  chatPapper: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n  },\r\n  contactsWrapper: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n    overflowY: \"hidden\",\r\n    position: \"relative\",\r\n  },\r\n  messagesWrapper: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n    flexDirection: \"column\",\r\n    flexGrow: 1,\r\n  },\r\n  welcomeMsg: {\r\n    background: theme.palette.tabHeaderBackground,\r\n    display: \"flex\",\r\n    justifyContent: \"space-evenly\",\r\n    alignItems: \"center\",\r\n    height: \"100%\",\r\n    textAlign: \"center\",\r\n  },\r\n  dragger: {\r\n    width: \"5px\",\r\n    cursor: \"ew-resize\",\r\n    padding: \"4px 0 0\",\r\n    borderTop: \"1px solid #ddd\",\r\n    position: \"absolute\",\r\n    top: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    zIndex: 100,\r\n    backgroundColor: \"#f4f7f9\",\r\n    userSelect: \"none\", // Evita a seleção de texto no elemento de redimensionamento\r\n  },\r\n  logo: {\r\n    logo: theme.logo,\r\n    content:\r\n      \"url(\" +\r\n      (theme.mode === \"light\"\r\n        ? theme.calculatedLogoLight()\r\n        : theme.calculatedLogoDark()) +\r\n      \")\",\r\n  },\r\n}));\r\n\r\nconst TicketsCustom = () => {\r\n  const { user, isHorizontal } = useContext(AuthContext);\r\n\r\n  const classes = useStyles({\r\n    ticketsManagerWidth:\r\n      user.defaultTicketsManagerWidth || defaultTicketsManagerWidth,\r\n  });\r\n\r\n  const { ticketId } = useParams();\r\n\r\n  const [ticketsManagerWidth, setTicketsManagerWidth] = useState(0);\r\n  const ticketsManagerWidthRef = useRef(ticketsManagerWidth);\r\n\r\n  useEffect(() => {\r\n    if (user && user.defaultTicketsManagerWidth) {\r\n      setTicketsManagerWidth(user.defaultTicketsManagerWidth);\r\n    }\r\n  }, [user]);\r\n\r\n  // useEffect(() => {\r\n  // \tif (ticketId && currentTicket.uuid === undefined) {\r\n  // \t\thistory.push(\"/tickets\");\r\n  // \t}\r\n  // }, [ticketId, currentTicket.uuid, history]);\r\n\r\n  const handleMouseDown = (e) => {\r\n    document.addEventListener(\"mouseup\", handleMouseUp, true);\r\n    document.addEventListener(\"mousemove\", handleMouseMove, true);\r\n  };\r\n  const handleSaveContact = async (value) => {\r\n    if (value < 404) value = 404;\r\n    await api.put(`/users/toggleChangeWidht/${user.id}`, {\r\n      defaultTicketsManagerWidth: value,\r\n    });\r\n  };\r\n  const handleMouseMove = useCallback((e) => {\r\n    const newWidth = e.clientX - document.body.offsetLeft;\r\n    if (\r\n      newWidth > minTicketsManagerWidth &&\r\n      newWidth < maxTicketsManagerWidth\r\n    ) {\r\n      ticketsManagerWidthRef.current = newWidth;\r\n      setTicketsManagerWidth(newWidth);\r\n    }\r\n  }, []);\r\n\r\n  const handleMouseUp = async () => {\r\n    document.removeEventListener(\"mouseup\", handleMouseUp, true);\r\n    document.removeEventListener(\"mousemove\", handleMouseMove, true);\r\n\r\n    const newWidth = ticketsManagerWidthRef.current;\r\n\r\n    if (newWidth !== ticketsManagerWidth) {\r\n      await handleSaveContact(newWidth);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <QueueSelectedProvider>\r\n      <div\r\n        className={\r\n          isHorizontal ? classes.chatContainerHorizontal : classes.chatContainer\r\n        }\r\n      >\r\n        <div className={classes.chatPapper}>\r\n          <div\r\n            className={classes.contactsWrapper}\r\n            style={{ width: ticketsManagerWidth }}\r\n          >\r\n            <TicketsManager />\r\n            <div\r\n              onMouseDown={(e) => handleMouseDown(e)}\r\n              className={classes.dragger}\r\n            />\r\n          </div>\r\n          <div className={classes.messagesWrapper}>\r\n            {ticketId ? (\r\n              <>\r\n                {/* <Suspense fallback={<CircularProgress />}> */}\r\n                <Ticket />\r\n                {/* </Suspense> */}\r\n              </>\r\n            ) : (\r\n              <Hidden only={[\"sm\", \"xs\"]}>\r\n                <Paper square variant=\"outlined\" className={classes.welcomeMsg}>\r\n                  <span>\r\n                    <center>\r\n                      <img className={classes.logo} width=\"50%\" alt=\"\" />\r\n                    </center>\r\n                    {i18n.t(\"chat.noTicketMessage\")}\r\n                  </span>{\" \"}\r\n                </Paper>\r\n              </Hidden>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </QueueSelectedProvider>\r\n  );\r\n};\r\n\r\nexport default TicketsCustom;\r\n","import { styled } from '@material-ui/core/styles';\r\nimport Paper from '@material-ui/core/Paper';\r\n\r\nconst TicketAdvancedLayout = styled(Paper)({\r\n    height: `calc(100% - 48px)`,\r\n    display: \"grid\",\r\n    gridTemplateRows: \"56px 1fr\"\r\n})\r\n\r\nexport default TicketAdvancedLayout;","import React, { useState, useEffect, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Button from '@material-ui/core/Button';\r\nimport Box from '@material-ui/core/Box';\r\nimport BottomNavigation from '@material-ui/core/BottomNavigation';\r\nimport BottomNavigationAction from '@material-ui/core/BottomNavigationAction';\r\nimport QuestionAnswerIcon from '@material-ui/icons/QuestionAnswer';\r\nimport ChatIcon from '@material-ui/icons/Chat';\r\n\r\nimport TicketsManagerTabs from \"../../components/TicketsManagerTabs\";\r\nimport Ticket from \"../../components/Ticket\";\r\nimport TicketAdvancedLayout from \"../../components/TicketAdvancedLayout\";\r\n\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { QueueSelectedProvider } from \"../../context/QueuesSelected/QueuesSelectedContext\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    header: {\r\n    },\r\n    content: {\r\n        overflow: \"auto\"\r\n    },\r\n    placeholderContainer: {\r\n        display: \"flex\",\r\n        flexDirection: \"column\",\r\n        alignItems: \"center\",\r\n        justifyContent: \"center\",\r\n        height: \"100%\",\r\n        // backgroundColor: \"#eee\"\r\n        background: theme.palette.tabHeaderBackground,\r\n    },\r\n    placeholderItem: {\r\n    }\r\n}));\r\n\r\nconst TicketAdvanced = (props) => {\r\n    const classes = useStyles();\r\n    const { ticketId } = useParams();\r\n    const [option, setOption] = useState(0);\r\n    const { currentTicket, setCurrentTicket } = useContext(TicketsContext)\r\n\r\n    useEffect(() => {\r\n        if (currentTicket.id !== null) {\r\n            setCurrentTicket({ id: currentTicket.id, code: '#open' })\r\n        }\r\n        if (!ticketId) {\r\n            setOption(1)\r\n        }\r\n        return () => {\r\n            setCurrentTicket({ id: null, code: null })\r\n        }\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        if (currentTicket.id !== null) {\r\n            setOption(0)\r\n        }\r\n    }, [currentTicket])\r\n\r\n    const renderPlaceholder = () => {\r\n        return <Box className={classes.placeholderContainer}>\r\n            <div className={classes.placeholderItem}>{i18n.t(\"chat.noTicketMessage\")}</div><br />\r\n            <Button onClick={() => setOption(1)} variant=\"contained\" color=\"primary\">\r\n                Selecionar Ticket\r\n            </Button>\r\n        </Box>\r\n    }\r\n\r\n    const renderMessageContext = () => {\r\n        if (ticketId && ticketId !== \"undefined\") {\r\n            return <Ticket />\r\n        }\r\n        return renderPlaceholder()\r\n    }\r\n\r\n    const renderTicketsManagerTabs = () => {\r\n        return <TicketsManagerTabs\r\n        />\r\n    }\r\n\r\n    return (\r\n        <QueueSelectedProvider>\r\n\r\n            <TicketAdvancedLayout>\r\n                <Box className={classes.header}>\r\n                    <BottomNavigation\r\n                        value={option}\r\n                        onChange={(event, newValue) => {\r\n                            setOption(newValue);\r\n                        }}\r\n                        showLabels\r\n                        className={classes.root}\r\n                    >\r\n                        <BottomNavigationAction label=\"Ticket\" icon={<ChatIcon />} />\r\n                        <BottomNavigationAction label=\"Atendimentos\" icon={<QuestionAnswerIcon />} />\r\n                    </BottomNavigation>\r\n                </Box>\r\n                <Box className={classes.content}>\r\n                    {option === 0 ? renderMessageContext() : renderTicketsManagerTabs()}\r\n                </Box>\r\n            </TicketAdvancedLayout>\r\n        </QueueSelectedProvider>\r\n    );\r\n};\r\n\r\nexport default TicketAdvanced;\r\n","import React from \"react\";\r\nimport withWidth, { isWidthUp } from '@material-ui/core/withWidth';\r\n\r\nimport Tickets from \"../TicketsCustom\"\r\nimport TicketAdvanced from \"../TicketsAdvanced\";\r\n\r\nfunction TicketResponsiveContainer (props) {\r\n     if (isWidthUp('md', props.width)) {\r\n        return <Tickets />;    \r\n    }\r\n    return <TicketAdvanced />\r\n}\r\n\r\nexport default withWidth()(TicketResponsiveContainer);","export const countryRules = {\r\n  af: { maxLength: 10, code: \"AF\" }, // Afeganistão (+93 XXXXXXXX)\r\n  al: { maxLength: 12, code: \"AL\" }, // Albânia (+355 XXXXXXXX)\r\n  dz: { maxLength: 11, code: \"DZ\" }, // Argélia (+213 XXXXXXXX)\r\n  as: { maxLength: 11, code: \"AS\" }, // Samoa Americana (+1-684 XXXXXXX)\r\n  ad: { maxLength: 10, code: \"AD\" }, // Andorra (+376 XXXXXXX)\r\n  ao: { maxLength: 12, code: \"AO\" }, // Angola (+244 XXXXXXXX)\r\n  ai: { maxLength: 11, code: \"AI\" }, // Anguilla (+1-264 XXXXXXX)\r\n  ag: { maxLength: 11, code: \"AG\" }, // Antígua e Barbuda (+1-268 XXXXXXX)\r\n  ar: { maxLength: 14, code: \"AR\" }, // Argentina (+54 9 XXXXXXXX)\r\n  am: { maxLength: 11, code: \"AM\" }, // Armênia (+374 XXXXXXXX)\r\n  aw: { maxLength: 10, code: \"AW\" }, // Aruba (+297 XXXXXXX)\r\n  au: { maxLength: 11, code: \"AU\" }, // Austrália (+61 XXXXXXXXX)\r\n  at: { maxLength: 13, code: \"AT\" }, // Áustria (+43 XXXXXXXX)\r\n  az: { maxLength: 12, code: \"AZ\" }, // Azerbaijão (+994 XXXXXXXX)\r\n  bs: { maxLength: 11, code: \"BS\" }, // Bahamas (+1-242 XXXXXXX)\r\n  bh: { maxLength: 11, code: \"BH\" }, // Bahrein (+973 XXXXXXXX)\r\n  bd: { maxLength: 13, code: \"BD\" }, // Bangladesh (+880 XXXXXXXX)\r\n  bb: { maxLength: 11, code: \"BB\" }, // Barbados (+1-246 XXXXXXX)\r\n  by: { maxLength: 13, code: \"BY\" }, // Bielorrússia (+375 XXXXXXXX)\r\n  be: { maxLength: 12, code: \"BE\" }, // Bélgica (+32 XXXXXXXX)\r\n  bz: { maxLength: 11, code: \"BZ\" }, // Belize (+501 XXXXXXX)\r\n  bj: { maxLength: 11, code: \"BJ\" }, // Benim (+229 XXXXXXXX)\r\n  bm: { maxLength: 11, code: \"BM\" }, // Bermudas (+1-441 XXXXXXX)\r\n  bt: { maxLength: 12, code: \"BT\" }, // Butão (+975 XXXXXXXX)\r\n  bo: { maxLength: 12, code: \"BO\" }, // Bolívia (+591 XXXXXXXX)\r\n  ba: { maxLength: 12, code: \"BA\" }, // Bósnia (+387 XXXXXXXX)\r\n  bw: { maxLength: 12, code: \"BW\" }, // Botsuana (+267 XXXXXXXX)\r\n  br: { maxLength: 13, code: \"BR\" }, // Brasil (+55 XXXXXXXX)\r\n  bn: { maxLength: 10, code: \"BN\" }, // Brunei (+673 XXXXXXX)\r\n  bg: { maxLength: 12, code: \"BG\" }, // Bulgária (+359 XXXXXXXX)\r\n  bf: { maxLength: 12, code: \"BF\" }, // Burquina Faso (+226 XXXXXXXX)\r\n  bi: { maxLength: 11, code: \"BI\" }, // Burundi (+257 XXXXXXX)\r\n  kh: { maxLength: 11, code: \"KH\" }, // Camboja (+855 XXXXXXXX)\r\n  cm: { maxLength: 12, code: \"CM\" }, // Camarões (+237 XXXXXXXX)\r\n  ca: { maxLength: 11, code: \"CA\" }, // Canadá (+1 XXXXXXXX)\r\n  cv: { maxLength: 10, code: \"CV\" }, // Cabo Verde (+238 XXXXXXX)\r\n  cf: { maxLength: 12, code: \"CF\" }, // República Centro-Africana (+236 XXXXXXXX)\r\n  td: { maxLength: 11, code: \"TD\" }, // Chade (+235 XXXXXXXX)\r\n  cl: { maxLength: 12, code: \"CL\" }, // Chile (+56 XXXXXXXX)\r\n  cn: { maxLength: 13, code: \"CN\" }, // China (+86 XXXXXXXXXX)\r\n  co: { maxLength: 12, code: \"CO\" }, // Colômbia (+57 XXXXXXXX)\r\n  km: { maxLength: 10, code: \"KM\" }, // Comores (+269 XXXXXXX)\r\n  cg: { maxLength: 11, code: \"CG\" }, // Congo (+242 XXXXXXXX)\r\n  cd: { maxLength: 12, code: \"CD\" }, // República Democrática do Congo (+243 XXXXXXXX)\r\n  cr: { maxLength: 11, code: \"CR\" }, // Costa Rica (+506 XXXXXXXX)\r\n  ci: { maxLength: 12, code: \"CI\" }, // Costa do Marfim (+225 XXXXXXXX)\r\n  hr: { maxLength: 12, code: \"HR\" }, // Croácia (+385 XXXXXXXX)\r\n  cu: { maxLength: 11, code: \"CU\" }, // Cuba (+53 XXXXXXXX)\r\n  cy: { maxLength: 11, code: \"CY\" }, // Chipre (+357 XXXXXXXX)\r\n  cz: { maxLength: 12, code: \"CZ\" }, // República Tcheca (+420 XXXXXXXX)\r\n  dk: { maxLength: 11, code: \"DK\" }, // Dinamarca (+45 XXXXXXXX)\r\n  dj: { maxLength: 10, code: \"DJ\" }, // Djibouti (+253 XXXXXXX)\r\n  dm: { maxLength: 11, code: \"DM\" }, // Dominica (+1-767 XXXXXXX)\r\n  do: { maxLength: 11, code: \"DO\" }, // República Dominicana (+1-809 XXXXXXX)\r\n  ec: { maxLength: 12, code: \"EC\" }, // Equador (+593 XXXXXXXX)\r\n  eg: { maxLength: 12, code: \"EG\" }, // Egito (+20 XXXXXXXX)\r\n  sv: { maxLength: 11, code: \"SV\" }, // El Salvador (+503 XXXXXXXX)\r\n  gq: { maxLength: 12, code: \"GQ\" }, // Guiné Equatorial (+240 XXXXXXXX)\r\n  er: { maxLength: 10, code: \"ER\" }, // Eritreia (+291 XXXXXXX)\r\n  ee: { maxLength: 11, code: \"EE\" }, // Estônia (+372 XXXXXXXX)\r\n  et: { maxLength: 11, code: \"ET\" }, // Etiópia (+251 XXXXXXXX)\r\n  fj: { maxLength: 10, code: \"FJ\" }, // Fiji (+679 XXXXXXX)\r\n  fi: { maxLength: 11, code: \"FI\" }, // Finlândia (+358 XXXXXXXX)\r\n  fr: { maxLength: 12, code: \"FR\" }, // França (+33 XXXXXXXX)\r\n  ga: { maxLength: 11, code: \"GA\" }, // Gabão (+241 XXXXXXXX)\r\n};\r\n","import { CssBaseline, MenuItem, Select } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Checkbox from \"@material-ui/core/Checkbox\";\r\nimport FormControlLabel from \"@material-ui/core/FormControlLabel\";\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport LinearProgress from \"@material-ui/core/LinearProgress\";\r\nimport Link from \"@material-ui/core/Link\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport {\r\n  Business,\r\n  Mail,\r\n  Person,\r\n  Phone,\r\n  Visibility,\r\n  VisibilityOff,\r\n} from \"@mui/icons-material\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport { IconButton, InputAdornment } from \"@mui/material\";\r\nimport Box from \"@mui/material/Box\";\r\nimport MuiCard from \"@mui/material/Card\";\r\nimport FormLabel from \"@mui/material/FormLabel\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport qs from \"query-string\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport \"react-phone-input-2/lib/style.css\";\r\nimport { Link as RouterLink, useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport * as Yup from \"yup\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport ColorModeContext from \"../../layout/themeContext\";\r\nimport { openApi } from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { countryRules } from \"../../utils/countryRules\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    //marginTop: \"20px\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    height: \"100vh\",\r\n    padding: theme.spacing(2),\r\n    boxSizing: \"border-box\",\r\n    overflowY: \"auto\",\r\n    background:\r\n      theme.mode === \"light\" ? theme.palette.light : theme.palette.dark,\r\n  },\r\n  rightScreen: {\r\n    flex: 1,\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    background:\r\n      theme.mode === \"light\" ? theme.palette.light : theme.palette.dark,\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundSize: \"100% 100%\",\r\n    backgroundPosition: \"center\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n  },\r\n  paper: {\r\n    backgroundColor:\r\n      theme.mode === \"light\"\r\n        ? \"rgba(255, 255, 255, 0.8)\"\r\n        : \"rgba(0, 0, 0, 0.8)\",\r\n    backdropFilter: \"blur(5px)\",\r\n    boxShadow:\r\n      theme.mode === \"light\"\r\n        ? \"0 4px 6px rgba(0, 0, 0, 0.2)\"\r\n        : \"0 4px 6px rgba(0, 0, 0, 0.5)\",\r\n    maxHeight: \"90vh\",\r\n    overflowY: \"auto\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: \"25px\",\r\n    borderRadius: \"12px\",\r\n    maxWidth: \"400px\",\r\n    width: \"100%\",\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(3),\r\n  },\r\n  logoImg: {\r\n    width: \"100%\",\r\n    maxWidth: \"250px\",\r\n    height: \"auto\",\r\n    maxHeight: \"120px\",\r\n    margin: \"0 auto\",\r\n    content:\r\n      \"url(\" +\r\n      (theme.mode === \"light\"\r\n        ? theme.calculatedLogoLight()\r\n        : theme.calculatedLogoDark()) +\r\n      \")\",\r\n  },\r\n  link: {\r\n    fontSize: \"16px\",\r\n    lineHeight: \"24px\",\r\n    color: theme.mode === \"light\" ? \"black\" : \"white\",\r\n  },\r\n  submit: {\r\n    margin: theme.spacing(3, 0, 2),\r\n    color: \"#f7f7f7\",\r\n    borderRadius: \"50px\",\r\n  },\r\n  span: {\r\n    color: theme.mode === \"light\" ? \"green\" : \"white\",\r\n  },\r\n  spanRed: {\r\n    color: \"red\",\r\n  },\r\n  iconPassword: {\r\n    color: \"rgba(255, 255, 255, 0.7)\",\r\n  },\r\n}));\r\n\r\nconst Card = styled(MuiCard)(({ theme }) => ({\r\n  display: \"flex\",\r\n  borderRadius: \"16px\",\r\n  flexDirection: \"column\",\r\n  alignSelf: \"center\",\r\n  width: \"100%\",\r\n  padding: theme.spacing(4),\r\n  gap: theme.spacing(2),\r\n  margin: \"auto\",\r\n  background: \"rgba(255, 255, 255, 0.05)\",\r\n  backdropFilter: \"blur(10px)\",\r\n  border: \"1px solid rgba(255, 255, 255, 0.1)\",\r\n  [theme.breakpoints.up(\"sm\")]: {\r\n    maxWidth: \"600px\",\r\n  },\r\n  [theme.breakpoints.up(\"md\")]: {\r\n    maxWidth: \"700px\",\r\n  },\r\n  boxShadow: \"0 8px 32px 0 #090b11\",\r\n}));\r\n\r\nconst SignUpContainer = styled(Stack)(({ theme }) => ({\r\n  minHeight: \"100vh\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  position: \"relative\",\r\n  padding: theme.spacing(2),\r\n  // background: \"linear-gradient(2deg, #bc48ff 0%, #aa83ff 50%, #474bff 100%)\",\r\n  [theme.breakpoints.up(\"sm\")]: {\r\n    padding: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nconst StyledTextField = styled(TextField)(({ theme }) => ({\r\n  \"& .MuiOutlinedInput-root\": {\r\n    backgroundColor: \"rgba(255, 255, 255, 0.05)\",\r\n    borderRadius: \"12px\",\r\n    \"& fieldset\": {\r\n      borderColor: \"rgba(255, 255, 255, 0.2)\",\r\n    },\r\n    \"&:hover:not(.Mui-focused) fieldset\": {\r\n      borderColor: \"rgba(255, 255, 255, 0.2)\",\r\n    },\r\n  },\r\n\r\n  \"& .MuiInputBase-input\": {\r\n    color: \"rgba(255, 255, 255, 0.9)\",\r\n    paddingLeft: \"10px\",\r\n  },\r\n  \"& .MuiInputLabel-root\": {\r\n    color: \"rgba(255, 255, 255, 0.7)\",\r\n  },\r\n}));\r\n\r\nconst StyledFormLabel = styled(FormLabel)({\r\n  color: \"rgba(255, 255, 255, 0.7)\",\r\n  marginBottom: \"8px\",\r\n});\r\n\r\nconst StyledLink = styled(Link)({\r\n  textAlign: \"center\",\r\n  color: \"rgba(255, 255, 255, 0.7)\",\r\n  \"&:hover\": {\r\n    color: \"rgba(255, 255, 255, 0.9)\",\r\n  },\r\n  \"& .MuiTypography-body1\": {\r\n    marginTop: \"8px\",\r\n  },\r\n});\r\n\r\nconst StyledSelect = styled(Select)(({ theme }) => ({\r\n  backgroundColor: \"rgba(255, 255, 255, 0.05)\",\r\n  borderRadius: \"12px\",\r\n  \"& .MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"rgba(255, 255, 255, 0.2)\",\r\n  },\r\n  \"&:hover:not(.Mui-focused) fieldset\": {\r\n    borderColor: \"rgba(255, 255, 255, 0.2)\",\r\n  },\r\n\r\n  \"& .MuiSelect-select\": {\r\n    color: \"rgba(255, 255, 255, 0.9)\",\r\n    padding: \"14px\",\r\n  },\r\n  \"& .MuiSvgIcon-root\": {\r\n    color: \"rgba(255, 255, 255, 0.7)\",\r\n  },\r\n}));\r\n\r\nconst StyledMenuItem = styled(MenuItem)(({ theme }) => ({\r\n  \"&.MuiMenuItem-root\": {\r\n    padding: \"16px\",\r\n    borderRadius: \"8px\",\r\n    margin: \"4px\",\r\n    \"&:hover\": {\r\n      backgroundColor: \"rgba(255, 255, 255, 0.1)\",\r\n    },\r\n    \"&.Mui-selected\": {\r\n      backgroundColor: \"rgba(255, 255, 255, 0.15)\",\r\n      \"&:hover\": {\r\n        backgroundColor: \"rgba(255, 255, 255, 0.2)\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst PlanCard = styled(Box)(({ theme }) => ({\r\n  display: \"flex\",\r\n  flexDirection: \"column\",\r\n  gap: \"8px\",\r\n  \"& .plan-name\": {\r\n    fontWeight: 600,\r\n    color: \"rgba(255, 255, 255, 0.9)\",\r\n  },\r\n  \"& .plan-details\": {\r\n    color: \"rgba(255, 255, 255, 0.7)\",\r\n    fontSize: \"0.9rem\",\r\n  },\r\n  \"& .plan-price\": {\r\n    color: \"#4CAF50\",\r\n    fontWeight: 600,\r\n  },\r\n}));\r\n\r\nconst getPhoneValidationSchema = (maxLength, countryCode) => {\r\n  return Yup.string()\r\n    .required(\"Phone é obrigatório\")\r\n    .matches(\r\n      new RegExp(`^\\\\d{${11}}$`),\r\n      `Digite o número completo no formato (xx) xxxx xxxx e com ${11} dígitos (apenas números).`\r\n    );\r\n};\r\n\r\nconst UserSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Nome é obrigatório\"),\r\n  companyName: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Nome da empresa é obrigatória\"),\r\n  password: Yup.string()\r\n    .min(8, \"\")\r\n    .matches(/[a-z]/, \" \")\r\n    .matches(/[A-Z]/, \" \")\r\n    .required(\"Senha é obrigatória\"),\r\n  email: Yup.string().email(\"E-mail inválido\").required(\"E-mail é obrigatório\"),\r\n  // phone: Yup.string()\r\n  //   .required(\"Phone é obrigatório\")\r\n  //   .matches(\r\n  //     /^\\d{13}$/,\r\n  //     \"Digite o número completo no formato (XX) 9 XXXX-XXXX (apenas números).\"\r\n  //   ),\r\n\r\n  termo: Yup.boolean()\r\n    .oneOf([true], \"Você deve aceitar os termos para continuar.\")\r\n    .required(\"A aceitação dos termos é obrigatória\"),\r\n});\r\n\r\nconst SignUp = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { getPlanList } = usePlans();\r\n  const [plans, setPlans] = useState([]);\r\n  const { colorMode } = useContext(ColorModeContext);\r\n  const { appName } = colorMode;\r\n  const [loading, setLoading] = useState(false);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const [phoneValidationSchema, setPhoneValidationSchema] = useState(\r\n    getPhoneValidationSchema(13, \"BR\")\r\n  );\r\n  let companyId = null;\r\n  const params = qs.parse(window.location.search);\r\n  if (params.companyId !== undefined) {\r\n    companyId = params.companyId;\r\n  }\r\n\r\n  const calculateProgress = (password) => {\r\n    let progress = 0;\r\n    if (password.length >= 8) progress += 33;\r\n    if (/[a-z]/.test(password)) progress += 33;\r\n    if (/[A-Z]/.test(password)) progress += 34;\r\n    return progress;\r\n  };\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    phone: \"\",\r\n    companyId,\r\n    companyName: \"\",\r\n    planId: \"\",\r\n    termo: false,\r\n  };\r\n\r\n  const [user] = useState(initialState);\r\n  const handleTogglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const fetchData = async () => {\r\n      const planList = await getPlanList({ listPublic: false });\r\n\r\n      setPlans(planList);\r\n      setLoading(false);\r\n    };\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  const handleCountryChange = (countryCode) => {\r\n    const rules = countryRules[countryCode.toLowerCase()] || {\r\n      maxLength: 11,\r\n      code: countryCode.toUpperCase(),\r\n    };\r\n\r\n    setPhoneValidationSchema(\r\n      getPhoneValidationSchema(rules.maxLength, rules.code)\r\n    );\r\n  };\r\n\r\n  const handleSignUp = async (values) => {\r\n    console.log(values);\r\n\r\n    try {\r\n      await openApi.post(\"/auth/signup\", values);\r\n      toast.success(i18n.t(\"signup.toasts.success\"));\r\n      history.push(\"/login\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{appName || \"Sociedade\"}</title>\r\n        <link rel=\"icon\" href=\"/favicon.png\" />\r\n      </Helmet>\r\n      <CssBaseline enableColorScheme />\r\n      {/* <div className={classes.leftScreen}></div> */}\r\n      <SignUpContainer>\r\n        <Card\r\n          sx={{\r\n            background: \"linear-gradient(135deg, #474c4f 0%, #090b11 100%)\",\r\n          }}\r\n        >\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              mb: 4,\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n\r\n              color: \"rgba(255, 255, 255, 0.7)\",\r\n            }}\r\n          >\r\n            <Box>\r\n              <img className={classes.logoImg} alt=\"logo\" />\r\n            </Box>\r\n            <Typography component=\"h1\" variant=\"h5\">\r\n              {i18n.t(\"signup.title\")}\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body1\"\r\n              sx={{ color: \"rgba(255, 255, 255, 0.7)\", textAlign: \"center\" }}\r\n            >\r\n              Crie sua conta para começar\r\n            </Typography>\r\n            {/* <form className={classes.form} noValidate onSubmit={handleSignUp}> */}\r\n            <Formik\r\n              initialValues={user}\r\n              enableReinitialize={true}\r\n              validationSchema={Yup.object().shape({\r\n                ...UserSchema.fields,\r\n                phone: phoneValidationSchema, // Inclui o esquema dinâmico de telefone\r\n              })}\r\n              onSubmit={(values, actions) => {\r\n                setTimeout(() => {\r\n                  handleSignUp(values);\r\n                  actions.setSubmitting(false);\r\n                }, 400);\r\n              }}\r\n            >\r\n              {({ touched, errors, isSubmitting, values, setFieldValue }) => (\r\n                <Form className={classes.form}>\r\n                  <Grid container spacing={2}>\r\n                    <Grid item xs={12} style={{ width: \"100%\" }}>\r\n                      <StyledFormLabel>\r\n                        {i18n.t(\"signup.form.company\")}\r\n                      </StyledFormLabel>\r\n                      <Field\r\n                        as={StyledTextField}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        size=\"small\"\r\n                        id=\"companyName\"\r\n                        error={\r\n                          touched.companyName && Boolean(errors.companyName)\r\n                        }\r\n                        helperText={touched.companyName && errors.companyName}\r\n                        name=\"companyName\"\r\n                        autoComplete=\"companyName\"\r\n                        autoFocus\r\n                        placeholder=\"Sua empresa\"\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                              <Business\r\n                                sx={{ color: \"rgba(255, 255, 255, 0.7)\" }}\r\n                              />\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Box\r\n                      sx={{\r\n                        display: \"grid\",\r\n                        gridTemplateColumns: { xs: \"1fr\", sm: \"1fr 1fr\" },\r\n                        gap: 2,\r\n                        width: \"100%\",\r\n                        padding: \"8px\",\r\n                      }}\r\n                    >\r\n                      <Grid item xs={12}>\r\n                        <StyledFormLabel>\r\n                          {i18n.t(\"signup.form.name\")}\r\n                        </StyledFormLabel>\r\n                        <Field\r\n                          as={StyledTextField}\r\n                          name=\"name\"\r\n                          variant=\"outlined\"\r\n                          size=\"small\"\r\n                          placeholder=\"Seu nome completo\"\r\n                          error={touched.name && Boolean(errors.name)}\r\n                          helperText={touched.name && errors.name}\r\n                          fullWidth\r\n                          InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <Person\r\n                                  sx={{ color: \"rgba(255, 255, 255, 0.7)\" }}\r\n                                />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      </Grid>\r\n                      <Grid\r\n                        item\r\n                        xs={12}\r\n                        style={{\r\n                          color: \"#000\",\r\n                        }}\r\n                      >\r\n                        <StyledFormLabel>Telefone</StyledFormLabel>\r\n                        <Field\r\n                          as={StyledTextField}\r\n                          name=\"phone\"\r\n                          placeholder=\"(00) 00000-0000\"\r\n                          error={touched.phone && Boolean(errors.phone)}\r\n                          helperText={touched.phone && errors.phone}\r\n                          fullWidth\r\n                          variant=\"outlined\"\r\n                          size=\"small\"\r\n                          InputProps={{\r\n                            startAdornment: (\r\n                              <InputAdornment position=\"start\">\r\n                                <Phone\r\n                                  sx={{ color: \"rgba(255, 255, 255, 0.7)\" }}\r\n                                />\r\n                              </InputAdornment>\r\n                            ),\r\n                          }}\r\n                        />\r\n                        {/* {errors.phone && touched.phone ? (\r\n                          <div style={{ color: \"red\" }}>{errors.phone}</div>\r\n                        ) : null} */}\r\n                      </Grid>\r\n                    </Box>\r\n                    <Grid item xs={12}>\r\n                      <StyledFormLabel>\r\n                        {i18n.t(\"signup.form.email\")}\r\n                      </StyledFormLabel>\r\n                      <Field\r\n                        as={StyledTextField}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        id=\"email\"\r\n                        size=\"small\"\r\n                        placeholder=\"seu@email.com\"\r\n                        name=\"email\"\r\n                        error={touched.email && Boolean(errors.email)}\r\n                        helperText={touched.email && errors.email}\r\n                        autoComplete=\"email\"\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                              <Mail\r\n                                sx={{ color: \"rgba(255, 255, 255, 0.7)\" }}\r\n                              />\r\n                            </InputAdornment>\r\n                          ),\r\n                          style: { textTransform: \"lowercase\" },\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                      <StyledFormLabel>\r\n                        {i18n.t(\"signup.form.password\")}\r\n                      </StyledFormLabel>\r\n                      <Field\r\n                        as={StyledTextField}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        name=\"password\"\r\n                        size=\"small\"\r\n                        placeholder=\"******\"\r\n                        error={touched.password && Boolean(errors.password)}\r\n                        helperText={touched.password && errors.password}\r\n                        type={showPassword ? \"text\" : \"password\"}\r\n                        id=\"password\"\r\n                        autoComplete=\"current-password\"\r\n                        InputProps={{\r\n                          endAdornment: (\r\n                            <InputAdornment position=\"end\">\r\n                              <IconButton\r\n                                onClick={handleTogglePasswordVisibility}\r\n                                edge=\"end\"\r\n                              >\r\n                                {showPassword ? (\r\n                                  <VisibilityOff\r\n                                    className={classes.iconPassword}\r\n                                  />\r\n                                ) : (\r\n                                  <Visibility\r\n                                    className={classes.iconPassword}\r\n                                  />\r\n                                )}\r\n                              </IconButton>\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                      />\r\n                      <div\r\n                        style={{\r\n                          width: \"100%\",\r\n\r\n                          marginTop: \"10px\",\r\n                        }}\r\n                      >\r\n                        <LinearProgress\r\n                          variant=\"determinate\"\r\n                          value={calculateProgress(values.password)}\r\n                          color=\"primary\"\r\n                        />\r\n                        <div\r\n                          style={{\r\n                            display: \"flex\",\r\n                            gap: 10,\r\n                            alignItems: \"center\",\r\n                            marginTop: \"5px\",\r\n                          }}\r\n                        >\r\n                          <span\r\n                            className={\r\n                              values.password.length >= 8\r\n                                ? classes.span\r\n                                : classes.spanRed\r\n                            }\r\n                          >\r\n                            8+ caracteres\r\n                          </span>\r\n                          <span\r\n                            className={\r\n                              /[a-z]/.test(values.password)\r\n                                ? classes.span\r\n                                : classes.spanRed\r\n                            }\r\n                          >\r\n                            Minúscula\r\n                          </span>\r\n                          <span\r\n                            className={\r\n                              /[A-Z]/.test(values.password)\r\n                                ? classes.span\r\n                                : classes.spanRed\r\n                            }\r\n                          >\r\n                            Maiúscula\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    </Grid>\r\n\r\n                    {/* TOKEN */}\r\n                    {/* <Grid item xs={12}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        variant=\"outlined\"\r\n                                        fullWidth\r\n                                        id=\"token\"\r\n                                        label={i18n.t(\"auth.token\")}\r\n                                        name=\"token\"\r\n                                        autoComplete=\"token\"\r\n                                    />\r\n                                </Grid> */}\r\n\r\n                    <Grid item xs={12}>\r\n                      <StyledFormLabel htmlFor=\"plan-selection\">\r\n                        Plano\r\n                      </StyledFormLabel>\r\n                      <Field\r\n                        as={StyledSelect}\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                        id=\"plan-selection\"\r\n                        MenuProps={{\r\n                          PaperProps: {\r\n                            sx: {\r\n                              bgcolor: \"rgba(25, 25, 25, 0.95)\",\r\n                              backdropFilter: \"blur(10px)\",\r\n                              borderRadius: \"12px\",\r\n                              border: \"1px solid rgba(255, 255, 255, 0.1)\",\r\n                              maxHeight: \"400px\",\r\n                            },\r\n                          },\r\n                        }}\r\n                        name=\"planId\"\r\n                        required\r\n                        style={{\r\n                          height: 40,\r\n                        }}\r\n                      >\r\n                        {plans.map((plan, key) => (\r\n                          <MenuItem key={key} value={plan.id} size=\"small\">\r\n                            {plan.name} - Atendentes: {plan.users} - WhatsApp:{\" \"}\r\n                            {plan.connections} - Filas: {plan.queues} - R${\" \"}\r\n                            {plan.amount}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Field>\r\n                    </Grid>\r\n                    <Grid item xs={12}>\r\n                      <FormControlLabel\r\n                        control={\r\n                          <Checkbox\r\n                            value={values.termo}\r\n                            onChange={(event) => {\r\n                              setFieldValue(\"termo\", event.target.checked);\r\n                            }}\r\n                            color=\"primary\"\r\n                            name=\"termo\"\r\n                            style={{\r\n                              color: \"rgba(255, 255, 255, 0.7)\",\r\n                            }}\r\n                          />\r\n                        }\r\n                        style={{\r\n                          alignItems: \"flex-center\",\r\n                          marginRight: \"5px\",\r\n                          marginTop: \"-8px\",\r\n                        }}\r\n                        label={\r\n                          <span\r\n                            style={{\r\n                              textAlign: \"justify\",\r\n                              fontSize: \"14px\",\r\n                              paddingTop: \"5px\",\r\n                              color: \"rgba(255, 255, 255, 0.7)\",\r\n                            }}\r\n                          >\r\n                            Li e aceito os termos de uso.\r\n                          </span>\r\n                        }\r\n                      />\r\n                      {errors.termo && touched.termo ? (\r\n                        <div style={{ color: \"red\" }}>{errors.termo}</div>\r\n                      ) : null}\r\n                    </Grid>\r\n                  </Grid>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    fullWidth\r\n                    size=\"small\"\r\n                    variant=\"contained\"\r\n                    disabled={isSubmitting}\r\n                    color=\"primary\"\r\n                    sx={{\r\n                      borderRadius: \"12px\",\r\n                      padding: \"12px\",\r\n\r\n                      textTransform: \"none\",\r\n                      fontSize: \"1rem\",\r\n                      fontWeight: 500,\r\n                      boxShadow: \"0 4px 15px #090b11\",\r\n                      \"&:hover\": {\r\n                        background: \"#282929\",\r\n                        transition: \"0.5s\",\r\n                      },\r\n                      marginTop: \"4px\",\r\n                    }}\r\n                    endIcon={<SendIcon />}\r\n                  >\r\n                    {i18n.t(\"signup.buttons.submit\")}\r\n                  </Button>\r\n                  <StyledLink component={RouterLink} to=\"/login\">\r\n                    <Typography\r\n                      sx={{\r\n                        textAlign: \"center\",\r\n                        color: \"rgba(255, 255, 255, 0.7)\",\r\n                      }}\r\n                    >\r\n                      {i18n.t(\"signup.buttons.login\")}\r\n                    </Typography>\r\n                  </StyledLink>\r\n                </Form>\r\n              )}\r\n            </Formik>\r\n          </Box>\r\n        </Card>\r\n      </SignUpContainer>\r\n      {/* <Box mt={5}><Copyright /></Box> */}\r\n    </>\r\n  );\r\n};\r\n\r\nexport default SignUp;\r\n","import {\r\n  CssBaseline,\r\n  Divider,\r\n  IconButton,\r\n  InputAdornment,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { Mail, Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport Brightness4Icon from \"@material-ui/icons/Brightness4\";\r\nimport Brightness7Icon from \"@material-ui/icons/Brightness7\";\r\nimport SendIcon from \"@mui/icons-material/Send\";\r\nimport Box from \"@mui/material/Box\";\r\nimport MuiCard from \"@mui/material/Card\";\r\nimport FormLabel from \"@mui/material/FormLabel\";\r\nimport Link from \"@mui/material/Link\";\r\nimport Stack from \"@mui/material/Stack\";\r\nimport { styled } from \"@mui/material/styles\";\r\nimport Typography from \"@mui/material/Typography\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { Helmet } from \"react-helmet\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\nimport ColorModeContext from \"../../layout/themeContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    height: \"100vh\",\r\n    flex: 2,\r\n    position: \"relative\",\r\n    background:\r\n      theme.mode === \"light\" ? theme.palette.light : theme.palette.dark,\r\n  },\r\n  rightScreen: {\r\n    flex: 1,\r\n    width: \"100vw\",\r\n    height: \"100vh\",\r\n    background:\r\n      theme.mode === \"light\" ? theme.palette.light : theme.palette.dark,\r\n    backgroundRepeat: \"no-repeat\",\r\n    backgroundSize: \"100% 100%\",\r\n    backgroundPosition: \"center\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n    textAlign: \"center\",\r\n  },\r\n  leftScreen: {\r\n    flex: 2,\r\n    [theme.breakpoints.down(\"sm\", \"xs\")]: {\r\n      display: \"none\",\r\n    },\r\n  },\r\n  paper: {\r\n    backgroundColor:\r\n      theme.mode === \"light\"\r\n        ? \"rgba(255, 255, 255, 0.8)\"\r\n        : \"rgba(0, 0, 0, 0.8)\",\r\n    backdropFilter: \"blur(5px)\",\r\n    boxShadow:\r\n      theme.mode === \"light\"\r\n        ? \"0 4px 6px rgba(0, 0, 0, 0.2)\"\r\n        : \"0 4px 6px rgba(0, 0, 0, 0.5)\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: \"25px\",\r\n    borderRadius: \"12px\",\r\n    maxWidth: \"400px\", // Limita a largura máxima do container\r\n    width: \"100%\", // A largura será 100% até o máximo definido\r\n  },\r\n  signupButton: {\r\n    marginTop: \"45px\",\r\n    alignSelf: \"center\",\r\n    borderRadius: \"50px\",\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: \"white\",\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.dark,\r\n    },\r\n  },\r\n  form: {\r\n    width: \"100%\",\r\n    marginTop: theme.spacing(1),\r\n    borderRadius: \"12px\",\r\n  },\r\n  submit: {\r\n    margin: \"0px 0px -65px 0px\",\r\n    color: \"white\",\r\n    borderRadius: \"50px\",\r\n    width: \"100%\",\r\n    [theme.breakpoints.up(\"sm\")]: {\r\n      width: \"250px\",\r\n    },\r\n  },\r\n  powered: {\r\n    color: \"white\",\r\n  },\r\n  logoImg: {\r\n    width: \"100%\",\r\n    maxWidth: \"250px\",\r\n    height: \"auto\",\r\n    maxHeight: \"120px\",\r\n    margin: \"0 auto\",\r\n    content:\r\n      \"url(\" +\r\n      (theme.mode === \"light\"\r\n        ? theme.calculatedLogoLight()\r\n        : theme.calculatedLogoDark()) +\r\n      \")\",\r\n  },\r\n  iconButton: {\r\n    position: \"absolute\",\r\n    top: 10,\r\n    right: 10,\r\n    color: \"white\",\r\n  },\r\n  link: {\r\n    fontSize: \"16px\",\r\n    lineHeight: \"24px\",\r\n    color: theme.mode === \"light\" ? \"black\" : \"white\",\r\n  },\r\n}));\r\n\r\nconst Card = styled(MuiCard)(({ theme }) => ({\r\n  display: \"flex\",\r\n  borderRadius: \"16px\",\r\n  flexDirection: \"column\",\r\n  alignSelf: \"center\",\r\n  width: \"100%\",\r\n  padding: theme.spacing(4),\r\n  gap: theme.spacing(2),\r\n  margin: \"auto\",\r\n  background: \"rgba(255, 255, 255, 0.05)\",\r\n  backdropFilter: \"blur(10px)\",\r\n  border: \"1px solid rgba(255, 255, 255, 0.1)\",\r\n  [theme.breakpoints.up(\"sm\")]: {\r\n    maxWidth: \"450px\",\r\n  },\r\n  boxShadow: \"0 8px 32px 0 #090b11\",\r\n}));\r\n\r\nconst SignInContainer = styled(Stack)(({ theme }) => ({\r\n  minHeight: \"100vh\",\r\n  alignItems: \"center\",\r\n  justifyContent: \"center\",\r\n  position: \"relative\",\r\n  padding: theme.spacing(2),\r\n\r\n  // background: \"linear-gradient(2deg, #bc48ff 0%, #aa83ff 50%, #474bff 100%)\",\r\n  [theme.breakpoints.up(\"sm\")]: {\r\n    padding: theme.spacing(4),\r\n  },\r\n}));\r\n\r\nconst StyledTextField = styled(TextField)(({ theme }) => ({\r\n  \"& .MuiOutlinedInput-root\": {\r\n    backgroundColor: \"rgba(255, 255, 255, 0.05)\",\r\n    borderRadius: \"12px\",\r\n    \"& fieldset\": {\r\n      borderColor: \"rgba(255, 255, 255, 0.2)\",\r\n    },\r\n    \"&:hover:not(.Mui-focused) fieldset\": {\r\n      borderColor: \"rgba(255, 255, 255, 0.2)\",\r\n    },\r\n  },\r\n\r\n  \"& .MuiInputBase-input\": {\r\n    color: \"rgba(255, 255, 255, 0.9)\",\r\n    paddingLeft: \"10px\",\r\n  },\r\n  \"& .MuiInputLabel-root\": {\r\n    color: \"rgba(255, 255, 255, 0.7)\",\r\n  },\r\n}));\r\n\r\nconst StyledFormLabel = styled(FormLabel)({\r\n  color: \"rgba(255, 255, 255, 0.7)\",\r\n  marginBottom: \"8px\",\r\n});\r\n\r\nconst StyledLink = styled(Link)({\r\n  color: \"rgba(255, 255, 255, 0.7)\",\r\n  \"&:hover\": {\r\n    color: \"rgba(255, 255, 255, 0.9)\",\r\n  },\r\n});\r\n\r\nconst Login = () => {\r\n  const classes = useStyles();\r\n  const [emailError, setEmailError] = useState(false);\r\n  const [emailErrorMessage, setEmailErrorMessage] = useState(\"\");\r\n  const [passwordError, setPasswordError] = useState(false);\r\n  const [passwordErrorMessage, setPasswordErrorMessage] = useState(\"\");\r\n  const { colorMode } = useContext(ColorModeContext);\r\n  const { appLogoFavicon, appName, mode } = colorMode;\r\n  const [user, setUser] = useState({ email: \"\", password: \"\" });\r\n  const [allowSignup, setAllowSignup] = useState(false);\r\n  const { getPublicSetting } = useSettings();\r\n  const { handleLogin } = useContext(AuthContext);\r\n  const [showPassword, setShowPassword] = useState(false);\r\n  const handleChangeInput = (e) => {\r\n    setUser({ ...user, [e.target.name]: e.target.value });\r\n  };\r\n\r\n  const handlSubmit = (e) => {\r\n    e.preventDefault();\r\n    handleLogin(user);\r\n  };\r\n  const handleTogglePasswordVisibility = () => {\r\n    setShowPassword(!showPassword);\r\n  };\r\n\r\n  useEffect(() => {\r\n    getPublicSetting(\"allowSignup\")\r\n      .then((data) => {\r\n        setAllowSignup(data === \"enabled\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Erro ao ler configuração\", error);\r\n      });\r\n  }, []);\r\n\r\n  const validateInputs = () => {\r\n    const email = document.getElementById(\"email\");\r\n    const password = document.getElementById(\"password\");\r\n    let isValid = true;\r\n\r\n    if (!email.value || !/\\S+@\\S+\\.\\S+/.test(email.value)) {\r\n      setEmailError(true);\r\n      setEmailErrorMessage(\"Por favor, insira um email válido.\");\r\n      isValid = false;\r\n    } else {\r\n      setEmailError(false);\r\n      setEmailErrorMessage(\"\");\r\n    }\r\n\r\n    if (!password.value || password.value.length < 6) {\r\n      setPasswordError(true);\r\n      setPasswordErrorMessage(\"A senha deve ter pelo menos 6 caracteres.\");\r\n      isValid = false;\r\n    } else {\r\n      setPasswordError(false);\r\n      setPasswordErrorMessage(\"\");\r\n    }\r\n\r\n    return isValid;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Helmet>\r\n        <title>{appName || \"EquipeChat\"}</title>\r\n        <link rel=\"icon\" href={appLogoFavicon || \"/default-favicon.ico\"} />\r\n      </Helmet>\r\n\r\n      <SignInContainer>\r\n        <CssBaseline enableColorScheme />\r\n        <Card\r\n          sx={{\r\n            background: \"linear-gradient(135deg, #474c4f 0%, #090b11 100%)\",\r\n          }}\r\n        >\r\n          <IconButton\r\n            className={classes.iconButton}\r\n            onClick={colorMode.toggleColorMode}\r\n          >\r\n            {mode === \"dark\" ? <Brightness7Icon /> : <Brightness4Icon />}\r\n          </IconButton>\r\n          <Box\r\n            sx={{\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              mb: 4,\r\n              flexDirection: \"column\",\r\n              alignItems: \"center\",\r\n              gap: 2,\r\n            }}\r\n          >\r\n            <Box>\r\n              <img\r\n                className={classes.logoImg}\r\n                alt=\"logo\"\r\n                style={{ width: \"150px\" }}\r\n              />\r\n            </Box>\r\n            <Typography\r\n              variant=\"h4\"\r\n              sx={{\r\n                color: \"white\",\r\n                fontWeight: 600,\r\n                textAlign: \"center\",\r\n                fontSize: \"clamp(1.5rem, 5vw, 2rem)\",\r\n              }}\r\n            >\r\n              Bem-vindo de volta!\r\n            </Typography>\r\n            <Typography\r\n              variant=\"body1\"\r\n              sx={{ color: \"rgba(255, 255, 255, 0.7)\", textAlign: \"center\" }}\r\n            >\r\n              Acesse sua conta para continuar\r\n            </Typography>\r\n          </Box>\r\n          <form noValidate onSubmit={handlSubmit} className={classes.form}>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                marginBottom: 2,\r\n              }}\r\n            >\r\n              <StyledFormLabel>{i18n.t(\"login.form.email\")}</StyledFormLabel>\r\n              <Box\r\n                as={StyledTextField}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                id=\"email\"\r\n                size=\"small\"\r\n                placeholder=\"seu@email.com\"\r\n                name=\"email\"\r\n                autoFocus\r\n                autoComplete=\"email\"\r\n                onChange={handleChangeInput}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <Mail style={{ color: \"#FFF\" }} />\r\n                    </InputAdornment>\r\n                  ),\r\n                  style: { textTransform: \"lowercase\" },\r\n                }}\r\n              />\r\n            </Box>\r\n            <Box\r\n              sx={{\r\n                display: \"flex\",\r\n                flexDirection: \"column\",\r\n                marginBottom: 4,\r\n              }}\r\n            >\r\n              <StyledFormLabel>\r\n                {\" \"}\r\n                {i18n.t(\"login.form.password\")}\r\n              </StyledFormLabel>\r\n              <Box\r\n                as={StyledTextField}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                name=\"password\"\r\n                onChange={handleChangeInput}\r\n                size=\"small\"\r\n                placeholder=\"******\"\r\n                type={showPassword ? \"text\" : \"password\"}\r\n                id=\"password\"\r\n                autoComplete=\"current-password\"\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <IconButton\r\n                        onClick={handleTogglePasswordVisibility}\r\n                        edge=\"start\"\r\n                      >\r\n                        {showPassword ? (\r\n                          <VisibilityOff style={{ color: \"#FFF\" }} />\r\n                        ) : (\r\n                          <Visibility style={{ color: \"#FFF\" }} />\r\n                        )}\r\n                      </IconButton>\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n            </Box>\r\n            <Button\r\n              type=\"submit\"\r\n              fullWidth\r\n              size=\"small\"\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={validateInputs}\r\n              sx={{\r\n                borderRadius: \"12px\",\r\n                padding: \"12px\",\r\n\r\n                textTransform: \"none\",\r\n                fontSize: \"1rem\",\r\n                fontWeight: 500,\r\n                boxShadow: \"0 4px 15px #090b11\",\r\n                \"&:hover\": {\r\n                  background: \"#282929\",\r\n                  transition: \"0.5s\",\r\n                },\r\n                marginTop: \"4px\",\r\n              }}\r\n              endIcon={<SendIcon />}\r\n            >\r\n              {i18n.t(\"login.buttons.submit\")}\r\n            </Button>\r\n          </form>\r\n          {!allowSignup && (\r\n            <>\r\n              <Box\r\n                sx={{\r\n                  display: \"flex\",\r\n                  alignItems: \"center\",\r\n                  justifyContent: \"center\",\r\n                  gap: 1,\r\n                  my: 1,\r\n                }}\r\n              >\r\n                <Divider\r\n                  sx={{\r\n                    flex: 1,\r\n                    borderColor: \"rgba(255, 255, 255, 0.1)\",\r\n                  }}\r\n                />\r\n                <Typography\r\n                  sx={{\r\n                    color: \"rgba(255, 255, 255, 0.5)\",\r\n                    fontSize: \"0.875rem\",\r\n                  }}\r\n                >\r\n                  ou\r\n                </Typography>\r\n                <Divider\r\n                  sx={{\r\n                    flex: 1,\r\n                    borderColor: \"rgba(255, 255, 255, 0.1)\",\r\n                  }}\r\n                />\r\n              </Box>\r\n\r\n              <Box\r\n                sx={{\r\n                  textAlign: \"center\",\r\n                  p: 2,\r\n                  borderRadius: \"12px\",\r\n                  border: \"1px solid rgba(255, 255, 255, 0.1)\",\r\n                  bgcolor: \"rgba(255, 255, 255, 0.02)\",\r\n                }}\r\n              >\r\n                <Typography\r\n                  variant=\"body1\"\r\n                  sx={{\r\n                    color: \"rgba(255, 255, 255, 0.9)\",\r\n                    mb: 1,\r\n                    fontWeight: 500,\r\n                  }}\r\n                >\r\n                  Novo por aqui?\r\n                </Typography>\r\n                <Typography sx={{ color: \"rgba(255, 255, 255, 0.7)\" }}>\r\n                  Crie sua conta agora e comece a usar o{\" \"}\r\n                  {appName || \"EquipeChat\"}\r\n                  <Button\r\n                    href=\"/signup\"\r\n                    color=\"primary\"\r\n                    variant=\"text\"\r\n                    sx={{\r\n                      display: \"inline-block\",\r\n                      ml: 1,\r\n                      fontWeight: 500,\r\n                    }}\r\n                  >\r\n                    Cadastre-se →\r\n                  </Button>\r\n                </Typography>\r\n              </Box>\r\n            </>\r\n          )}\r\n        </Card>\r\n      </SignInContainer>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React, { useContext } from \"react\";\r\n\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    height: `100dvh`,\r\n  },\r\n  mainContainerHorizontal: {\r\n    height: \"calc(100% - 48px)\",\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n  },\r\n  contentWrapper: {\r\n    height: \"100%\",\r\n    overflowY: \"hidden\",\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n  },\r\n}));\r\n\r\nconst MainContainer = ({ children }) => {\r\n  const classes = useStyles();\r\n  const { isHorizontal } = useContext(AuthContext);\r\n  return (\r\n    <Container\r\n      className={\r\n        isHorizontal ? classes.mainContainerHorizontal : classes.mainContainer\r\n      }\r\n    >\r\n      <div className={classes.contentWrapper}>{children}</div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default MainContainer;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  contactsHeader: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    padding: \"6px 6px 6px 6px\",\r\n  },\r\n}));\r\n\r\nconst MainHeader = ({ children }) => {\r\n  const classes = useStyles();\r\n\r\n  return <div className={classes.contactsHeader}>{children}</div>;\r\n};\r\n\r\nexport default MainHeader;\r\n","import React from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tMainHeaderButtonsWrapper: {\r\n\t\tflex: \"none\",\r\n\t\tmarginLeft: \"auto\",\r\n\t\t\"& > *\": {\r\n\t\t\tmargin: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n}));\r\n\r\nconst MainHeaderButtonsWrapper = ({ children }) => {\r\n\tconst classes = useStyles();\r\n\r\n\treturn <div className={classes.MainHeaderButtonsWrapper}>{children}</div>;\r\n};\r\n\r\nexport default MainHeaderButtonsWrapper;\r\n","import React from \"react\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\nimport { makeStyles } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcustomTableCell: {\r\n\t\tdisplay: \"flex\",\r\n\t\talignItems: \"center\",\r\n\t\tjustifyContent: \"center\",\r\n\t},\r\n}));\r\n\r\nconst TableRowSkeleton = ({ avatar, columns }) => {\r\n\tconst classes = useStyles();\r\n\treturn (\r\n\t\t<>\r\n\t\t\t<TableRow>\r\n\t\t\t\t{avatar && (\r\n\t\t\t\t\t<>\r\n\t\t\t\t\t\t<TableCell style={{ paddingRight: 0 }}>\r\n\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\t\tvariant=\"circle\"\r\n\t\t\t\t\t\t\t\twidth={40}\r\n\t\t\t\t\t\t\t\theight={40}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t\t<TableCell>\r\n\t\t\t\t\t\t\t<Skeleton animation=\"wave\" height={30} width={80} />\r\n\t\t\t\t\t\t</TableCell>\r\n\t\t\t\t\t</>\r\n\t\t\t\t)}\r\n\t\t\t\t{Array.from({ length: columns }, (_, index) => (\r\n\t\t\t\t\t<TableCell align=\"center\" key={index}>\r\n\t\t\t\t\t\t<div className={classes.customTableCell}>\r\n\t\t\t\t\t\t\t<Skeleton\r\n\t\t\t\t\t\t\t\talign=\"center\"\r\n\t\t\t\t\t\t\t\tanimation=\"wave\"\r\n\t\t\t\t\t\t\t\theight={30}\r\n\t\t\t\t\t\t\t\twidth={80}\r\n\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t</TableCell>\r\n\t\t\t\t))}\r\n\t\t\t</TableRow>\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default TableRowSkeleton;\r\n","import React from \"react\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nexport default function Title(props) {\r\n\treturn (\r\n\t\t<Typography variant=\"h5\" color=\"primary\" gutterBottom>\r\n\t\t\t{props.children}\r\n\t\t</Typography>\r\n\t);\r\n}\r\n","import React, { useEffect, useState, useContext } from \"react\";\r\nimport QRCode from \"qrcode.react\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { Dialog, DialogContent, Paper, Typography } from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport { socketConnection } from \"../../services/socket\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\n// Define o estilo do componente\r\nconst useStyles = makeStyles((theme) => ({\r\n  dialogPaper: {\r\n    borderRadius: \"20px\", // Define o arredondamento das bordas do Dialog\r\n  },\r\n  qrCodeContainer: {\r\n    marginTop: \"30px\", // Espaçamento adicional para descer o QR Code\r\n    display: \"flex\",\r\n    justifyContent: \"center\", // Opcional: centraliza o QR Code na tela\r\n  },\r\n  title: {\r\n    fontSize: \"26px\", // Tamanho maior para o título\r\n    fontWeight: \"bold\",\r\n    fontFamily: \"Montserrat\",\r\n    marginBottom: \"0px\", // Espaçamento abaixo do título\r\n\tmarginTop: \"-25px\", //Move o texto para baixo (aumente o valor para mover mais para baixo)\r\n  },\r\n  subText: {\r\n    fontSize: \"16px\", // Tamanho maior para o texto abaixo\r\n    fontFamily: \"Montserrat\",\r\n    fontWeight: \"normal\",\r\n    marginTop: \"10px\",\r\n    marginBottom: \"30px\", // Adicionando o espaçamento entre o texto adicional e os passos\r\n  },\r\n  stepImageIOS: {\r\n    width: \"30px\", // Tamanho ajustado da imagem\r\n    height: \"auto\", // Mantém a proporção da imagem\r\n    marginRight: \"0px\", // Espaçamento à direita da imagem\r\n    marginLeft: \"-2px\", // Espaçamento à esquerda da imagem\r\n    marginTop: \"0px\",  // Move a imagem para baixo (aumente o valor para mover mais para baixo)\r\n    marginBottom: \"0px\", // Não há espaço abaixo da imagem (pode ajustar se necessário)\r\n  },\r\n  stepImageAndroid: {\r\n    width: \"10px\", // Tamanho ajustado da imagem\r\n    height: \"auto\", // Mantém a proporção da imagem\r\n    marginRight: \"0px\", // Espaçamento à direita da imagem\r\n    marginLeft: \"0px\", // Espaçamento à esquerda da imagem\r\n    marginTop: \"0px\",  // Move a imagem para cima (aumente o valor para mover mais para cima)\r\n    marginBottom: \"0px\", // Não há espaço abaixo da imagem (pode ajustar se necessário)\r\n  },\r\n  stepText1: {\r\n    marginBottom: \"1px\", // Espaçamento maior entre os passos\r\n  },\r\n  stepText: {\r\n    marginBottom: \"15px\", // Espaçamento maior entre os passos\r\n  },\r\n  helpText: {\r\n    fontSize: \"14px\", // Tamanho de fonte ajustado para o texto de ajuda\r\n    textAlign: \"left\", // Alinhamento do texto\r\n\tmarginTop: \"0px\", // Espaçamento acima do texto de ajuda\r\n\tmarginBottom: \"20px\", // Ajustar espaço abaixo do texto (pode ajustar se necessário)\r\n  },\r\n}));\r\n\r\nconst QrcodeModal = ({ open, onClose, whatsAppId }) => {\r\n  const [qrCode, setQrCode] = useState(\"\");\r\n  const { user } = useContext(AuthContext);\r\n  const classes = useStyles();\r\n\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      if (!whatsAppId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`/whatsapp/${whatsAppId}`);\r\n        setQrCode(data.qrcode);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n    if (!whatsAppId) return;\r\n    const companyId = user.companyId;\r\n    const socket = socketConnection({ companyId, userId: user.id });\r\n\r\n    socket.on(`company-${companyId}-whatsappSession`, (data) => {\r\n      if (data.action === \"update\" && data.session.id === whatsAppId) {\r\n        setQrCode(data.session.qrcode);\r\n      }\r\n\r\n      if (data.action === \"update\" && data.session.qrcode === \"\") {\r\n        onClose();\r\n      }\r\n    });\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, [whatsAppId, onClose,user]);\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={onClose}\r\n      maxWidth=\"lg\"\r\n      scroll=\"paper\"\r\n      classes={{ paper: classes.dialogPaper }} // Aplica o estilo ao Dialog\r\n    >\r\n      <DialogContent>\r\n        <Paper elevation={0} style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <div style={{ marginRight: \"20px\" }}>\r\n            {/* Título maior adicionado */}\r\n            <Typography variant=\"h2\" className={classes.title}>\r\n              Acessar WhatsApp \r\n            </Typography>\r\n\r\n            {/* Texto adicional abaixo */}\r\n            <Typography variant=\"body1\" color=\"textPrimary\" className={classes.subText}>\r\n              Envie mensagens privadas para seus clientes diretamente pelo WhatsApp.\r\n            </Typography>\r\n\r\n            {/* Passo a passo */}\r\n            <Typography variant=\"body1\" color=\"textPrimary\" className={classes.stepText1}>\r\n              1 - Abra o WhatsApp no seu celular\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"textPrimary\" className={classes.stepText}>\r\n              2 - Toque em Mais opções no Android{\" \"}\r\n              <img src={require(\"../../components/QrcodeModal/img/WconfAndroid.png\")} alt=\"Android\" className={classes.stepImageAndroid} />{\" \"}\r\n              ou em Configurações{\" \"}\r\n              <img src={require(\"../../components/QrcodeModal/img/WconfIos.png\")} alt=\"iPhone\" className={classes.stepImageIOS} />\r\n              no iPhone\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"textPrimary\" className={classes.stepText}>\r\n              3 - Toque em Dispositivos conectados e, em seguida, em Conectar dispositivos\r\n            </Typography>\r\n            <Typography variant=\"body1\" color=\"textPrimary\" className={classes.stepText}>\r\n              4 - Aponte seu celular para essa tela para capturar o QR Code\r\n            </Typography>\r\n          </div>\r\n          <div className={classes.qrCodeContainer}>\r\n            {qrCode ? (\r\n              <QRCode value={qrCode} size={256} />\r\n            ) : (\r\n              <span>Aguardando pelo QR Code</span>\r\n            )}\r\n          </div>\r\n        </Paper>\r\n\r\n        {/* Texto de ajuda incorporado */}\r\n        <Typography variant=\"body2\" color=\"primary\" className={classes.helpText}>\r\n          <a href=\"https://faq.whatsapp.com/1317564962315842/?cms_platform=web\" target=\"_blank\" rel=\"noopener noreferrer\">\r\n            Precisa de ajuda para começar?\r\n          </a>\r\n        </Typography>\r\n      </DialogContent>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default React.memo(QrcodeModal);","import React, { useState, useEffect } from \"react\";\r\nimport { makeStyles, TextField, Grid } from \"@material-ui/core\";\r\nimport { Formik, Form, FastField, FieldArray } from \"formik\";\r\nimport { isArray } from \"lodash\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  textfield: {\r\n    width: \"100%\",\r\n    fontSize: \"0.875em\"\r\n  },\r\n  row: {\r\n    paddingTop: theme.spacing(2),\r\n    paddingBottom: theme.spacing(2),\r\n  },\r\n  control: {\r\n    paddingRight: theme.spacing(1),\r\n    paddingLeft: theme.spacing(1),\r\n  },\r\n  buttonContainer: {\r\n    textAlign: \"right\",\r\n    padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nfunction SchedulesForm(props) {\r\n  const { initialValues, onSubmit, loading, labelSaveButton } = props;\r\n  const classes = useStyles();\r\n\r\n  const [schedules, setSchedules] = useState([\r\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.saturday\"), weekdayEn: \"saturday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.sunday\"), weekdayEn: \"sunday\", startTimeA: \"\", endTimeA: \"\", startTimeB: \"\", endTimeB: \"\", },\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (isArray(initialValues) && initialValues.length > 0) {\r\n      setSchedules(initialValues);\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [initialValues]);\r\n\r\n  const handleSubmit = (data) => {\r\n    onSubmit(data);\r\n  };\r\n\r\n  return (\r\n    <Formik\r\n      enableReinitialize\r\n      className={classes.fullWidth}\r\n      initialValues={{ schedules }}\r\n      onSubmit={({ schedules }) =>\r\n        setTimeout(() => {\r\n          handleSubmit(schedules);\r\n        }, 500)\r\n      }\r\n    >\r\n      {({ values }) => (\r\n        <Form className={classes.fullWidth}>\r\n          <FieldArray\r\n            name=\"schedules\"\r\n            render={(arrayHelpers) => (\r\n              <Grid spacing={4} container>\r\n                {values.schedules.map((item, index) => {\r\n                  return (\r\n                    <Grid key={index} xs={12} md={4} item>\r\n                      <Grid container>\r\n                        <Grid className={classes.control} xs={12} item>\r\n                          <FastField\r\n                            as={TextField}\r\n                            abel={i18n.t(\"queueModal.serviceHours.dayWeek\")}\r\n                            name={`schedules[${index}].weekday`}\r\n                            disabled\r\n                            variant=\"outlined\"\r\n                            className={classes.fullWidth}\r\n                            margin=\"dense\"\r\n                          />\r\n                        </Grid>\r\n                        <Grid className={classes.control} xs={12} md={6} item>\r\n                          <FastField\r\n                            label={i18n.t(\"queueModal.serviceHours.startTimeA\")}\r\n                            name={`schedules[${index}].startTimeA`}\r\n                          >\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                className={classes.fullWidth}\r\n                                label={i18n.t(\"queueModal.serviceHours.startTimeA\")}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                        </Grid>\r\n                        <Grid className={classes.control} xs={12} md={6} item>\r\n                          <FastField\r\n                            label={i18n.t(\"queueModal.serviceHours.endTimeA\")}\r\n                            name={`schedules[${index}].endTimeA`}\r\n                          >\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                className={classes.fullWidth}\r\n                                label={i18n.t(\"queueModal.serviceHours.endTimeA\")}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                        </Grid>\r\n                        <Grid className={classes.control} xs={12} md={6} item>\r\n                          <FastField\r\n                            label={i18n.t(\"queueModal.serviceHours.startTimeB\")}\r\n                            name={`schedules[${index}].startTimeB`}\r\n                          >\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                className={classes.fullWidth}\r\n                                label={i18n.t(\"queueModal.serviceHours.startTimeB\")}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                        </Grid>\r\n                        <Grid className={classes.control} xs={12} md={6} item>\r\n                          <FastField\r\n                            label={i18n.t(\"queueModal.serviceHours.endTimeB\")}\r\n                            name={`schedules[${index}].endTimeB`}\r\n                          >\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                className={classes.fullWidth}\r\n                                label={i18n.t(\"queueModal.serviceHours.endTimeB\")}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </Grid>\r\n                  );\r\n                })}\r\n              </Grid>\r\n            )}\r\n          ></FieldArray>\r\n          <div className={classes.buttonContainer}>\r\n            <ButtonWithSpinner\r\n              loading={loading}\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n            >\r\n              {labelSaveButton ?? i18n.t(\"whatsappModal.buttons.okEdit\")}\r\n            </ButtonWithSpinner>\r\n          </div>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n\r\nexport default SchedulesForm;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { isNil } from \"lodash\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n  DialogActions,\r\n  CircularProgress,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Switch,\r\n  FormControlLabel,\r\n  Grid,\r\n  Divider,\r\n  Tab,\r\n  Tabs,\r\n  Paper,\r\n  Box,\r\n  Typography\r\n} from \"@material-ui/core\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelect from \"../QueueSelect\";\r\nimport TabPanel from \"../TabPanel\";\r\nimport { Autorenew, FileCopy } from \"@material-ui/icons\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport SchedulesForm from \"../SchedulesForm\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    gap: 4\r\n  },\r\n\r\n  multFieldLine: {\r\n    marginTop: 12,\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n  importMessage: {\r\n    marginTop: 12,\r\n    marginBottom: 12,\r\n    paddingBottom: 20,\r\n    paddingTop: 3,\r\n    padding: 12,\r\n    border: \"solid grey 2px\",\r\n    borderRadius: 4,\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  tokenRefresh: {\r\n    minWidth: \"auto\",\r\n    display: \"flex\", // Torna o botão flexível para alinhar o conteúdo\r\n    alignItems: \"center\", // Alinha verticalmente ao centro\r\n    justifyContent: \"center\", // Alinha horizontalmente ao centro\r\n  },\r\n}));\r\n\r\nconst SessionSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst WhatsAppModal = ({ open, onClose, whatsAppId }) => {\r\n  const classes = useStyles();\r\n  const [autoToken, setAutoToken] = useState(\"\");\r\n\r\n  const inputFileRef = useRef(null);\r\n\r\n  const [attachment, setAttachment] = useState(null)\r\n  const [attachmentName, setAttachmentName] = useState('')\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    greetingMessage: \"\",\r\n    complationMessage: \"\",\r\n    outOfHoursMessage: \"\",\r\n    ratingMessage: \"\",\r\n    isDefault: false,\r\n    token: \"\",\r\n    maxUseBotQueues: 3,\r\n    provider: \"beta\",\r\n    expiresTicket: 0,\r\n    allowGroup: false,\r\n    enableImportMessage: false,\r\n    groupAsTicket: \"disabled\",\r\n    timeUseBotQueues: '0',\r\n    timeSendQueue: '0',\r\n    sendIdQueue: 0,\r\n    expiresTicketNPS: '0',\r\n    expiresInactiveMessage: \"\",\r\n    timeInactiveMessage: \"\",\r\n    inactiveMessage: \"\",\r\n    maxUseBotQueuesNPS: 3,\r\n    whenExpiresTicket: 0,\r\n    timeCreateNewTicket: 0,\r\n    greetingMediaAttachment: \"\",\r\n    importRecentMessages: \"\",\r\n    importOldMessages: \"\",\r\n    importOldMessagesGroups: \"\",\r\n    integrationId: \"\",\r\n    collectiveVacationEnd: \"\",\r\n    collectiveVacationStart: \"\",\r\n    collectiveVacationMessage: \"\",\r\n    queueIdImportMessages: null,\r\n    wavoip: \"\",\r\n  };\r\n  const [whatsApp, setWhatsApp] = useState(initialState);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n  const [queues, setQueues] = useState([]);\r\n  const [tab, setTab] = useState(\"general\");\r\n  const [enableImportMessage, setEnableImportMessage] = useState(false);\r\n  const [importOldMessagesGroups, setImportOldMessagesGroups] = useState(false);\r\n  const [closedTicketsPostImported, setClosedTicketsPostImported] = useState(false);\r\n  const [importOldMessages, setImportOldMessages] = useState(moment().add(-1, \"days\").format(\"YYYY-MM-DDTHH:mm\"));\r\n  const [importRecentMessages, setImportRecentMessages] = useState(moment().add(-1, \"minutes\").format(\"YYYY-MM-DDTHH:mm\"));\r\n  const [copied, setCopied] = useState(false);\r\n\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n  const [NPSEnabled, setNPSEnabled] = useState(false);\r\n  const [showOpenAi, setShowOpenAi] = useState(false);\r\n  const [showIntegrations, setShowIntegrations] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n\r\n\r\n\r\n  const [schedules, setSchedules] = useState([\r\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n  ]);\r\n\r\n  const { get: getSetting } = useCompanySettings();\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\r\n  const [prompts, setPrompts] = useState([]);\r\n\r\n  const [webhooks, setWebhooks] = useState([]);\r\n  const [flowIdNotPhrase, setFlowIdNotPhrase] = useState();\r\n  const [flowIdWelcome, setFlowIdWelcome] = useState();\r\n\r\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\r\n  const [integrations, setIntegrations] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (!whatsAppId && !whatsApp.token) {\r\n      setAutoToken(generateRandomCode(30));\r\n    } else if (whatsAppId && !whatsApp.token) {\r\n      setAutoToken(generateRandomCode(30));\r\n    } else {\r\n      setAutoToken(whatsApp.token);\r\n    }\r\n  }, [whatsAppId, whatsApp.token]);\r\n\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n\r\n      setShowOpenAi(planConfigs.plan.useOpenAi);\r\n      setShowIntegrations(planConfigs.plan.useIntegrations);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/prompt\");\r\n        setPrompts(data.prompts);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n\r\n    const fetchData = async () => {\r\n\r\n      const settingSchedules = await getSetting({\r\n        \"column\": \"scheduleType\"\r\n      });\r\n      setSchedulesEnabled(settingSchedules.scheduleType === \"connection\");\r\n      const settingNPS = await getSetting({\r\n        \"column\": \"userRating\"\r\n      });\r\n      setNPSEnabled(settingNPS.userRating === \"enabled\");\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleEnableImportMessage = async (e) => {\r\n    setEnableImportMessage(e.target.checked);\r\n\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      if (!whatsAppId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`whatsapp/${whatsAppId}?session=0`);\r\n        if (data && data?.flowIdNotPhrase) {\r\n          const { data: flowDefault } = await api.get(`flowbuilder/${data.flowIdNotPhrase}`)\r\n          const selectedFlowIdNotPhrase = flowDefault?.flow.id\r\n          setFlowIdNotPhrase(selectedFlowIdNotPhrase)\r\n        }\r\n        if (data && data?.flowIdWelcome) {\r\n          const { data: flowDefault } = await api.get(`flowbuilder/${data.flowIdWelcome}`)\r\n          const selectedFlowIdWelcome = flowDefault?.flow.id\r\n          setFlowIdWelcome(selectedFlowIdWelcome)\r\n        }\r\n        setWhatsApp(data);\r\n        setAttachmentName(data.greetingMediaAttachment);\r\n        setAutoToken(data.token);\r\n        setSelectedIntegration(data?.integrationId)\r\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\r\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\r\n        setSelectedQueueIds(whatsQueueIds);\r\n        setSchedules(data.schedules)\r\n        if (!isNil(data?.importOldMessages)) {\r\n          setEnableImportMessage(true);\r\n          setImportOldMessages(data?.importOldMessages);\r\n          setImportRecentMessages(data?.importRecentMessages);\r\n          setClosedTicketsPostImported(data?.closedTicketsPostImported);\r\n          setImportOldMessagesGroups(data?.importOldMessagesGroups);\r\n        }\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queue\");\r\n        setQueues(data);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queueIntegration\");\r\n\r\n        setIntegrations(data.queueIntegrations);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/flowbuilder\")\r\n        setWebhooks(data.flows)\r\n      } catch (err) {\r\n        toastError(err)\r\n      }\r\n    })();\r\n  }, [])\r\n\r\n  const handleChangeQueue = (e) => {\r\n    setSelectedQueueIds(e);\r\n    setSelectedPrompt(null);\r\n    setSelectedIntegration(null)\r\n  };\r\n\r\n  const handleChangeIntegration = (e) => {\r\n    setSelectedIntegration(e.target.value)\r\n    setSelectedPrompt(null)\r\n    setSelectedQueueIds([])\r\n  }\r\n\r\n  const handleChangeFlowIdNotPhrase = (e) => {\r\n    setFlowIdNotPhrase(e.target.value)\r\n  }\r\n\r\n  const handleChangeFlowIdWelcome = (e) => {\r\n    setFlowIdWelcome(e.target.value)\r\n  }\r\n\r\n\r\n  const handleChangePrompt = (e) => {\r\n    setSelectedPrompt(e.target.value);\r\n    setSelectedQueueIds([]);\r\n  };\r\n\r\n  const handleSaveWhatsApp = async (values) => {\r\n    if (!whatsAppId) setAutoToken(generateRandomCode(30));\r\n\r\n\r\n\r\n    if (NPSEnabled) {\r\n\r\n      if (isNil(values.ratingMessage)) {\r\n        toastError(i18n.t(\"whatsappModal.errorRatingMessage\"));\r\n        return;\r\n      }\r\n\r\n      if (values.expiresTicketNPS === '0' && values.expiresTicketNPS === '' && values.expiresTicketNPS === 0) {\r\n        toastError(i18n.t(\"whatsappModal.errorExpiresNPS\"));\r\n        return;\r\n      }\r\n    }\r\n\r\n\r\n    if (values.timeSendQueue === '') values.timeSendQueue = '0'\r\n\r\n    if ((values.sendIdQueue === 0 || values.sendIdQueue === '' || isNil(values.sendIdQueue)) && (values.timeSendQueue !== 0 && values.timeSendQueue !== '0')) {\r\n      toastError(i18n.t(\"whatsappModal.errorSendQueue\"));\r\n      return;\r\n    }\r\n\r\n    const whatsappData = {\r\n      ...values,\r\n      flowIdWelcome: flowIdWelcome ? flowIdWelcome : null,\r\n      flowIdNotPhrase: flowIdNotPhrase ? flowIdNotPhrase : null,\r\n      integrationId: selectedIntegration ? selectedIntegration : null,\r\n      queueIds: selectedQueueIds,\r\n      importOldMessages: enableImportMessage ? importOldMessages : null,\r\n      importRecentMessages: enableImportMessage ? importRecentMessages : null,\r\n      importOldMessagesGroups: importOldMessagesGroups ? importOldMessagesGroups : null,\r\n      closedTicketsPostImported: closedTicketsPostImported ? closedTicketsPostImported : null,\r\n      token: autoToken ? autoToken : null, schedules,\r\n      promptId: selectedPrompt ? selectedPrompt : null\r\n    };\r\n\r\n    console.dir(whatsappData)\r\n\r\n    delete whatsappData[\"queues\"];\r\n    delete whatsappData[\"session\"];\r\n\r\n    try {\r\n      if (whatsAppId) {\r\n        if (whatsAppId && enableImportMessage && whatsApp?.status === \"CONNECTED\") {\r\n          try {\r\n            setWhatsApp({ ...whatsApp, status: \"qrcode\" });\r\n            await api.delete(`/whatsappsession/${whatsApp.id}`);\r\n          } catch (err) {\r\n            toastError(err);\r\n          }\r\n        }\r\n\r\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/whatsapp/${whatsAppId}/media-upload`, formData);\r\n        }\r\n        if (!attachmentName && (whatsApp.greetingMediaAttachment !== null)) {\r\n          await api.delete(`/whatsapp/${whatsAppId}/media-upload`);\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/whatsapp\", whatsappData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/whatsapp/${data.id}/media-upload`, formData);\r\n        }\r\n      }\r\n      toast.success(i18n.t(\"whatsappModal.success\"));\r\n\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n  };\r\n\r\n  function generateRandomCode(length) {\r\n    const charset = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789\";\r\n    let code = \"\";\r\n\r\n    for (let i = 0; i < length; i++) {\r\n      const randomIndex = Math.floor(Math.random() * charset.length);\r\n      code += charset.charAt(randomIndex);\r\n    }\r\n    return code;\r\n  }\r\n\r\n  const handleRefreshToken = () => {\r\n    setAutoToken(generateRandomCode(30));\r\n  }\r\n\r\n  const handleCopyToken = () => {\r\n    navigator.clipboard.writeText(autoToken); // Copia o token para a área de transferência    \r\n    setCopied(true); // Define o estado de cópia como verdadeiro\r\n  };\r\n\r\n  const handleSaveSchedules = async (values) => {\r\n    toast.success(\"Clique em salvar para registar as alterações\");\r\n    setSchedules(values);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setWhatsApp(initialState);\r\n    setEnableImportMessage(false);\r\n    // inputFileRef.current.value = null\r\n    setAttachment(null)\r\n    setAttachmentName(\"\")\r\n    setCopied(false);\r\n  };\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleFileUpload = () => {\r\n    const file = inputFileRef.current.files[0];\r\n    setAttachment(file)\r\n    setAttachmentName(file.name)\r\n    inputFileRef.current.value = null\r\n  };\r\n\r\n  const handleDeleFile = () => {\r\n    setAttachment(null)\r\n    setAttachmentName(null)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"lg\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle>\r\n          {whatsAppId\r\n            ? i18n.t(\"whatsappModal.title.edit\")\r\n            : i18n.t(\"whatsappModal.title.add\")}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={whatsApp}\r\n          enableReinitialize={true}\r\n          validationSchema={SessionSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveWhatsApp(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <Paper className={classes.mainPaper} elevation={1}>\r\n                <Tabs\r\n                  value={tab}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  scrollButtons=\"on\"\r\n                  variant=\"scrollable\"\r\n                  onChange={handleTabChange}\r\n                  className={classes.tab}\r\n                >\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.general\")} value={\"general\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.integrations\")} value={\"integrations\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.messages\")} value={\"messages\"} />\r\n                  <Tab label=\"Chatbot\" value={\"chatbot\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.assessments\")} value={\"nps\"} />\r\n                  <Tab label=\"Fluxo Padrão\" value={\"flowbuilder\"} />\r\n                  {schedulesEnabled && <Tab label={i18n.t(\"whatsappModal.tabs.schedules\")} value={\"schedules\"} />}\r\n                </Tabs>\r\n              </Paper>\r\n              <Paper className={classes.paper} elevation={0}>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"general\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {attachmentName && (\r\n                      <div\r\n                        style={{ display: 'flex', flexDirection: 'row-reverse' }}\r\n                      >\r\n                        <Button\r\n                          variant='outlined'\r\n                          color=\"primary\"\r\n                          endIcon={<DeleteOutlineIcon />}\r\n                          onClick={handleDeleFile}\r\n                        >\r\n                          {attachmentName}\r\n                        </Button>\r\n                      </div>\r\n                    )}\r\n                    <div\r\n                      style={{ display: 'flex', flexDirection: \"column-reverse\" }}\r\n                    >\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"video/*,image/*\"\r\n                        ref={inputFileRef}\r\n                        style={{ display: 'none' }}\r\n                        onChange={handleFileUpload}\r\n                      />\r\n                      <Button variant=\"contained\" color=\"primary\" onClick={() => inputFileRef.current.click()}>\r\n                        {i18n.t(\"userModal.buttons.addImage\")}\r\n                      </Button>\r\n                    </div>\r\n                    {/* NOME E PADRAO */}\r\n                    <div className={classes.multFieldLine}>\r\n                      <Grid spacing={2} container>\r\n                        <Grid item>\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"whatsappModal.form.name\")}\r\n                            autoFocus\r\n                            name=\"name\"\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helperText={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid style={{ paddingTop: 15 }} item>\r\n                          <FormControlLabel\r\n                            control={\r\n                              <Field\r\n                                as={Switch}\r\n                                color=\"primary\"\r\n                                name=\"isDefault\"\r\n                                checked={values.isDefault}\r\n                              />\r\n                            }\r\n                            label={i18n.t(\"whatsappModal.form.default\")}\r\n                          />\r\n                          <FormControlLabel\r\n                            control={\r\n                              <Field\r\n                                as={Switch}\r\n                                color=\"primary\"\r\n                                name=\"allowGroup\"\r\n                                checked={values.allowGroup}\r\n                              />\r\n                            }\r\n                            label={i18n.t(\"whatsappModal.form.group\")}\r\n                          />\r\n                        </Grid>\r\n                        <Grid xs={6} md={4} item>\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.formControl}\r\n                          >\r\n                            <InputLabel id=\"groupAsTicket-selection-label\">{i18n.t(\"whatsappModal.form.groupAsTicket\")}</InputLabel>\r\n                            <Field\r\n                              as={Select}\r\n                              label={i18n.t(\"whatsappModal.form.groupAsTicket\")}\r\n                              placeholder={i18n.t(\"whatsappModal.form.groupAsTicket\")}\r\n                              labelId=\"groupAsTicket-selection-label\"\r\n                              id=\"groupAsTicket\"\r\n                              name=\"groupAsTicket\"\r\n                            >\r\n                              <MenuItem value={\"disabled\"}>{i18n.t(\"whatsappModal.menuItem.disabled\")}</MenuItem>\r\n                              <MenuItem value={\"enabled\"}>{i18n.t(\"whatsappModal.menuItem.enabled\")}</MenuItem>\r\n                            </Field>\r\n                          </FormControl>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </div>\r\n\r\n\r\n                    <div className={classes.importMessage}>\r\n                      <div className={classes.multFieldLine}>\r\n                        <FormControlLabel\r\n                          style={{ marginRight: 7, color: \"gray\" }}\r\n                          label={i18n.t(\"whatsappModal.form.importOldMessagesEnable\")}\r\n                          labelPlacement=\"end\"\r\n                          control={\r\n                            <Switch\r\n                              size=\"medium\"\r\n                              checked={enableImportMessage}\r\n                              onChange={handleEnableImportMessage}\r\n                              name=\"importOldMessagesEnable\"\r\n                              color=\"primary\"\r\n                            />\r\n                          }\r\n                        />\r\n\r\n                        {enableImportMessage ? (\r\n                          <>\r\n                            <FormControlLabel\r\n                              style={{ marginRight: 7, color: \"gray\" }}\r\n                              label={i18n.t(\r\n                                \"whatsappModal.form.importOldMessagesGroups\"\r\n                              )}\r\n                              labelPlacement=\"end\"\r\n                              control={\r\n                                <Switch\r\n                                  size=\"medium\"\r\n                                  checked={importOldMessagesGroups}\r\n                                  onChange={(e) =>\r\n                                    setImportOldMessagesGroups(e.target.checked)\r\n                                  }\r\n                                  name=\"importOldMessagesGroups\"\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                            />\r\n\r\n                            <FormControlLabel\r\n                              style={{ marginRight: 7, color: \"gray\" }}\r\n                              label={i18n.t(\r\n                                \"whatsappModal.form.closedTicketsPostImported\"\r\n                              )}\r\n                              labelPlacement=\"end\"\r\n                              control={\r\n                                <Switch\r\n                                  size=\"medium\"\r\n                                  checked={closedTicketsPostImported}\r\n                                  onChange={(e) =>\r\n                                    setClosedTicketsPostImported(e.target.checked)\r\n                                  }\r\n                                  name=\"closedTicketsPostImported\"\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                            />\r\n                          </>) : <></>}\r\n                      </div>\r\n\r\n                      {enableImportMessage ? (\r\n                        <Grid style={{ marginTop: 18 }} container spacing={1}>\r\n                          <Grid item xs={6}>\r\n                            <Field\r\n                              fullWidth\r\n                              as={TextField}\r\n                              label={i18n.t(\"whatsappModal.form.importOldMessages\")}\r\n                              type=\"datetime-local\"\r\n                              name=\"importOldMessages\"\r\n                              inputProps={{\r\n                                max: moment()\r\n                                  .add(0, \"minutes\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                                min: moment()\r\n                                  .add(-2, \"years\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                              }}\r\n                              //min=\"2022-11-06T22:22:55\"\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              error={\r\n                                touched.importOldMessages &&\r\n                                Boolean(errors.importOldMessages)\r\n                              }\r\n                              helperText={\r\n                                touched.importOldMessages && errors.importOldMessages\r\n                              }\r\n                              variant=\"outlined\"\r\n                              value={moment(importOldMessages).format(\r\n                                \"YYYY-MM-DDTHH:mm\"\r\n                              )}\r\n                              onChange={(e) => {\r\n                                setImportOldMessages(e.target.value);\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                          <Grid item xs={6}>\r\n                            <Field\r\n                              fullWidth\r\n                              as={TextField}\r\n                              label={i18n.t(\"whatsappModal.form.importRecentMessages\")}\r\n                              type=\"datetime-local\"\r\n                              name=\"importRecentMessages\"\r\n                              inputProps={{\r\n                                max: moment()\r\n                                  .add(0, \"minutes\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                                min: moment(importOldMessages).format(\r\n                                  \"YYYY-MM-DDTHH:mm\"\r\n                                )\r\n                              }}\r\n                              //min=\"2022-11-06T22:22:55\"\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              error={\r\n                                touched.importRecentMessages &&\r\n                                Boolean(errors.importRecentMessages)\r\n                              }\r\n                              helperText={\r\n                                touched.importRecentMessages && errors.importRecentMessages\r\n                              }\r\n                              variant=\"outlined\"\r\n                              value={moment(importRecentMessages).format(\r\n                                \"YYYY-MM-DDTHH:mm\"\r\n                              )}\r\n                              onChange={(e) => {\r\n                                setImportRecentMessages(e.target.value);\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                          <Grid xs={12} md={12} xl={12} item>\r\n                            <FormControl\r\n                              variant=\"outlined\"\r\n                              margin=\"dense\"\r\n                              className={classes.FormControl}\r\n                              fullWidth\r\n                            >\r\n                              <InputLabel id=\"queueIdImportMessages-selection-label\">\r\n                                {i18n.t(\"whatsappModal.form.queueIdImportMessages\")}\r\n                              </InputLabel>\r\n                              <Field\r\n                                as={Select}\r\n                                name=\"queueIdImportMessages\"\r\n                                id=\"queueIdImportMessages\"\r\n                                value={values.queueIdImportMessages || '0'}\r\n                                required={enableImportMessage}\r\n                                label={i18n.t(\"whatsappModal.form.queueIdImportMessages\")}\r\n                                placeholder={i18n.t(\"whatsappModal.form.queueIdImportMessages\")}\r\n                                labelId=\"queueIdImportMessages-selection-label\"\r\n                              >\r\n                                <MenuItem value={0}>&nbsp;</MenuItem>\r\n                                {queues.map(queue => (\r\n                                  <MenuItem key={queue.id} value={queue.id}>\r\n                                    {queue.name}\r\n                                  </MenuItem>\r\n                                ))}\r\n                              </Field>\r\n                            </FormControl>\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                      ) : null}\r\n                    </div>\r\n                    {enableImportMessage && (\r\n                      <span style={{ color: \"red\" }}>\r\n                        {i18n.t(\"whatsappModal.form.importAlert\")}\r\n                      </span>\r\n                    )}\r\n\r\n\r\n                    {/* TOKEN */}\r\n                    <Box display=\"flex\" alignItems=\"center\">\r\n                      <Grid xs={6} md={12} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.token\")}\r\n                          type=\"token\"\r\n                          fullWidth\r\n                          // name=\"token\"\r\n                          value={autoToken}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          disabled\r\n                        />\r\n                      </Grid>\r\n                      <Button\r\n                        onClick={handleRefreshToken}\r\n                        disabled={isSubmitting}\r\n                        className={classes.tokenRefresh}\r\n                        variant=\"text\"\r\n                        startIcon={<Autorenew style={{ marginLeft: 5, color: \"green\" }} />}\r\n                      />\r\n                      <Button\r\n                        onClick={handleCopyToken}\r\n                        className={classes.tokenRefresh}\r\n                        variant=\"text\"\r\n                        startIcon={<FileCopy style={{ color: copied ? \"blue\" : \"inherit\" }} />}\r\n                      />\r\n                    </Box>\r\n\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label=\"Wavoip\"\r\n                        fullWidth\r\n                        name=\"wavoip\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div>\r\n                      <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\r\n                      <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\r\n                      <Grid spacing={2} container>\r\n\r\n                        <Grid xs={6} md={6} item>\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.FormControl}\r\n                            fullWidth\r\n                          >\r\n                            <InputLabel id=\"sendIdQueue-selection-label\">\r\n                              {i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                            </InputLabel>\r\n                            <Field\r\n                              as={Select}\r\n                              name=\"sendIdQueue\"\r\n                              id=\"sendIdQueue\"\r\n                              value={values.sendIdQueue || '0'}\r\n                              required={values.timeSendQueue > 0}\r\n                              label={i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                              placeholder={i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                              labelId=\"sendIdQueue-selection-label\"\r\n                            >\r\n                              <MenuItem value={0}>&nbsp;</MenuItem>\r\n                              {queues.map(queue => (\r\n                                <MenuItem key={queue.id} value={queue.id}>\r\n                                  {queue.name}\r\n                                </MenuItem>\r\n                              ))}\r\n                            </Field>\r\n                          </FormControl>\r\n\r\n                        </Grid>\r\n\r\n                        <Grid xs={6} md={6} item>\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"whatsappModal.form.timeSendQueue\")}\r\n                            fullWidth\r\n                            name=\"timeSendQueue\"\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            error={touched.timeSendQueue && Boolean(errors.timeSendQueue)}\r\n                            helperText={touched.timeSendQueue && errors.timeSendQueue}\r\n                          />\r\n                        </Grid>\r\n\r\n                      </Grid>\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                {/* INTEGRAÇÃO */}\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"integrations\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* FILAS */}\r\n                    <QueueSelect\r\n                      selectedQueueIds={selectedQueueIds}\r\n                      onChange={(selectedIds) => handleChangeQueue(selectedIds)}\r\n                    />\r\n                    {showIntegrations && (\r\n                      <FormControl\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        className={classes.FormControl}\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel id=\"integrationId-selection-label\">\r\n                          {i18n.t(\"queueModal.form.integrationId\")}\r\n                        </InputLabel>\r\n                        <Select\r\n                          label={i18n.t(\"queueModal.form.integrationId\")}\r\n                          name=\"integrationId\"\r\n                          value={selectedIntegration || \"\"}\r\n                          onChange={handleChangeIntegration}\r\n                          id=\"integrationId\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\r\n                          labelId=\"integrationId-selection-label\"                        >\r\n                          <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\r\n                          {integrations.map((integration) => (\r\n                            <MenuItem key={integration.id} value={integration.id}>\r\n                              {integration.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    )}\r\n                    {showOpenAi && (\r\n                      <FormControl\r\n                        margin=\"dense\"\r\n                        variant=\"outlined\"\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel>\r\n                          {i18n.t(\"whatsappModal.form.prompt\")}\r\n                        </InputLabel>\r\n                        <Select\r\n                          labelId=\"dialog-select-prompt-label\"\r\n                          id=\"dialog-select-prompt\"\r\n                          name=\"promptId\"\r\n                          value={selectedPrompt || \"\"}\r\n                          onChange={handleChangePrompt}\r\n                          label={i18n.t(\"whatsappModal.form.prompt\")}\r\n                          fullWidth\r\n                          MenuProps={{\r\n                            anchorOrigin: {\r\n                              vertical: \"bottom\",\r\n                              horizontal: \"left\",\r\n                            },\r\n                            transformOrigin: {\r\n                              vertical: \"top\",\r\n                              horizontal: \"left\",\r\n                            },\r\n                            getContentAnchorEl: null,\r\n                          }}\r\n                        >\r\n                          {prompts.map((prompt) => (\r\n                            <MenuItem\r\n                              key={prompt.id}\r\n                              value={prompt.id}\r\n                            >\r\n                              {prompt.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Select>\r\n                      </FormControl>\r\n                    )}\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"messages\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* MENSAGEM DE SAUDAÇÃO */}\r\n                    <Grid container spacing={1}>\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.greetingMessage\")}\r\n                          type=\"greetingMessage\"\r\n                          multiline\r\n                          rows={4}\r\n                          fullWidth\r\n                          name=\"greetingMessage\"\r\n                          error={\r\n                            touched.greetingMessage && Boolean(errors.greetingMessage)\r\n                          }\r\n                          helperText={\r\n                            touched.greetingMessage && errors.greetingMessage\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                        />\r\n                      </Grid>\r\n\r\n                      {/* MENSAGEM DE CONCLUSÃO */}\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.complationMessage\")}\r\n                          multiline\r\n                          rows={4}\r\n                          fullWidth\r\n                          name=\"complationMessage\"\r\n                          error={\r\n                            touched.complationMessage &&\r\n                            Boolean(errors.complationMessage)\r\n                          }\r\n                          helperText={\r\n                            touched.complationMessage && errors.complationMessage\r\n                          }\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                        />\r\n                      </Grid>\r\n\r\n                      {/* MENSAGEM DE FORA DE EXPEDIENTE */}\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.outOfHoursMessage\")}\r\n                          multiline\r\n                          rows={4}\r\n                          fullWidth\r\n                          name=\"outOfHoursMessage\"\r\n                          error={touched.outOfHoursMessage && Boolean(errors.outOfHoursMessage)}\r\n                          helperText={touched.outOfHoursMessage && errors.outOfHoursMessage}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                        />\r\n                      </Grid>\r\n                      {/* MENSAGEM DE FÉRIAS COLETIVAS */}\r\n                      <Grid item xs={12} md={12} xl={12}>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.collectiveVacationMessage\")}\r\n                          multiline\r\n                          rows={4}\r\n                          fullWidth\r\n                          name=\"collectiveVacationMessage\"\r\n                          error={touched.collectiveVacationMessage && Boolean(errors.collectiveVacationMessage)}\r\n                          helperText={touched.collectiveVacationMessage && errors.collectiveVacationMessage}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <Field\r\n                          fullWidth\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.collectiveVacationStart\")}\r\n                          type=\"date\"\r\n                          name=\"collectiveVacationStart\"\r\n                          required={values.collectiveVacationMessage?.length > 0}\r\n                          inputProps={{\r\n                            min: moment()\r\n                              .add(-10, \"days\")\r\n                              .format(\"YYYY-MM-DD\"),\r\n                          }}\r\n                          //min=\"2022-11-06T22:22:55\"\r\n                          InputLabelProps={{\r\n                            shrink: true,\r\n                          }}\r\n                          error={\r\n                            touched.collectiveVacationStart &&\r\n                            Boolean(errors.collectiveVacationStart)\r\n                          }\r\n                          helperText={\r\n                            touched.collectiveVacationStart && errors.collectiveVacationStart\r\n                          }\r\n                          variant=\"outlined\"\r\n                        />\r\n                      </Grid>\r\n                      <Grid item xs={6}>\r\n                        <Field\r\n                          fullWidth\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.collectiveVacationEnd\")}\r\n                          type=\"date\"\r\n                          name=\"collectiveVacationEnd\"\r\n                          required={values.collectiveVacationMessage?.length > 0}\r\n                          inputProps={{\r\n                            min: moment()\r\n                              .add(-10, \"days\")\r\n                              .format(\"YYYY-MM-DD\")\r\n                          }}\r\n                          //min=\"2022-11-06T22:22:55\"\r\n                          InputLabelProps={{\r\n                            shrink: true,\r\n                          }}\r\n                          error={\r\n                            touched.collectiveVacationEnd &&\r\n                            Boolean(errors.collectiveVacationEnd)\r\n                          }\r\n                          helperText={\r\n                            touched.collectiveVacationEnd && errors.collectiveVacationEnd\r\n                          }\r\n                          variant=\"outlined\"\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"chatbot\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    <Grid spacing={2} container>\r\n                      {/* TEMPO PARA CRIAR NOVO TICKET */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.timeCreateNewTicket\")}\r\n                          fullWidth\r\n                          name=\"timeCreateNewTicket\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.timeCreateNewTicket && Boolean(errors.timeCreateNewTicket)}\r\n                          helperText={touched.timeCreateNewTicket && errors.timeCreateNewTicket}\r\n                        />\r\n                      </Grid>\r\n\r\n                      {/* QUANTIDADE MÁXIMA DE VEZES QUE O CHATBOT VAI SER ENVIADO */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.maxUseBotQueues\")}\r\n                          fullWidth\r\n                          name=\"maxUseBotQueues\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.maxUseBotQueues && Boolean(errors.maxUseBotQueues)}\r\n                          helperText={touched.maxUseBotQueues && errors.maxUseBotQueues}\r\n                        />\r\n                      </Grid>\r\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.timeUseBotQueues\")}\r\n                          fullWidth\r\n                          name=\"timeUseBotQueues\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.timeUseBotQueues && Boolean(errors.timeUseBotQueues)}\r\n                          helperText={touched.timeUseBotQueues && errors.timeUseBotQueues}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                    <Grid spacing={2} container>\r\n                      {/* ENCERRAR CHATS ABERTOS APÓS X HORAS */}\r\n                      <Grid xs={6} md={6} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.expiresTicket\")}\r\n                          fullWidth\r\n                          name=\"expiresTicket\"\r\n                          required={values.timeInactiveMessage > 0}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.expiresTicket && Boolean(errors.expiresTicket)}\r\n                          helperText={touched.expiresTicket && errors.expiresTicket}\r\n                        />\r\n                      </Grid>\r\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\r\n                      <Grid xs={6} md={6} item>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.formControl}\r\n                        >\r\n                          <InputLabel id=\"whenExpiresTicket-selection-label\">\r\n                            {i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\r\n                          </InputLabel>\r\n                          <Field\r\n                            as={Select}\r\n                            label={i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\r\n                            placeholder={i18n.t(\r\n                              \"whatsappModal.form.whenExpiresTicket\"\r\n                            )}\r\n                            labelId=\"whenExpiresTicket-selection-label\"\r\n                            id=\"whenExpiresTicket\"\r\n                            name=\"whenExpiresTicket\"\r\n                          >\r\n                            <MenuItem value={\"0\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions1\")}</MenuItem>\r\n                            <MenuItem value={\"1\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions2\")}</MenuItem>\r\n                          </Field>\r\n                        </FormControl>\r\n                      </Grid>\r\n                    </Grid>\r\n                    {/* MENSAGEM POR INATIVIDADE*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"expiresInactiveMessage\"\r\n                        error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\r\n                        helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/* TEMPO PARA ENVIO DE MENSAGEM POR INATIVIDADE */}\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"whatsappModal.form.timeInactiveMessage\")}\r\n                      fullWidth\r\n                      name=\"timeInactiveMessage\"\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      error={touched.timeInactiveMessage && Boolean(errors.timeInactiveMessage)}\r\n                      helperText={touched.timeInactiveMessage && errors.timeInactiveMessage}\r\n                    />\r\n                    {/* MENSAGEM POR INATIVIDADE*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.inactiveMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"inactiveMessage\"\r\n                        error={touched.inactiveMessage && Boolean(errors.inactiveMessage)}\r\n                        helperText={touched.inactiveMessage && errors.inactiveMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"nps\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* MENSAGEM DE AVALIAÇAO*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.ratingMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"ratingMessage\"\r\n                        error={touched.ratingMessage && Boolean(errors.ratingMessage)}\r\n                        helperText={touched.ratingMessage && errors.ratingMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n                    {/* QUANTIDADE MÁXIMA DE VEZES QUE O NPS VAI SER ENVIADO */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.maxUseBotQueuesNPS\")}\r\n                        fullWidth\r\n                        name=\"maxUseBotQueuesNPS\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        error={touched.maxUseBotQueuesNPS && Boolean(errors.maxUseBotQueuesNPS)}\r\n                        helperText={touched.maxUseBotQueuesNPS && errors.maxUseBotQueuesNPS}\r\n                      />\r\n                    </div>\r\n                    {/* ENCERRAR CHATS NPS APÓS X Minutos */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.expiresTicketNPS\")}\r\n                        fullWidth\r\n                        name=\"expiresTicketNPS\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        error={touched.expiresTicketNPS && Boolean(errors.expiresTicketNPS)}\r\n                        helperText={touched.expiresTicketNPS && errors.expiresTicketNPS}\r\n                      />\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                {/* Flowbuilder */}\r\n                {showIntegrations && (\r\n                  <>\r\n                    <TabPanel\r\n                      className={classes.container}\r\n                      value={tab}\r\n                      name={\"flowbuilder\"}\r\n                    >\r\n                      <DialogContent>\r\n                        <h3>Fluxo de boas vindas</h3>\r\n                        <p>Este fluxo é disparado apenas para novos contatos, pessoas que voce não possui em sua lista de contatos e que mandaram uma mensagem\r\n                        </p>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          className={classes.FormControl}\r\n                          fullWidth\r\n                        >\r\n                          <Select\r\n                            name=\"flowIdWelcome\"\r\n                            value={flowIdWelcome || \"\"}\r\n                            onChange={handleChangeFlowIdWelcome}\r\n                            id=\"flowIdWelcome\"\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            labelId=\"flowIdWelcome-selection-label\"                        >\r\n                            <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\r\n                            {webhooks.map(webhook => (\r\n                              <MenuItem key={webhook.id} value={webhook.id}>\r\n                                {webhook.name}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      </DialogContent>\r\n                      <DialogContent>\r\n                        <h3>Fluxo de resposta padrão</h3>\r\n                        <p>Resposta Padrão é enviada com qualquer caractere diferente de uma palavra chave. ATENÇÃO! Será disparada se o atendimento ja estiver fechado.\r\n\r\n                        </p>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          className={classes.FormControl}\r\n                          fullWidth\r\n                        >\r\n                          <Select\r\n                            name=\"flowNotIdPhrase\"\r\n                            value={flowIdNotPhrase || \"\"}\r\n                            onChange={handleChangeFlowIdNotPhrase}\r\n                            id=\"flowNotIdPhrase\"\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            labelId=\"flowNotIdPhrase-selection-label\"                        >\r\n                            <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\r\n                            {webhooks.map(webhook => (\r\n                              <MenuItem key={webhook.id} value={webhook.id}>\r\n                                {webhook.name}\r\n                              </MenuItem>\r\n                            ))}\r\n                          </Select>\r\n                        </FormControl>\r\n                      </DialogContent>\r\n                    </TabPanel>\r\n                  </>\r\n                )}\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"schedules\"}\r\n                >\r\n                  {tab === \"schedules\" && (\r\n                    <Paper style={{ padding: 20 }}>\r\n                      <SchedulesForm\r\n                        loading={false}\r\n                        onSubmit={handleSaveSchedules}\r\n                        initialValues={schedules}\r\n                        labelSaveButton={i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n\r\n                </TabPanel>\r\n              </Paper>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {whatsAppId\r\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\r\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(WhatsAppModal);","import { add, format, parseISO } from \"date-fns\";\r\nimport React, { useCallback, useContext, useEffect, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport PopupState, { bindMenu, bindTrigger } from \"material-ui-popup-state\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport {\r\n  Box,\r\n  Button,\r\n  Card,\r\n  CardContent,\r\n  CircularProgress,\r\n  IconButton,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport {\r\n  CheckCircle,\r\n  CropFree,\r\n  DeleteOutline,\r\n  Edit,\r\n  Facebook,\r\n  Instagram,\r\n  SignalCellular4Bar,\r\n  SignalCellularConnectedNoInternet0Bar,\r\n  SignalCellularConnectedNoInternet2Bar,\r\n  WhatsApp,\r\n} from \"@material-ui/icons\";\r\n\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { Can } from \"../../components/Can\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport QrcodeModal from \"../../components/QrcodeModal\";\r\nimport WhatsAppModal from \"../../components/WhatsAppModal\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport formatSerializedId from \"../../utils/formatSerializedId\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(1),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  tooltip: {\r\n    backgroundColor: \"#f5f5f9\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontSize: theme.typography.pxToRem(14),\r\n    border: \"1px solid #dadde9\",\r\n    maxWidth: 450,\r\n  },\r\n  tooltipPopper: {\r\n    textAlign: \"center\",\r\n  },\r\n  buttonProgress: {\r\n    color: green[500],\r\n  },\r\n}));\r\n\r\nfunction CircularProgressWithLabel(props) {\r\n  return (\r\n    <Box position=\"relative\" display=\"inline-flex\">\r\n      <CircularProgress variant=\"determinate\" {...props} />\r\n      <Box\r\n        top={0}\r\n        left={0}\r\n        bottom={0}\r\n        right={0}\r\n        position=\"absolute\"\r\n        display=\"flex\"\r\n        alignItems=\"center\"\r\n        justifyContent=\"center\"\r\n      >\r\n        <Typography\r\n          variant=\"caption\"\r\n          component=\"div\"\r\n          color=\"textSecondary\"\r\n        >{`${Math.round(props.value)}%`}</Typography>\r\n      </Box>\r\n    </Box>\r\n  );\r\n}\r\n\r\nconst CustomToolTip = ({ title, content, children }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip\r\n      arrow\r\n      classes={{\r\n        tooltip: classes.tooltip,\r\n        popper: classes.tooltipPopper,\r\n      }}\r\n      title={\r\n        <React.Fragment>\r\n          <Typography gutterBottom color=\"inherit\">\r\n            {title}\r\n          </Typography>\r\n          {content && <Typography>{content}</Typography>}\r\n        </React.Fragment>\r\n      }\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nconst IconChannel = (channel) => {\r\n  switch (channel) {\r\n    case \"facebook\":\r\n      return <Facebook style={{ color: \"#3b5998\" }} />;\r\n    case \"instagram\":\r\n      return <Instagram style={{ color: \"#e1306c\" }} />;\r\n    case \"whatsapp\":\r\n      return <WhatsApp style={{ color: \"#25d366\" }} />;\r\n    default:\r\n      return \"error\";\r\n  }\r\n};\r\n\r\nconst Connections = () => {\r\n  const classes = useStyles();\r\n\r\n  const { whatsApps, loading } = useContext(WhatsAppsContext);\r\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\r\n  const [statusImport, setStatusImport] = useState([]);\r\n  const [qrModalOpen, setQrModalOpen] = useState(false);\r\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const history = useHistory();\r\n  const confirmationModalInitialState = {\r\n    action: \"\",\r\n    title: \"\",\r\n    message: \"\",\r\n    whatsAppId: \"\",\r\n    open: false,\r\n  };\r\n  const [confirmModalInfo, setConfirmModalInfo] = useState(\r\n    confirmationModalInitialState\r\n  );\r\n  const [planConfig, setPlanConfig] = useState(false);\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const companyId = user.companyId;\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      setPlanConfig(planConfigs);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const responseFacebook = (response) => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken,\r\n        })\r\n        .then((response) => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch((error) => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const responseInstagram = (response) => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          addInstagram: true,\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken,\r\n        })\r\n        .then((response) => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch((error) => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket();\r\n    socket.on(`importMessages-${user.companyId}`, (data) => {\r\n      if (data.action === \"refresh\") {\r\n        setStatusImport([]);\r\n        history.go(0);\r\n      }\r\n      if (data.action === \"update\") {\r\n        setStatusImport(data.status);\r\n      }\r\n    });\r\n\r\n    /* return () => {\r\n      socket.disconnect();\r\n    }; */\r\n  }, [whatsApps]);\r\n\r\n  const handleStartWhatsAppSession = async (whatsAppId) => {\r\n    try {\r\n      await api.post(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleRequestNewQrCode = async (whatsAppId) => {\r\n    try {\r\n      await api.put(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenWhatsAppModal = () => {\r\n    setSelectedWhatsApp(null);\r\n    setWhatsAppModalOpen(true);\r\n  };\r\n\r\n  const handleCloseWhatsAppModal = useCallback(() => {\r\n    setWhatsAppModalOpen(false);\r\n    setSelectedWhatsApp(null);\r\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\r\n\r\n  const handleOpenQrModal = (whatsApp) => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setQrModalOpen(true);\r\n  };\r\n\r\n  const handleCloseQrModal = useCallback(() => {\r\n    setSelectedWhatsApp(null);\r\n    setQrModalOpen(false);\r\n  }, [setQrModalOpen, setSelectedWhatsApp]);\r\n\r\n  const handleEditWhatsApp = (whatsApp) => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setWhatsAppModalOpen(true);\r\n  };\r\n\r\n  const openInNewTab = (url) => {\r\n    window.open(url, \"_blank\", \"noopener,noreferrer\");\r\n  };\r\n\r\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\r\n    if (action === \"disconnect\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\r\n        whatsAppId: whatsAppId,\r\n      });\r\n    }\r\n\r\n    if (action === \"delete\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\r\n        whatsAppId: whatsAppId,\r\n      });\r\n    }\r\n    if (action === \"closedImported\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.closedImportedTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.closedImportedMessage\"),\r\n        whatsAppId: whatsAppId,\r\n      });\r\n    }\r\n    setConfirmModalOpen(true);\r\n  };\r\n\r\n  const handleSubmitConfirmationModal = async () => {\r\n    if (confirmModalInfo.action === \"disconnect\") {\r\n      try {\r\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    if (confirmModalInfo.action === \"delete\") {\r\n      try {\r\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\r\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n    if (confirmModalInfo.action === \"closedImported\") {\r\n      try {\r\n        await api.post(`/closedimported/${confirmModalInfo.whatsAppId}`);\r\n        toast.success(i18n.t(\"connections.toasts.closedimported\"));\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    setConfirmModalInfo(confirmationModalInitialState);\r\n  };\r\n\r\n  const renderImportButton = (whatsApp) => {\r\n    if (whatsApp?.statusImportMessages === \"renderButtonCloseTickets\") {\r\n      return (\r\n        <Button\r\n          style={{ marginLeft: 12 }}\r\n          size=\"small\"\r\n          variant=\"outlined\"\r\n          color=\"primary\"\r\n          onClick={() => {\r\n            handleOpenConfirmationModal(\"closedImported\", whatsApp.id);\r\n          }}\r\n        >\r\n          {i18n.t(\"connections.buttons.closedImported\")}\r\n        </Button>\r\n      );\r\n    }\r\n\r\n    if (whatsApp?.importOldMessages) {\r\n      let isTimeStamp = !isNaN(\r\n        new Date(Math.floor(whatsApp?.statusImportMessages)).getTime()\r\n      );\r\n\r\n      if (isTimeStamp) {\r\n        const ultimoStatus = new Date(\r\n          Math.floor(whatsApp?.statusImportMessages)\r\n        ).getTime();\r\n        const dataLimite = +add(ultimoStatus, { seconds: +35 }).getTime();\r\n        if (dataLimite > new Date().getTime()) {\r\n          return (\r\n            <>\r\n              <Button\r\n                disabled\r\n                style={{ marginLeft: 12 }}\r\n                size=\"small\"\r\n                endIcon={\r\n                  <CircularProgress\r\n                    size={12}\r\n                    className={classes.buttonProgress}\r\n                  />\r\n                }\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n              >\r\n                {i18n.t(\"connections.buttons.preparing\")}\r\n              </Button>\r\n            </>\r\n          );\r\n        }\r\n      }\r\n    }\r\n  };\r\n\r\n  const renderActionButtons = (whatsApp) => {\r\n    return (\r\n      <>\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <Can\r\n            role={\r\n              user.profile === \"user\" && user.allowConnections === \"enabled\"\r\n                ? \"admin\"\r\n                : user.profile\r\n            }\r\n            perform=\"connections-page:addConnection\"\r\n            yes={() => (\r\n              <Button\r\n                size=\"small\"\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => handleOpenQrModal(whatsApp)}\r\n              >\r\n                {i18n.t(\"connections.buttons.qrcode\")}\r\n              </Button>\r\n            )}\r\n          />\r\n        )}\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <Can\r\n            role={\r\n              user.profile === \"user\" && user.allowConnections === \"enabled\"\r\n                ? \"admin\"\r\n                : user.profile\r\n            }\r\n            perform=\"connections-page:addConnection\"\r\n            yes={() => (\r\n              <div style={{ display: \"flex\", flexDirection: \"column\", gap: 2 }}>\r\n                <Button\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"primary\"\r\n                  style={{ borderRadius: \"22px\" }}\r\n                  onClick={() => handleStartWhatsAppSession(whatsApp.id)}\r\n                >\r\n                  {i18n.t(\"connections.buttons.tryAgain\")}\r\n                </Button>{\" \"}\r\n                <Button\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"secondary\"\r\n                  style={{ borderRadius: \"22px\" }}\r\n                  onClick={() => handleRequestNewQrCode(whatsApp.id)}\r\n                >\r\n                  {i18n.t(\"connections.buttons.newQr\")}\r\n                </Button>\r\n              </div>\r\n            )}\r\n          />\r\n        )}\r\n        {(whatsApp.status === \"CONNECTED\" ||\r\n          whatsApp.status === \"PAIRING\" ||\r\n          whatsApp.status === \"TIMEOUT\") && (\r\n          <Can\r\n            role={user.profile}\r\n            perform=\"connections-page:addConnection\"\r\n            yes={() => (\r\n              <>\r\n                <Button\r\n                  size=\"small\"\r\n                  variant=\"outlined\"\r\n                  color=\"secondary\"\r\n                  onClick={() => {\r\n                    handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\r\n                  }}\r\n                >\r\n                  {i18n.t(\"connections.buttons.disconnect\")}\r\n                </Button>\r\n\r\n                {renderImportButton(whatsApp)}\r\n              </>\r\n            )}\r\n          />\r\n        )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\r\n            {i18n.t(\"connections.buttons.connecting\")}\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderStatusToolTips = (whatsApp) => {\r\n    return (\r\n      <div className={classes.customTableCell}>\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\r\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <CircularProgress size={24} className={classes.buttonProgress} />\r\n        )}\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\r\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\r\n          >\r\n            <CropFree />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"CONNECTED\" && (\r\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\r\n            <SignalCellular4Bar style={{ color: green[500] }} />\r\n          </CustomToolTip>\r\n        )}\r\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\r\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const restartWhatsapps = async () => {\r\n    try {\r\n      await api.post(`/whatsapp-restart/`);\r\n      toast.success(i18n.t(\"connections.waitConnection\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={confirmModalInfo.title}\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={handleSubmitConfirmationModal}\r\n      >\r\n        {confirmModalInfo.message}\r\n      </ConfirmationModal>\r\n      {qrModalOpen && (\r\n        <QrcodeModal\r\n          open={qrModalOpen}\r\n          onClose={handleCloseQrModal}\r\n          whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\r\n        />\r\n      )}\r\n      <WhatsAppModal\r\n        open={whatsAppModalOpen}\r\n        onClose={handleCloseWhatsAppModal}\r\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\r\n      />\r\n      {user.profile === \"user\" && user.allowConnections === \"disabled\" ? (\r\n        <ForbiddenPage />\r\n      ) : (\r\n        <>\r\n          <MainHeader>\r\n            <Title>\r\n              {i18n.t(\"connections.title\")} ({whatsApps.length})\r\n            </Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={restartWhatsapps}\r\n                style={{ borderRadius: \"22px\" }}\r\n              >\r\n                {i18n.t(\"connections.restartConnections\")}\r\n              </Button>\r\n\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                style={{ borderRadius: \"22px\" }}\r\n                onClick={() =>\r\n                  openInNewTab(\r\n                    `https://wa.me/${process.env.REACT_APP_NUMBER_SUPPORT}`\r\n                  )\r\n                }\r\n              >\r\n                {i18n.t(\"connections.callSupport\")}\r\n              </Button>\r\n              <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\r\n                {(popupState) => (\r\n                  <React.Fragment>\r\n                    <Can\r\n                      role={user.profile}\r\n                      perform=\"connections-page:addConnection\"\r\n                      yes={() => (\r\n                        <>\r\n                          <Button\r\n                            variant=\"contained\"\r\n                            color=\"primary\"\r\n                            style={{ borderRadius: \"22px\" }}\r\n                            {...bindTrigger(popupState)}\r\n                          >\r\n                            {i18n.t(\"connections.newConnection\")}\r\n                          </Button>\r\n                          <Menu {...bindMenu(popupState)}>\r\n                            {/* WHATSAPP */}\r\n                            <MenuItem\r\n                              disabled={\r\n                                planConfig?.plan?.useWhatsapp ? false : true\r\n                              }\r\n                              onClick={() => {\r\n                                handleOpenWhatsAppModal();\r\n                                popupState.close();\r\n                              }}\r\n                            >\r\n                              <WhatsApp\r\n                                fontSize=\"small\"\r\n                                style={{\r\n                                  marginRight: \"10px\",\r\n                                  color: \"#25D366\",\r\n                                }}\r\n                              />\r\n                              WhatsApp\r\n                            </MenuItem>\r\n                            {/* FACEBOOK */}\r\n                            <FacebookLogin\r\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                              autoLoad={false}\r\n                              fields=\"name,email,picture\"\r\n                              version=\"9.0\"\r\n                              scope={\r\n                                process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT?.toUpperCase() ===\r\n                                \"TRUE\"\r\n                                  ? \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\r\n                                  : \"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"\r\n                              }\r\n                              callback={responseFacebook}\r\n                              render={(renderProps) => (\r\n                                <MenuItem\r\n                                  disabled={\r\n                                    planConfig?.plan?.useFacebook ? false : true\r\n                                  }\r\n                                  onClick={renderProps.onClick}\r\n                                >\r\n                                  <Facebook\r\n                                    fontSize=\"small\"\r\n                                    style={{\r\n                                      marginRight: \"10px\",\r\n                                      color: \"#3b5998\",\r\n                                    }}\r\n                                  />\r\n                                  Facebook\r\n                                </MenuItem>\r\n                              )}\r\n                            />\r\n                            {/* INSTAGRAM */}\r\n                            <FacebookLogin\r\n                              appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                              autoLoad={false}\r\n                              fields=\"name,email,picture\"\r\n                              version=\"9.0\"\r\n                              scope={\r\n                                process.env.REACT_APP_REQUIRE_BUSINESS_MANAGEMENT?.toUpperCase() ===\r\n                                \"TRUE\"\r\n                                  ? \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\r\n                                  : \"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement\"\r\n                              }\r\n                              callback={responseInstagram}\r\n                              render={(renderProps) => (\r\n                                <MenuItem\r\n                                  disabled={\r\n                                    planConfig?.plan?.useInstagram\r\n                                      ? false\r\n                                      : true\r\n                                  }\r\n                                  onClick={renderProps.onClick}\r\n                                >\r\n                                  <Instagram\r\n                                    fontSize=\"small\"\r\n                                    style={{\r\n                                      marginRight: \"10px\",\r\n                                      color: \"#e1306c\",\r\n                                    }}\r\n                                  />\r\n                                  Instagram\r\n                                </MenuItem>\r\n                              )}\r\n                            />\r\n                          </Menu>\r\n                        </>\r\n                      )}\r\n                    />\r\n                  </React.Fragment>\r\n                )}\r\n              </PopupState>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n\r\n          {statusImport?.all ? (\r\n            <>\r\n              <div style={{ margin: \"auto\", marginBottom: 12 }}>\r\n                <Card className={classes.root}>\r\n                  <CardContent className={classes.content}>\r\n                    <Typography component=\"h5\" variant=\"h5\">\r\n                      {statusImport?.this === -1\r\n                        ? i18n.t(\"connections.buttons.preparing\")\r\n                        : i18n.t(\"connections.buttons.importing\")}\r\n                    </Typography>\r\n                    {statusImport?.this === -1 ? (\r\n                      <Typography component=\"h6\" variant=\"h6\" align=\"center\">\r\n                        <CircularProgress size={24} />\r\n                      </Typography>\r\n                    ) : (\r\n                      <>\r\n                        <Typography component=\"h6\" variant=\"h6\" align=\"center\">\r\n                          {`${i18n.t(`connections.typography.processed`)} ${\r\n                            statusImport?.this\r\n                          } ${i18n.t(`connections.typography.in`)} ${\r\n                            statusImport?.all\r\n                          }  ${i18n.t(`connections.typography.date`)}: ${\r\n                            statusImport?.date\r\n                          } `}\r\n                        </Typography>\r\n                        <Typography align=\"center\">\r\n                          <CircularProgressWithLabel\r\n                            style={{ margin: \"auto\" }}\r\n                            value={\r\n                              (statusImport?.this / statusImport?.all) * 100\r\n                            }\r\n                          />\r\n                        </Typography>\r\n                      </>\r\n                    )}\r\n                  </CardContent>\r\n                </Card>\r\n              </div>\r\n            </>\r\n          ) : null}\r\n\r\n          <Paper className={classes.mainPaper} variant=\"outlined\">\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\">Channel</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"connections.table.name\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"connections.table.number\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"connections.table.status\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"connections.table.session\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"connections.table.lastUpdate\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"connections.table.default\")}\r\n                  </TableCell>\r\n                  <Can\r\n                    role={\r\n                      user.profile === \"user\" &&\r\n                      user.allowConnections === \"enabled\"\r\n                        ? \"admin\"\r\n                        : user.profile\r\n                    }\r\n                    perform=\"connections-page:addConnection\"\r\n                    yes={() => (\r\n                      <TableCell align=\"center\">\r\n                        {i18n.t(\"connections.table.actions\")}\r\n                      </TableCell>\r\n                    )}\r\n                  />\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {loading ? (\r\n                  <TableRowSkeleton />\r\n                ) : (\r\n                  <>\r\n                    {whatsApps?.length > 0 &&\r\n                      whatsApps.map((whatsApp) => (\r\n                        <TableRow key={whatsApp.id}>\r\n                          <TableCell align=\"center\">\r\n                            {IconChannel(whatsApp.channel)}\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">{whatsApp.name}</TableCell>\r\n                          <TableCell align=\"center\">\r\n                            {whatsApp.number &&\r\n                            whatsApp.channel === \"whatsapp\" ? (\r\n                              <>{formatSerializedId(whatsApp.number)}</>\r\n                            ) : (\r\n                              whatsApp.number\r\n                            )}\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">\r\n                            {renderStatusToolTips(whatsApp)}\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">\r\n                            {renderActionButtons(whatsApp)}\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">\r\n                            {format(\r\n                              parseISO(whatsApp.updatedAt),\r\n                              \"dd/MM/yy HH:mm\"\r\n                            )}\r\n                          </TableCell>\r\n                          <TableCell align=\"center\">\r\n                            {whatsApp.isDefault && (\r\n                              <div className={classes.customTableCell}>\r\n                                <CheckCircle style={{ color: green[500] }} />\r\n                              </div>\r\n                            )}\r\n                          </TableCell>\r\n                          <Can\r\n                            role={user.profile}\r\n                            perform=\"connections-page:addConnection\"\r\n                            yes={() => (\r\n                              <TableCell align=\"center\">\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={() => handleEditWhatsApp(whatsApp)}\r\n                                >\r\n                                  <Edit />\r\n                                </IconButton>\r\n\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={(e) => {\r\n                                    handleOpenConfirmationModal(\r\n                                      \"delete\",\r\n                                      whatsApp.id\r\n                                    );\r\n                                  }}\r\n                                >\r\n                                  <DeleteOutline />\r\n                                </IconButton>\r\n                              </TableCell>\r\n                            )}\r\n                          />\r\n                        </TableRow>\r\n                      ))}\r\n                  </>\r\n                )}\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>\r\n      )}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Connections;\r\n","import api from \"../../services/api\";\r\n\r\nconst useCompanies = () => {\r\n\r\n    const save = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: '/companies',\r\n            method: 'POST',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const findAll = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const list = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/list`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const find = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/${id}`,\r\n            method: 'GET'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const update = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/companies/${data.id}`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    const remove = async (id) => {\r\n        const { data } = await api.request({\r\n            url: `/companies/${id}`,\r\n            method: 'DELETE'\r\n        });\r\n        return data;\r\n    }\r\n\r\n    const updateSchedules = async (data) => {\r\n        const { data: responseData } = await api.request({\r\n            url: `/companies/${data.id}/schedules`,\r\n            method: 'PUT',\r\n            data\r\n        });\r\n        return responseData;\r\n    }\r\n\r\n    return {\r\n        save,\r\n        update,\r\n        remove,\r\n        list,\r\n        find,\r\n        findAll,\r\n        updateSchedules\r\n    }\r\n}\r\n\r\nexport default useCompanies;","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelect from \"../QueueSelect\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../Can\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nconst UserSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  password: Yup.string().min(5, \"Too Short!\").max(50, \"Too Long!\"),\r\n  email: Yup.string().email(\"Invalid email\").required(\"Required\"),\r\n});\r\n\r\nconst ModalUsers = ({ open, onClose, userId, companyId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    email: \"\",\r\n    password: \"\",\r\n    profile: \"user\",\r\n  };\r\n\r\n  const { user: loggedInUser } = useContext(AuthContext);\r\n\r\n  const [user, setUser] = useState(initialState);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n\r\n  useEffect(() => {\r\n    const fetchUser = async () => {\r\n      if (!userId) return;\r\n      if (open) {\r\n        try {\r\n          const { data } = await api.get(`/users/${userId}`);\r\n          setUser((prevState) => {\r\n            return { ...prevState, ...data };\r\n          });\r\n          const userQueueIds = data.queues?.map((queue) => queue.id);\r\n          setSelectedQueueIds(userQueueIds);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      }\r\n    };\r\n\r\n    fetchUser();\r\n  }, [userId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setUser(initialState);\r\n  };\r\n\r\n  const handleSaveUser = async (values) => {\r\n    const userData = { ...values, companyId, queueIds: selectedQueueIds };\r\n    try {\r\n      if (userId) {\r\n        await api.put(`/users/${userId}`, userData);\r\n      } else {\r\n        await api.post(\"/users\", userData);\r\n      }\r\n      toast.success(i18n.t(\"userModal.success\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {userId\r\n            ? `${i18n.t(\"userModal.title.edit\")}`\r\n            : `${i18n.t(\"userModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={user}\r\n          enableReinitialize={true}\r\n          validationSchema={UserSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveUser(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <div className={classes.multFieldLine}>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"userModal.form.name\")}\r\n                    autoFocus\r\n                    name=\"name\"\r\n                    error={touched.name && Boolean(errors.name)}\r\n                    helperText={touched.name && errors.name}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"userModal.form.password\")}\r\n                    type=\"password\"\r\n                    name=\"password\"\r\n                    error={touched.password && Boolean(errors.password)}\r\n                    helperText={touched.password && errors.password}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                </div>\r\n                <div className={classes.multFieldLine}>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"userModal.form.email\")}\r\n                    name=\"email\"\r\n                    error={touched.email && Boolean(errors.email)}\r\n                    helperText={touched.email && errors.email}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                    margin=\"dense\"\r\n                  >\r\n                    <Can\r\n                      role={loggedInUser.profile}\r\n                      perform=\"user-modal:editProfile\"\r\n                      yes={() => (\r\n                        <>\r\n                          <InputLabel id=\"profile-selection-input-label\">\r\n                            {i18n.t(\"userModal.form.profile\")}\r\n                          </InputLabel>\r\n\r\n                          <Field\r\n                            as={Select}\r\n                            label={i18n.t(\"userModal.form.profile\")}\r\n                            name=\"profile\"\r\n                            labelId=\"profile-selection-label\"\r\n                            id=\"profile-selection\"\r\n                            required\r\n                          >\r\n                            <MenuItem value=\"admin\">Admin</MenuItem>\r\n                            <MenuItem value=\"user\">User</MenuItem>\r\n                          </Field>\r\n                        </>\r\n                      )}\r\n                    />\r\n                  </FormControl>\r\n                </div>\r\n                <Can\r\n                  role={loggedInUser.profile}\r\n                  perform=\"user-modal:editQueues\"\r\n                  yes={() => (\r\n                    <QueueSelect\r\n                      selectedQueueIds={selectedQueueIds}\r\n                      onChange={(values) => setSelectedQueueIds(values)}\r\n                    />\r\n                  )}\r\n                />\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"userModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {userId\r\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ModalUsers;\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Paper,\r\n  Grid,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  TextField,\r\n  Table,\r\n  TableHead,\r\n  TableBody,\r\n  TableCell,\r\n  TableRow,\r\n  IconButton,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport useCompanies from \"../../hooks/useCompanies\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport ModalUsers from \"../ModalUsers\";\r\nimport api from \"../../services/api\";\r\nimport { head, isArray, has } from \"lodash\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\n\r\nimport moment from \"moment\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    width: \"100%\",\r\n    padding: \"2px\"\r\n  },\r\n  mainPaper: {\r\n    width: \"100%\",\r\n    flex: 1,\r\n    // padding: theme.spacing(2), //comentado para retirar o scroll do Empresas\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  tableContainer: {\r\n    width: \"100%\",\r\n    // overflowX: \"scroll\",\r\n    // ...theme.scrollbarStyles,\r\n    padding: \"2px\",\r\n  },\r\n  textfield: {\r\n    width: \"100%\",\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  row: {\r\n    // paddingTop: theme.spacing(2),\r\n    // paddingBottom: theme.spacing(2),\r\n  },\r\n  control: {\r\n    // paddingRight: theme.spacing(1),\r\n    // paddingLeft: theme.spacing(1),\r\n  },\r\n  buttonContainer: {\r\n    textAlign: \"right\",\r\n    // padding: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nexport function CompanyForm(props) {\r\n  const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\r\n  const classes = useStyles();\r\n  const [plans, setPlans] = useState([]);\r\n  const [modalUser, setModalUser] = useState(false);\r\n  const [firstUser, setFirstUser] = useState({});\r\n\r\n  const [record, setRecord] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    planId: \"\",\r\n    status: true,\r\n    // campaignsEnabled: false,\r\n    dueDate: \"\",\r\n    recurrence: \"\",\r\n    password: \"\",\r\n    ...initialValue,\r\n  });\r\n\r\n  const { list: listPlans } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const list = await listPlans();\r\n      setPlans(list);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setRecord((prev) => {\r\n      if (moment(initialValue).isValid()) {\r\n        initialValue.dueDate = moment(initialValue.dueDate).format(\r\n          \"YYYY-MM-DD\"\r\n        );\r\n      }\r\n      return {\r\n        ...prev,\r\n        ...initialValue,\r\n      };\r\n    });\r\n  }, [initialValue]);\r\n\r\n  const handleSubmit = async (data) => {\r\n    if (data.dueDate === \"\" || moment(data.dueDate).isValid() === false) {\r\n      data.dueDate = null;\r\n    }\r\n    onSubmit(data);\r\n    setRecord({ ...initialValue, dueDate: \"\" });\r\n  };\r\n\r\n  const handleOpenModalUsers = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/users/list\", {\r\n        params: {\r\n          companyId: initialValue.id,\r\n        },\r\n      });\r\n      if (isArray(data) && data.length) {\r\n        setFirstUser(head(data));\r\n      }\r\n      setModalUser(true);\r\n    } catch (e) {\r\n      toast.error(e);\r\n    }\r\n  };\r\n\r\n  const handleCloseModalUsers = () => {\r\n    setFirstUser({});\r\n    setModalUser(false);\r\n  };\r\n\r\n  const incrementDueDate = () => {\r\n    const data = { ...record };\r\n    if (data.dueDate !== \"\" && data.dueDate !== null) {\r\n      switch (data.recurrence) {\r\n        case \"MENSAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(1, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"BIMESTRAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(2, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"TRIMESTRAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(3, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"SEMESTRAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(6, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        case \"ANUAL\":\r\n          data.dueDate = moment(data.dueDate)\r\n            .add(12, \"month\")\r\n            .format(\"YYYY-MM-DD\");\r\n          break;\r\n        default:\r\n          break;\r\n      }\r\n    }\r\n    setRecord(data);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ModalUsers\r\n        userId={firstUser.id}\r\n        companyId={initialValue.id}\r\n        open={modalUser}\r\n        onClose={handleCloseModalUsers}\r\n      />\r\n      <Formik\r\n        enableReinitialize\r\n        className={classes.fullWidth}\r\n        initialValues={record}\r\n        onSubmit={(values, { resetForm }) =>\r\n          setTimeout(() => {\r\n            handleSubmit(values);\r\n            resetForm();\r\n          }, 500)\r\n        }\r\n      >\r\n        {(values, setValues) => (\r\n          <Form className={classes.fullWidth}>\r\n            <Grid spacing={1} justifyContent=\"center\" container>\r\n              <Grid xs={12} sm={6} md={3} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"compaies.table.name\")}\r\n                  name=\"name\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"compaies.table.email\")}\r\n                  name=\"email\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"compaies.table.password\")}\r\n                  name=\"password\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"compaies.table.phone\")}\r\n                  name=\"phone\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"plan-selection\">{i18n.t(\"compaies.table.plan\")}</InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"plan-selection\"\r\n                    label={i18n.t(\"compaies.table.plan\")}\r\n                    labelId=\"plan-selection-label\"\r\n                    name=\"planId\"\r\n                    margin=\"dense\"\r\n                    required\r\n                  >\r\n                    {plans.map((plan, key) => (\r\n                      <MenuItem key={key} value={plan.id}>\r\n                        {plan.name}\r\n                      </MenuItem>\r\n                    ))}\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={1} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"status-selection\">{i18n.t(\"compaies.table.active\")}</InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"status-selection\"\r\n                    label={i18n.t(\"compaies.table.active\")}\r\n                    labelId=\"status-selection-label\"\r\n                    name=\"status\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value={true}>{i18n.t(\"compaies.table.yes\")}</MenuItem>\r\n                    <MenuItem value={false}>{i18n.t(\"compaies.table.no\")}</MenuItem>\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid>\r\n              {/* <Grid xs={12} sm={6} md={3} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"payment-method-selection\">\r\n                    Método de Pagamento\r\n                  </InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"payment-method-selection\"\r\n                    label=\"Método de Pagamento\"\r\n                    labelId=\"payment-method-selection-label\"\r\n                    name=\"paymentMethod\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value={\"pix\"}>PIX</MenuItem>\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid> */}\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"compaies.table.document\")}\r\n                  name=\"document\"\r\n                  variant=\"outlined\"\r\n                  className={classes.fullWidth}\r\n                  margin=\"dense\"\r\n                />\r\n              </Grid>\r\n              {/* <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"status-selection\">Campanhas</InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    id=\"campaigns-selection\"\r\n                    label=\"Campanhas\"\r\n                    labelId=\"campaigns-selection-label\"\r\n                    name=\"campaignsEnabled\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value={true}>Habilitadas</MenuItem>\r\n                    <MenuItem value={false}>Desabilitadas</MenuItem>\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid> */}\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl variant=\"outlined\" fullWidth>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"compaies.table.dueDate\")}\r\n                    type=\"date\"\r\n                    name=\"dueDate\"\r\n                    InputLabelProps={{\r\n                      shrink: true,\r\n                    }}\r\n                    variant=\"outlined\"\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={2} item>\r\n                <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                  <InputLabel htmlFor=\"recorrencia-selection\">\r\n                  {i18n.t(\"compaies.table.recurrence\")}\r\n                  </InputLabel>\r\n                  <Field\r\n                    as={Select}\r\n                    label=\"Recorrência\"\r\n                    labelId=\"recorrencia-selection-label\"\r\n                    id=\"recurrence\"\r\n                    name=\"recurrence\"\r\n                    margin=\"dense\"\r\n                  >\r\n                    <MenuItem value=\"MENSAL\">{i18n.t(\"compaies.table.monthly\")}</MenuItem>\r\n                    <MenuItem value=\"BIMESTRAL\">{i18n.t(\"compaies.table.bimonthly\")}</MenuItem>\r\n                    <MenuItem value=\"TRIMESTRAL\">{i18n.t(\"compaies.table.quarterly\")}</MenuItem>\r\n                    <MenuItem value=\"SEMESTRAL\">{i18n.t(\"compaies.table.semester\")}</MenuItem>\r\n                    <MenuItem value=\"ANUAL\">{i18n.t(\"compaies.table.yearly\")}</MenuItem>\r\n                  </Field>\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} item>\r\n                <Grid justifyContent=\"flex-end\" spacing={1} container>\r\n                  <Grid xs={4} md={1} item>\r\n                    <ButtonWithSpinner\r\n                      className={classes.fullWidth}\r\n                      style={{ marginTop: 7 }}\r\n                      loading={loading}\r\n                      onClick={() => onCancel()}\r\n                      variant=\"contained\"\r\n                    >\r\n                      {i18n.t(\"compaies.table.clear\")}\r\n                    </ButtonWithSpinner>\r\n                  </Grid>\r\n                  {record.id !== undefined ? (\r\n                    <>\r\n                      <Grid xs={6} md={1} item>\r\n                        <ButtonWithSpinner\r\n                          style={{ marginTop: 7 }}\r\n                          className={classes.fullWidth}\r\n                          loading={loading}\r\n                          onClick={() => onDelete(record)}\r\n                          variant=\"contained\"\r\n                          color=\"secondary\"\r\n                        >\r\n                          {i18n.t(\"compaies.table.delete\")}\r\n                        </ButtonWithSpinner>\r\n                      </Grid>\r\n                      <Grid xs={6} md={2} item>\r\n                        <ButtonWithSpinner\r\n                          style={{ marginTop: 7 }}\r\n                          className={classes.fullWidth}\r\n                          loading={loading}\r\n                          onClick={() => incrementDueDate()}\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                        >\r\n                          {i18n.t(\"compaies.table.dueDate\")}\r\n                        </ButtonWithSpinner>\r\n                      </Grid>\r\n                      {/* <Grid xs={6} md={1} item>\r\n                        <ButtonWithSpinner\r\n                          style={{ marginTop: 7 }}\r\n                          className={classes.fullWidth}\r\n                          loading={loading}\r\n                          onClick={() => handleOpenModalUsers()}\r\n                          variant=\"contained\"\r\n                          color=\"primary\"\r\n                        >\r\n                          {i18n.t(\"compaies.table.user\")}\r\n                        </ButtonWithSpinner>\r\n                      </Grid> */}\r\n                    </>\r\n                  ) : null}\r\n                  <Grid xs={6} md={1} item>\r\n                    <ButtonWithSpinner\r\n                      className={classes.fullWidth}\r\n                      style={{ marginTop: 7 }}\r\n                      loading={loading}\r\n                      type=\"submit\"\r\n                      variant=\"contained\"\r\n                      color=\"primary\"\r\n                    >\r\n                      {i18n.t(\"compaies.table.save\")}\r\n                    </ButtonWithSpinner>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    </>\r\n  );\r\n}\r\n\r\nexport function CompaniesManagerGrid(props) {\r\n  const { records, onSelect } = props;\r\n  const classes = useStyles();\r\n  const { dateToClient, datetimeToClient } = useDate();\r\n\r\n  const renderStatus = (row) => {\r\n    return row.status === false ? \"Não\" : \"Sim\";\r\n  };\r\n\r\n  const renderPlan = (row) => {\r\n    return row.planId !== null ? row.plan.name : \"-\";\r\n  };\r\n\r\n  const renderPlanValue = (row) => {\r\n    return row.planId !== null ? row.plan.amount ? row.plan.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00' : \"-\";\r\n  };\r\n\r\n  // const renderCampaignsStatus = (row) => {\r\n  //   if (\r\n  //     has(row, \"settings\") &&\r\n  //     isArray(row.settings) &&\r\n  //     row.settings.length > 0\r\n  //   ) {\r\n  //     const setting = row.settings.find((s) => s.key === \"campaignsEnabled\");\r\n  //     if (setting) {\r\n  //       return setting.value === \"true\" ? \"Habilitadas\" : \"Desabilitadas\";\r\n  //     }\r\n  //   }\r\n  //   return \"Desabilitadas\";\r\n  // };\r\n\r\n  const rowStyle = (record) => {\r\n    if (moment(record.dueDate).isValid()) {\r\n      const now = moment();\r\n      const dueDate = moment(record.dueDate);\r\n      const diff = dueDate.diff(now, \"days\");\r\n      if (diff >= 1 && diff <= 5) {\r\n        return { backgroundColor: \"#fffead\" };\r\n      }\r\n      if (diff <= 0) {\r\n        return { backgroundColor: \"#fa8c8c\" };\r\n      }\r\n      // else {\r\n      //   return { backgroundColor: \"#affa8c\" };\r\n      // }\r\n    }\r\n    return {};\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.tableContainer}>\r\n      <Table\r\n        className={classes.fullWidth}\r\n        // size=\"small\"\r\n        padding=\"none\"\r\n        aria-label=\"a dense table\"\r\n      >\r\n        <TableHead>\r\n          <TableRow>\r\n            <TableCell align=\"center\" style={{ width: \"1%\" }}>#</TableCell>\r\n            <TableCell align=\"left\">{i18n.t(\"compaies.table.name\")}</TableCell>\r\n            <TableCell align=\"left\">{i18n.t(\"compaies.table.email\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.phone\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.plan\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.value\")}</TableCell>\r\n            {/* <TableCell align=\"center\">Campanhas</TableCell> */}\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.active\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.createdAt\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.dueDate\")}</TableCell>\r\n            <TableCell align=\"center\">{i18n.t(\"compaies.table.lastLogin\")}</TableCell>\r\n          </TableRow>\r\n        </TableHead>\r\n        <TableBody>\r\n          {records.map((row, key) => (\r\n            <TableRow style={rowStyle(row)} key={key}>\r\n              <TableCell align=\"center\" style={{ width: \"1%\" }}>\r\n                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\r\n                  <EditIcon />\r\n                </IconButton>\r\n              </TableCell>\r\n              <TableCell align=\"left\">{row.name || \"-\"}</TableCell>\r\n              <TableCell align=\"left\" size=\"small\">{row.email || \"-\"}</TableCell>\r\n              <TableCell align=\"center\">{row.phone || \"-\"}</TableCell>\r\n              <TableCell align=\"center\">{renderPlan(row)}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"compaies.table.money\")} {renderPlanValue(row)}</TableCell>\r\n              {/* <TableCell align=\"center\">{renderCampaignsStatus(row)}</TableCell> */}\r\n              <TableCell align=\"center\">{renderStatus(row)}</TableCell>\r\n              <TableCell align=\"center\">{dateToClient(row.createdAt)}</TableCell>\r\n              <TableCell align=\"center\">{dateToClient(row.dueDate)}<br /><span>{row.recurrence}</span></TableCell>\r\n              <TableCell align=\"center\">{datetimeToClient(row.lastLogin)}</TableCell>\r\n            </TableRow>\r\n          ))}\r\n        </TableBody>\r\n      </Table>\r\n    </Paper>\r\n  );\r\n}\r\n\r\nexport default function CompaniesManager() {\r\n  const classes = useStyles();\r\n  const { list, save, update, remove } = useCompanies();\r\n\r\n  const [showConfirmDialog, setShowConfirmDialog] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [records, setRecords] = useState([]);\r\n  const [record, setRecord] = useState({\r\n    name: \"\",\r\n    email: \"\",\r\n    phone: \"\",\r\n    planId: \"\",\r\n    status: true,\r\n    // campaignsEnabled: false,\r\n    dueDate: \"\",\r\n    recurrence: \"\",\r\n    password: \"\",\r\n    document: \"\",\r\n    paymentMethod: \"\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    loadPlans();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const loadPlans = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const companyList = await list();\r\n      setRecords(companyList);\r\n    } catch (e) {\r\n      toast.error(\"Não foi possível carregar a lista de registros\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleSubmit = async (data) => {\r\n    setLoading(true);\r\n    try {\r\n      if (data.id !== undefined) {\r\n        await update(data);\r\n      } else {\r\n        await save(data);\r\n      }\r\n      await loadPlans();\r\n      handleCancel();\r\n      toast.success(\"Operação realizada com sucesso!\");\r\n    } catch (e) {\r\n      toast.error(\r\n        \"Não foi possível realizar a operação. Verifique se já existe uma empresa com o mesmo nome ou se os campos foram preenchidos corretamente\"\r\n      );\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleDelete = async () => {\r\n    setLoading(true);\r\n    try {\r\n      await remove(record.id);\r\n      await loadPlans();\r\n      handleCancel();\r\n      toast.success(\"Operação realizada com sucesso!\");\r\n    } catch (e) {\r\n      toast.error(\"Não foi possível realizar a operação\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleOpenDeleteDialog = () => {\r\n    setShowConfirmDialog(true);\r\n  };\r\n\r\n  const handleCancel = () => {\r\n    setRecord((prev) => ({\r\n      ...prev,\r\n      name: \"\",\r\n      email: \"\",\r\n      phone: \"\",\r\n      planId: \"\",\r\n      status: true,\r\n      // campaignsEnabled: false,\r\n      dueDate: \"\",\r\n      recurrence: \"\",\r\n      password: \"\",\r\n      document: \"\",\r\n      paymentMethod: \"\"\r\n    }));\r\n  };\r\n\r\n  const handleSelect = (data) => {\r\n    // let campaignsEnabled = false;\r\n\r\n    // const setting = data.settings.find(\r\n    //   (s) => s.key.indexOf(\"campaignsEnabled\") > -1\r\n    // );\r\n    // if (setting) {\r\n    //   campaignsEnabled = setting.value === \"true\" || setting.value === \"enabled\";\r\n    // }\r\n\r\n    setRecord((prev) => ({\r\n      ...prev,\r\n      id: data.id,\r\n      name: data.name || \"\",\r\n      phone: data.phone || \"\",\r\n      email: data.email || \"\",\r\n      planId: data.planId || \"\",\r\n      status: data.status === false ? false : true,\r\n      // campaignsEnabled,\r\n      dueDate: data.dueDate || \"\",\r\n      recurrence: data.recurrence || \"\",\r\n      password: \"\",\r\n      document: data.document || \"\",\r\n      paymentMethod: data.paymentMethod || \"\",\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.mainPaper} elevation={0}>\r\n      <Grid spacing={2} container>\r\n        <Grid xs={12} item>\r\n          <CompanyForm\r\n            initialValue={record}\r\n            onDelete={handleOpenDeleteDialog}\r\n            onSubmit={handleSubmit}\r\n            onCancel={handleCancel}\r\n            loading={loading}\r\n          />\r\n        </Grid>\r\n        <Grid xs={12} item>\r\n          <CompaniesManagerGrid records={records} onSelect={handleSelect} />\r\n        </Grid>\r\n      </Grid>\r\n      <ConfirmationModal\r\n        title=\"Exclusão de Registro\"\r\n        open={showConfirmDialog}\r\n        onClose={() => setShowConfirmDialog(false)}\r\n        onConfirm={() => handleDelete()}\r\n      >\r\n        Deseja realmente excluir esse registro?\r\n      </ConfirmationModal>\r\n    </Paper>\r\n  );\r\n}\r\n","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    makeStyles,\r\n    Paper,\r\n    Grid,\r\n    TextField,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableCell,\r\n    TableRow,\r\n    IconButton,\r\n    FormControl,\r\n    InputLabel,\r\n    MenuItem,\r\n    Select\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form, Field } from 'formik';\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        width: '100%'\r\n    },\r\n    mainPaper: {\r\n        width: '100%',\r\n        flex: 1,\r\n        padding: theme.spacing(2)\r\n    },\r\n    fullWidth: {\r\n        width: '100%'\r\n    },\r\n    tableContainer: {\r\n        width: '100%',\r\n        overflowX: \"scroll\",\r\n        ...theme.scrollbarStyles\r\n    },\r\n    textfield: {\r\n        width: '100%'\r\n    },\r\n    textRight: {\r\n        textAlign: 'right'\r\n    },\r\n    row: {\r\n        paddingTop: theme.spacing(2),\r\n        paddingBottom: theme.spacing(2)\r\n    },\r\n    control: {\r\n        paddingRight: theme.spacing(1),\r\n        paddingLeft: theme.spacing(1)\r\n    },\r\n    buttonContainer: {\r\n        textAlign: 'right',\r\n        padding: theme.spacing(1)\r\n    }\r\n}));\r\n\r\nexport function PlanManagerForm(props) {\r\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\r\n    const classes = useStyles()\r\n\r\n    const [record, setRecord] = useState({\r\n        name: '',\r\n        users: 0,\r\n        connections: 0,\r\n        queues: 0,\r\n        amount: 0,\r\n        useWhatsapp: true,\r\n        useFacebook: true,\r\n        useInstagram: true,\r\n        useCampaigns: true,\r\n        useSchedules: true,\r\n        useInternalChat: true,\r\n        useExternalApi: true,\r\n        useKanban: true,\r\n        useOpenAi: true,\r\n        useIntegrations: true,\r\n        isPublic: true\r\n    });\r\n\r\n    useEffect(() => {\r\n        setRecord(initialValue)\r\n    }, [initialValue])\r\n\r\n    const handleSubmit = async (data) => {\r\n        onSubmit(data)\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            enableReinitialize\r\n            className={classes.fullWidth}\r\n            initialValues={record}\r\n            onSubmit={(values, { resetForm }) =>\r\n                setTimeout(() => {\r\n                    handleSubmit(values)\r\n                    resetForm()\r\n                }, 500)\r\n            }\r\n        >\r\n            {(values) => (\r\n                <Form className={classes.fullWidth}>\r\n                    <Grid spacing={1} justifyContent=\"flex-start\" container>\r\n                        {/* NOME */}\r\n                        <Grid xs={12} sm={6} md={2} xl={2} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"plans.form.name\")}\r\n                                name=\"name\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid xs={12} sm={6} md={2} xl={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"status-selection\">{i18n.t(\"plans.form.public\")}</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"status-selection\"\r\n                                    label={i18n.t(\"plans.form.public\")}\r\n                                    labelId=\"status-selection-label\"\r\n                                    name=\"isPublic\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>Sim</MenuItem>\r\n                                    <MenuItem value={false}>Não</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n                        {/* USUARIOS */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"plans.form.users\")}\r\n                                name=\"users\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"number\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* CONEXOES */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"plans.form.connections\")}\r\n                                name=\"connections\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"number\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* FILAS */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Filas\"\r\n                                name=\"queues\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"number\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* VALOR */}\r\n                        <Grid xs={12} sm={6} md={1} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Valor\"\r\n                                name=\"amount\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                                type=\"text\"\r\n                            />\r\n                        </Grid>\r\n\r\n                        {/* WHATSAPP */}\r\n                        <Grid xs={12} sm={6} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useWhatsapp-selection\">Whatsapp</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useWhatsapp-selection\"\r\n                                    label=\"Whatsapp\"\r\n                                    labelId=\"useWhatsapp-selection-label\"\r\n                                    name=\"useWhatsapp\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* FACEBOOK */}\r\n                        <Grid xs={12} sm={6} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useFacebook-selection\">Facebook</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useFacebook-selection\"\r\n                                    label=\"Facebook\"\r\n                                    labelId=\"useFacebook-selection-label\"\r\n                                    name=\"useFacebook\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* INSTAGRAM */}\r\n                        <Grid xs={12} sm={6} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useInstagram-selection\">Instagram</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useInstagram-selection\"\r\n                                    label=\"Instagram\"\r\n                                    labelId=\"useInstagram-selection-label\"\r\n                                    name=\"useInstagram\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* CAMPANHAS */}\r\n                        <Grid xs={12} sm={6} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useCampaigns-selection\">{i18n.t(\"plans.form.campaigns\")}</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useCampaigns-selection\"\r\n                                    label={i18n.t(\"plans.form.campaigns\")}\r\n                                    labelId=\"useCampaigns-selection-label\"\r\n                                    name=\"useCampaigns\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* AGENDAMENTOS */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useSchedules-selection\">{i18n.t(\"plans.form.schedules\")}</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useSchedules-selection\"\r\n                                    label={i18n.t(\"plans.form.schedules\")}\r\n                                    labelId=\"useSchedules-selection-label\"\r\n                                    name=\"useSchedules\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* CHAT INTERNO */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useInternalChat-selection\">Chat Interno</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useInternalChat-selection\"\r\n                                    label=\"Chat Interno\"\r\n                                    labelId=\"useInternalChat-selection-label\"\r\n                                    name=\"useInternalChat\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* API Externa */}\r\n                        <Grid xs={12} sm={8} md={4} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useExternalApi-selection\">API Externa</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useExternalApi-selection\"\r\n                                    label=\"API Externa\"\r\n                                    labelId=\"useExternalApi-selection-label\"\r\n                                    name=\"useExternalApi\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* KANBAN */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useKanban-selection\">Kanban</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useKanban-selection\"\r\n                                    label=\"Kanban\"\r\n                                    labelId=\"useKanban-selection-label\"\r\n                                    name=\"useKanban\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* OPENAI */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useOpenAi-selection\">Talk.Ai</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useOpenAi-selection\"\r\n                                    label=\"Talk.Ai\"\r\n                                    labelId=\"useOpenAi-selection-label\"\r\n                                    name=\"useOpenAi\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n\r\n                        {/* INTEGRACOES */}\r\n                        <Grid xs={12} sm={8} md={2} item>\r\n                            <FormControl margin=\"dense\" variant=\"outlined\" fullWidth>\r\n                                <InputLabel htmlFor=\"useIntegrations-selection\">Integrações</InputLabel>\r\n                                <Field\r\n                                    as={Select}\r\n                                    id=\"useIntegrations-selection\"\r\n                                    label=\"Integrações\"\r\n                                    labelId=\"useIntegrations-selection-label\"\r\n                                    name=\"useIntegrations\"\r\n                                    margin=\"dense\"\r\n                                >\r\n                                    <MenuItem value={true}>{i18n.t(\"plans.form.enabled\")}</MenuItem>\r\n                                    <MenuItem value={false}>{i18n.t(\"plans.form.disabled\")}</MenuItem>\r\n                                </Field>\r\n                            </FormControl>\r\n                        </Grid>\r\n                    </Grid>\r\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\r\n\r\n                        <Grid sm={3} md={2} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\r\n                                {i18n.t(\"plans.form.clear\")}\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                        {record.id !== undefined ? (\r\n                            <Grid sm={3} md={2} item>\r\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\r\n                                    {i18n.t(\"plans.form.delete\")}\r\n                                </ButtonWithSpinner>\r\n                            </Grid>\r\n                        ) : null}\r\n                        <Grid sm={3} md={2} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                                {i18n.t(\"plans.form.save\")}\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport function PlansManagerGrid(props) {\r\n    const { records, onSelect } = props\r\n    const classes = useStyles()\r\n\r\n    const renderWhatsapp = (row) => {\r\n        return row.useWhatsapp === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderFacebook = (row) => {\r\n        return row.useFacebook === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderInstagram = (row) => {\r\n        return row.useInstagram === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderCampaigns = (row) => {\r\n        return row.useCampaigns === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderSchedules = (row) => {\r\n        return row.useSchedules === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderInternalChat = (row) => {\r\n        return row.useInternalChat === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderExternalApi = (row) => {\r\n        return row.useExternalApi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderKanban = (row) => {\r\n        return row.useKanban === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderOpenAi = (row) => {\r\n        return row.useOpenAi === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    const renderIntegrations = (row) => {\r\n        return row.useIntegrations === false ? `${i18n.t(\"plans.form.no\")}` : `${i18n.t(\"plans.form.yes\")}`;\r\n    };\r\n\r\n    return (\r\n        <Paper className={classes.tableContainer}>\r\n            <Table\r\n                className={classes.fullWidth}\r\n                // size=\"small\"\r\n                padding=\"none\"\r\n                aria-label=\"a dense table\"\r\n            >\r\n                <TableHead>\r\n                    <TableRow>\r\n                        <TableCell align=\"center\" style={{ width: '1%' }}>#</TableCell>\r\n                        <TableCell align=\"left\">{i18n.t(\"plans.form.name\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.users\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.public\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.connections\")}</TableCell>\r\n                        <TableCell align=\"center\">Filas</TableCell>\r\n                        <TableCell align=\"center\">Valor</TableCell>\r\n                        <TableCell align=\"center\">Whatsapp</TableCell>\r\n                        <TableCell align=\"center\">Facebook</TableCell>\r\n                        <TableCell align=\"center\">Instagram</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.campaigns\")}</TableCell>\r\n                        <TableCell align=\"center\">{i18n.t(\"plans.form.schedules\")}</TableCell>\r\n                        <TableCell align=\"center\">Chat Interno</TableCell>\r\n                        <TableCell align=\"center\">API Externa</TableCell>\r\n                        <TableCell align=\"center\">Kanban</TableCell>\r\n                        <TableCell align=\"center\">Talk.Ai</TableCell>\r\n                        <TableCell align=\"center\">Integrações</TableCell>\r\n                    </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                    {records.map((row) => (\r\n                        <TableRow key={row.id}>\r\n                            <TableCell align=\"center\" style={{ width: '1%' }}>\r\n                                <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\r\n                                    <EditIcon />\r\n                                </IconButton>\r\n                            </TableCell>\r\n                            <TableCell align=\"left\">{row.name || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.users || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.isPublic ? \"Sim\": \"Não\" || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.connections || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{row.queues || '-'}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"plans.form.money\")} {row.amount ? row.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00'}</TableCell>\r\n                            <TableCell align=\"center\">{renderWhatsapp(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderFacebook(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderInstagram(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderCampaigns(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderSchedules(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderInternalChat(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderExternalApi(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderKanban(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderOpenAi(row)}</TableCell>\r\n                            <TableCell align=\"center\">{renderIntegrations(row)}</TableCell>\r\n                        </TableRow>\r\n                    ))}\r\n                </TableBody>\r\n            </Table>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default function PlansManager() {\r\n    const classes = useStyles()\r\n    const { list, save, update, remove } = usePlans()\r\n\r\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [records, setRecords] = useState([])\r\n    const [record, setRecord] = useState({\r\n        name: '',\r\n        users: 0,\r\n        connections: 0,\r\n        queues: 0,\r\n        amount: 0,\r\n        useWhatsapp: true,\r\n        useFacebook: true,\r\n        useInstagram: true,\r\n        useCampaigns: true,\r\n        useSchedules: true,\r\n        useInternalChat: true,\r\n        useExternalApi: true,\r\n        useKanban: true,\r\n        useOpenAi: true,\r\n        useIntegrations: true,\r\n        isPublic: true\r\n    })\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            await loadPlans()\r\n        }\r\n        fetchData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [record])\r\n\r\n    const loadPlans = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const planList = await list()\r\n            setRecords(planList)\r\n        } catch (e) {\r\n            toast.error('Não foi possível carregar a lista de registros')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleSubmit = async (data) => {\r\n        setLoading(true)\r\n        try {\r\n            if (data.id !== undefined) {\r\n                await update(data)\r\n            } else {\r\n                await save(data)\r\n            }\r\n            await loadPlans()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma plano com o mesmo nome ou se os campos foram preenchidos corretamente')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true)\r\n        try {\r\n            await remove(record.id)\r\n            await loadPlans()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleOpenDeleteDialog = () => {\r\n        setShowConfirmDialog(true)\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        setRecord({\r\n            id: undefined,\r\n            name: '',\r\n            users: 0,\r\n            connections: 0,\r\n            queues: 0,\r\n            amount: 0,\r\n            useWhatsapp: true,\r\n            useFacebook: true,\r\n            useInstagram: true,\r\n            useCampaigns: true,\r\n            useSchedules: true,\r\n            useInternalChat: true,\r\n            useExternalApi: true,\r\n            useKanban: true,\r\n            useOpenAi: true,\r\n            useIntegrations: true,\r\n            isPublic: true\r\n        })\r\n    }\r\n\r\n    const handleSelect = (data) => {\r\n\r\n        let useWhatsapp = data.useWhatsapp === false ? false : true\r\n        let useFacebook = data.useFacebook === false ? false : true\r\n        let useInstagram = data.useInstagram === false ? false : true\r\n        let useCampaigns = data.useCampaigns === false ? false : true\r\n        let useSchedules = data.useSchedules === false ? false : true\r\n        let useInternalChat = data.useInternalChat === false ? false : true\r\n        let useExternalApi = data.useExternalApi === false ? false : true\r\n        let useKanban = data.useKanban === false ? false : true\r\n        let useOpenAi = data.useOpenAi === false ? false : true\r\n        let useIntegrations = data.useIntegrations === false ? false : true\r\n\r\n        setRecord({\r\n            id: data.id,\r\n            name: data.name || '',\r\n            users: data.users || 0,\r\n            connections: data.connections || 0,\r\n            queues: data.queues || 0,\r\n            amount: data.amount?.toLocaleString('pt-br', { minimumFractionDigits: 2 }) || 0,\r\n            useWhatsapp,\r\n            useFacebook,\r\n            useInstagram,\r\n            useCampaigns,\r\n            useSchedules,\r\n            useInternalChat,\r\n            useExternalApi,\r\n            useKanban,\r\n            useOpenAi,\r\n            useIntegrations,\r\n            isPublic: data.isPublic\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.mainPaper} elevation={0}>\r\n            <Grid spacing={2} container>\r\n                <Grid xs={12} item>\r\n                    <PlanManagerForm\r\n                        initialValue={record}\r\n                        onDelete={handleOpenDeleteDialog}\r\n                        onSubmit={handleSubmit}\r\n                        onCancel={handleCancel}\r\n                        loading={loading}\r\n                    />\r\n                </Grid>\r\n                <Grid xs={12} item>\r\n                    <PlansManagerGrid\r\n                        records={records}\r\n                        onSelect={handleSelect}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n            <ConfirmationModal\r\n                title=\"Exclusão de Registro\"\r\n                open={showConfirmDialog}\r\n                onClose={() => setShowConfirmDialog(false)}\r\n                onConfirm={() => handleDelete()}\r\n            >\r\n                Deseja realmente excluir esse registro?\r\n            </ConfirmationModal>\r\n        </Paper>\r\n    )\r\n}","import React, { useState, useEffect } from \"react\";\r\nimport {\r\n    makeStyles,\r\n    Paper,\r\n    Grid,\r\n    TextField,\r\n    Table,\r\n    TableHead,\r\n    TableBody,\r\n    TableCell,\r\n    TableRow,\r\n    IconButton\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form, Field } from 'formik';\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nimport { Edit as EditIcon } from \"@material-ui/icons\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport useHelps from \"../../hooks/useHelps\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\twidth: '100%'\r\n\t},\r\n    mainPaper: {\r\n\t\twidth: '100%',\r\n\t\tflex: 1,\r\n\t\tpadding: theme.spacing(2)\r\n    },\r\n\tfullWidth: {\r\n\t\twidth: '100%'\r\n\t},\r\n    tableContainer: {\r\n\t\twidth: '100%',\r\n\t\toverflowX: \"scroll\",\r\n\t\t...theme.scrollbarStyles\r\n    },\r\n\ttextfield: {\r\n\t\twidth: '100%'\r\n\t},\r\n    textRight: {\r\n        textAlign: 'right'\r\n    },\r\n    row: {\r\n\t\tpaddingTop: theme.spacing(2),\r\n\t\tpaddingBottom: theme.spacing(2)\r\n    },\r\n    control: {\r\n\t\tpaddingRight: theme.spacing(1),\r\n\t\tpaddingLeft: theme.spacing(1)\r\n\t},\r\n    buttonContainer: {\r\n        textAlign: 'right',\r\n\t\tpadding: theme.spacing(1)\r\n\t}\r\n}));\r\n\r\nexport function HelpManagerForm (props) {\r\n    const { onSubmit, onDelete, onCancel, initialValue, loading } = props;\r\n    const classes = useStyles()\r\n\r\n    const [record, setRecord] = useState(initialValue);\r\n\r\n    useEffect(() => {\r\n        setRecord(initialValue)\r\n    }, [initialValue])\r\n\r\n    const handleSubmit = async(data) => {\r\n        onSubmit(data)\r\n    }\r\n\r\n    return (\r\n        <Formik\r\n            enableReinitialize\r\n            className={classes.fullWidth}\r\n            initialValues={record}\r\n            onSubmit={(values, { resetForm }) =>\r\n                setTimeout(() => {\r\n                    handleSubmit(values)\r\n                    resetForm()\r\n                }, 500)\r\n            }\r\n        >\r\n            {(values) => (\r\n                <Form className={classes.fullWidth}>\r\n                    <Grid spacing={2} justifyContent=\"flex-end\" container>\r\n                        <Grid xs={12} sm={6} md={3} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label=\"Título\"\r\n                                name=\"title\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid xs={12} sm={6} md={3} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"helps.settings.codeVideo\")}\r\n                                name=\"video\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid xs={12} sm={12} md={6} item>\r\n                            <Field\r\n                                as={TextField}\r\n                                label={i18n.t(\"helps.settings.description\")}\r\n                                name=\"description\"\r\n                                variant=\"outlined\"\r\n                                className={classes.fullWidth}\r\n                                margin=\"dense\"\r\n                            />\r\n                        </Grid>\r\n                        <Grid sm={3} md={1} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onCancel()} variant=\"contained\">\r\n                            {i18n.t(\"helps.settings.clear\")}\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                        { record.id !== undefined ? (\r\n                            <Grid sm={3} md={1} item>\r\n                                <ButtonWithSpinner className={classes.fullWidth} loading={loading} onClick={() => onDelete(record)} variant=\"contained\" color=\"secondary\">\r\n                                {i18n.t(\"helps.settings.delete\")}\r\n                                </ButtonWithSpinner>\r\n                            </Grid>\r\n                        ) : null}\r\n                        <Grid sm={3} md={1} item>\r\n                            <ButtonWithSpinner className={classes.fullWidth} loading={loading} type=\"submit\" variant=\"contained\" color=\"primary\">\r\n                            {i18n.t(\"helps.settings.save\")}\r\n                            </ButtonWithSpinner>\r\n                        </Grid>\r\n                    </Grid>\r\n                </Form>\r\n            )}\r\n        </Formik>\r\n    )\r\n}\r\n\r\nexport function HelpsManagerGrid (props) {\r\n    const { records, onSelect } = props\r\n    const classes = useStyles()\r\n\r\n    return (\r\n        <Paper className={classes.tableContainer}>\r\n            <Table className={classes.fullWidth} size=\"small\" aria-label=\"a dense table\">\r\n                <TableHead>\r\n                <TableRow>\r\n                    <TableCell align=\"center\" style={{width: '1%'}}>#</TableCell>\r\n                    <TableCell align=\"left\">Título</TableCell>\r\n                    <TableCell align=\"left\">{i18n.t(\"helps.settings.description\")}</TableCell>\r\n                    <TableCell align=\"left\">Video</TableCell>\r\n                </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                {records.map((row) => (\r\n                    <TableRow key={row.id}>\r\n                        <TableCell align=\"center\" style={{width: '1%'}}>\r\n                            <IconButton onClick={() => onSelect(row)} aria-label=\"delete\">\r\n                                <EditIcon />\r\n                            </IconButton>\r\n                        </TableCell>\r\n                        <TableCell align=\"left\">{row.title || '-'}</TableCell>\r\n                        <TableCell align=\"left\">{row.description || '-'}</TableCell>\r\n                        <TableCell align=\"left\">{row.video || '-'}</TableCell>\r\n                    </TableRow>\r\n                ))}\r\n                </TableBody>\r\n            </Table>\r\n        </Paper>\r\n    )\r\n}\r\n\r\nexport default function HelpsManager () {\r\n    const classes = useStyles()\r\n    const { list, save, update, remove } = useHelps()\r\n    \r\n    const [showConfirmDialog, setShowConfirmDialog] = useState(false)\r\n    const [loading, setLoading] = useState(false)\r\n    const [records, setRecords] = useState([])\r\n    const [record, setRecord] = useState({\r\n        title: '',\r\n        description: '',\r\n        video: ''\r\n    })\r\n\r\n    useEffect(() => {\r\n        async function fetchData () {\r\n            await loadHelps()\r\n        }\r\n        fetchData()\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [])\r\n\r\n    const loadHelps = async () => {\r\n        setLoading(true)\r\n        try {\r\n            const helpList = await list()\r\n            setRecords(helpList)\r\n        } catch (e) {\r\n            toast.error('Não foi possível carregar a lista de registros')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleSubmit = async (data) => {\r\n        setLoading(true)\r\n        try {\r\n            if (data.id !== undefined) {\r\n                await update(data)\r\n            } else {\r\n                await save(data)\r\n            }\r\n            await loadHelps()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação. Verifique se já existe uma helpo com o mesmo nome ou se os campos foram preenchidos corretamente')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true)\r\n        try {\r\n            await remove(record.id)\r\n            await loadHelps()\r\n            handleCancel()\r\n            toast.success('Operação realizada com sucesso!')\r\n        } catch (e) {\r\n            toast.error('Não foi possível realizar a operação')\r\n        }\r\n        setLoading(false)\r\n    }\r\n\r\n    const handleOpenDeleteDialog = () => {\r\n        setShowConfirmDialog(true)\r\n    }\r\n\r\n    const handleCancel = () => {\r\n        setRecord({\r\n            title: '',\r\n            description: '',\r\n            video: ''\r\n        })\r\n    }\r\n\r\n    const handleSelect = (data) => {\r\n        setRecord({\r\n            id: data.id,\r\n            title: data.title || '',\r\n            description: data.description || '',\r\n            video: data.video || ''\r\n        })\r\n    }\r\n\r\n    return (\r\n        <Paper className={classes.mainPaper} elevation={0}>\r\n            <Grid spacing={2} container>\r\n                <Grid xs={12} item>\r\n                    <HelpManagerForm \r\n                        initialValue={record} \r\n                        onDelete={handleOpenDeleteDialog} \r\n                        onSubmit={handleSubmit} \r\n                        onCancel={handleCancel} \r\n                        loading={loading}\r\n                    />\r\n                </Grid>\r\n                <Grid xs={12} item>\r\n                    <HelpsManagerGrid \r\n                        records={records}\r\n                        onSelect={handleSelect}\r\n                    />\r\n                </Grid>\r\n            </Grid>\r\n            <ConfirmationModal\r\n                title=\"Exclusão de Registro\"\r\n                open={showConfirmDialog}\r\n                onClose={() => setShowConfirmDialog(false)}\r\n                onConfirm={() => handleDelete()}\r\n            >\r\n                Deseja realmente excluir esse registro?\r\n            </ConfirmationModal>\r\n        </Paper>\r\n    )\r\n}","import React, { useEffect, useState, useContext } from \"react\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport FormHelperText from \"@material-ui/core/FormHelperText\";\r\n\r\nimport useSettings from \"../../hooks/useSettings\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey, blue } from \"@material-ui/core/colors\";\r\n\r\nimport { Tab, Tabs, TextField } from \"@material-ui/core\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  fixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: 240,\r\n  },\r\n  cardAvatar: {\r\n    fontSize: \"55px\",\r\n    color: grey[500],\r\n    backgroundColor: \"#ffffff\",\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n  cardTitle: {\r\n    fontSize: \"18px\",\r\n    color: blue[700],\r\n  },\r\n  cardSubtitle: {\r\n    color: grey[600],\r\n    fontSize: \"14px\",\r\n  },\r\n  alignRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  selectContainer: {\r\n    width: \"100%\",\r\n    textAlign: \"left\",\r\n  },\r\n  tab: {\r\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\r\n    borderRadius: 4,\r\n    width: \"100%\",\r\n    \"& .MuiTabs-flexContainer\": {\r\n      justifyContent: \"center\"\r\n    }\r\n  },\r\n}));\r\n\r\nexport default function Options(props) {\r\n\r\n  const { oldSettings, settings, scheduleTypeChanged, user } = props;\r\n\r\n  const classes = useStyles();\r\n  const [userRating, setUserRating] = useState(\"disabled\");\r\n  const [scheduleType, setScheduleType] = useState(\"disabled\");\r\n  const [chatBotType, setChatBotType] = useState(\"text\");\r\n\r\n  const [loadingUserRating, setLoadingUserRating] = useState(false);\r\n  const [loadingScheduleType, setLoadingScheduleType] = useState(false);\r\n\r\n  const [userCreation, setUserCreation] = useState(\"disabled\");\r\n  const [loadingUserCreation, setLoadingUserCreation] = useState(false);\r\n\r\n  const [SendGreetingAccepted, setSendGreetingAccepted] = useState(\"enabled\");\r\n  const [loadingSendGreetingAccepted, setLoadingSendGreetingAccepted] = useState(false);\r\n\r\n  const [UserRandom, setUserRandom] = useState(\"enabled\");\r\n  const [loadingUserRandom, setLoadingUserRandom] = useState(false);\r\n\r\n  const [SettingsTransfTicket, setSettingsTransfTicket] = useState(\"enabled\");\r\n  const [loadingSettingsTransfTicket, setLoadingSettingsTransfTicket] = useState(false);\r\n\r\n  const [AcceptCallWhatsapp, setAcceptCallWhatsapp] = useState(\"enabled\");\r\n  const [loadingAcceptCallWhatsapp, setLoadingAcceptCallWhatsapp] = useState(false);\r\n\r\n  const [sendSignMessage, setSendSignMessage] = useState(\"enabled\");\r\n  const [loadingSendSignMessage, setLoadingSendSignMessage] = useState(false);\r\n\r\n  const [sendGreetingMessageOneQueues, setSendGreetingMessageOneQueues] = useState(\"enabled\");\r\n  const [loadingSendGreetingMessageOneQueues, setLoadingSendGreetingMessageOneQueues] = useState(false);\r\n\r\n  const [sendQueuePosition, setSendQueuePosition] = useState(\"enabled\");\r\n  const [loadingSendQueuePosition, setLoadingSendQueuePosition] = useState(false);\r\n\r\n  const [sendFarewellWaitingTicket, setSendFarewellWaitingTicket] = useState(\"enabled\");\r\n  const [loadingSendFarewellWaitingTicket, setLoadingSendFarewellWaitingTicket] = useState(false);\r\n\r\n  const [acceptAudioMessageContact, setAcceptAudioMessageContact] = useState(\"enabled\");\r\n  const [loadingAcceptAudioMessageContact, setLoadingAcceptAudioMessageContact] = useState(false);\r\n\r\n  //LGPD\r\n  const [enableLGPD, setEnableLGPD] = useState(\"disabled\");\r\n  const [loadingEnableLGPD, setLoadingEnableLGPD] = useState(false);\r\n\r\n  const [lgpdMessage, setLGPDMessage] = useState(\"\");\r\n  const [loadinglgpdMessage, setLoadingLGPDMessage] = useState(false);\r\n\r\n  const [lgpdLink, setLGPDLink] = useState(\"\");\r\n  const [loadingLGPDLink, setLoadingLGPDLink] = useState(false);\r\n\r\n  const [lgpdDeleteMessage, setLGPDDeleteMessage] = useState(\"disabled\");\r\n  const [loadingLGPDDeleteMessage, setLoadingLGPDDeleteMessage] = useState(false);\r\n\r\n  const [lgpdConsent, setLGPDConsent] = useState(\"disabled\");\r\n  const [loadingLGPDConsent, setLoadingLGPDConsent] = useState(false);\r\n\r\n  const [lgpdHideNumber, setLGPDHideNumber] = useState(\"disabled\");\r\n  const [loadingLGPDHideNumber, setLoadingLGPDHideNumber] = useState(false);\r\n\r\n  // Tag obrigatoria\r\n  const [requiredTag, setRequiredTag] = useState(\"enabled\")\r\n  const [loadingRequiredTag, setLoadingRequiredTag] = useState(false)\r\n\r\n  // Fechar ticket ao transferir para outro setor\r\n  const [closeTicketOnTransfer, setCloseTicketOnTransfer] = useState(false)\r\n  const [loadingCloseTicketOnTransfer, setLoadingCloseTicketOnTransfer] = useState(false)\r\n\r\n  // Usar carteira de clientes\r\n  const [directTicketsToWallets, setDirectTicketsToWallets] = useState(false)\r\n  const [loadingDirectTicketsToWallets, setLoadingDirectTicketsToWallets] = useState(false)\r\n\r\n  //MENSAGENS CUSTOMIZADAS\r\n  const [transferMessage, setTransferMessage] = useState(\"\");\r\n  const [loadingTransferMessage, setLoadingTransferMessage] = useState(false);\r\n\r\n  const [greetingAcceptedMessage, setGreetingAcceptedMessage] = useState(\"\");\r\n  const [loadingGreetingAcceptedMessage, setLoadingGreetingAcceptedMessage] = useState(false);\r\n  \r\n  const [AcceptCallWhatsappMessage, setAcceptCallWhatsappMessage] = useState(\"\");\r\n  const [loadingAcceptCallWhatsappMessage, setLoadingAcceptCallWhatsappMessage] = useState(false);\r\n\r\n  const [sendQueuePositionMessage, setSendQueuePositionMessage] = useState(\"\");\r\n  const [loadingSendQueuePositionMessage, setLoadingSendQueuePositionMessage] = useState(false);\r\n\r\n  const [showNotificationPending, setShowNotificationPending] = useState(false);\r\n  const [loadingShowNotificationPending, setLoadingShowNotificationPending] = useState(false);\r\n\r\n  const [ShowHiddenMessageButton, setShowHiddenMessageButton] = useState(\"enabled\");\r\n  const [loadingShowHiddenMessageButton, setLoadingShowHiddenMessageButton] = useState(false);\r\n\r\n  const [ShowButtonCamera, setShowButtonCamera] = useState(\"enabled\");\r\n  const [loadingShowButtonCamera, setLoadingShowButtonCamera] = useState(false);\r\n\r\n  const [ShowButtonSendAudio, setShowButtonSendAudio] = useState(\"enabled\");\r\n  const [loadingShowButtonSendAudio, setLoadingShowButtonSendAudio] = useState(false);\r\n\r\n  const [ShowButtonSendContact, setShowButtonSendContact] = useState(\"enabled\");\r\n  const [loadingShowButtonSendContact, setLoadingShowButtonSendContact] = useState(false);\r\n\r\n  const [ShowButtonSendUrlVideoCall, setShowButtonSendUrlVideoCall] = useState(\"enabled\");\r\n  const [loadingShowButtonSendUrlVideoCall, setLoadingShowButtonSendUrlVideoCall] = useState(false);\r\n\r\n\r\n  const { update: updateUserCreation, getAll } = useSettings();\r\n\r\n  const { update } = useCompanySettings();\r\n\r\n  const isSuper = () => {\r\n    return user.super;\r\n  };\r\n\r\n\r\n  useEffect(() => {\r\n\r\n    if (Array.isArray(oldSettings) && oldSettings.length) {\r\n\r\n      const userPar = oldSettings.find((s) => s.key === \"userCreation\");\r\n\r\n      if (userPar) {\r\n        setUserCreation(userPar.value);\r\n      }\r\n    }\r\n  }, [oldSettings])\r\n\r\n\r\n  useEffect(() => {\r\n    for (const [key, value] of Object.entries(settings)) {\r\n      if (key === \"userRating\") setUserRating(value);\r\n      if (key === \"scheduleType\") setScheduleType(value);\r\n      if (key === \"chatBotType\") setChatBotType(value);\r\n      if (key === \"acceptCallWhatsapp\") setAcceptCallWhatsapp(value);\r\n      if (key === \"userRandom\") setUserRandom(value);\r\n      if (key === \"sendGreetingMessageOneQueues\") setSendGreetingMessageOneQueues(value);\r\n      if (key === \"sendSignMessage\") setSendSignMessage(value);\r\n      if (key === \"sendFarewellWaitingTicket\") setSendFarewellWaitingTicket(value);\r\n      if (key === \"sendGreetingAccepted\") setSendGreetingAccepted(value);\r\n      if (key === \"sendQueuePosition\") setSendQueuePosition(value);\r\n      if (key === \"acceptAudioMessageContact\") setAcceptAudioMessageContact(value);\r\n      if (key === \"enableLGPD\") setEnableLGPD(value);\r\n      if (key === \"requiredTag\") setRequiredTag(value);\r\n      if (key === \"lgpdDeleteMessage\") setLGPDDeleteMessage(value)\r\n      if (key === \"lgpdHideNumber\") setLGPDHideNumber(value);\r\n      if (key === \"lgpdConsent\") setLGPDConsent(value);\r\n      if (key === \"lgpdMessage\") setLGPDMessage(value);\r\n      if (key === \"sendMsgTransfTicket\") setSettingsTransfTicket(value);\r\n      if (key === \"lgpdLink\") setLGPDLink(value);\r\n      if (key === \"DirectTicketsToWallets\") setDirectTicketsToWallets(value);\r\n      if (key === \"closeTicketOnTransfer\") setCloseTicketOnTransfer(value);\r\n      if (key === \"transferMessage\") setTransferMessage(value);\r\n      if (key === \"greetingAcceptedMessage\") setGreetingAcceptedMessage(value);\r\n      if (key === \"AcceptCallWhatsappMessage\") setAcceptCallWhatsappMessage(value);\r\n      if (key === \"sendQueuePositionMessage\") setSendQueuePositionMessage(value);\r\n      if (key === \"showNotificationPending\") setShowNotificationPending(value);\r\n      if (key === \"showHiddenMessageButton\") setShowHiddenMessageButton(value);\r\n      if (key === \"showButtonCamera\") setShowButtonCamera(value);\r\n      if (key === \"showButtonSendAudio\") setShowButtonSendAudio(value);\r\n      if (key === \"showButtonSendContact\") setShowButtonSendContact(value);\r\n      if (key === \"showButtonSendUrlVideoCall\") setShowButtonSendUrlVideoCall(value);      \r\n\r\n    }\r\n  }, [settings]);\r\n\r\n  async function handleChangeUserCreation(value) {\r\n    setUserCreation(value);\r\n    setLoadingUserCreation(true);\r\n    await updateUserCreation({\r\n      key: \"userCreation\",\r\n      value,\r\n    });\r\n    setLoadingUserCreation(false);\r\n  }\r\n\r\n  async function handleChangeUserRating(value) {\r\n    setUserRating(value);\r\n    setLoadingUserRating(true);\r\n    await update({\r\n      column: \"userRating\",\r\n      data: value\r\n    });\r\n    setLoadingUserRating(false);\r\n  }\r\n\r\n  async function handleScheduleType(value) {\r\n    setScheduleType(value);\r\n    setLoadingScheduleType(true);\r\n    await update({\r\n      column: \"scheduleType\",\r\n      data: value\r\n    });\r\n    setLoadingScheduleType(false);\r\n    if (typeof scheduleTypeChanged === \"function\") {\r\n      scheduleTypeChanged(value);\r\n    }\r\n  }\r\n\r\n  async function handleChatBotType(value) {\r\n    setChatBotType(value);\r\n    await update({\r\n      column: \"chatBotType\",\r\n      data: value\r\n    });\r\n    if (typeof scheduleTypeChanged === \"function\") {\r\n      setChatBotType(value);\r\n    }\r\n  }\r\n\r\n  async function handleLGPDMessage(value) {\r\n    setLGPDMessage(value);\r\n    setLoadingLGPDMessage(true);\r\n    await update({\r\n      column: \"lgpdMessage\",\r\n      data: value\r\n    });\r\n    setLoadingLGPDMessage(false);\r\n  }\r\n\r\n  async function handletransferMessage(value) {\r\n    setTransferMessage(value);\r\n    setLoadingTransferMessage(true);\r\n    await update({\r\n      column: \"transferMessage\",\r\n      data: value\r\n    });\r\n    setLoadingTransferMessage(false);\r\n  }\r\n\r\n  async function handleGreetingAcceptedMessage(value) {\r\n    setGreetingAcceptedMessage(value);\r\n    setLoadingGreetingAcceptedMessage(true);\r\n    await update({\r\n      column: \"greetingAcceptedMessage\",\r\n      data: value\r\n    });\r\n    setLoadingGreetingAcceptedMessage(false);\r\n  }\r\n\r\n  async function handleAcceptCallWhatsappMessage(value) {\r\n    setAcceptCallWhatsappMessage(value);\r\n    setLoadingAcceptCallWhatsappMessage(true);\r\n    await update({\r\n      column: \"AcceptCallWhatsappMessage\",\r\n      data: value\r\n    });\r\n    setLoadingAcceptCallWhatsappMessage(false);\r\n  }\r\n\r\n  async function handlesendQueuePositionMessage(value) {\r\n    setSendQueuePositionMessage(value);\r\n    setLoadingSendQueuePositionMessage(true);\r\n    await update({\r\n      column: \"sendQueuePositionMessage\",\r\n      data: value\r\n    });\r\n    setLoadingSendQueuePositionMessage(false);\r\n  }\r\n\r\n  async function handleShowNotificationPending(value) {\r\n    setShowNotificationPending(value);\r\n    setLoadingShowNotificationPending(true);\r\n    await update({\r\n      column: \"showNotificationPending\",\r\n      data: value\r\n    });\r\n    setLoadingShowNotificationPending(false);\r\n  }\r\n\r\n  async function handleLGPDLink(value) {\r\n    setLGPDLink(value);\r\n    setLoadingLGPDLink(true);\r\n    await update({\r\n      column: \"lgpdLink\",\r\n      data: value\r\n    });\r\n    setLoadingLGPDLink(false);\r\n  }\r\n\r\n  async function handleLGPDDeleteMessage(value) {\r\n    setLGPDDeleteMessage(value);\r\n    setLoadingLGPDDeleteMessage(true);\r\n    await update({\r\n      column: \"lgpdDeleteMessage\",\r\n      data: value\r\n    });\r\n    setLoadingLGPDDeleteMessage(false);\r\n  }\r\n\r\n  async function handleLGPDConsent(value) {\r\n    setLGPDConsent(value);\r\n    setLoadingLGPDConsent(true);\r\n    await update({\r\n      column: \"lgpdConsent\",\r\n      data: value\r\n    });\r\n    setLoadingLGPDConsent(false);\r\n  }\r\n\r\n  async function handleLGPDHideNumber(value) {\r\n    setLGPDHideNumber(value);\r\n    setLoadingLGPDHideNumber(true);\r\n    await update({\r\n      column: \"lgpdHideNumber\",\r\n      data: value\r\n    });\r\n    setLoadingLGPDHideNumber(false);\r\n  }\r\n\r\n  async function handleSendGreetingAccepted(value) {\r\n    setSendGreetingAccepted(value);\r\n    setLoadingSendGreetingAccepted(true);\r\n    await update({\r\n      column: \"sendGreetingAccepted\",\r\n      data: value\r\n    });\r\n    setLoadingSendGreetingAccepted(false);\r\n  }\r\n\r\n  async function handleUserRandom(value) {\r\n    setUserRandom(value);\r\n    setLoadingUserRandom(true);\r\n    await update({\r\n      column: \"userRandom\",\r\n      data: value\r\n    });\r\n    setLoadingUserRandom(false);\r\n  }\r\n\r\n  async function handleSettingsTransfTicket(value) {\r\n    setSettingsTransfTicket(value);\r\n    setLoadingSettingsTransfTicket(true);\r\n    await update({\r\n      column: \"sendMsgTransfTicket\",\r\n      data: value\r\n    });\r\n    setLoadingSettingsTransfTicket(false);\r\n  }\r\n\r\n  async function handleAcceptCallWhatsapp(value) {\r\n    setAcceptCallWhatsapp(value);\r\n    setLoadingAcceptCallWhatsapp(true);\r\n    await update({\r\n      column: \"acceptCallWhatsapp\",\r\n      data: value\r\n    });\r\n    setLoadingAcceptCallWhatsapp(false);\r\n  }\r\n\r\n  async function handleSendSignMessage(value) {\r\n    setSendSignMessage(value);\r\n    setLoadingSendSignMessage(true);\r\n    await update({\r\n      column: \"sendSignMessage\",\r\n      data: value\r\n    });\r\n    localStorage.setItem(\"sendSignMessage\", value === \"enabled\" ? true : false); //atualiza localstorage para sessão\r\n    setLoadingSendSignMessage(false);\r\n  }\r\n\r\n  async function handleSendGreetingMessageOneQueues(value) {\r\n    setSendGreetingMessageOneQueues(value);\r\n    setLoadingSendGreetingMessageOneQueues(true);\r\n    await update({\r\n      column: \"sendGreetingMessageOneQueues\",\r\n      data: value\r\n    });\r\n    setLoadingSendGreetingMessageOneQueues(false);\r\n  }\r\n\r\n  async function handleSendQueuePosition(value) {\r\n    setSendQueuePosition(value);\r\n    setLoadingSendQueuePosition(true);\r\n    await update({\r\n      column: \"sendQueuePosition\",\r\n      data: value\r\n    });\r\n    setLoadingSendQueuePosition(false);\r\n  }\r\n\r\n  async function handleSendFarewellWaitingTicket(value) {\r\n    setSendFarewellWaitingTicket(value);\r\n    setLoadingSendFarewellWaitingTicket(true);\r\n    await update({\r\n      column: \"sendFarewellWaitingTicket\",\r\n      data: value\r\n    });\r\n    setLoadingSendFarewellWaitingTicket(false);\r\n  }\r\n\r\n  async function handleAcceptAudioMessageContact(value) {\r\n    setAcceptAudioMessageContact(value);\r\n    setLoadingAcceptAudioMessageContact(true);\r\n    await update({\r\n      column: \"acceptAudioMessageContact\",\r\n      data: value\r\n    });\r\n    setLoadingAcceptAudioMessageContact(false);\r\n  }\r\n\r\n  async function handleEnableLGPD(value) {\r\n    setEnableLGPD(value);\r\n    setLoadingEnableLGPD(true);\r\n    await update({\r\n      column: \"enableLGPD\",\r\n      data: value\r\n    });\r\n    setLoadingEnableLGPD(false);\r\n  }\r\n\r\n  async function handleRequiredTag(value) {\r\n    setRequiredTag(value);\r\n    setLoadingRequiredTag(true);\r\n    await update({\r\n      column: \"requiredTag\",\r\n      data: value,\r\n    });\r\n    setLoadingRequiredTag(false);\r\n  }\r\n\r\n  async function handleCloseTicketOnTransfer(value) {\r\n    setCloseTicketOnTransfer(value);\r\n    setLoadingCloseTicketOnTransfer(true);\r\n    await update({\r\n      column: \"closeTicketOnTransfer\",\r\n      data: value,\r\n    });\r\n    setLoadingCloseTicketOnTransfer(false);\r\n  }\r\n\r\n  async function handleDirectTicketsToWallets(value) {\r\n    setDirectTicketsToWallets(value);\r\n    setLoadingDirectTicketsToWallets(true);\r\n    await update({\r\n      column: \"DirectTicketsToWallets\",\r\n      data: value,\r\n    });\r\n    setLoadingDirectTicketsToWallets(false);\r\n  }\r\n\r\n\r\n  async function handleShowHiddenMessageButton(value) {\r\n    setShowHiddenMessageButton(value);\r\n    setLoadingShowHiddenMessageButton(true);\r\n    await update({\r\n      column: \"showHiddenMessageButton\",\r\n      data: value\r\n    });\r\n    setLoadingShowHiddenMessageButton(false);\r\n  }  \r\n\r\n  async function handleShowButtonCamera(value) {\r\n    setShowButtonCamera(value);\r\n    setLoadingShowButtonCamera(true);\r\n    await update({\r\n      column: \"showButtonCamera\",\r\n      data: value\r\n    });\r\n    setLoadingShowButtonCamera(false);\r\n  }\r\n\r\n  async function handleShowButtonSendAudio(value) {\r\n    setShowButtonSendAudio(value);\r\n    setLoadingShowButtonSendAudio(true);\r\n    await update({\r\n      column: \"showButtonSendAudio\",\r\n      data: value\r\n    });\r\n    setLoadingShowButtonSendAudio(false);\r\n  }\r\n\r\n  async function handleShowButtonSendContact(value) {\r\n    setShowButtonSendContact(value);\r\n    setLoadingShowButtonSendContact(true);\r\n    await update({\r\n      column: \"showButtonSendContact\",\r\n      data: value\r\n    });\r\n    setLoadingShowButtonSendContact(false);\r\n  }\r\n\r\n  async function handleShowButtonSendUrlVideoCall(value) {\r\n    setShowButtonSendUrlVideoCall(value);\r\n    setLoadingShowButtonSendUrlVideoCall(true);\r\n    await update({\r\n      column: \"showButtonSendUrlVideoCall\",\r\n      data: value\r\n    });\r\n    setLoadingShowButtonSendUrlVideoCall(false);\r\n  }  \r\n\r\n  return (\r\n    <>\r\n      <Grid spacing={3} container>\r\n\r\n        {/* CRIAÇÃO DE COMPANY/USERS */}\r\n        {isSuper() ?\r\n          <Grid xs={12} sm={6} md={4} item>\r\n            <FormControl className={classes.selectContainer}>\r\n              <InputLabel id=\"UserCreation-label\">\r\n                {i18n.t(\"settings.settings.options.creationCompanyUser\")}\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"UserCreation-label\"\r\n                value={userCreation}\r\n                onChange={async (e) => {\r\n                  handleChangeUserCreation(e.target.value);\r\n                }}\r\n              >\r\n                <MenuItem value={\"disabled\"}>\r\n                  {i18n.t(\"settings.settings.options.disabled\")}\r\n                </MenuItem>\r\n                <MenuItem value={\"enabled\"}>\r\n                  {i18n.t(\"settings.settings.options.enabled\")}\r\n                </MenuItem>\r\n              </Select>\r\n              <FormHelperText>\r\n                {loadingUserCreation &&\r\n                  i18n.t(\"settings.settings.options.updating\")}\r\n              </FormHelperText>\r\n            </FormControl>\r\n          </Grid>\r\n          : null}\r\n\r\n        {/* AVALIAÇÕES */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"ratings-label\">{i18n.t(\"settings.settings.options.evaluations\")}</InputLabel>\r\n            <Select\r\n              labelId=\"ratings-label\"\r\n              value={userRating}\r\n              onChange={async (e) => {\r\n                handleChangeUserRating(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingUserRating && i18n.t(\"settings.settings.options.evaluations\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* AGENDAMENTO DE EXPEDIENTE */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"schedule-type-label\">\r\n              {i18n.t(\"settings.settings.options.officeScheduling\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"schedule-type-label\"\r\n              value={scheduleType}\r\n              onChange={async (e) => {\r\n                handleScheduleType(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={\"queue\"}>{i18n.t(\"settings.settings.options.queueManagement\")}</MenuItem>\r\n              <MenuItem value={\"company\"}>{i18n.t(\"settings.settings.options.companyManagement\")}</MenuItem>\r\n              <MenuItem value={\"connection\"}>{i18n.t(\"settings.settings.options.connectionManagement\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingScheduleType && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ENVIAR SAUDAÇÃO AO ACEITAR O TICKET */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendGreetingAccepted-label\">\r\n              {i18n.t(\"settings.settings.options.sendGreetingAccepted\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendGreetingAccepted-label\"\r\n              value={SendGreetingAccepted}\r\n              onChange={async (e) => {\r\n                handleSendGreetingAccepted(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendGreetingAccepted && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ESCOLHER OPERADOR ALEATORIO */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"userRandom-label\">\r\n              {i18n.t(\"settings.settings.options.userRandom\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"userRandom-label\"\r\n              value={UserRandom}\r\n              onChange={async (e) => {\r\n                handleUserRandom(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingUserRandom && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* MOSTRAR BOTÃO DE AO TRANSFERIR TER A MENSAGEM OCULTA */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"showHiddenMessageButton-label\">\r\n              {i18n.t(\"settings.settings.options.showHiddenMessageButton\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"showHiddenMessageButton-label\"\r\n              value={ShowHiddenMessageButton}\r\n              onChange={async (e) => {\r\n                handleShowHiddenMessageButton(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingShowHiddenMessageButton && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid> \r\n\r\n        {/* MOSTRAR BOTÃO DA CAMERA*/}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"showButtonCamera-label\">\r\n              {i18n.t(\"settings.settings.options.showButtonCamera\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"showButtonCamera-label\"\r\n              value={ShowButtonCamera}\r\n              onChange={async (e) => {\r\n                handleShowButtonCamera(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingShowButtonCamera && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>   \r\n          \r\n        {/* MOSTRAR BOTÃO ENVIAR AUDIO*/}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"showButtonSendAudio-label\">\r\n              {i18n.t(\"settings.settings.options.showButtonSendAudio\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"showButtonSendAudio-label\"\r\n              value={ShowButtonSendAudio}\r\n              onChange={async (e) => {\r\n                handleShowButtonSendAudio(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingShowButtonSendAudio && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>    \r\n            \r\n        {/* MOSTRAR BOTÃO ENVIAR CONTATO*/}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"showButtonSendContact-label\">\r\n              {i18n.t(\"settings.settings.options.showButtonSendContact\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"showButtonSendContact-label\"\r\n              value={ShowButtonSendContact}\r\n              onChange={async (e) => {\r\n                handleShowButtonSendContact(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingShowButtonSendContact && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>   \r\n  \r\n        {/* MOSTRAR BOTÃO VIDEOCHAMADA*/}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"showButtonSendUrlVideoCall-label\">\r\n              {i18n.t(\"settings.settings.options.showButtonSendUrlVideoCall\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"showButtonSendUrlVideoCall-label\"\r\n              value={ShowButtonSendUrlVideoCall}\r\n              onChange={async (e) => {\r\n                handleShowButtonSendUrlVideoCall(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingShowButtonSendUrlVideoCall && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>         \r\n\r\n        {/* ENVIAR MENSAGEM DE TRANSFERENCIA DE SETOR/ATENDENTE */}\r\n        {/* <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendMsgTransfTicket-label\">\r\n              {i18n.t(\"settings.settings.options.sendMsgTransfTicket\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendMsgTransfTicket-label\"\r\n              value={SettingsTransfTicket}\r\n              onChange={async (e) => {\r\n                handleSettingsTransfTicket(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSettingsTransfTicket && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid> */}\r\n\r\n        {/* TIPO DO BOT */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"schedule-type-label\">{i18n.t(\"settings.settings.options.chatBotType\")}</InputLabel>\r\n            <Select\r\n              labelId=\"schedule-type-label\"\r\n              value={chatBotType}\r\n              onChange={async (e) => {\r\n                handleChatBotType(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"text\"}>Texto</MenuItem>\r\n              {/* <MenuItem value={\"button\"}>{i18n.t(\"settings.settings.options.buttons\")}</MenuItem>\r\n              <MenuItem value={\"list\"}>Lista</MenuItem> */}\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingScheduleType && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* AVISO SOBRE LIGAÇÃO DO WHATSAPP */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"acceptCallWhatsapp-label\">\r\n              {i18n.t(\"settings.settings.options.acceptCallWhatsapp\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"acceptCallWhatsapp-label\"\r\n              value={AcceptCallWhatsapp}\r\n              onChange={async (e) => {\r\n                handleAcceptCallWhatsapp(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingAcceptCallWhatsapp && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* HABILITAR PARA O ATENDENTE RETIRAR O ASSINATURA */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendSignMessage-label\">\r\n              {i18n.t(\"settings.settings.options.sendSignMessage\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendSignMessage-label\"\r\n              value={sendSignMessage}\r\n              onChange={async (e) => {\r\n                handleSendSignMessage(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendSignMessage && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ENVIAR SAUDAÇÃO QUANDO HOUVER SOMENTE 1 FILA */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendGreetingMessageOneQueues-label\">\r\n              {i18n.t(\"settings.settings.options.sendGreetingMessageOneQueues\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendGreetingMessageOneQueues-label\"\r\n              value={sendGreetingMessageOneQueues}\r\n              onChange={async (e) => {\r\n                handleSendGreetingMessageOneQueues(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendGreetingMessageOneQueues && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ENVIAR MENSAGEM COM A POSIÇÃO DA FILA */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendQueuePosition-label\">\r\n              {i18n.t(\"settings.settings.options.sendQueuePosition\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendQueuePosition-label\"\r\n              value={sendQueuePosition}\r\n              onChange={async (e) => {\r\n                handleSendQueuePosition(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendQueuePosition && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        {/* ENVIAR MENSAGEM DE DESPEDIDA NO AGUARDANDO */}\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"sendFarewellWaitingTicket-label\">\r\n              {i18n.t(\"settings.settings.options.sendFarewellWaitingTicket\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"sendFarewellWaitingTicket-label\"\r\n              value={sendFarewellWaitingTicket}\r\n              onChange={async (e) => {\r\n                handleSendFarewellWaitingTicket(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingSendFarewellWaitingTicket && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"acceptAudioMessageContact-label\">\r\n              {i18n.t(\"settings.settings.options.acceptAudioMessageContact\")}\r\n            </InputLabel>\r\n            <Select\r\n              labelId=\"acceptAudioMessageContact-label\"\r\n              value={acceptAudioMessageContact}\r\n              onChange={async (e) => {\r\n                handleAcceptAudioMessageContact(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>\r\n                {i18n.t(\"settings.settings.options.disabled\")}\r\n              </MenuItem>\r\n              <MenuItem value={\"enabled\"}>\r\n                {i18n.t(\"settings.settings.options.enabled\")}\r\n              </MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingAcceptAudioMessageContact && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"enableLGPD-label\"> {i18n.t(\"settings.settings.options.enableLGPD\")}</InputLabel>\r\n            <Select\r\n              labelId=\"enableLGPD-label\"\r\n              value={enableLGPD}\r\n              onChange={async (e) => {\r\n                handleEnableLGPD(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingEnableLGPD && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"requiredTag-label\"> {i18n.t(\"settings.settings.options.requiredTag\")}</InputLabel>\r\n            <Select\r\n              labelId=\"requiredTag-label\"\r\n              value={requiredTag}\r\n              onChange={async (e) => {\r\n                handleRequiredTag(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingRequiredTag && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"closeTicketOnTransfer-label\"> {i18n.t(\"settings.settings.options.closeTicketOnTransfer\")}</InputLabel>\r\n            <Select\r\n              labelId=\"closeTicketOnTransfer-label\"\r\n              value={closeTicketOnTransfer}\r\n              onChange={async (e) => {\r\n                handleCloseTicketOnTransfer(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={false}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={true}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingCloseTicketOnTransfer && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"showNotificationPending-label\"> {i18n.t(\"settings.settings.options.showNotificationPending\")}</InputLabel>\r\n            <Select\r\n              labelId=\"showNotificationPending-label\"\r\n              value={showNotificationPending}\r\n              onChange={async (e) => {\r\n                handleShowNotificationPending(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={false}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={true}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingShowNotificationPending && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n        {/* <Grid xs={12} sm={6} md={4} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <InputLabel id=\"DirectTicketsToWallets-label\"> {i18n.t(\"settings.settings.options.DirectTicketsToWallets\")}</InputLabel>\r\n            <Select\r\n              labelId=\"DirectTicketsToWallets-label\"\r\n              value={directTicketsToWallets}\r\n              onChange={async (e) => {\r\n                handleDirectTicketsToWallets(e.target.value);\r\n              }}\r\n            >\r\n              <MenuItem value={false}>{i18n.t(\"settings.settings.options.disabled\")}</MenuItem>\r\n              <MenuItem value={true}>{i18n.t(\"settings.settings.options.enabled\")}</MenuItem>\r\n            </Select>\r\n            <FormHelperText>\r\n              {loadingDirectTicketsToWallets && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid> */}\r\n      </Grid>\r\n      <br></br>\r\n      {/*-----------------LGPD-----------------*/}\r\n      {enableLGPD === \"enabled\" && (\r\n        <>\r\n          <Grid spacing={3} container\r\n            style={{ marginBottom: 10 }}>\r\n            <Tabs\r\n              value={0}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              scrollButtons=\"on\"\r\n              variant=\"scrollable\"\r\n              className={classes.tab}\r\n            >\r\n              <Tab\r\n\r\n                label={i18n.t(\"settings.settings.LGPD.title\")} />\r\n\r\n            </Tabs>\r\n          </Grid>\r\n          <Grid spacing={1} container>\r\n            <Grid xs={12} sm={6} md={12} item>\r\n              <FormControl className={classes.selectContainer}>\r\n                <TextField\r\n                  id=\"lgpdMessage\"\r\n                  name=\"lgpdMessage\"\r\n                  margin=\"dense\"\r\n                  multiline\r\n                  rows={3}\r\n                  label={i18n.t(\"settings.settings.LGPD.welcome\")}\r\n                  variant=\"outlined\"\r\n                  value={lgpdMessage}\r\n                  onChange={async (e) => {\r\n                    handleLGPDMessage(e.target.value);\r\n                  }}\r\n                >\r\n                </TextField>\r\n                <FormHelperText>\r\n                  {loadinglgpdMessage && i18n.t(\"settings.settings.options.updating\")}\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            <Grid xs={12} sm={6} md={12} item>\r\n              <FormControl className={classes.selectContainer}>\r\n                <TextField\r\n                  id=\"lgpdLink\"\r\n                  name=\"lgpdLink\"\r\n                  margin=\"dense\"\r\n                  label={i18n.t(\"settings.settings.LGPD.linkLGPD\")}\r\n                  variant=\"outlined\"\r\n                  value={lgpdLink}\r\n                  onChange={async (e) => {\r\n                    handleLGPDLink(e.target.value);\r\n                  }}\r\n                >\r\n                </TextField>\r\n                <FormHelperText>\r\n                  {loadingLGPDLink && i18n.t(\"settings.settings.options.updating\")}\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            {/* LGPD Manter ou nao mensagem deletada pelo contato */}\r\n            <Grid xs={12} sm={6} md={4} item>\r\n              <FormControl className={classes.selectContainer}>\r\n                <InputLabel id=\"lgpdDeleteMessage-label\">{i18n.t(\"settings.settings.LGPD.obfuscateMessageDelete\")}</InputLabel>\r\n                <Select\r\n                  labelId=\"lgpdDeleteMessage-label\"\r\n                  value={lgpdDeleteMessage}\r\n                  onChange={async (e) => {\r\n                    handleLGPDDeleteMessage(e.target.value);\r\n                  }}\r\n                >\r\n                  <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.LGPD.disabled\")}</MenuItem>\r\n                  <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.LGPD.enabled\")}</MenuItem>\r\n                </Select>\r\n                <FormHelperText>\r\n                  {loadingLGPDDeleteMessage && i18n.t(\"settings.settings.options.updating\")}\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            {/* LGPD Sempre solicitar confirmaçao / conscentimento dos dados */}\r\n            <Grid xs={12} sm={6} md={4} item>\r\n              <FormControl className={classes.selectContainer}>\r\n                <InputLabel id=\"lgpdConsent-label\">\r\n                  {i18n.t(\"settings.settings.LGPD.alwaysConsent\")}\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"lgpdConsent-label\"\r\n                  value={lgpdConsent}\r\n                  onChange={async (e) => {\r\n                    handleLGPDConsent(e.target.value);\r\n                  }}\r\n                >\r\n                  <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.LGPD.disabled\")}</MenuItem>\r\n                  <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.LGPD.enabled\")}</MenuItem>\r\n                </Select>\r\n                <FormHelperText>\r\n                  {loadingLGPDConsent && i18n.t(\"settings.settings.options.updating\")}\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n            {/* LGPD Ofuscar número telefone para usuários */}\r\n            <Grid xs={12} sm={6} md={4} item>\r\n              <FormControl className={classes.selectContainer}>\r\n                <InputLabel id=\"lgpdHideNumber-label\">\r\n                  {i18n.t(\"settings.settings.LGPD.obfuscatePhoneUser\")}\r\n                </InputLabel>\r\n                <Select\r\n                  labelId=\"lgpdHideNumber-label\"\r\n                  value={lgpdHideNumber}\r\n                  onChange={async (e) => {\r\n                    handleLGPDHideNumber(e.target.value);\r\n                  }}\r\n                >\r\n                  <MenuItem value={\"disabled\"}>{i18n.t(\"settings.settings.LGPD.disabled\")}</MenuItem>\r\n                  <MenuItem value={\"enabled\"}>{i18n.t(\"settings.settings.LGPD.enabled\")}</MenuItem>\r\n                </Select>\r\n                <FormHelperText>\r\n                  {loadingLGPDHideNumber && i18n.t(\"settings.settings.options.updating\")}\r\n                </FormHelperText>\r\n              </FormControl>\r\n            </Grid>\r\n          </Grid>\r\n        </>\r\n      )}\r\n      <Grid spacing={1} container>\r\n        <Grid xs={12} sm={6} md={6} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <TextField\r\n              id=\"transferMessage\"\r\n              name=\"transferMessage\"\r\n              margin=\"dense\"\r\n              multiline\r\n              rows={3}\r\n              label={i18n.t(\"settings.settings.customMessages.transferMessage\")}\r\n              variant=\"outlined\"\r\n              value={transferMessage}\r\n              required={SettingsTransfTicket === \"enabled\"}\r\n              onChange={async (e) => {\r\n                handletransferMessage(e.target.value);\r\n              }}\r\n            >\r\n            </TextField>\r\n            <FormHelperText>\r\n              {loadingTransferMessage && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={6} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <TextField\r\n              id=\"greetingAcceptedMessage\"\r\n              name=\"greetingAcceptedMessage\"\r\n              margin=\"dense\"\r\n              multiline\r\n              rows={3}\r\n              label={i18n.t(\"settings.settings.customMessages.greetingAcceptedMessage\")}\r\n              variant=\"outlined\"\r\n              value={greetingAcceptedMessage}\r\n              required={SendGreetingAccepted === \"enabled\"}\r\n              onChange={async (e) => {\r\n                handleGreetingAcceptedMessage(e.target.value);\r\n              }}\r\n            >\r\n            </TextField>\r\n            <FormHelperText>\r\n              {loadingGreetingAcceptedMessage && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={6} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <TextField\r\n              id=\"AcceptCallWhatsappMessage\"\r\n              name=\"AcceptCallWhatsappMessage\"\r\n              margin=\"dense\"\r\n              multiline\r\n              rows={3}\r\n              label={i18n.t(\"settings.settings.customMessages.AcceptCallWhatsappMessage\")}\r\n              variant=\"outlined\"\r\n              required={AcceptCallWhatsapp === \"disabled\"}\r\n              value={AcceptCallWhatsappMessage}\r\n              onChange={async (e) => {\r\n                handleAcceptCallWhatsappMessage(e.target.value);\r\n              }}\r\n            >\r\n            </TextField>\r\n            <FormHelperText>\r\n              {loadingAcceptCallWhatsappMessage && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        <Grid xs={12} sm={6} md={6} item>\r\n          <FormControl className={classes.selectContainer}>\r\n            <TextField\r\n              id=\"sendQueuePositionMessage\"\r\n              name=\"sendQueuePositionMessage\"\r\n              margin=\"dense\"\r\n              multiline\r\n              required={sendQueuePosition === \"enabled\"}\r\n              rows={3}\r\n              label={i18n.t(\"settings.settings.customMessages.sendQueuePositionMessage\")}\r\n              variant=\"outlined\"\r\n              value={sendQueuePositionMessage}\r\n              onChange={async (e) => {\r\n                handlesendQueuePositionMessage(e.target.value);\r\n              }}\r\n            >\r\n            </TextField>\r\n            <FormHelperText>\r\n              {loadingSendQueuePositionMessage && i18n.t(\"settings.settings.options.updating\")}\r\n            </FormHelperText>\r\n          </FormControl>\r\n        </Grid>\r\n\r\n        \r\n              \r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","const OnlyForSuperUser = ({ user, yes, no }) => user.super ? yes() : no();\r\n\r\nOnlyForSuperUser.defaultProps = {\r\n    user: {},\r\n\tyes: () => null,\r\n\tno: () => null,\r\n};\r\n\r\nexport default OnlyForSuperUser;","import React, { useState } from \"react\";\r\nimport { Dialog } from \"@material-ui/core\";\r\nimport { BlockPicker } from \"react-color\";\r\n\r\nconst ColorPicker = ({ onChange, currentColor, handleClose, open }) => {\r\n  const [selectedColor, setSelectedColor] = useState(currentColor);\r\n\r\n  const handleChange = (color) => {\r\n    setSelectedColor(color.hex);\r\n    onChange(color.hex);\r\n  };\r\n\r\n  const handleDialogClose = (event, reason) => {\r\n    if (reason === \"backdropClick\") {\r\n      handleClose();\r\n    }\r\n  };\r\n\r\n  const colors = [\r\n    \"#B80000\",\r\n    \"#DB3E00\",\r\n    \"#FCCB00\",\r\n    \"#008B02\",\r\n    \"#006B76\",\r\n    \"#1273DE\",\r\n    \"#004DCF\",\r\n    \"#5300EB\",\r\n    \"#EB9694\",\r\n    \"#FAD0C3\",\r\n    \"#FEF3BD\",\r\n    \"#C1E1C5\",\r\n    \"#BEDADC\",\r\n    \"#C4DEF6\",\r\n    \"#BED3F3\",\r\n    \"#D4C4FB\",\r\n    \"#4D4D4D\",\r\n    \"#999999\",\r\n    \"#F44E3B\",\r\n    \"#FE9200\",\r\n    \"#FCDC00\",\r\n    \"#DBDF00\",\r\n    \"#A4DD00\",\r\n    \"#68CCCA\",\r\n    \"#73D8FF\",\r\n    \"#AEA1FF\",\r\n    \"#FDA1FF\",\r\n    \"#333333\",\r\n    \"#808080\",\r\n    \"#cccccc\",\r\n    \"#D33115\",\r\n    \"#E27300\",\r\n    \"#FCC400\",\r\n    \"#B0BC00\",\r\n    \"#68BC00\",\r\n    \"#16A5A5\",\r\n    \"#009CE0\",\r\n    \"#7B64FF\",\r\n    \"#FA28FF\",\r\n    \"#666666\",\r\n    \"#B3B3B3\",\r\n    \"#9F0500\",\r\n    \"#C45100\",\r\n    \"#FB9E00\",\r\n    \"#808900\",\r\n    \"#194D33\",\r\n    \"#0C797D\",\r\n    \"#0062B1\",\r\n    \"#653294\",\r\n    \"#AB149E\",\r\n  ];\r\n\r\n  return (\r\n    <Dialog\r\n      onClose={handleDialogClose}\r\n      aria-labelledby=\"simple-dialog-title\"\r\n      open={open}\r\n    >\r\n      <BlockPicker\r\n        width={\"100%\"}\r\n        triangle=\"hide\"\r\n        color={selectedColor}\r\n        colors={colors}\r\n        onChange={handleChange}\r\n        onChangeComplete={color => onChange(color.hex)}\r\n      />\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ColorPicker;\r\n","export default __webpack_public_path__ + \"static/media/logo.9b26a4ad.png\";","export default __webpack_public_path__ + \"static/media/logo-black.9b26a4ad.png\";","import React, { useEffect, useState } from \"react\";\r\nimport { Button, Dialog, DialogActions, DialogContent, DialogTitle, makeStyles } from \"@material-ui/core\";\r\nimport { ColorBox } from \"material-ui-color\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    btnWrapper: {\r\n        position: \"relative\",\r\n    },\r\n}));\r\n\r\nconst ColorBoxModal = ({ onChange, currentColor, handleClose, open }) => {\r\n\r\n    const classes = useStyles();\r\n    const [selectedColor, setSelectedColor] = useState(currentColor);\r\n\r\n    useEffect(() => {\r\n        setSelectedColor(currentColor);\r\n    }, [currentColor]);\r\n\r\n    const handleOk = () => {\r\n        onChange(selectedColor);\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n\r\n        <Dialog open={open} onClose={handleClose}>\r\n\r\n            <DialogTitle>Escolha uma cor</DialogTitle>\r\n            <DialogContent>\r\n                <ColorBox\r\n                    disableAlpha={true}\r\n                    hslGradient={false}\r\n                    style={{ margin: '20px auto 0' }}\r\n                    value={selectedColor}\r\n                    onChange={setSelectedColor} />\r\n            </DialogContent>\r\n\r\n            <DialogActions>\r\n\r\n                <Button onClick={handleClose} color=\"primary\">\r\n                    Cancelar\r\n                </Button>\r\n                <Button\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    className={classes.btnWrapper}\r\n                    onClick={handleOk} >\r\n                    OK\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\nexport default ColorBoxModal;","import React, { useEffect, useState, useContext, useRef } from \"react\";\r\n\r\nimport Grid from \"@material-ui/core/Grid\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\nimport { toast } from 'react-toastify';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey, blue } from \"@material-ui/core/colors\";\r\nimport OnlyForSuperUser from \"../OnlyForSuperUser\";\r\nimport useAuth from \"../../hooks/useAuth.js/index.js\";\r\n\r\nimport {\r\n  IconButton,\r\n  InputAdornment,\r\n} from \"@material-ui/core\";\r\n\r\nimport { Colorize, AttachFile, Delete } from \"@material-ui/icons\";\r\nimport ColorPicker from \"../ColorPicker\";\r\nimport ColorModeContext from \"../../layout/themeContext\";\r\nimport api from \"../../services/api\";\r\nimport { getBackendUrl } from \"../../config\";\r\n\r\nimport defaultLogoLight from \"../../assets/logo.png\";\r\nimport defaultLogoDark from \"../../assets/logo-black.png\";\r\nimport defaultLogoFavicon from \"../../assets/favicon.ico\";\r\nimport ColorBoxModal from \"../ColorBoxModal/index.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(4),\r\n    paddingBottom: theme.spacing(4),\r\n  },\r\n  fixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    overflow: \"auto\",\r\n    flexDirection: \"column\",\r\n    height: 240,\r\n  },\r\n  tab: {\r\n    borderRadius: 4,\r\n    width: \"100%\",\r\n    \"& .MuiTab-wrapper\": {\r\n      color: \"#128c7e\"\r\n    },\r\n    \"& .MuiTabs-flexContainer\": {\r\n      justifyContent: \"center\"\r\n    }\r\n\r\n\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    marginBottom: 12,\r\n    width: \"100%\",\r\n  },\r\n  cardAvatar: {\r\n    fontSize: \"55px\",\r\n    color: grey[500],\r\n    backgroundColor: \"#ffffff\",\r\n    width: theme.spacing(7),\r\n    height: theme.spacing(7),\r\n  },\r\n  cardTitle: {\r\n    fontSize: \"18px\",\r\n    color: blue[700],\r\n  },\r\n  cardSubtitle: {\r\n    color: grey[600],\r\n    fontSize: \"14px\",\r\n  },\r\n  alignRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  fullWidth: {\r\n    width: \"100%\",\r\n  },\r\n  selectContainer: {\r\n    width: \"100%\",\r\n    textAlign: \"left\",\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n\r\n  uploadInput: {\r\n    display: \"none\",\r\n  },\r\n\r\n  appLogoLightPreviewDiv: {\r\n    backgroundColor: \"white\",\r\n    padding: \"10px\",\r\n    borderStyle: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"#424242\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  appLogoDarkPreviewDiv: {\r\n    backgroundColor: \"#424242\",\r\n    padding: \"10px\",\r\n    borderStyle: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"white\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  appLogoFaviconPreviewDiv: {\r\n    padding: \"10px\",\r\n    borderStyle: \"solid\",\r\n    borderWidth: \"1px\",\r\n    borderColor: \"black\",\r\n    textAlign: \"center\",\r\n  },\r\n\r\n  appLogoLightPreviewImg: {\r\n    width: \"100%\",\r\n    maxHeight: 72,\r\n    content: \"url(\" + theme.calculatedLogoLight() + \")\"\r\n  },\r\n\r\n  appLogoDarkPreviewImg: {\r\n    width: \"100%\",\r\n    maxHeight: 72,\r\n    content: \"url(\" + theme.calculatedLogoDark() + \")\"\r\n  },\r\n\r\n  appLogoFaviconPreviewImg: {\r\n    width: \"100%\",\r\n    maxHeight: 72,\r\n    content: \"url(\" + ((theme.appLogoFavicon) ? theme.appLogoFavicon : \"\") + \")\"\r\n  }\r\n}));\r\n\r\nexport default function Whitelabel(props) {\r\n  const { settings } = props;\r\n  const classes = useStyles();\r\n  const [settingsLoaded, setSettingsLoaded] = useState({});\r\n\r\n  const { getCurrentUserInfo } = useAuth();\r\n  const [currentUser, setCurrentUser] = useState({});\r\n\r\n  const { colorMode } = useContext(ColorModeContext);\r\n  const [primaryColorLightModalOpen, setPrimaryColorLightModalOpen] = useState(false);\r\n  const [primaryColorDarkModalOpen, setPrimaryColorDarkModalOpen] = useState(false);\r\n\r\n  const logoLightInput = useRef(null);\r\n  const logoDarkInput = useRef(null);\r\n  const logoFaviconInput = useRef(null);\r\n  const appNameInput = useRef(null);\r\n  const [appName, setAppName] = useState(settingsLoaded.appName || \"\");\r\n\r\n  const { update } = useSettings();\r\n\r\n  function updateSettingsLoaded(key, value) {\r\n    if (key === 'primaryColorLight' || key === 'primaryColorDark' || key === 'appName') {\r\n      localStorage.setItem(key, value);\r\n    };\r\n    const newSettings = { ...settingsLoaded };\r\n    newSettings[key] = value;\r\n    setSettingsLoaded(newSettings);\r\n  }\r\n\r\n  useEffect(() => {\r\n    getCurrentUserInfo().then(\r\n      (u) => {\r\n        setCurrentUser(u);\r\n      }\r\n    );\r\n\r\n    if (Array.isArray(settings) && settings.length) {\r\n      const primaryColorLight = settings.find((s) => s.key === \"primaryColorLight\")?.value;\r\n      const primaryColorDark = settings.find((s) => s.key === \"primaryColorDark\")?.value;\r\n      const appLogoLight = settings.find((s) => s.key === \"appLogoLight\")?.value;\r\n      const appLogoDark = settings.find((s) => s.key === \"appLogoDark\")?.value;\r\n      const appLogoFavicon = settings.find((s) => s.key === \"appLogoFavicon\")?.value;\r\n      const appName = settings.find((s) => s.key === \"appName\")?.value;\r\n\r\n      setAppName(appName || \"\");\r\n      setSettingsLoaded({ ...settingsLoaded, primaryColorLight, primaryColorDark, appLogoLight, appLogoDark, appLogoFavicon, appName });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [settings]);\r\n\r\n  async function handleSaveSetting(key, value) {\r\n\r\n    await update({\r\n      key,\r\n      value,\r\n    });\r\n    updateSettingsLoaded(key, value);\r\n    toast.success(\"Operação atualizada com sucesso.\");\r\n  }\r\n\r\n  const uploadLogo = async (e, mode) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    const file = e.target.files[0];\r\n    const formData = new FormData();\r\n\r\n    formData.append(\"typeArch\", \"logo\");\r\n    formData.append(\"mode\", mode);\r\n    formData.append(\"file\", file);\r\n\r\n    await api.post(\"/settings-whitelabel/logo\", formData, {\r\n      onUploadProgress: (event) => {\r\n        let progress = Math.round(\r\n          (event.loaded * 100) / event.total\r\n        );\r\n      },\r\n    }).then((response) => {\r\n      updateSettingsLoaded(`appLogo${mode}`, response.data);\r\n      colorMode[`setAppLogo${mode}`](getBackendUrl() + \"/public/\" + response.data);\r\n    }).catch((err) => {\r\n      console.error(\r\n        `Houve um problema ao realizar o upload da imagem.`\r\n      );\r\n      console.log(err);\r\n    });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <Grid spacing={3} container>\r\n        {/* <Grid xs={12} item>\r\n                    <Title>Configurações Gerais</Title>\r\n                </Grid> */}\r\n        <OnlyForSuperUser\r\n          user={currentUser}\r\n          yes={() => (\r\n            <>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"primary-color-light-field\"\r\n                    label=\"Cor Primária Modo Claro\"\r\n                    variant=\"standard\"\r\n                    value={settingsLoaded.primaryColorLight || \"\"}\r\n                    onClick={() => setPrimaryColorLightModalOpen(true)}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <div\r\n                            style={{ backgroundColor: settingsLoaded.primaryColorLight }}\r\n                            className={classes.colorAdorment}\r\n                          ></div>\r\n                        </InputAdornment>\r\n                      ),\r\n                      endAdornment: (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          color=\"default\"\r\n                          onClick={() => setPrimaryColorLightModalOpen(true)}\r\n                        >\r\n                          <Colorize />\r\n                        </IconButton>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n                <ColorBoxModal\r\n                  open={primaryColorLightModalOpen}\r\n                  handleClose={() => setPrimaryColorLightModalOpen(false)}\r\n                  onChange={(color) => {\r\n                    handleSaveSetting(\"primaryColorLight\", `#${color.hex}`);\r\n                    colorMode.setPrimaryColorLight(`#${color.hex}`);\r\n                  }}\r\n\r\n\r\n                  currentColor={settingsLoaded.primaryColorLight}\r\n                />\r\n\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"primary-color-dark-field\"\r\n                    label=\"Cor Primária Modo Escuro\"\r\n                    variant=\"standard\"\r\n                    value={settingsLoaded.primaryColorDark || \"\"}\r\n                    onClick={() => setPrimaryColorDarkModalOpen(true)}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <div\r\n                            style={{ backgroundColor: settingsLoaded.primaryColorDark }}\r\n                            className={classes.colorAdorment}\r\n                          ></div>\r\n                        </InputAdornment>\r\n                      ),\r\n                      endAdornment: (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          color=\"default\"\r\n                          onClick={() => setPrimaryColorDarkModalOpen(true)}\r\n                        >\r\n                          <Colorize />\r\n                        </IconButton>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n                <ColorBoxModal\r\n                  open={primaryColorDarkModalOpen}\r\n                  handleClose={() => setPrimaryColorDarkModalOpen(false)}\r\n                  onChange={(color) => {\r\n                    handleSaveSetting(\"primaryColorDark\", `#${color.hex}`);\r\n                    colorMode.setPrimaryColorDark(`#${color.hex}`);\r\n                  }}\r\n                  currentColor={settingsLoaded.primaryColorDark}\r\n                />\r\n              </Grid>\r\n\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"appname-field\"\r\n                    label=\"Nome do sistema\"\r\n                    variant=\"standard\"\r\n                    name=\"appName\"\r\n                    value={appName}\r\n                    inputRef={appNameInput}\r\n                    onChange={(e) => {\r\n                      setAppName(e.target.value);\r\n                    }}\r\n                    onBlur={async (_) => {\r\n                      await handleSaveSetting(\"appName\", appName);\r\n                      colorMode.setAppName(appName || \"Multi100\");\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"logo-light-upload-field\"\r\n                    label=\"Logotipo claro\"\r\n                    variant=\"standard\"\r\n                    value={settingsLoaded.appLogoLight || \"\"}\r\n                    InputProps={{\r\n                      endAdornment: (\r\n                        <>\r\n                          {settingsLoaded.appLogoLight &&\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={() => {\r\n                                handleSaveSetting(\"appLogoLight\", \"\");\r\n                                colorMode.setAppLogoLight(defaultLogoLight);\r\n                              }\r\n                              }\r\n                            >\r\n                              <Delete />\r\n                            </IconButton>\r\n                          }\r\n                          <input\r\n                            type=\"file\"\r\n                            id=\"upload-logo-light-button\"\r\n                            ref={logoLightInput}\r\n                            className={classes.uploadInput}\r\n                            onChange={(e) => uploadLogo(e, \"Light\")}\r\n                          />\r\n                          <label htmlFor=\"upload-logo-light-button\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={\r\n                                () => {\r\n                                  logoLightInput.current.click();\r\n                                }\r\n                              }\r\n                            >\r\n                              <AttachFile />\r\n                            </IconButton>\r\n                          </label>\r\n                        </>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"logo-dark-upload-field\"\r\n                    label=\"Logotipo escuro\"\r\n                    variant=\"standard\"\r\n                    value={settingsLoaded.appLogoDark || \"\"}\r\n                    InputProps={{\r\n                      endAdornment: (\r\n                        <>\r\n                          {settingsLoaded.appLogoDark &&\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={() => {\r\n                                handleSaveSetting(\"appLogoDark\", \"\");\r\n                                colorMode.setAppLogoDark(defaultLogoDark);\r\n                              }\r\n                              }\r\n                            >\r\n                              <Delete />\r\n                            </IconButton>\r\n                          }\r\n                          <input\r\n                            type=\"file\"\r\n                            id=\"upload-logo-dark-button\"\r\n                            ref={logoDarkInput}\r\n                            className={classes.uploadInput}\r\n                            onChange={(e) => uploadLogo(e, \"Dark\")}\r\n                          />\r\n                          <label htmlFor=\"upload-logo-dark-button\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={\r\n                                () => {\r\n                                  logoDarkInput.current.click();\r\n                                }\r\n                              }\r\n                            >\r\n                              <AttachFile />\r\n                            </IconButton>\r\n                          </label>\r\n                        </>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <FormControl className={classes.selectContainer}>\r\n                  <TextField\r\n                    id=\"logo-favicon-upload-field\"\r\n                    label=\"Favicon\"\r\n                    variant=\"standard\"\r\n                    value={settingsLoaded.appLogoFavicon || \"\"}\r\n                    InputProps={{\r\n                      endAdornment: (\r\n                        <>\r\n                          {settingsLoaded.appLogoFavicon &&\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={() => {\r\n                                handleSaveSetting(\"appLogoFavicon\", \"\");\r\n                                colorMode.setAppLogoFavicon(defaultLogoFavicon);\r\n                              }\r\n                              }\r\n                            >\r\n                              <Delete />\r\n                            </IconButton>\r\n                          }\r\n                          <input\r\n                            type=\"file\"\r\n                            id=\"upload-logo-favicon-button\"\r\n                            ref={logoFaviconInput}\r\n                            className={classes.uploadInput}\r\n                            onChange={(e) => uploadLogo(e, \"Favicon\")}\r\n                          />\r\n                          <label htmlFor=\"upload-logo-favicon-button\">\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              color=\"default\"\r\n                              onClick={\r\n                                () => {\r\n                                  logoFaviconInput.current.click();\r\n                                }\r\n                              }\r\n                            >\r\n                              <AttachFile />\r\n                            </IconButton>\r\n                          </label>\r\n                        </>\r\n                      ),\r\n                    }}\r\n                  />\r\n                </FormControl>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <div className={classes.appLogoLightPreviewDiv}>\r\n                  <img className={classes.appLogoLightPreviewImg} alt=\"light-logo-preview\" />\r\n                </div>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <div className={classes.appLogoDarkPreviewDiv}>\r\n                  <img className={classes.appLogoDarkPreviewImg} alt=\"dark-logo-preview\" />\r\n                </div>\r\n              </Grid>\r\n              <Grid xs={12} sm={6} md={4} item>\r\n                <div className={classes.appLogoFaviconPreviewDiv}>\r\n                  <img className={classes.appLogoFaviconPreviewImg} alt=\"favicon-preview\" />\r\n                </div>\r\n              </Grid>\r\n            </>\r\n          )}\r\n        />\r\n      </Grid>\r\n    </>\r\n  );\r\n}\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport { makeStyles, Paper, Tabs, Tab } from \"@material-ui/core\";\r\n\r\nimport TabPanel from \"../../components/TabPanel\";\r\n\r\nimport SchedulesForm from \"../../components/SchedulesForm\";\r\nimport CompaniesManager from \"../../components/CompaniesManager\";\r\nimport PlansManager from \"../../components/PlansManager\";\r\nimport HelpsManager from \"../../components/HelpsManager\";\r\nimport Options from \"../../components/Settings/Options\";\r\nimport Whitelabel from \"../../components/Settings/Whitelabel\";\r\n\r\nimport { i18n } from \"../../translate/i18n.js\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport useCompanies from \"../../hooks/useCompanies\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport OnlyForSuperUser from \"../../components/OnlyForSuperUser\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport useSettings from \"../../hooks/useSettings\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage/index.js\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    flex: 1,\r\n    backgroundColor: theme.palette.background.paper,\r\n  },\r\n  mainPaper: {\r\n    ...theme.scrollbarStyles,\r\n    overflowY: \"scroll\",\r\n    flex: 1,\r\n  },\r\n  tab: {\r\n    // background: \"#f2f5f3\",\r\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\r\n    borderRadius: 4,\r\n  },\r\n  paper: {\r\n    ...theme.scrollbarStyles,\r\n    overflowY: \"scroll\",\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    width: \"100%\",\r\n  },\r\n  container: {\r\n    width: \"100%\",\r\n    maxHeight: \"100%\",\r\n  },\r\n  control: {\r\n    padding: theme.spacing(1),\r\n  },\r\n  textfield: {\r\n    width: \"100%\",\r\n  },\r\n}));\r\n\r\nconst SettingsCustom = () => {\r\n  const classes = useStyles();\r\n  const [tab, setTab] = useState(\"options\");\r\n  const [schedules, setSchedules] = useState([]);\r\n  const [company, setCompany] = useState({});\r\n  const [loading, setLoading] = useState(false);\r\n  const [currentUser, setCurrentUser] = useState({});\r\n  const [settings, setSettings] = useState({});\r\n  const [oldSettings, setOldSettings] = useState({});\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n\r\n  const { find, updateSchedules } = useCompanies();\r\n\r\n  //novo hook\r\n  const { getAll: getAllSettings } = useCompanySettings();\r\n  const { getAll: getAllSettingsOld } = useSettings();\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    async function findData() {\r\n      setLoading(true);\r\n      try {\r\n        const companyId = user.companyId;\r\n        const company = await find(companyId);\r\n\r\n        const settingList = await getAllSettings(companyId);\r\n\r\n        const settingListOld = await getAllSettingsOld();\r\n\r\n        setCompany(company);\r\n        setSchedules(company.schedules);\r\n        setSettings(settingList);\r\n        setOldSettings(settingListOld);\r\n\r\n        /*  if (Array.isArray(settingList)) {\r\n           const scheduleType = settingList.find(\r\n             (d) => d.key === \"scheduleType\"\r\n           );\r\n           if (scheduleType) {\r\n             setSchedulesEnabled(scheduleType.value === \"company\");\r\n           }\r\n         } */\r\n        setSchedulesEnabled(settingList.scheduleType === \"company\");\r\n        setCurrentUser(user);\r\n      } catch (e) {\r\n        toast.error(e);\r\n      }\r\n      setLoading(false);\r\n    }\r\n    findData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleSubmitSchedules = async (data) => {\r\n    setLoading(true);\r\n    try {\r\n      setSchedules(data);\r\n      await updateSchedules({ id: company.id, schedules: data });\r\n      toast.success(\"Horários atualizados com sucesso.\");\r\n    } catch (e) {\r\n      toast.error(e);\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const isSuper = () => {\r\n    return currentUser.super;\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.root}>\r\n      {user.profile === \"user\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <MainHeader>\r\n            <Title>{i18n.t(\"settings.title\")}</Title>\r\n          </MainHeader>\r\n          <Paper className={classes.mainPaper} elevation={1}>\r\n            <Tabs\r\n              value={tab}\r\n              indicatorColor=\"primary\"\r\n              textColor=\"primary\"\r\n              scrollButtons=\"on\"\r\n              variant=\"scrollable\"\r\n              onChange={handleTabChange}\r\n              className={classes.tab}\r\n            >\r\n              <Tab label={i18n.t(\"settings.tabs.options\")} value={\"options\"} />\r\n              {schedulesEnabled && <Tab label=\"Horários\" value={\"schedules\"} />}\r\n              {isSuper() ? <Tab label=\"Empresas\" value={\"companies\"} /> : null}\r\n              {isSuper() ? <Tab label={i18n.t(\"settings.tabs.plans\")} value={\"plans\"} /> : null}\r\n              {isSuper() ? <Tab label={i18n.t(\"settings.tabs.helps\")} value={\"helps\"} /> : null}\r\n              {isSuper() ? <Tab label=\"Whitelabel\" value={\"whitelabel\"} /> : null}\r\n            </Tabs>\r\n            <Paper className={classes.paper} elevation={0}>\r\n              <TabPanel\r\n                className={classes.container}\r\n                value={tab}\r\n                name={\"schedules\"}\r\n              >\r\n                <SchedulesForm\r\n                  loading={loading}\r\n                  onSubmit={handleSubmitSchedules}\r\n                  initialValues={schedules}\r\n                />\r\n              </TabPanel>\r\n              <OnlyForSuperUser\r\n                user={currentUser}\r\n                yes={() => (\r\n                  <>\r\n                    <TabPanel\r\n                      className={classes.container}\r\n                      value={tab}\r\n                      name={\"companies\"}\r\n                    >\r\n                      <CompaniesManager />\r\n                    </TabPanel>\r\n\r\n                    <TabPanel\r\n                      className={classes.container}\r\n                      value={tab}\r\n                      name={\"plans\"}\r\n                    >\r\n                      <PlansManager />\r\n                    </TabPanel>\r\n\r\n                    <TabPanel\r\n                      className={classes.container}\r\n                      value={tab}\r\n                      name={\"helps\"}\r\n                    >\r\n                      <HelpsManager />\r\n                    </TabPanel>\r\n                    <TabPanel\r\n                      className={classes.container}\r\n                      value={tab}\r\n                      name={\"whitelabel\"}\r\n                    >\r\n                      <Whitelabel\r\n                        settings={oldSettings}\r\n                      />\r\n                    </TabPanel>\r\n                  </>\r\n                )}\r\n              />\r\n              <TabPanel className={classes.container} value={tab} name={\"options\"}>\r\n                <Options\r\n                  settings={settings}\r\n                  oldSettings={oldSettings}\r\n                  user={currentUser}\r\n                  scheduleTypeChanged={(value) =>\r\n                    setSchedulesEnabled(value === \"company\")\r\n                  }\r\n                />\r\n              </TabPanel>\r\n            </Paper>\r\n          </Paper>\r\n        </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default SettingsCustom;\r\n","import React from 'react';\r\nimport { at } from 'lodash';\r\nimport { useField } from 'formik';\r\nimport { TextField } from '@material-ui/core';\r\n\r\nexport default function InputField(props) {\r\n  const { errorText, ...rest } = props;\r\n  const [field, meta] = useField(props);\r\n\r\n  function _renderHelperText() {\r\n    const [touched, error] = at(meta, 'touched', 'error');\r\n    if (touched && error) {\r\n      return error;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <TextField\r\n      type=\"text\"\r\n      error={meta.touched && meta.error && true}\r\n      helperText={_renderHelperText()}\r\n      {...field}\r\n      {...rest}\r\n    />\r\n  );\r\n}\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { at } from 'lodash';\r\nimport { useField } from 'formik';\r\nimport {\r\n  InputLabel,\r\n  FormControl,\r\n  Select,\r\n  MenuItem,\r\n  FormHelperText\r\n} from '@material-ui/core';\r\n\r\nfunction SelectField(props) {\r\n  const { label, data, ...rest } = props;\r\n  const [field, meta] = useField(props);\r\n  const { value: selectedValue } = field;\r\n  const [touched, error] = at(meta, 'touched', 'error');\r\n  const isError = touched && error && true;\r\n  function _renderHelperText() {\r\n    if (isError) {\r\n      return <FormHelperText>{error}</FormHelperText>;\r\n    }\r\n  }\r\n\r\n  return (\r\n    <FormControl {...rest} error={isError}>\r\n      <InputLabel>{label}</InputLabel>\r\n      <Select {...field} value={selectedValue ? selectedValue : ''}>\r\n        {data.map((item, index) => (\r\n          <MenuItem key={index} value={item.value}>\r\n            {item.label}\r\n          </MenuItem>\r\n        ))}\r\n      </Select>\r\n      {_renderHelperText()}\r\n    </FormControl>\r\n  );\r\n}\r\n\r\nSelectField.defaultProps = {\r\n  data: []\r\n};\r\n\r\nSelectField.propTypes = {\r\n  data: PropTypes.array.isRequired\r\n};\r\n\r\nexport default SelectField;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport { Grid, Typography } from \"@material-ui/core\";\r\nimport { InputField, SelectField } from \"../../FormFields\";\r\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\r\n\r\nexport default function AddressForm(props) {\r\n\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [billingName, setBillingName] = useState(user.company.name);\r\n  const [addressZipCode, setAddressZipCode] = useState(user.company.document);\r\n  const [addressStreet, setAddressStreet] = useState(user.company.addressStreet);\r\n  const [addressState, setAddressState] = useState(user.company.addressState);\r\n  const [addressCity, setAddressCity] = useState(user.company.addressCity);\r\n\r\n  const {\r\n    formField: {\r\n      firstName,\r\n      address1,\r\n      city,\r\n      state,\r\n      zipcode,\r\n      country,\r\n    },\r\n    setFieldValue\r\n  } = props;\r\n  useEffect(() => {\r\n    setFieldValue(\"firstName\", billingName)\r\n    setFieldValue(\"zipcode\", addressZipCode)\r\n    setFieldValue(\"address2\", addressStreet)\r\n    setFieldValue(\"state\", addressState)\r\n    setFieldValue(\"city\", addressCity)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return (\r\n    <React.Fragment>\r\n  \r\n      <Grid container spacing={3}>\r\n\r\n        <Grid item xs={6} sm={6}>\r\n          <InputField name={firstName.name} label={firstName.label} fullWidth\r\n            value={billingName}\r\n            onChange={(e) => {\r\n              setBillingName(e.target.value)\r\n              setFieldValue(\"firstName\", e.target.value)\r\n            }}\r\n          />\r\n        </Grid>\r\n\r\n        <Grid item xs={6} sm={6}>\r\n          <InputField\r\n            name={zipcode.name}\r\n            label={zipcode.label}\r\n            fullWidth\r\n            value={addressZipCode}\r\n            onChange={(e) => {\r\n              setAddressZipCode(e.target.value)\r\n              setFieldValue(\"zipcode\", e.target.value)\r\n            }}\r\n          />\r\n        </Grid>\r\n        \r\n\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect, useContext } from 'react';\r\nimport Button from '@material-ui/core/Button';\r\nimport Card from '@material-ui/core/Card';\r\nimport CardActions from '@material-ui/core/CardActions';\r\nimport CardContent from '@material-ui/core/CardContent';\r\nimport CardHeader from '@material-ui/core/CardHeader';\r\nimport Grid from '@material-ui/core/Grid';\r\nimport StarIcon from '@material-ui/icons/StarBorder';\r\nimport Typography from '@material-ui/core/Typography';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\n\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport MinimizeIcon from '@material-ui/icons/Minimize';\r\nimport AddIcon from '@material-ui/icons/Add';\r\nimport usePlans from \"../../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  '@global': {\r\n    ul: {\r\n      margin: 0,\r\n      padding: 0,\r\n      listStyle: 'none',\r\n    },\r\n  },\r\n\r\n  margin: {\r\n    margin: theme.spacing(1),\r\n  },\r\n\r\n  cardHeader: {\r\n    backgroundColor:\r\n      theme.palette.type === 'light' ? theme.palette.grey[200] : theme.palette.grey[700],\r\n  },\r\n\r\n  cardPricing: {\r\n    display: 'flex',\r\n    justifyContent: 'center',\r\n    alignItems: 'baseline',\r\n    marginBottom: theme.spacing(2),\r\n  },\r\n\r\n  footer: {\r\n    borderTop: `1px solid ${theme.palette.divider}`,\r\n    marginTop: theme.spacing(8),\r\n    paddingTop: theme.spacing(3),\r\n    paddingBottom: theme.spacing(3),\r\n    [theme.breakpoints.up('sm')]: {\r\n      paddingTop: theme.spacing(6),\r\n      paddingBottom: theme.spacing(6),\r\n    },\r\n  },\r\n\r\n  customCard: {\r\n    display: \"flex\",\r\n    marginTop: \"16px\",\r\n    alignItems: \"center\",\r\n    flexDirection: \"column\",\r\n  },\r\n\r\n  custom: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"space-between\",\r\n  }\r\n}));\r\n\r\nexport default function Pricing(props) {\r\n  const {\r\n    setFieldValue,\r\n    setActiveStep,\r\n    activeStep,\r\n  } = props;\r\n\r\n  const classes = useStyles();\r\n  const [usersPlans, setUsersPlans] = React.useState(3);\r\n  const [connectionsPlans, setConnectionsPlans] = React.useState(3);\r\n  const [storagePlans, setStoragePlans] = React.useState([]);\r\n  const [loading, setLoading] = React.useState(false);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      await loadPlans();\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const loadPlans = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const companyId = user.companyId;\r\n      const _planList = await getPlanCompany(undefined, companyId);\r\n\r\n      const planList = _planList.plan;\r\n\r\n      const plans = []\r\n\r\n      plans.push({\r\n        title: planList.name,\r\n        planId: planList.id,\r\n        price: planList.amount,\r\n        description: [\r\n          `${planList.users} Usuários`,\r\n          `${planList.connections} Conexão`,\r\n          `${planList.queues} Filas`\r\n        ],\r\n        users: planList.users,\r\n        connections: planList.connections,\r\n        queues: planList.queues,\r\n        buttonText: 'SELECIONAR',\r\n        buttonVariant: 'outlined',\r\n      })\r\n\r\n      // setStoragePlans(data);\r\n\r\n      setStoragePlans(plans);\r\n    } catch (e) {\r\n      // toast.error(\"Não foi possível carregar a lista de registros\");\r\n    }\r\n    setLoading(false);\r\n  };\r\n\r\n  const [customValuePlans, setCustomValuePlans] = React.useState(49.00);\r\n\r\n  const handleChangeAdd = (event, newValue) => {\r\n    if (newValue < 3) return\r\n\r\n    const newPrice = 11.00;\r\n\r\n    setUsersPlans(newValue);\r\n    setCustomValuePlans(customValuePlans + newPrice);\r\n  }\r\n\r\n  const handleChangeMin = (event, newValue) => {\r\n    if (newValue < 3) return\r\n\r\n    const newPrice = 11;\r\n\r\n    setUsersPlans(newValue);\r\n    setCustomValuePlans(customValuePlans - newPrice);\r\n  }\r\n\r\n  const handleChangeConnectionsAdd = (event, newValue) => {\r\n    if (newValue < 3) return\r\n    const newPrice = 20.00;\r\n    setConnectionsPlans(newValue);\r\n    setCustomValuePlans(customValuePlans + newPrice);\r\n  }\r\n\r\n  const handleChangeConnectionsMin = (event, newValue) => {\r\n    if (newValue < 3) return\r\n    const newPrice = 20;\r\n    setConnectionsPlans(newValue);\r\n    setCustomValuePlans(customValuePlans - newPrice);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Grid container spacing={3}>\r\n        {storagePlans?.map((tier) => (\r\n          // Enterprise card is full width at sm breakpoint\r\n          <Grid item key={tier.title} xs={12} sm={tier.title === 'Enterprise' ? 12 : 6} md={12}>\r\n            <Card>\r\n              <CardHeader\r\n                title={tier.title}\r\n                subheader={tier.subheader}\r\n                titleTypographyProps={{ align: 'center' }}\r\n                subheaderTypographyProps={{ align: 'center' }}\r\n                action={tier.title === 'Pro' ? <StarIcon /> : null}\r\n                className={classes.cardHeader}\r\n              />\r\n              <CardContent>\r\n                <div className={classes.cardPricing}>\r\n                  <Typography component=\"h2\" variant=\"h3\" color=\"textPrimary\">\r\n                    {\r\n                      tier.custom ?\r\n                        <React.Fragment>\r\n                          R${customValuePlans.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\r\n                        </React.Fragment>\r\n                        :\r\n                        <React.Fragment>\r\n                          R${tier.price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}\r\n                        </React.Fragment>\r\n                    }\r\n                  </Typography>\r\n                  <Typography variant=\"h6\" color=\"textSecondary\">\r\n                    /mês\r\n                  </Typography>\r\n                </div>\r\n                <ul>\r\n                  {tier.description.map((line) => (\r\n                    <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={line}>\r\n                      {line}\r\n                    </Typography>\r\n                  ))}\r\n\r\n                  {\r\n                    tier.custom && (\r\n                      <div className={classes.customCard}>\r\n                        <div className={classes.custom}>\r\n                          <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={12}>\r\n\r\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\r\n                              <MinimizeIcon fontSize=\"inherit\" onClick={e => handleChangeMin(e, usersPlans - 1)} />\r\n                            </IconButton>\r\n                            {usersPlans} Usuários\r\n\r\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\r\n                              <AddIcon fontSize=\"inherit\" onClick={e => handleChangeAdd(e, usersPlans + 1)} />\r\n                            </IconButton>\r\n                          </Typography>\r\n                        </div>\r\n\r\n                        <div className={classes.custom}>\r\n                          <Typography component=\"li\" variant=\"subtitle1\" align=\"center\" key={12}>\r\n\r\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\r\n                              <MinimizeIcon fontSize=\"inherit\" onClick={(e) => handleChangeConnectionsMin(e, connectionsPlans - 1)} />\r\n                            </IconButton>\r\n                            {connectionsPlans} Conexão\r\n\r\n                            <IconButton aria-label=\"delete\" className={classes.margin} size=\"small\">\r\n                              <AddIcon fontSize=\"inherit\" onClick={(e) => handleChangeConnectionsAdd(e, connectionsPlans + 1)} />\r\n                            </IconButton>\r\n                          </Typography>\r\n                        </div>\r\n                      </div>\r\n\r\n                    )\r\n                  }\r\n\r\n                </ul>\r\n              </CardContent>\r\n              <CardActions>\r\n                <Button\r\n                  fullWidth\r\n                  variant={tier.buttonVariant}\r\n                  color=\"primary\"\r\n                  onClick={() => {\r\n                    if (tier.custom) {\r\n                      setFieldValue(\"plan\", JSON.stringify({\r\n                        users: usersPlans,\r\n                        connections: connectionsPlans,\r\n                        price: customValuePlans\r\n                      }));\r\n                    } else {\r\n                      setFieldValue(\"plan\", JSON.stringify(tier));\r\n                    }\r\n\r\n                    setActiveStep(activeStep + 1);\r\n                  }\r\n                  }\r\n                >\r\n                  {tier.buttonText}\r\n                </Button>\r\n              </CardActions>\r\n            </Card>\r\n          </Grid>\r\n        ))}\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}","import { makeStyles } from '@material-ui/core/styles';\r\nexport default makeStyles(theme => ({\r\n  listItem: {\r\n    padding: theme.spacing(1, 0)\r\n  },\r\n  total: {\r\n    fontWeight: '700'\r\n  },\r\n  title: {\r\n    marginTop: theme.spacing(2)\r\n  }\r\n}));\r\n","import React from 'react';\r\nimport { Typography, Grid } from '@material-ui/core';\r\nimport useStyles from './styles';\r\n\r\nfunction PaymentDetails(props) {\r\n  const { formValues } = props;\r\n  const classes = useStyles();\r\n  const { plan } = formValues;\r\n\r\n  const newPlan = JSON.parse(plan);\r\n\r\n  const { users, connections, queues } = newPlan;\r\n  return (\r\n    <Grid item xs={12} sm={6}>\r\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\r\n        Detalhes do plano\r\n      </Typography>\r\n      <Typography gutterBottom>Usuários: {users}</Typography>\r\n      <Typography gutterBottom>Conexão: {connections}</Typography>\r\n      <Typography gutterBottom>Filas: {queues}</Typography>\r\n      <Typography gutterBottom>Cobrança: Mensal</Typography>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default PaymentDetails;\r\n","import React, { useContext } from 'react';\r\nimport { Typography, Grid } from '@material-ui/core';\r\nimport useStyles from './styles';\r\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\r\n\r\nfunction PaymentDetails(props) {\r\n  const { formValues } = props;\r\n  const classes = useStyles();\r\n  const { firstName, address2, city, zipcode, state, country, plan } = formValues;\r\n  const { user } = useContext(AuthContext);\r\n\r\n\r\n  const newPlan = JSON.parse(plan);\r\n  const { price } = newPlan;\r\n\r\n  return (\r\n    <Grid item container direction=\"column\" xs={6} sm={12}>\r\n      <Typography variant=\"h6\" gutterBottom className={classes.title}>\r\n        Informação de pagamento\r\n      </Typography>\r\n      <Grid container>\r\n        <React.Fragment>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>Email:</Typography>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>{user.email}</Typography>\r\n          </Grid>\r\n        </React.Fragment>\r\n        <React.Fragment>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>Nome:</Typography>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>{firstName}</Typography>\r\n          </Grid>\r\n        </React.Fragment>\r\n        <React.Fragment>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>CPF/CNPJ:</Typography>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>{zipcode}</Typography>\r\n          </Grid>\r\n        </React.Fragment>\r\n        <React.Fragment>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>Total:</Typography>\r\n          </Grid>\r\n          <Grid item xs={6}>\r\n            <Typography gutterBottom>R${price.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</Typography>\r\n          </Grid>\r\n        </React.Fragment>\r\n      </Grid>\r\n    </Grid>\r\n  );\r\n}\r\n\r\nexport default PaymentDetails;\r\n","import ReviewOrder from './ReviewOrder';\r\nexport default ReviewOrder;\r\n","import React from 'react';\r\nimport { useFormikContext } from 'formik';\r\nimport { Typography, Grid } from '@material-ui/core';\r\nimport ShippingDetails from './ShippingDetails';\r\nimport PaymentDetails from './PaymentDetails';\r\n\r\nexport default function ReviewOrder() {\r\n  const { values: formValues } = useFormikContext();\r\n  return (\r\n    <React.Fragment>\r\n      <Typography variant=\"h6\" gutterBottom>\r\n        Resumo da assinatura\r\n      </Typography>\r\n      <Grid container spacing={2}>\r\n        <ShippingDetails formValues={formValues} />\r\n        <PaymentDetails formValues={formValues} />\r\n      </Grid>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n  footer {\r\n    margin-top: 30px;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n    width: 100%;\r\n\r\n    @media (max-width: 768px) {\r\n      flex-direction: column;\r\n      .checkout-buttons {\r\n        display: flex;\r\n        flex-direction: column-reverse;\r\n        width: 100%;\r\n\r\n        button {\r\n          width: 100%;\r\n          margin-top: 16px;\r\n          margin-left: 0;\r\n        }\r\n      }\r\n    }\r\n\r\n    button {\r\n      margin-left: 16px;\r\n    }\r\n  }\r\n`;\r\nexport const Total = styled.div`\r\n  display: flex;\r\n  align-items: baseline;\r\n\r\n  span {\r\n    color: #333;\r\n    font-weight: bold;\r\n  }\r\n\r\n  strong {\r\n    color: #333;\r\n    font-size: 28px;\r\n    margin-left: 5px;\r\n  }\r\n\r\n  @media (max-width: 768px) {\r\n    min-width: 100%;\r\n    justify-content: space-between;\r\n  }\r\n`;\r\n\r\nexport const SuccessContent = styled.div`\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n\r\n  > h2 {\r\n    text-align: center;\r\n  }\r\n\r\n  > svg {\r\n    margin-top: 16px;\r\n  }\r\n\r\n  > span {\r\n    margin-top: 24px;\r\n    text-align: center;\r\n  }\r\n\r\n  > p,\r\n  strong {\r\n    margin-top: 8px;\r\n    font-size: 9px;\r\n    color: #999;\r\n  }\r\n\r\n  .copy-button {\r\n    font-size: 14px;\r\n    cursor: pointer;\r\n    text-align: center;\r\n    user-select: none;\r\n    min-height: 56px;\r\n    display: inline-flex;\r\n    -webkit-box-pack: center;\r\n    justify-content: center;\r\n    -webkit-box-align: center;\r\n    align-items: center;\r\n    background-color: #f9f9f9;\r\n    color: #000;\r\n    -webkit-appearance: none !important;\r\n    outline: none;\r\n    margin-top: 16px;\r\n    width: 256px;\r\n    font-weight: 600;\r\n    text-transform: uppercase;\r\n    border: none;\r\n\r\n    > span {\r\n      margin-right: 8px;\r\n    }\r\n  }\r\n`;\r\n\r\nexport const CheckoutWrapper = styled.div`\r\n  width: 100%;\r\n  margin: 0 auto 0;\r\n  max-width: 1110px;\r\n  display: flex;\r\n  flex-direction: column;\r\n  -webkit-box-align: center;\r\n  align-items: center;\r\n  padding: 50px 95px;\r\n  background: #fff;\r\n  @media (max-width: 768px) {\r\n    padding: 16px 24px;\r\n`;","import React, { useState, useEffect, useContext } from 'react';\r\nimport { useHistory } from \"react-router-dom\";\r\nimport QRCode from 'react-qr-code';\r\nimport { SuccessContent, Total } from './style';\r\nimport { CopyToClipboard } from 'react-copy-to-clipboard';\r\nimport { FaCopy, FaCheckCircle } from 'react-icons/fa';\r\nimport { useDate } from \"../../../hooks/useDate\";\r\nimport { toast } from \"react-toastify\";\r\nimport { AuthContext } from \"../../../context/Auth/AuthContext\";\r\n\r\nfunction CheckoutSuccess(props) {\r\n\r\n  const { pix } = props;\r\n  const [pixString,] = useState(pix.qrcode.qrcode);\r\n  const [copied, setCopied] = useState(false);\r\n  const history = useHistory();\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const { dateToClient } = useDate();\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    if (companyId) {\r\n      // const socket = socketManager.GetSocket();\r\n\r\n      const onCompanyPayment = (data) => {\r\n\r\n        if (data.action === \"CONCLUIDA\") {\r\n          toast.success(`Sua licença foi renovada até ${dateToClient(data.company.dueDate)}!`);\r\n          setTimeout(() => {\r\n            history.push(\"/\");\r\n          }, 4000);\r\n        }\r\n      }\r\n\r\n      socket.on(`company-${companyId}-payment`, onCompanyPayment);\r\n\r\n      return () => {\r\n        socket.off(`company-${companyId}-payment`, onCompanyPayment);\r\n      }\r\n    }\r\n  }, [socket]);\r\n\r\n  const handleCopyQR = () => {\r\n    setTimeout(() => {\r\n      setCopied(false);\r\n    }, 1 * 1000);\r\n    setCopied(true);\r\n  };\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Total>\r\n        <span>TOTAL</span>\r\n        <strong>R${pix.valor.original.toLocaleString('pt-br', { minimumFractionDigits: 2 })}</strong>\r\n      </Total>\r\n      <SuccessContent>\r\n        <QRCode value={pixString} />\r\n        <CopyToClipboard text={pixString} onCopy={handleCopyQR}>\r\n          <button className=\"copy-button\" type=\"button\">\r\n            {copied ? (\r\n              <>\r\n                <span>Copiado</span>\r\n                <FaCheckCircle size={18} />\r\n              </>\r\n            ) : (\r\n              <>\r\n                <span>Copiar código QR</span>\r\n                <FaCopy size={18} />\r\n              </>\r\n            )}\r\n          </button>\r\n        </CopyToClipboard>\r\n        <span>\r\n          Para finalizar, basta realizar o pagamento escaneando ou colando o\r\n          código Pix acima :)\r\n        </span>\r\n      </SuccessContent>\r\n    </React.Fragment>\r\n  );\r\n}\r\n\r\nexport default CheckoutSuccess;\r\n","import CheckoutSuccess from './CheckoutSuccess';\r\nexport default CheckoutSuccess;\r\n","export default {\r\n  formId: 'checkoutForm',\r\n  formField: {\r\n    firstName: {\r\n      name: 'firstName',\r\n      label: 'Nome completo*',\r\n      requiredErrorMsg: 'O nome completo é obrigatório'\r\n    },\r\n    lastName: {\r\n      name: 'lastName',\r\n      label: 'Last name*',\r\n      requiredErrorMsg: 'Last name is required'\r\n    },\r\n    address1: {\r\n      name: 'address2',\r\n      label: 'Endereço*',\r\n      requiredErrorMsg: 'O Endereço é obrigatório'\r\n    },\r\n\r\n    city: {\r\n      name: 'city',\r\n      label: 'Cidade*',\r\n      requiredErrorMsg: 'Cidade é obrigatória'\r\n    },\r\n    state: {\r\n      name: 'state',\r\n      label: 'Estado*',\r\n      requiredErrorMsg: 'Cidade é obrigatória'\r\n    },\r\n    zipcode: {\r\n      name: 'zipcode',\r\n      label: 'CPF/CNPJ*',\r\n      requiredErrorMsg: 'CEP é obrigatório',\r\n      invalidErrorMsg: 'Formato de CEP inválido'\r\n    },\r\n    country: {\r\n      name: 'country',\r\n      label: 'País*',\r\n      requiredErrorMsg: 'País é obrigatório'\r\n    },\r\n    useAddressForPaymentDetails: {\r\n      name: 'useAddressForPaymentDetails',\r\n      label: 'Use this address for payment details'\r\n    },\r\n    nameOnCard: {\r\n      name: 'nameOnCard',\r\n      label: 'Name on card*',\r\n      requiredErrorMsg: 'Name on card is required'\r\n    },\r\n    cardNumber: {\r\n      name: 'cardNumber',\r\n      label: 'Card number*',\r\n      requiredErrorMsg: 'Card number is required',\r\n      invalidErrorMsg: 'Card number is not valid (e.g. 4111111111111)'\r\n    },\r\n    expiryDate: {\r\n      name: 'expiryDate',\r\n      label: 'Expiry date*',\r\n      requiredErrorMsg: 'Expiry date is required',\r\n      invalidErrorMsg: 'Expiry date is not valid'\r\n    },\r\n    cvv: {\r\n      name: 'cvv',\r\n      label: 'CVV*',\r\n      requiredErrorMsg: 'CVV is required',\r\n      invalidErrorMsg: 'CVV is invalid (e.g. 357)'\r\n    }\r\n  }\r\n};\r\n","import * as Yup from 'yup';\r\nimport checkoutFormModel from './checkoutFormModel';\r\nconst {\r\n  formField: {\r\n    firstName,\r\n    address1,\r\n    city,\r\n    zipcode,\r\n    country,\r\n  }\r\n} = checkoutFormModel;\r\n\r\n\r\nexport default [\r\n  Yup.object().shape({\r\n    [firstName.name]: Yup.string().required(`${firstName.requiredErrorMsg}`),\r\n\r\n    [zipcode.name]: Yup.string()\r\n      .required(`${zipcode.requiredErrorMsg}`),\r\n  }),\r\n\r\n];\r\n","import checkoutFormModel from './checkoutFormModel';\r\nconst {\r\n  formField: {\r\n    firstName,\r\n    lastName,\r\n    address1,\r\n    city,\r\n    state,\r\n    zipcode,\r\n    country,\r\n    useAddressForPaymentDetails,\r\n    nameOnCard,\r\n    cardNumber,\r\n    cvv\r\n  }\r\n} = checkoutFormModel;\r\n\r\nexport default {\r\n  [firstName.name]: '',\r\n  [lastName.name]: '',\r\n  [address1.name]: '',\r\n  [city.name]: '',\r\n  [state.name]: '',\r\n  [zipcode.name]: '',\r\n  [country.name]: '',\r\n  [useAddressForPaymentDetails.name]: false,\r\n  [nameOnCard.name]: '',\r\n  [cardNumber.name]: '',\r\n  [cvv.name]: ''\r\n};\r\n","import { makeStyles } from '@material-ui/core/styles';\r\nexport default makeStyles(theme => ({\r\n  stepper: {\r\n    padding: theme.spacing(3, 0, 5)\r\n  },\r\n  buttons: {\r\n    display: 'flex',\r\n    justifyContent: 'flex-end'\r\n  },\r\n  button: {\r\n    marginTop: theme.spacing(3),\r\n    marginLeft: theme.spacing(1)\r\n  },\r\n  wrapper: {\r\n    margin: theme.spacing(1),\r\n    position: 'relative'\r\n  },\r\n  buttonProgress: {\r\n    position: 'absolute',\r\n    top: '50%',\r\n    left: '50%'\r\n  }\r\n}));\r\n","import CheckoutPage from './CheckoutPage';\r\nexport default CheckoutPage;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Stepper,\r\n  Step,\r\n  StepLabel,\r\n  Button,\r\n  Typography,\r\n  CircularProgress,\r\n} from \"@material-ui/core\";\r\nimport { Formik, Form } from \"formik\";\r\n\r\nimport AddressForm from \"./Forms/AddressForm\";\r\nimport PaymentForm from \"./Forms/PaymentForm\";\r\nimport ReviewOrder from \"./ReviewOrder\";\r\nimport CheckoutSuccess from \"./CheckoutSuccess\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { toast } from \"react-toastify\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nimport validationSchema from \"./FormModel/validationSchema\";\r\nimport checkoutFormModel from \"./FormModel/checkoutFormModel\";\r\nimport formInitialValues from \"./FormModel/formInitialValues\";\r\n\r\nimport useStyles from \"./styles\";\r\n\r\nexport default function CheckoutPage(props) {\r\n  const steps = [\"Dados\", \"Personalizar\", \"Revisar\"];\r\n  const { formId, formField } = checkoutFormModel;\r\n\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = useState(1);\r\n  const [datePayment, setDatePayment] = useState(null);\r\n  const [invoiceId, setinvoiceId] = useState(props.Invoice.id);\r\n  const currentValidationSchema = validationSchema[activeStep];\r\n  const isLastStep = activeStep === steps.length - 1;\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  function _renderStepContent(step, setFieldValue, setActiveStep, values) {\r\n\r\n    switch (step) {\r\n      case 0:\r\n        return <AddressForm formField={formField} values={values} setFieldValue={setFieldValue} />;\r\n      case 1:\r\n        return <PaymentForm\r\n          formField={formField}\r\n          setFieldValue={setFieldValue}\r\n          setActiveStep={setActiveStep}\r\n          activeStep={step}\r\n          invoiceId={invoiceId}\r\n          values={values}\r\n        />;\r\n      case 2:\r\n        return <ReviewOrder />;\r\n      default:\r\n        return <div>Not Found</div>;\r\n    }\r\n  }\r\n\r\n  async function _submitForm(values, actions) {\r\n    try {\r\n      const plan = JSON.parse(values.plan);\r\n      const newValues = {\r\n        firstName: values.firstName,\r\n        lastName: values.lastName,\r\n        address2: values.address2,\r\n        city: values.city,\r\n        state: values.state,\r\n        zipcode: values.zipcode,\r\n        country: values.country,\r\n        useAddressForPaymentDetails: values.useAddressForPaymentDetails,\r\n        nameOnCard: values.nameOnCard,\r\n        cardNumber: values.cardNumber,\r\n        cvv: values.cvv,\r\n        plan: values.plan,\r\n        price: plan.price,\r\n        users: plan.users,\r\n        connections: plan.connections,\r\n        invoiceId: invoiceId\r\n      }\r\n\r\n      const { data } = await api.post(\"/subscription\", newValues);\r\n      setDatePayment(data)\r\n      actions.setSubmitting(false);\r\n      setActiveStep(activeStep + 1);\r\n      toast.success(\"Assinatura realizada com sucesso!, aguardando a realização do pagamento\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }\r\n\r\n  function _handleSubmit(values, actions) {\r\n    if (isLastStep) {\r\n      _submitForm(values, actions);\r\n    } else {\r\n      setActiveStep(activeStep + 1);\r\n      actions.setTouched({});\r\n      actions.setSubmitting(false);\r\n    }\r\n  }\r\n\r\n  function _handleBack() {\r\n    setActiveStep(activeStep - 1);\r\n  }\r\n\r\n  return (\r\n    <React.Fragment>\r\n      <Typography component=\"h1\" variant=\"h4\" align=\"center\">\r\n        Falta pouco!\r\n      </Typography>\r\n      <Stepper activeStep={activeStep} className={classes.stepper}>\r\n        {steps.map((label) => (\r\n          <Step key={label}>\r\n            <StepLabel>{label}</StepLabel>\r\n          </Step>\r\n        ))}\r\n      </Stepper>\r\n      <React.Fragment>\r\n        {activeStep === steps.length ? (\r\n          <CheckoutSuccess pix={datePayment} />\r\n        ) : (\r\n          <Formik\r\n            initialValues={{\r\n              ...user,\r\n              ...formInitialValues\r\n            }}\r\n            validationSchema={currentValidationSchema}\r\n            onSubmit={_handleSubmit}\r\n          >\r\n            {({ isSubmitting, setFieldValue, values }) => (\r\n              <Form id={formId}>\r\n                {_renderStepContent(activeStep, setFieldValue, setActiveStep, values)}\r\n\r\n                <div className={classes.buttons}>\r\n                  {activeStep !== 1 && activeStep !== 0 && (\r\n                    <Button onClick={_handleBack} className={classes.button}>\r\n                      VOLTAR\r\n                    </Button>\r\n                  )}\r\n                  <div className={classes.wrapper}>\r\n                    {activeStep !== 1 && (\r\n                      <Button\r\n                        disabled={isSubmitting}\r\n                        type=\"submit\"\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        className={classes.button}\r\n                      >\r\n                        {isLastStep ? \"PAGAR\" : \"PRÓXIMO\"}\r\n                      </Button>\r\n                    )}\r\n                    {isSubmitting && (\r\n                      <CircularProgress\r\n                        size={24}\r\n                        className={classes.buttonProgress}\r\n                      />\r\n                    )}\r\n                  </div>\r\n                </div>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        )}\r\n      </React.Fragment>\r\n    </React.Fragment>\r\n  );\r\n}\r\n","import React, { useEffect, useRef } from \"react\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport CheckoutPage from \"../CheckoutPage\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst ContactModal = ({ open, onClose, Invoice, contactId, initialValues, onSave }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={open} onClose={handleClose} maxWidth=\"md\" scroll=\"paper\">\r\n        <DialogContent dividers>\r\n          <CheckoutPage\r\n            Invoice={Invoice}\r\n          />\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactModal;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport moment from \"moment\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n\r\n// Novo componente \"Invoice\"\r\nconst Invoice = ({ invoice, onPayClick }) => {\r\n  const handlePayClick = () => {\r\n    // Aqui você pode abrir o link da fatura com base no \"invoice.detail\"\r\n    // Certifique-se de que \"invoice.detail\" contenha o URL correto da fatura.\r\n    // Exemplo:\r\n    window.open(invoice.linkInvoice, \"_blank\");\r\n  };\r\n\r\n  return (\r\n    <TableRow key={invoice.id}>\r\n      <TableCell align=\"center\">{invoice.detail}</TableCell>\r\n      <TableCell align=\"center\">{invoice.users}</TableCell>\r\n      <TableCell align=\"center\">{invoice.connections}</TableCell>\r\n      <TableCell align=\"center\">\r\n        {moment(invoice.dueDate).format(\"DD/MM/YYYY\")}\r\n      </TableCell> {/* Adicione esta coluna para a data de vencimento */}\r\n      <TableCell align=\"center\">\r\n        {invoice.value ? invoice.value.toLocaleString(\"pt-br\", {\r\n          style: \"currency\",\r\n          currency: \"BRL\",\r\n        }) : 'N/A'}\r\n      </TableCell>\r\n      <TableCell align=\"center\">\r\n        {invoice.status !== \"Pago\" ? (\r\n          <Button\r\n            size=\"small\"\r\n            variant=\"outlined\"\r\n            color=\"secondary\"\r\n            onClick={handlePayClick}\r\n          >\r\n            PAGAR\r\n          </Button>\r\n        ) : (\r\n          <Button size=\"small\" variant=\"outlined\">\r\n            PAGO\r\n          </Button>\r\n        )}\r\n      </TableCell>\r\n    </TableRow>\r\n  );\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_INVOICES\") {\r\n    const invoices = action.payload;\r\n    const newUsers = [];\r\n\r\n    invoices.forEach((user) => {\r\n      const userIndex = state.findIndex((u) => u.id === user.id);\r\n      if (userIndex !== -1) {\r\n        state[userIndex] = user;\r\n      } else {\r\n        newUsers.push(user);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newUsers];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_USERS\") {\r\n    const user = action.payload;\r\n    const userIndex = state.findIndex((u) => u.id === user.id);\r\n\r\n    if (userIndex !== -1) {\r\n      state[userIndex] = user;\r\n      return [...state];\r\n    } else {\r\n      return [user, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_USER\") {\r\n    const userId = action.payload;\r\n\r\n    const userIndex = state.findIndex((u) => u.id === userId);\r\n    if (userIndex !== -1) {\r\n      state.splice(userIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Invoices = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [invoices, dispatch] = useReducer(reducer, []);\r\n  const [storagePlans, setStoragePlans] = React.useState([]);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const handleOpenContactModal = (invoices) => {\r\n    setStoragePlans(invoices);\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchInvoices = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/invoices\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n\r\n          dispatch({ type: \"LOAD_INVOICES\", payload: data.invoices });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchInvoices();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <SubscriptionModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        Invoice={storagePlans}\r\n        contactId={selectedContactId}\r\n      ></SubscriptionModal>\r\n      {user.profile === \"user\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <MainHeader>\r\n            <Title>Faturas ({invoices.length})</Title>\r\n          </MainHeader>\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\"\r\n            onScroll={handleScroll}\r\n          >\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\">Detalhes</TableCell>\r\n                  <TableCell align=\"center\">Usuários</TableCell>\r\n                  <TableCell align=\"center\">Conexões</TableCell>\r\n                  <TableCell align=\"center\">Vencimento</TableCell> {/* Adicione esta coluna */}\r\n                  <TableCell align=\"center\">Valor</TableCell>\r\n                  <TableCell align=\"center\">Ação</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {invoices.map((invoice) => (\r\n                    <Invoice\r\n                      key={invoice.id}\r\n                      invoice={invoice}\r\n                    />\r\n                  ))}\r\n                  {loading && <TableRowSkeleton columns={6} />}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Invoices;","import { Avatar } from \"@material-ui/core\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport { AccountCircle } from \"@material-ui/icons\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport whatsappIcon from \"../../assets/nopicture.png\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport UserModal from \"../../components/UserModal\";\r\nimport UserStatusIcon from \"../../components/UserModal/statusIcon\";\r\nimport { getBackendUrl } from \"../../config\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst backendUrl = getBackendUrl();\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_USERS\") {\r\n    const users = action.payload;\r\n    const newUsers = [];\r\n\r\n    users.forEach((user) => {\r\n      const userIndex = state.findIndex((u) => u.id === user.id);\r\n      if (userIndex !== -1) {\r\n        state[userIndex] = user;\r\n      } else {\r\n        newUsers.push(user);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newUsers];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_USERS\") {\r\n    const user = action.payload;\r\n    const userIndex = state.findIndex((u) => u.id === user.id);\r\n\r\n    if (userIndex !== -1) {\r\n      state[userIndex] = user;\r\n      return [...state];\r\n    } else {\r\n      return [user, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_USER\") {\r\n    const userId = action.payload;\r\n\r\n    const userIndex = state.findIndex((u) => u.id === userId);\r\n    if (userIndex !== -1) {\r\n      state.splice(userIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  userAvatar: {\r\n    width: theme.spacing(6),\r\n    height: theme.spacing(6),\r\n  },\r\n  avatarDiv: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  loadingContainer: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(3),\r\n  },\r\n  loadingText: {\r\n    marginLeft: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst Users = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [loadingMore, setLoadingMore] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [deletingUser, setDeletingUser] = useState(null);\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [users, dispatch] = useReducer(reducer, []);\r\n  const { user: loggedInUser, socket } = useContext(AuthContext);\r\n  const { profileImage } = loggedInUser;\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const fetchUsers = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/users/\", {\r\n          params: { searchParam, pageNumber },\r\n        });\r\n        dispatch({ type: \"LOAD_USERS\", payload: data.users });\r\n        setHasMore(data.hasMore);\r\n      } catch (err) {\r\n        toastError(err);\r\n      } finally {\r\n        setLoading(false);\r\n        setLoadingMore(false);\r\n      }\r\n    };\r\n    fetchUsers();\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (loggedInUser) {\r\n      const companyId = loggedInUser.companyId;\r\n      const onCompanyUser = (data) => {\r\n        if (data.action === \"update\" || data.action === \"create\") {\r\n          dispatch({ type: \"UPDATE_USERS\", payload: data.user });\r\n        }\r\n        if (data.action === \"delete\") {\r\n          dispatch({ type: \"DELETE_USER\", payload: +data.userId });\r\n        }\r\n      };\r\n      socket.on(`company-${companyId}-user`, onCompanyUser);\r\n      return () => {\r\n        socket.off(`company-${companyId}-user`, onCompanyUser);\r\n      };\r\n    }\r\n  }, [socket]);\r\n\r\n  const handleOpenUserModal = () => {\r\n    setSelectedUser(null);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleCloseUserModal = () => {\r\n    setSelectedUser(null);\r\n    setUserModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditUser = (user) => {\r\n    setSelectedUser(user);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteUser = async (userId) => {\r\n    try {\r\n      await api.delete(`/users/${userId}`);\r\n      toast.success(i18n.t(\"users.toasts.deleted\"));\r\n      window.location.reload();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingUser(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setLoadingMore(true);\r\n    setPageNumber((prevPage) => prevPage + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const renderProfileImage = (user) => {\r\n    if (user.id === loggedInUser.id) {\r\n      return (\r\n        <Avatar\r\n          src={`${backendUrl}/public/company${user.companyId}/user/${\r\n            profileImage ? profileImage : whatsappIcon\r\n          }`}\r\n          alt={user.name}\r\n          className={classes.userAvatar}\r\n        />\r\n      );\r\n    }\r\n    if (user.id !== loggedInUser.id) {\r\n      return (\r\n        <Avatar\r\n          src={\r\n            user.profileImage\r\n              ? `${backendUrl}/public/company${user.companyId}/user/${user.profileImage}`\r\n              : whatsappIcon\r\n          }\r\n          alt={user.name}\r\n          className={classes.userAvatar}\r\n        />\r\n      );\r\n    }\r\n    return <AccountCircle />;\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingUser &&\r\n          `${i18n.t(\"users.confirmationModal.deleteTitle\")} ${\r\n            deletingUser.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={() => setConfirmModalOpen(false)}\r\n        onConfirm={() => handleDeleteUser(deletingUser.id)}\r\n      >\r\n        {i18n.t(\"users.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <UserModal\r\n        open={userModalOpen}\r\n        onClose={handleCloseUserModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        userId={selectedUser && selectedUser.id}\r\n      />\r\n      {loggedInUser.profile === \"user\" ? (\r\n        <ForbiddenPage />\r\n      ) : (\r\n        <>\r\n          <MainHeader>\r\n            <Title>\r\n              {i18n.t(\"users.title\")} ({users.length})\r\n            </Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <TextField\r\n                placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                type=\"search\"\r\n                value={searchParam}\r\n                onChange={handleSearch}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon style={{ color: \"gray\" }} />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenUserModal}\r\n                style={{ borderRadius: \"22px\" }}\r\n              >\r\n                {i18n.t(\"users.buttons.add\")}\r\n              </Button>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\"\r\n            onScroll={handleScroll}\r\n          >\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"users.table.ID\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"users.table.status\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">Avatar</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"users.table.name\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"users.table.email\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"users.table.profile\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"users.table.startWork\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"users.table.endWork\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"users.table.actions\")}\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {users.map((user) => (\r\n                    <TableRow key={user.id}>\r\n                      <TableCell align=\"center\">{user.id}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <UserStatusIcon user={user} />\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <div className={classes.avatarDiv}>\r\n                          {renderProfileImage(user)}\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">{user.name}</TableCell>\r\n                      <TableCell align=\"center\">{user.email}</TableCell>\r\n                      <TableCell align=\"center\">{user.profile}</TableCell>\r\n                      <TableCell align=\"center\">{user.startWork}</TableCell>\r\n                      <TableCell align=\"center\">{user.endWork}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleEditUser(user)}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            setConfirmModalOpen(true);\r\n                            setDeletingUser(user);\r\n                          }}\r\n                        >\r\n                          <DeleteOutlineIcon />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  {loadingMore && (\r\n                    <TableRow>\r\n                      <TableCell colSpan={9} align=\"center\">\r\n                        <CircularProgress />\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  )}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n            {loading && !loadingMore && (\r\n              <div className={classes.loadingContainer}>\r\n                <CircularProgress />\r\n                <span className={classes.loadingText}>{i18n.t(\"loading\")}</span>\r\n              </div>\r\n            )}\r\n          </Paper>\r\n        </>\r\n      )}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Users;\r\n","import React, { useEffect, useState, useContext } from 'react';\r\nimport { Dialog, DialogTitle, DialogActions, Button, Box, } from '@material-ui/core';\r\nimport { i18n } from '../../translate/i18n';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport api from \"../../services/api\";\r\nimport { Can } from \"../Can\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport * as XLSX from \"xlsx\";\r\nimport { useHistory } from 'react-router-dom/cjs/react-router-dom.min';\r\nimport toastError from '../../errors/toastError';\r\nconst useStyles = makeStyles((theme) => ({\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    // \"& > *:not(:last-child)\": {\r\n    //   marginRight: theme.spacing(1),\r\n    // },\r\n    marginTop: 8,\r\n  },\r\n  uploadInput: {\r\n    display: \"none\",\r\n  },\r\n\r\n  btns: {\r\n\r\n    margin: 15,\r\n\r\n  },\r\n  label: {\r\n    padding: 18,\r\n    width: \"100%\",\r\n    textTransform: 'uppercase',\r\n    display: 'block',\r\n    marginTop: 10,\r\n    border: \"solid 2px grey\",\r\n    textAlign: 'center',\r\n    cursor: 'pointer',\r\n    borderRadius: 8\r\n\r\n  },\r\n\r\n}));\r\n\r\nconst ContactImportWpModal = ({ isOpen, handleClose, selectedTags, hideNum, userProfile }) => {\r\n  const classes = useStyles();\r\n  const { user } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const initialContact = { name: \"\", number: \"\", error: \"\" }\r\n\r\n  const [contactsToImport, setContactsToImport] = useState([])\r\n  const [statusMessage, setStatusMessage] = useState(\"\")\r\n  const [currentContact, setCurrentContact] = useState(initialContact)\r\n\r\n  const handleClosed = () => {\r\n    setContactsToImport([])\r\n    setStatusMessage(\"\")\r\n    setCurrentContact(initialContact)\r\n    handleClose()\r\n  }\r\n\r\n  useEffect(() => {\r\n    if (contactsToImport?.length) {\r\n      contactsToImport.map(async (item, index) => {\r\n        setTimeout(async () => {\r\n          try {\r\n            if (index >= contactsToImport?.length - 1) {\r\n              setStatusMessage(`importação concluída com exito a importação`)\r\n              //setContactsToImport([])\r\n              setCurrentContact(initialContact)\r\n\r\n              setTimeout(() => {\r\n                handleClosed()\r\n              }, 15000);\r\n            }\r\n            if (index % 5 === 0) {\r\n\r\n              setStatusMessage(`importação em andamento ${index} de ${contactsToImport?.length} não saia desta tela até concluir a importação`)\r\n              // toast.info(\r\n              // );\r\n            }\r\n            await api.post(`/contactsImport`, {\r\n              name: item.name,\r\n              number: item.number.toString(),\r\n              email: item.email,\r\n            });\r\n\r\n            setCurrentContact({ name: item.name, number: item.number, error: \"success\" })\r\n          } catch (err) {\r\n            setCurrentContact({ name: item.name, number: item.number, error: err })\r\n          }\r\n        }, 330 * index);\r\n      });\r\n    }\r\n  }, [contactsToImport]);\r\n\r\n  const handleOnExportContacts = async (model = false) => {\r\n    const allDatas = []; //const { data } = await api.get(\"/contacts\");\r\n\r\n    let i = 1;\r\n    if (!model) {\r\n      while (i !== 0) {\r\n        const { data } = await api.get(\"/contacts/\", {\r\n          params: { searchParam: \"\", pageNumber: i, contactTag: JSON.stringify(selectedTags) },\r\n        });\r\n        data.contacts.forEach((element) => {\r\n          const tagsContact = element?.tags?.map(tag => tag?.name).join(', '); // Concatenando as tags com vírgula\r\n          const contactWithTags = { ...element, tags: tagsContact }; // Substituindo as tags pelo valor concatenado\r\n          allDatas.push(contactWithTags);\r\n        });\r\n\r\n        const pages = data?.count / 20;\r\n        i++;\r\n        if (i > pages) {\r\n          i = 0;\r\n        }\r\n      }\r\n    } else {\r\n      allDatas.push({\r\n        name: \"João\",\r\n        number: \"5599999999999\",\r\n        email: \"\",\r\n      });\r\n    }\r\n\r\n    const exportData = allDatas.map((e) => {\r\n      return { name: e.name, number: (hideNum && userProfile === \"user\" ? e.isGroup ? e.number : e.number.slice(0, -6) + \"**-**\" + e.number.slice(-2) : e.number), email: e.email, tags: e.tags };\r\n    });\r\n    let wb = XLSX.utils.book_new();\r\n    let ws = XLSX.utils.json_to_sheet(exportData);\r\n    XLSX.utils.book_append_sheet(wb, ws, \"Contatos\");\r\n    XLSX.writeFile(wb, \"backup_contatos.xlsx\");\r\n  };\r\n\r\n  const handleImportChange = (e) => {\r\n    const [file] = e.target.files;\r\n    const reader = new FileReader();\r\n\r\n    reader.onload = (evt) => {\r\n      try {\r\n        const bstr = evt.target.result;\r\n        const wb = XLSX.read(bstr, { type: \"binary\" });\r\n        const wsname = wb.SheetNames[0];\r\n        const ws = wb.Sheets[wsname];\r\n        const data = XLSX.utils.sheet_to_json(ws);\r\n        setContactsToImport(data)\r\n      } catch (err) {\r\n        console.log(err);\r\n        setContactsToImport([]);\r\n      }\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  };\r\n  const handleimportContact = async () => {\r\n    try {\r\n      history.push('/contacts/import');\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Dialog fullWidth open={isOpen} onClose={handleClosed}>\r\n      <DialogTitle>{i18n.t(\"Exportar / Importar contatos\")}</DialogTitle>\r\n      <div>\r\n        <Box style={{ padding: \"0px 10px 10px\" }} >\r\n          <Can\r\n            role={user.profile}\r\n            perform=\"contacts-page:deleteContact\"\r\n            yes={() => (\r\n              <div className={classes.multFieldLine}>\r\n                <Button\r\n                  fullWidth\r\n                  size=\"small\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  onClick={() => handleOnExportContacts(false)}\r\n                >\r\n                  {i18n.t(\"contactImportWpModal.title\")}\r\n                </Button>\r\n              </div>\r\n            )}\r\n          />\r\n          <div className={classes.multFieldLine}>\r\n            <Button\r\n              fullWidth\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={() => handleOnExportContacts(true)}\r\n            >\r\n              {i18n.t(\"contactImportWpModal.buttons.downloadModel\")}\r\n            </Button>\r\n          </div>\r\n          <div className={classes.multFieldLine}>\r\n            <Button\r\n              fullWidth\r\n              size=\"small\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={() => handleimportContact()}\r\n            >\r\n              {i18n.t(\"contactImportWpModal.buttons.import\")}\r\n            </Button>\r\n          </div>\r\n          {/* <div className={classes.multFieldLine}>\r\n            <div style={{ minWidth: \"100%\" }}>\r\n              {contactsToImport?.length ?\r\n                <>\r\n                  <div className={classes.label}>\r\n                    <h4>{statusMessage}</h4>\r\n                    {currentContact?.name ?\r\n                      <Button\r\n                        fullWidth\r\n                        disabled\r\n                        size=\"small\"\r\n                        color={currentContact?.error === \"success\" ? \"primary\" : \"error\"}\r\n                        variant=\"text\"\r\n                      >\r\n                        {`${currentContact?.name} => ${currentContact?.number} `}\r\n                      </Button>\r\n                      : <></>}\r\n                  </div>\r\n                </> :\r\n                <>\r\n                  <label className={classes.label} htmlFor=\"contacts\"> <AttachFileIcon /> <div> {i18n.t(\"contactImportWpModal.buttons.import\")}</div> </label>\r\n                  <input className={classes.uploadInput} name='contacts' id='contacts' type=\"file\" accept=\"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet\"\r\n                    onChange={handleImportChange}\r\n                  />\r\n                </>\r\n              }\r\n            </div>\r\n          </div> */}\r\n        </Box>\r\n      </div>\r\n\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          {i18n.t(\"contactImportWpModal.buttons.closed\")}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n};\r\n\r\nexport default ContactImportWpModal;\r\n","import React, {\r\n  useContext,\r\n  useEffect,\r\n  useReducer,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Avatar from \"@material-ui/core/Avatar\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport BlockIcon from \"@material-ui/icons/Block\";\r\nimport CancelIcon from \"@material-ui/icons/Cancel\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport ContactModal from \"../../components/ContactModal\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport api from \"../../services/api\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport PopupState, { bindMenu, bindTrigger } from \"material-ui-popup-state\";\r\nimport { v4 as uuidv4 } from \"uuid\";\r\nimport { Can } from \"../../components/Can\";\r\nimport NewTicketModal from \"../../components/NewTicketModal\";\r\nimport { TagsFilter } from \"../../components/TagsFilter\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport formatSerializedId from \"../../utils/formatSerializedId\";\r\n\r\nimport { Menu, MenuItem } from \"@material-ui/core\";\r\nimport { ArrowDropDown, Backup, ContactPhone } from \"@material-ui/icons\";\r\n\r\nimport ContactImportWpModal from \"../../components/ContactImportWpModal\";\r\nimport { TicketsContext } from \"../../context/Tickets/TicketsContext\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTS\") {\r\n    const contacts = action.payload;\r\n    const newContacts = [];\r\n\r\n    contacts.forEach((contact) => {\r\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n      if (contactIndex !== -1) {\r\n        state[contactIndex] = contact;\r\n      } else {\r\n        newContacts.push(contact);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContacts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTS\") {\r\n    const contact = action.payload;\r\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n\r\n    if (contactIndex !== -1) {\r\n      state[contactIndex] = contact;\r\n      return [...state];\r\n    } else {\r\n      return [contact, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACT\") {\r\n    const contactId = action.payload;\r\n\r\n    const contactIndex = state.findIndex((c) => c.id === contactId);\r\n    if (contactIndex !== -1) {\r\n      state.splice(contactIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Contacts = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contacts, dispatch] = useReducer(reducer, []);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n\r\n  const [importContactModalOpen, setImportContactModalOpen] = useState(false);\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n  const [ImportContacts, setImportContacts] = useState(null);\r\n  const [blockingContact, setBlockingContact] = useState(null);\r\n  const [unBlockingContact, setUnBlockingContact] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [exportContact, setExportContact] = useState(false);\r\n  const [confirmChatsOpen, setConfirmChatsOpen] = useState(false);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n  const [contactTicket, setContactTicket] = useState({});\r\n  const fileUploadRef = useRef(null);\r\n  const [selectedTags, setSelectedTags] = useState([]);\r\n  const { setCurrentTicket } = useContext(TicketsContext);\r\n  const [deletingAllContact, setDeletingAllContact] = useState(null);\r\n\r\n  const { getAll: getAllSettings } = useCompanySettings();\r\n  const [hideNum, setHideNum] = useState(false);\r\n  const [enableLGPD, setEnableLGPD] = useState(false);\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const settingList = await getAllSettings(user.companyId);\r\n\r\n      for (const [key, value] of Object.entries(settingList)) {\r\n        if (key === \"enableLGPD\") setEnableLGPD(value === \"enabled\");\r\n        if (key === \"lgpdHideNumber\") setHideNum(value === \"enabled\");\r\n      }\r\n\r\n      // if (settingHideNumber.lgpdHideNumber === \"enabled\") {\r\n      //     setHideNum(true);\r\n      // }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleImportExcel = async () => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", fileUploadRef.current.files[0]);\r\n      await api.request({\r\n        url: `/contacts/upload`,\r\n        method: \"POST\",\r\n        data: formData,\r\n      });\r\n      history.go(0);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam, selectedTags]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/contacts/\", {\r\n            params: {\r\n              searchParam,\r\n              pageNumber,\r\n              contactTag: JSON.stringify(selectedTags),\r\n            },\r\n          });\r\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber, selectedTags]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    //    const socket = socketManager.GetSocket();\r\n\r\n    const onContactEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\r\n      }\r\n    };\r\n    socket.on(`company-${companyId}-contact`, onContactEvent);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-contact`, onContactEvent);\r\n    };\r\n  }, [socket]);\r\n\r\n  const handleSelectTicket = (ticket) => {\r\n    const code = uuidv4();\r\n    const { id, uuid } = ticket;\r\n    setCurrentTicket({ id, uuid, code });\r\n  };\r\n\r\n  const handleCloseOrOpenTicket = (ticket) => {\r\n    setNewTicketModalOpen(false);\r\n    if (ticket !== undefined && ticket.uuid !== undefined) {\r\n      handleSelectTicket(ticket);\r\n      history.push(`/tickets/${ticket.uuid}`);\r\n    }\r\n  };\r\n\r\n  const handleSelectedTags = (selecteds) => {\r\n    const tags = selecteds.map((t) => t.id);\r\n    setSelectedTags(tags);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleOpenContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const hadleEditContact = (contactId) => {\r\n    setSelectedContactId(contactId);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteContact = async (contactId) => {\r\n    try {\r\n      await api.delete(`/contacts/${contactId}`);\r\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContact(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const handleBlockContact = async (contactId) => {\r\n    try {\r\n      await api.put(`/contacts/block/${contactId}`, { active: false });\r\n      toast.success(\"Contato bloqueado\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContact(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n    setBlockingContact(null);\r\n  };\r\n\r\n  const handleUnBlockContact = async (contactId) => {\r\n    try {\r\n      await api.put(`/contacts/block/${contactId}`, { active: true });\r\n      toast.success(\"Contato desbloqueado\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContact(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n    setUnBlockingContact(null);\r\n  };\r\n\r\n  const handleimportContact = async () => {\r\n    try {\r\n      await api.post(\"/contacts/import\");\r\n      history.go(0);\r\n      setImportContacts(false);\r\n    } catch (err) {\r\n      console.log(\"oi errou: \", err);\r\n\r\n      toastError(err);\r\n      setImportContacts(false);\r\n    }\r\n  };\r\n\r\n  const handleimportChats = async () => {\r\n    try {\r\n      await api.post(\"/contacts/import/chats\");\r\n      history.go(0);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleDeleteAllContact = async () => {\r\n    try {\r\n      await api.delete(\"/contacts/list/DeleteAll\");\r\n      history.go(0);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  // function getDateLastMessage(contact) {\r\n  //     if (!contact) return null;\r\n  //     if (!contact.tickets) return null;\r\n\r\n  //     if (contact.tickets.length > 0) {\r\n  //         const date = new Date(contact.tickets[contact.tickets.length - 1].updatedAt);\r\n\r\n  //         const day = date.getDate() > 9 ? date.getDate() : `0${date.getDate()}`;\r\n  //         const month = date.getMonth() + 1 > 9 ? date.getMonth() + 1 : `0${date.getMonth() + 1}`;\r\n  //         const year = date.getFullYear();\r\n  //         const hours = date.getHours() > 9 ? date.getHours() : `0${date.getHours()}`;\r\n  //         const minutes = date.getMinutes() > 9 ? date.getMinutes() : `0${date.getMinutes()}`;\r\n\r\n  //         return `${day}/${month}/${year} ${hours}:${minutes}`;\r\n  //     }\r\n\r\n  //     return null;\r\n  // }\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <NewTicketModal\r\n        modalOpen={newTicketModalOpen}\r\n        initialContact={contactTicket}\r\n        onClose={(ticket) => {\r\n          handleCloseOrOpenTicket(ticket);\r\n        }}\r\n      />\r\n      <ContactModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactId={selectedContactId}\r\n      ></ContactModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\r\n                deletingContact.name\r\n              }?`\r\n            : blockingContact\r\n            ? `Bloquear Contato ${blockingContact.name}?`\r\n            : unBlockingContact\r\n            ? `Desbloquear Contato ${unBlockingContact.name}?`\r\n            : ImportContacts\r\n            ? `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\r\n            : deletingAllContact\r\n            ? `${i18n.t(\"contacts.confirmationModal.deleteAllTitle\")}`\r\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmOpen}\r\n        onClose={setConfirmOpen}\r\n        onConfirm={(e) =>\r\n          deletingContact\r\n            ? handleDeleteContact(deletingContact.id)\r\n            : blockingContact\r\n            ? handleBlockContact(blockingContact.id)\r\n            : unBlockingContact\r\n            ? handleUnBlockContact(unBlockingContact.id)\r\n            : ImportContacts\r\n            ? handleimportContact()\r\n            : deletingAllContact\r\n            ? handleDeleteAllContact()\r\n            : handleImportExcel()\r\n        }\r\n      >\r\n        {exportContact\r\n          ? `${i18n.t(\"contacts.confirmationModal.exportContact\")}`\r\n          : deletingContact\r\n          ? `${i18n.t(\"contacts.confirmationModal.deleteMessage\")}`\r\n          : blockingContact\r\n          ? `${i18n.t(\"contacts.confirmationModal.blockContact\")}`\r\n          : unBlockingContact\r\n          ? `${i18n.t(\"contacts.confirmationModal.unblockContact\")}`\r\n          : ImportContacts\r\n          ? `${i18n.t(\"contacts.confirmationModal.importMessage\")}`\r\n          : `${i18n.t(\"contactListItems.confirmationModal.importMessage\")}`}\r\n      </ConfirmationModal>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"contacts.confirmationModal.importChat\")}\r\n        open={confirmChatsOpen}\r\n        onClose={setConfirmChatsOpen}\r\n        onConfirm={(e) => handleimportChats()}\r\n      >\r\n        {i18n.t(\"contacts.confirmationModal.wantImport\")}\r\n      </ConfirmationModal>\r\n      <MainHeader>\r\n        <Title>\r\n          {i18n.t(\"contacts.title\")} ({contacts.length})\r\n        </Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TagsFilter onFiltered={handleSelectedTags} />\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon color=\"secondary\" />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\r\n            {(popupState) => (\r\n              <React.Fragment>\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  {...bindTrigger(popupState)}\r\n                  style={{ borderRadius: \"22px\" }}\r\n                >\r\n                  Importar / Exportar\r\n                  <ArrowDropDown />\r\n                </Button>\r\n                <Menu {...bindMenu(popupState)}>\r\n                  <MenuItem\r\n                    onClick={() => {\r\n                      setConfirmOpen(true);\r\n                      setImportContacts(true);\r\n                      popupState.close();\r\n                    }}\r\n                  >\r\n                    <ContactPhone\r\n                      fontSize=\"small\"\r\n                      color=\"primary\"\r\n                      style={{\r\n                        marginRight: 10,\r\n                      }}\r\n                    />\r\n                    {i18n.t(\"contacts.menu.importYourPhone\")}\r\n                  </MenuItem>\r\n                  <MenuItem\r\n                    onClick={() => {\r\n                      setImportContactModalOpen(true);\r\n                    }}\r\n                  >\r\n                    <Backup\r\n                      fontSize=\"small\"\r\n                      color=\"primary\"\r\n                      style={{\r\n                        marginRight: 10,\r\n                      }}\r\n                    />\r\n                    {i18n.t(\"contacts.menu.importToExcel\")}\r\n                  </MenuItem>\r\n                  {/* {<MenuItem>\r\n                        \r\n                                       <CSVLink\r\n                                            className={classes.csvbtn}\r\n                                            separator=\";\"\r\n                                            filename={'contacts.csv'}\r\n                                            data={\r\n                                                contacts.map((contact) => ({\r\n                                                    number: hideNum && user.profile === \"user\" ? contact.isGroup ? contact.number : formatSerializedId(contact.number).slice(0,-6)+\"**-**\"+ contact.number.slice(-2): contact.isGroup ? contact.number : formatSerializedId(contact.number),\r\n                                                    firstName: contact.name.split(' ')[0],\r\n                                                    lastname: String(contact.name).replace(contact.name.split(' ')[0],''),\r\n                                                    tags: contact?.tags?.name\r\n                                                }))\r\n\r\n                                            }\r\n                                            \r\n                                            >\r\n                                        \r\n                                        <CloudDownload fontSize=\"small\"\r\n                                            color=\"primary\"\r\n                                            style={{\r\n                                                marginRight: 10,\r\n                                            \r\n                                                }}                                                \r\n                                        />        \r\n                                        Exportar Excel                                \r\n                                   </CSVLink>\r\n                                        \r\n                                    </MenuItem> } */}\r\n                </Menu>\r\n              </React.Fragment>\r\n            )}\r\n          </PopupState>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenContactModal}\r\n            style={{ borderRadius: \"22px\" }}\r\n          >\r\n            {i18n.t(\"contacts.buttons.add\")}\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => {\r\n              setDeletingAllContact(true);\r\n              setConfirmOpen(true);\r\n            }}\r\n            style={{ borderRadius: \"22px\" }}\r\n          >\r\n            {i18n.t(\"contacts.buttons.deleteAllContacts\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n\r\n      {importContactModalOpen && (\r\n        <ContactImportWpModal\r\n          isOpen={importContactModalOpen}\r\n          handleClose={() => setImportContactModalOpen(false)}\r\n          selectedTags={selectedTags}\r\n          hideNum={hideNum}\r\n          userProfile={user.profile}\r\n        />\r\n      )}\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <>\r\n          <input\r\n            style={{ display: \"none\" }}\r\n            id=\"upload\"\r\n            name=\"file\"\r\n            type=\"file\"\r\n            accept=\".xls,.xlsx\"\r\n            onChange={() => {\r\n              setConfirmOpen(true);\r\n            }}\r\n            ref={fileUploadRef}\r\n          />\r\n        </>\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell padding=\"checkbox\" />\r\n              <TableCell>{i18n.t(\"contacts.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contacts.table.whatsapp\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contacts.table.email\")}\r\n              </TableCell>\r\n              {/* <TableCell align=\"center\">\r\n                                {i18n.t(\"contacts.table.lastMessage\")}\r\n                            </TableCell> */}\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contacts.table.whatsapp\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">{\"Status\"}</TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contacts.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {contacts.map((contact) => (\r\n                <TableRow key={contact.id}>\r\n                  <TableCell style={{ paddingRight: 0 }}>\r\n                    {<Avatar src={`${contact?.urlPicture}`} />}\r\n                  </TableCell>\r\n                  <TableCell>{contact.name}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {enableLGPD && hideNum && user.profile === \"user\"\r\n                      ? contact.isGroup\r\n                        ? contact.number\r\n                        : formatSerializedId(contact?.number) === null\r\n                        ? contact.number.slice(0, -6) +\r\n                          \"**-**\" +\r\n                          contact?.number.slice(-2)\r\n                        : formatSerializedId(contact?.number)?.slice(0, -6) +\r\n                          \"**-**\" +\r\n                          contact?.number?.slice(-2)\r\n                      : contact.isGroup\r\n                      ? contact.number\r\n                      : formatSerializedId(contact?.number)}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{contact.email}</TableCell>\r\n                  {/* <TableCell align=\"center\">\r\n                                        {getDateLastMessage(contact)}\r\n                                    </TableCell> */}\r\n                  <TableCell>{contact?.whatsapp?.name}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {contact.active ? (\r\n                      <CheckCircleIcon\r\n                        style={{ color: \"green\" }}\r\n                        fontSize=\"small\"\r\n                      />\r\n                    ) : (\r\n                      <CancelIcon style={{ color: \"red\" }} fontSize=\"small\" />\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      disabled={!contact.active}\r\n                      onClick={() => {\r\n                        setContactTicket(contact);\r\n                        setNewTicketModalOpen(true);\r\n                        // handleSaveTicket(contact.id);\r\n                      }}\r\n                    >\r\n                      {contact.channel === \"whatsapp\" && (\r\n                        <WhatsApp style={{ color: \"green\" }} />\r\n                      )}\r\n                      {contact.channel === \"instagram\" && (\r\n                        <Instagram style={{ color: \"purple\" }} />\r\n                      )}\r\n                      {contact.channel === \"facebook\" && (\r\n                        <Facebook style={{ color: \"blue\" }} />\r\n                      )}\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => hadleEditContact(contact.id)}\r\n                    >\r\n                      <EditIcon color=\"secondary\" />\r\n                    </IconButton>\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={\r\n                        contact.active\r\n                          ? () => {\r\n                              setConfirmOpen(true);\r\n                              setBlockingContact(contact);\r\n                            }\r\n                          : () => {\r\n                              setConfirmOpen(true);\r\n                              setUnBlockingContact(contact);\r\n                            }\r\n                      }\r\n                    >\r\n                      {contact.active ? (\r\n                        <BlockIcon color=\"secondary\" />\r\n                      ) : (\r\n                        <CheckCircleIcon color=\"secondary\" />\r\n                      )}\r\n                    </IconButton>\r\n                    <Can\r\n                      role={user.profile}\r\n                      perform=\"contacts-page:deleteContact\"\r\n                      yes={() => (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            setConfirmOpen(true);\r\n                            setDeletingContact(contact);\r\n                          }}\r\n                        >\r\n                          <DeleteOutlineIcon color=\"secondary\" />\r\n                        </IconButton>\r\n                      )}\r\n                    />\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton avatar columns={6} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Contacts;\r\n","export default __webpack_public_path__ + \"static/media/upload.c42899bb.gif\";","import { useState, useEffect } from 'react';\r\n\r\nfunction getWindowDimensions() {\r\n  const { innerWidth: width, innerHeight: height } = window;\r\n  return {\r\n    width,\r\n    height\r\n  };\r\n}\r\n\r\nexport default function useWindowDimensions() {\r\n  const [windowDimensions, setWindowDimensions] = useState(getWindowDimensions());\r\n\r\n  useEffect(() => {\r\n    function handleResize() {\r\n      setWindowDimensions(getWindowDimensions());\r\n    }\r\n\r\n    window.addEventListener('resize', handleResize);\r\n    return () => window.removeEventListener('resize', handleResize);\r\n  }, []);\r\n\r\n  return windowDimensions;\r\n}\r\n","import React, { useEffect, useRef, useState } from \"react\";\r\nimport { useDropzone } from \"react-dropzone\";\r\nimport makeStyles from \"@material-ui/core/styles/makeStyles\";\r\nimport { read, utils } from \"xlsx\";\r\nimport {\r\n  Button,\r\n  FormControlLabel,\r\n  FormGroup,\r\n  MenuItem,\r\n  Select,\r\n  Switch,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n} from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport upload from \"../../assets/upload.gif\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport useWindowDimensions from \"../../hooks/useWindowDimensions\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nfunction WorksheetToDatagrid(ws) {\r\n  /* create an array of arrays */\r\n  const rows = utils.sheet_to_json(ws, { header: 1, defval: \"\" });\r\n\r\n  /* create column array */\r\n  const range = utils.decode_range(ws[\"!ref\"] || \"A1\");\r\n  const columns = Array.from({ length: range.e.c + 1 }, (_, i) => ({\r\n    key: String(i), // RDG will access row[\"0\"], row[\"1\"], etc\r\n    name: utils.encode_col(i), // the column labels will be A, B, etc\r\n    //editor: textEditor // enable cell editing\r\n  }));\r\n\r\n  return { rows, columns }; // these can be fed to setRows / setColumns\r\n}\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  xlsTable: {\r\n    width: \"100%\",\r\n  },\r\n  tableContainer: {\r\n    flex: 1,\r\n    padding: 1,\r\n    overflowX: \"auto\",\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  actions: {\r\n    padding: 2,\r\n    border: \"1px solid #CCC\",\r\n    boxShadow: \"1px 1px 5px #CCC\",\r\n    marginTop: 2,\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n  },\r\n  importOptions: {\r\n    padding: 2,\r\n    border: \"1px solid #CCC\",\r\n    boxShadow: \"1px 1px 5px #CCC\",\r\n    marginTop: 2,\r\n    marginBottom: 2,\r\n  },\r\n  error: {\r\n    color: \"red\",\r\n    marginTop: 1,\r\n  },\r\n  buttonImport: {\r\n    marginRight: 1,\r\n  },\r\n  select: {\r\n    minWidth: 200,\r\n  },\r\n  backButtonContainer: {\r\n    textAlign: \"center\",\r\n    marginTop: 20,\r\n  },\r\n}));\r\n\r\nconst ContactImport = () => {\r\n  const size = useWindowDimensions();\r\n\r\n  const [rows, setRows] = useState(null);\r\n  const [columns, setColumns] = useState(null);\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const [contactFieldsAvailable, setContactFieldsAvailable] = useState([]);\r\n  const [columnValue, setColumnValue] = useState({});\r\n  const [selectedFields, setSelectedFields] = useState({}); // Para rastrear seleções únicas\r\n\r\n  const [openingFile, setOpeningFile] = useState(false);\r\n  const [selection, setSelection] = useState({});\r\n  const [invalidFile, setInvalidFile] = useState(false);\r\n  const [error, setError] = useState(null);\r\n  const [countCreated, setCountCreated] = useState(0);\r\n  const [countIgnored, setCountIgnored] = useState(0);\r\n  const [uploading, setUploading] = useState(false);\r\n  const [imported, setImported] = useState(false);\r\n  const [selectedRows, setSelectedRows] = useState({});\r\n  const [validateContact, setValidateContact] = useState(false);\r\n  const contactFields = [\r\n    { id: \"name\", label: \"Nome\", required: true },\r\n    { id: \"number\", label: \"Número\", required: true },\r\n    { id: \"email\", label: \"E-mail\", required: false },\r\n    { id: \"tags\", label: \"Tags\", required: false },\r\n  ];\r\n\r\n  useEffect(() => {\r\n    setContactFieldsAvailable(contactFields);\r\n  }, []);\r\n\r\n  const processImport = async () => {\r\n    setUploading(true);\r\n\r\n    if (!selection.number) {\r\n      toastError(\"Não foi selecionado o campo de número do contato\");\r\n      setUploading(false);\r\n      return;\r\n    }\r\n\r\n    if (!selection.name) {\r\n      toastError(\"Não foi selecionado o campo de nome do contato\");\r\n      setUploading(false);\r\n      return;\r\n    }\r\n\r\n    if (Object.keys(selectedRows).length === 0) {\r\n      toastError(\"Nenhum contato selecionado\");\r\n      setUploading(false);\r\n      return;\r\n    }\r\n\r\n    if (rows?.length > 1) {\r\n      for (let index = 1; index < rows.length; index++) {\r\n        if (selectedRows[index]) { // Importar apenas as linhas selecionadas\r\n          const item = rows[index];\r\n          const contactData = {};\r\n\r\n          for (let columnIndex = 0; columnIndex < columns.length; columnIndex++) {\r\n            const column = columns[columnIndex];\r\n            const selectedField = columnValue[column.key];\r\n\r\n            if (selectedField) {\r\n              contactData[selectedField] = item[columnIndex];\r\n            }\r\n          }\r\n          // Verificar se os campos obrigatórios estão presentes\r\n          const missingRequiredFields = contactFields.some(field => field.required && !contactData[field.id]);\r\n\r\n          if (missingRequiredFields) {\r\n            setCountIgnored(prevCount => prevCount + 1);\r\n            continue;\r\n          }\r\n\r\n          try {\r\n            const data = await api.post('/contactsImport', {\r\n              ...contactData,\r\n              validateContact: validateContact ? \"true\" : \"false\",\r\n            });\r\n\r\n            if (data.status === 200) {\r\n              setCountCreated(prevCount => prevCount + 1);\r\n            } else {\r\n              setCountIgnored(prevCount => prevCount + 1);\r\n            }\r\n          } catch (error) {\r\n            setCountIgnored(prevCount => prevCount + 1);\r\n          }\r\n        }\r\n      }\r\n      setValidateContact(false);\r\n      setSelectedRows({});\r\n      setImported(true);\r\n      setUploading(false);\r\n      \r\n      if (countIgnored === 0) {\r\n        toast.success(\"Importação realizada com sucesso\");\r\n      } else {\r\n        toast.alert(\"Importação realizada com sucesso, mas houveram alguns erros\");\r\n      }\r\n    }\r\n  };\r\n\r\n  const onChangeFile = (acceptedFiles) => {\r\n    if (acceptedFiles.length === 0) return;\r\n    setOpeningFile(true);\r\n    setInvalidFile(false);\r\n    setImported(false);\r\n    setUploading(false);\r\n    const file = acceptedFiles[0];\r\n    const reader = new FileReader();\r\n    reader.onload = function (e) {\r\n      try {\r\n        const data = e.target.result;\r\n        const wb = read(data);\r\n        const ws = wb.Sheets[wb.SheetNames[0]];\r\n        const { rows, columns } = WorksheetToDatagrid(ws);\r\n        setRows(rows);\r\n        setColumns(columns);\r\n        setOpeningFile(false);\r\n      } catch (e) {\r\n        console.error(e);\r\n        setInvalidFile(true);\r\n        setOpeningFile(false);\r\n      }\r\n    };\r\n    reader.readAsArrayBuffer(file);\r\n  };\r\n\r\n  const handleSelectChange = (event) => {\r\n    const newValue = event.target.value;\r\n    const columnKey = event.target.name;\r\n  \r\n    // Remover antiga seleção\r\n    if (columnValue[columnKey]) {\r\n      const oldValue = columnValue[columnKey];\r\n      setSelectedFields((prevSelectedFields) => {\r\n        const newSelectedFields = { ...prevSelectedFields };\r\n        delete newSelectedFields[oldValue];\r\n        return newSelectedFields;\r\n      });\r\n    }\r\n  \r\n    // Se o novo valor for vazio, limpar a seleção\r\n    if (newValue === \"\") {\r\n      setColumnValue((prevColumnValue) => {\r\n        const newColumnValue = { ...prevColumnValue };\r\n        delete newColumnValue[columnKey];\r\n        return newColumnValue;\r\n      });\r\n      setSelection((prevSelection) => {\r\n        const newSelection = { ...prevSelection };\r\n        Object.keys(newSelection).forEach((key) => {\r\n          if (newSelection[key] === columnKey) {\r\n            delete newSelection[key];\r\n          }\r\n        });\r\n        return newSelection;\r\n      });\r\n      return;\r\n    }\r\n  \r\n    // Verificar se o novo valor já foi selecionado\r\n    if (selectedFields[newValue]) {\r\n      toastError(`O campo ${newValue} já foi selecionado.`);\r\n      return;\r\n    }\r\n  \r\n    // Atualizar seleção\r\n    setSelection((selection) => ({ ...selection, [newValue]: columnKey }));\r\n    setSelectedFields((prevSelectedFields) => ({ ...prevSelectedFields, [newValue]: columnKey }));\r\n    setColumnValue((columnValue) => ({ ...columnValue, [columnKey]: newValue }));\r\n  };\r\n  \r\n\r\n  const renderSelectbox = (column) => {\r\n    return (\r\n      <Select value={columnValue[column.key]} name={column.key} onChange={handleSelectChange}>\r\n        <MenuItem value=\"\">&nbsp;</MenuItem>\r\n        {contactFieldsAvailable.map((contactField) => (\r\n          <MenuItem value={contactField.id}>{contactField.label}</MenuItem>\r\n        ))}\r\n      </Select>\r\n    );\r\n  };\r\n\r\n  const renderXls = () => {\r\n    return (\r\n      <TableContainer className={classes.tableContainer} style={{ height: size.height * 0.75 }}>\r\n        <Table stickyHeader>\r\n          <TableHead key={columns.length}>\r\n            <TableRow>\r\n              <TableCell>\r\n                <input\r\n                  type=\"checkbox\"\r\n                  checked={Object.keys(selectedRows).length === rows.length - 1} // Se todas as linhas, exceto a primeira, estiverem marcadas\r\n                  onChange={(event) => {\r\n                    const isChecked = event.target.checked;\r\n                    const newSelectedRows = {};\r\n                    if (isChecked) {\r\n                      // Marcar todas as linhas, exceto a primeira\r\n                      for (let i = 1; i < rows.length; i++) {\r\n                        newSelectedRows[i] = true;\r\n                      }\r\n                    }\r\n                    setSelectedRows(newSelectedRows);\r\n                  }}\r\n                />\r\n              </TableCell>\r\n              {columns.map((column) => (\r\n                <TableCell key={column.key}>{column.name}</TableCell>\r\n              ))}\r\n            </TableRow>\r\n            <TableRow>\r\n              <TableCell></TableCell>\r\n              {columns.map((column) => (\r\n                <TableCell key={column.key}>{renderSelectbox(column)}</TableCell>\r\n              ))}\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {rows.map((row, rowIndex) => (\r\n              <TableRow key={rowIndex}>\r\n                {rowIndex !== 0 && (\r\n                  <TableCell>\r\n                    <input\r\n                      type=\"checkbox\"\r\n                      checked={!!selectedRows[rowIndex]}\r\n                      onChange={() => {\r\n                        setSelectedRows((prevSelectedRows) => ({\r\n                          ...prevSelectedRows,\r\n                          [rowIndex]: !prevSelectedRows[rowIndex],\r\n                        }));\r\n                      }}\r\n                    />\r\n                  </TableCell>\r\n                )}\r\n                {rowIndex !== 0 && (\r\n                  row.map((column, columnIndex) => (\r\n                    <TableCell key={columnIndex}>{column}</TableCell>\r\n                  ))\r\n                )}\r\n              </TableRow>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </TableContainer>\r\n    );\r\n  };\r\n\r\n\r\n  const handleCloseImport = async () => {\r\n    try {\r\n      history.push(\"/contacts\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const renderContent = () => {\r\n    return (\r\n      <div>\r\n        <div className={classes.importOptions}>\r\n          <FormGroup row style={{ width: '100%', display: 'flex', justifyContent: 'space-around' }}>\r\n            <FormControlLabel\r\n              control={\r\n                <Switch checked={validateContact} onChange={(event) => setValidateContact(event.target.checked)} color=\"primary\" />\r\n              }\r\n              label=\"Validar contatos no WhatsApp\"\r\n            />\r\n          </FormGroup>\r\n        </div>\r\n        {renderXls()}\r\n        <div className={classes.actions}>\r\n          {uploading && <div>Importando... Aguarde</div>}\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            disabled={uploading}\r\n            className={classes.buttonImport}\r\n            onClick={() => processImport()}\r\n          >\r\n            Importar contatos\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"secondary\"\r\n            disabled={uploading}\r\n            onClick={() => {\r\n              setRows(null);\r\n              setColumns(null);\r\n            }}\r\n          >\r\n            Cancelar\r\n          </Button>\r\n          {error && <div className={classes.error}>{error}</div>}\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const { getRootProps, getInputProps } = useDropzone({\r\n    onDrop: onChangeFile,\r\n    maxFiles: 1,\r\n  });\r\n\r\n  return (\r\n    <div style={{ alignContent: \"center\" }}>\r\n      {imported && (\r\n        <div>\r\n          <ul>\r\n            <li>{countCreated} contatos criados</li>\r\n            <li>{countIgnored} contatos ignorados (número inválido ou não marcados para atualizar)</li>\r\n          </ul>\r\n        </div>\r\n      )}\r\n      {openingFile && <div>Processando arquivo...</div>}\r\n      {invalidFile && <div>Arquivo inválido!</div>}\r\n      {!imported && rows && columns ? renderContent() : (\r\n        <>\r\n          <div\r\n            {...getRootProps()}\r\n            className=\"uploaderDrop\"\r\n            style={{\r\n              borderRadius: 20,\r\n              maxWidth: 500,\r\n              margin: \"20px auto\",\r\n              border: \"3px dotted #ddd\",\r\n              padding: 20,\r\n              display: \"flex\",\r\n              justifyContent: \"center\",\r\n              alignItems: \"center\",\r\n              flexDirection: \"column\",\r\n            }}\r\n          >\r\n            <img src={upload} height={200} alt=\"Upload\" />\r\n            <h5>Clique ou arraste um arquivo</h5>\r\n            <p style={{ color: \"#e74c3c\", fontWeight: \"bold\", textAlign: \"center\" }}>\r\n              * Importante: Arquivos somente com extensões são aceitas: xls, xslx, csv, txt\r\n            </p>\r\n          </div>\r\n\r\n          <input {...getInputProps()} />\r\n\r\n          <div className={classes.backButtonContainer}>\r\n            <Button variant=\"contained\" color=\"secondary\" disabled={uploading} onClick={handleCloseImport}>\r\n              Voltar\r\n            </Button>\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactImport;\r\n","import { Paper } from \"@material-ui/core\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React from \"react\";\r\nimport ContactImport from \"../../components/ContactImport\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    mainPaper: {\r\n        flex: 1,\r\n        padding: 1,\r\n        borderRadius: 0,\r\n        overflowY: \"scroll\",\r\n        padding: 1,\r\n        ...theme.scrollbarStylesSoftBig\r\n    },\r\n}));\r\n\r\nconst ContactImportPage = () => {\r\n    const classes = useStyles();\r\n    return <MainContainer className={classes.mainContainer}>\r\n        <MainHeader>\r\n            <Title>Importar contatos de arquivo</Title>\r\n        </MainHeader>\r\n        <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\">\r\n            <ContactImport />\r\n        </Paper>\r\n    </MainContainer>\r\n}\r\n\r\nexport default ContactImportPage;","import React, { Fragment, useContext, useEffect, useMemo, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport {  ReportProblem, VisibilityOutlined } from \"@mui/icons-material\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { toast } from \"react-toastify\";\r\nimport { yellow } from \"@mui/material/colors\";\r\nimport { Avatar, CardHeader, Divider, List, ListItem, ListItemAvatar, ListItemText, Paper, Typography, Card, makeStyles, Container, Badge, Grid, Tooltip } from \"@material-ui/core\";\r\nimport { format, isSameDay, parseISO } from \"date-fns\";\r\nimport { grey } from \"@material-ui/core/colors\";\r\nimport { getBackendUrl } from \"../../config\";\r\n\r\nconst backendUrl = getBackendUrl();\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  main: {\r\n    display: \"flex\",\r\n    justifyContent: \"space-between\",\r\n  },\r\n  container: {\r\n    display: 'flex',\r\n    flexWrap: 'wrap',\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  cardHeader: {\r\n    width: \"380px\",\r\n    height: \"78px\",\r\n    padding: 10,\r\n    backgroundColor: \"#DCDCDC\",\r\n  },\r\n  cardHeaderPending: {\r\n    width: \"380px\",\r\n    height: \"78px\",\r\n    padding: 10,\r\n    backgroundColor: \"#C0C0C0\",\r\n  },\r\n  card: {\r\n    height: \"300px\",\r\n    width: \"380px\",\r\n    margin: \"3px\",\r\n    borderRadius: 5,\r\n    flex: 1,\r\n    maxHeight: \"100%\",\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n    borderTop: \"2px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  changeWarap: {\r\n    width: '380px',\r\n    padding: 0,\r\n    margin: 0\r\n  },\r\n  pending: {\r\n    color: yellow[600],\r\n    fontSize: '20px'\r\n  },\r\n  connectionTag: {\r\n    background: \"green\",\r\n    color: \"#FFF\",\r\n    marginRight: 1,\r\n    padding: 1,\r\n    fontWeight: 'bold',\r\n    // paddingLeft: 5,\r\n    // paddingRight: 5,\r\n    borderRadius: 3,\r\n    fontSize: \"0.6em\",\r\n    // whiteSpace: \"nowrap\"\r\n  },\r\n  lastMessageTime: {\r\n    justifySelf: \"flex-end\",\r\n    textAlign: \"right\",\r\n    position: \"relative\",\r\n    // top: -30,\r\n    marginRight: \"1px\",\r\n    color: grey[400],\r\n  },\r\n\r\n  lastMessageTimeUnread: {\r\n    justifySelf: \"flex-end\",\r\n    textAlign: \"right\",\r\n    position: \"relative\",\r\n    // top: -30,\r\n    color: \"green\",\r\n    fontWeight: \"bold\",\r\n    marginRight: \"1px\",\r\n  },\r\n  pending: {\r\n    color: yellow[600],\r\n    fontSize: '20px'\r\n  },\r\n}));\r\n\r\nconst DashboardManage = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [tickets, setTickets] = useState([]);\r\n  const [update, setUpdate] = useState(false);\r\n  const [ticketNot, setTicketNot] = useState(0);\r\n  const companyId = user.companyId;\r\n\r\n\r\n  const userQueueIds = user.queues.map((q) => q.id);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState(userQueueIds || []);\r\n\r\n \r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/usersMoments\");\r\n        setTickets(data);\r\n        setUpdate(!update);\r\n      } catch (err) {\r\n        if (err.response?.status !== 500) {\r\n          toastError(err);\r\n        } else {\r\n          toast.error(`${i18n.t(\"frontEndErrors.getUsers\")}`);\r\n        }\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n  \r\n    // const onConnect = () => {\r\n    //   socket.emit(\"joinChatBox\", `${ticketId}`);\r\n    // }\r\n    const onAppMessage = (data) => {\r\n      if (data.action === \"create\" || data.action === \"update\" || data.action === \"delete\") {\r\n        (async () => {\r\n          try {\r\n            const { data } = await api.get(\"/usersMoments\");\r\n            setTickets(data);\r\n            setUpdate(!update);\r\n          } catch (err) {\r\n            if (err.response?.status !== 500) {\r\n              toastError(err);\r\n            } else {\r\n              toast.error(`${i18n.t(\"frontEndErrors.getUsers\")}`);\r\n            }\r\n          }\r\n        })();\r\n      }\r\n    }\r\n  \r\n    // socket.on(\"connect\", onConnect);\r\n    socket.on(`company-${companyId}-ticket`, onAppMessage)\r\n    socket.on(`company-${companyId}-appMessage`, onAppMessage);\r\n  \r\n    return () => {\r\n      // socket.off(\"connect\", onConnect);\r\n      socket.off(`company-${companyId}-ticket`, onAppMessage)\r\n      socket.off(`company-${companyId}-appMessage`, onAppMessage);\r\n    };\r\n  }, [socket]);\r\n\r\n  const Moments = useMemo(() => {\r\n    // console.log(tickets)\r\n    if (tickets && tickets.length > 0) {\r\n      const ticketsByUser = tickets.reduce((userTickets, ticket) => {\r\n        const user = ticket.user;\r\n\r\n        if (user) {\r\n          const userIndex = userTickets.findIndex((group) => group.user.id === user.id);\r\n          if (userIndex === -1) {\r\n            userTickets.push({\r\n              user,\r\n              userTickets: [ticket],\r\n            });\r\n          } else {\r\n            userTickets[userIndex].userTickets.push(ticket);\r\n          }\r\n        }\r\n        return userTickets;\r\n      }, []);\r\n\r\n      return ticketsByUser.map((group, index) => (\r\n        <Grid item key={index}>\r\n          <div padding={20} className={classes.main} key={index}>\r\n            <div className={classes.changeWarap}>\r\n              <Paper elevation={3} className={classes.cardHeader}>\r\n                <CardHeader\r\n                  style={{ maxWidth: '380px', width: '100%' }}\r\n                  avatar={<Avatar alt={`${group.user.profileImage}`} src={group.user.profileImage ? `${backendUrl}/public/company${companyId}/user/${group.user.profileImage}` : null} />}\r\n                  title={(\r\n                    <span>{group?.user?.name || \"Pendentes\"} <br />\r\n                      {`Atendimentos: ${group.userTickets?.length}`}\r\n                    </span>\r\n                  )}\r\n                />\r\n              </Paper>\r\n              <Paper square elevation={1} className={classes.card}>\r\n                {group.userTickets.map((ticket) => (\r\n                  <List style={{ paddingTop: 0 }} key={ticket.id}>\r\n                    <ListItem dense button>\r\n                      <ListItemAvatar>\r\n                        <Avatar alt={`${ticket.contact.urlPicture}`} src={`${ticket.contact.urlPicture}`} />\r\n                      </ListItemAvatar>\r\n                      <ListItemText\r\n                        disableTypography\r\n                        primary={ticket?.contact?.name?.length > 30 ? ticket?.contact?.name.substring(0, 25) + '...' : ticket?.contact?.name}\r\n                        secondary={\r\n                          <Fragment>\r\n                            <div>\r\n                              <Typography\r\n                                style={{ display: 'inline' }}\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                              >\r\n                                {`${ticket.lastMessage?.length > 30 ? String(ticket.lastMessage).substring(0, 27) + '...' : ticket.lastMessage}`}\r\n                              </Typography>\r\n                            </div>\r\n                            <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name}</Badge>\r\n                            <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name.toUpperCase() || \"SEM FILA\"}</Badge>\r\n                          </Fragment>\r\n                        }\r\n                      />\r\n                      <Typography\r\n                        className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\r\n                        component=\"span\"\r\n                        variant=\"body2\"\r\n                      >\r\n                        {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\r\n                          <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\r\n                        ) : (\r\n                          <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\r\n                        )}\r\n                      </Typography>\r\n                      {(user.profile === \"admin\" || ticket.userId === user.id) && (\r\n                        <Tooltip title=\"Acessar Ticket\">\r\n                          <VisibilityOutlined\r\n                            onClick={() => history.push(`/tickets/${ticket.uuid}`)}\r\n                            fontSize=\"small\"\r\n                            style={{\r\n                              color: grey[500],\r\n                              cursor: \"pointer\",\r\n                              marginRight: 5,\r\n                              bottom: \"-15px\"\r\n                            }}\r\n                          />\r\n                        </Tooltip>\r\n                      )}\r\n                    </ListItem>\r\n                    <Divider variant=\"inset\" component=\"li\" />\r\n                  </List>\r\n                ))}\r\n              </Paper>\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n      )\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }, [update]);\r\n\r\n  const MomentsPending = useMemo(() => {\r\n    if (tickets && tickets.length > 0) {\r\n      const pendingTickets = tickets.filter((ticket) => !ticket.user);\r\n\r\n      return (\r\n        <Grid item >\r\n          <div className={classes.main}>\r\n            <div padding={2} className={classes.changeWarap}>\r\n              <Paper elevation={3} className={classes.cardHeaderPending}>\r\n                <CardHeader\r\n                  style={{ maxWidth: '380px', width: '100%' }}\r\n                  avatar={<Avatar />}\r\n                  title={(\r\n                    <span>{\"Pendentes\"}\r\n                      <ReportProblem className={classes.pending} />\r\n                      <div>\r\n                        Atendimentos: {pendingTickets?.length}\r\n                      </div>\r\n                    </span>\r\n                  )}\r\n                />\r\n              </Paper>\r\n              <Paper square elevation={1} className={classes.card}>\r\n                {pendingTickets.map((ticket) => (\r\n                  <List style={{ paddingTop: 0 }} key={ticket.id}>\r\n                    <ListItem dense button>\r\n                      <ListItemAvatar>\r\n                        <Avatar alt={`${ticket.contact.urlPicture}`} src={`${ticket.contact.urlPicture}`} />\r\n                      </ListItemAvatar>\r\n                      <ListItemText\r\n                        disableTypography\r\n                        primary={ticket?.contact?.name}\r\n                        secondary={\r\n                          <Fragment>\r\n                            <div>\r\n                              <Typography\r\n                                style={{ display: 'inline' }}\r\n                                component=\"span\"\r\n                                variant=\"body2\"\r\n                              >\r\n                                {`${ticket.lastMessage?.length > 30 ? String(ticket.lastMessage).substring(0, 27) + '...' : ticket.lastMessage}`}\r\n                              </Typography>\r\n                            </div>\r\n                            <Badge className={classes.connectionTag}>{ticket?.whatsapp?.name}</Badge>\r\n                            <Badge style={{ backgroundColor: ticket.queue?.color || \"#7c7c7c\" }} className={classes.connectionTag}>{ticket.queue?.name.toUpperCase() || \"SEM FILA\"}</Badge>\r\n                          </Fragment>\r\n                        }\r\n                      />\r\n                      <Typography\r\n                        className={Number(ticket.unreadMessages) > 0 ? classes.lastMessageTimeUnread : classes.lastMessageTime}\r\n                        component=\"span\"\r\n                        variant=\"body2\"\r\n                      >\r\n                        {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\r\n                          <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\r\n                        ) : (\r\n                          <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\r\n                        )}\r\n                      </Typography>\r\n                    </ListItem>\r\n                    <Divider variant=\"inset\" component=\"li\" />\r\n                  </List>\r\n                ))}\r\n              </Paper>\r\n            </div>\r\n          </div>\r\n        </Grid>\r\n      );\r\n    } else {\r\n      return null;\r\n    }\r\n  }, [update]);\r\n\r\n  return (\r\n    <Fragment>\r\n      <Grid container spacing={2}>\r\n        {Moments}\r\n        {MomentsPending}\r\n      </Grid>\r\n    </Fragment>\r\n  );\r\n};\r\n\r\nexport default DashboardManage;\r\n","import React, { useContext } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport MomentsUser from \"../../components/MomentsUser\";\r\n// import MomentsQueues from \"../../components/MomentsQueues\";\r\n\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport { Grid, Paper } from \"@material-ui/core\";\r\nimport Title from \"../../components/Title\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  container: {\r\n    paddingTop: theme.spacing(1),\r\n    paddingBottom: theme.spacing(1),\r\n    paddingLeft: \"5px\",\r\n    maxWidth: \"100%\",\r\n  },\r\n  mainPaper: {\r\n    display: \"flex\",\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n    alignItems: \"center\",\r\n  },\r\n  fixedHeightPaper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    height: 100,\r\n  },\r\n  chatPapper: {\r\n    display: \"flex\",\r\n    height: \"100%\",\r\n  },\r\n  contactsHeader: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    padding: \"0px 6px 6px 6px\",\r\n  },\r\n}));\r\n\r\nconst ChatMoments = () => {\r\n  const classes = useStyles();\r\n  const { user } = useContext(AuthContext);\r\n  return user.profile === \"user\" && user.allowRealTime === \"disabled\" ? (\r\n    <ForbiddenPage />\r\n  ) : (\r\n    <MainHeader>\r\n      <Grid\r\n        style={{ width: \"99.6%\" }}\r\n        container\r\n        justifyContent=\"center\"\r\n        alignItems=\"flex-start\"\r\n      >\r\n        <Grid xs={12} sm={8} xl={4} item>\r\n          <Title>{\"Painel de Atendimentos\"}</Title>\r\n        </Grid>\r\n        <Grid style={{ width: \"100%\", height: \"100vh\" }} item>\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\"\r\n            style={{ maxWidth: \"100%\" }}\r\n          >\r\n            <MomentsUser />\r\n          </Paper>\r\n        </Grid>\r\n      </Grid>\r\n    </MainHeader>\r\n  );\r\n};\r\n\r\nexport default ChatMoments;\r\n","import React, { Fragment, useContext, useEffect, useRef, useState } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport StepContent from \"@material-ui/core/StepContent\";\r\nimport api from \"../../services/api\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport { CircularProgress, Grid, IconButton, InputLabel, MenuItem, Select, Checkbox } from \"@material-ui/core\";\r\nimport { Formik, Field, FieldArray } from \"formik\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { toast } from \"react-toastify\";\r\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\r\nimport CustomToolTip from \"../ToolTips\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { FormControlLabel, FormControl } from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\n\r\nconst QueueSchema = Yup.object().shape({\r\n  options: Yup.array()\r\n    .of(\r\n      Yup.object().shape({\r\n        name: Yup.string().min(4, \"too short\").required(\"Required\"),\r\n      })\r\n    )\r\n    .required(\"Must have friends\"),\r\n});\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  greetingMessage: {\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  Box: {\r\n    cursor: \"pointer\",\r\n    alignItems: \"center\",\r\n  },\r\n  textField1: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  customHeight: {\r\n    height: '48px',\r\n  },\r\n}));\r\n\r\nfunction getStepContent(step) {\r\n  return <VerticalLinearStepper chatBotId={step} />;\r\n}\r\n\r\nexport default function VerticalLinearStepper(props) {\r\n  const initialState = {\r\n    name: \"\",\r\n    greetingMessage: \"\",\r\n    options: [],\r\n    closeTicket: false,\r\n    optQueueId: \"\"\r\n  };\r\n\r\n  const classes = useStyles();\r\n  const [activeStep, setActiveStep] = useState(-1);\r\n  const [steps, setSteps] = useState(initialState);\r\n  const [loading, setLoading] = useState(false);\r\n  const [isStepContent, setIsStepContent] = useState(true);\r\n  const [isNameEdit, setIsNamedEdit] = useState(null);\r\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [queues, setQueues] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [integrations, setIntegrations] = useState([]);\r\n  const [file, setFile] = useState([]);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(\"\");\r\n  const [selectedQueueOption, setSelectedQueueOption] = useState(\"\");\r\n\r\n  const { findAll: findAllQueues } = useQueues();\r\n  const [allQueues, setAllQueues] = useState([]);\r\n  const [userOptions, setUserOptions] = useState([]);\r\n  const isMounted = useRef(true);\r\n\r\n  const companyId = user.companyId;\r\n\r\n  const handleSaveBot = async (values) => {\r\n    try {\r\n      if (props.chatBotId) {\r\n        await api.put(`/chatbot/${props.chatBotId}`, values);\r\n      } else {\r\n        await api.post(\"/chatbot\", values);\r\n      }\r\n      toast.success(\"Bot saved successfully\");\r\n      // setActiveStep(-1)\r\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\r\n\r\n      setSteps(initialState);\r\n      setSteps(data);\r\n      setIsNamedEdit(null);\r\n      setGreetingMessageEdit(null);\r\n\r\n      setSteps(data);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      const loadQueues = async () => {\r\n        const list = await findAllQueues();\r\n        setAllQueues(list);\r\n        setQueues(list);\r\n\r\n      };\r\n      loadQueues();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/files/\", {\r\n          params: { companyId }\r\n        });\r\n\r\n        setFile(data.files);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchParam.length < 3) {\r\n      setLoading(false);\r\n      setSelectedQueueOption(\"\");\r\n      return;\r\n    }\r\n    const delayDebounceFn = setTimeout(() => {\r\n      //setLoading(true);\r\n      const fetchUsers = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/users/\");\r\n          setUserOptions(data.users);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n\r\n      fetchUsers();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queueIntegration\", {\r\n          params: { companyId }\r\n        });\r\n\r\n        setIntegrations(data.queueIntegrations);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchList = async () => {\r\n        try {\r\n          const { data } = await api.get(`/chatbot/${props.chatBotId}`);\r\n\r\n          if (data?.user)\r\n            setSelectedUser(data.user);\r\n\r\n          if (data.optQueueId !== null && data.optQueueId !== undefined)\r\n            setSelectedQueueOption(data.optQueueId)\r\n\r\n          setSteps(data);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          console.log(err);\r\n        }\r\n      };\r\n      fetchList();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [props.chatBotId]);\r\n\r\n  useEffect(() => {\r\n    if (steps.options[activeStep])\r\n      setSelectedQueueOption(steps.options[activeStep]?.optQueueId)\r\n\r\n    if (activeStep === isNameEdit) {\r\n      setIsStepContent(false);\r\n    } else {\r\n      setIsStepContent(true);\r\n    }\r\n  }, [isNameEdit, activeStep]);\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const filterOptions = createFilterOptions({\r\n    trim: true,\r\n  });\r\n\r\n  const handleDeleteQueue = async (queueId) => {\r\n    try {\r\n      await api.delete(`/chatbot/${queueId}`);\r\n      const { data } = await api.get(`/chatbot/${props.chatBotId}`);\r\n      setSteps(initialState);\r\n      setSteps(data);\r\n      setIsNamedEdit(null);\r\n      setGreetingMessageEdit(null);\r\n      setSteps(data);\r\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={\r\n          selectedQueue &&\r\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${selectedQueue.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\r\n      >\r\n        {i18n.t(\"Tem certeza? Todas as opções internas também serão excluídas\")}\r\n      </ConfirmationModal>\r\n\r\n      {!loading && (\r\n        <div>\r\n          <Formik\r\n            initialValues={steps}\r\n            validateOnChange={false}\r\n            enableReinitialize={true}\r\n            validationSchema={QueueSchema}\r\n            render={({\r\n              touched,\r\n              errors,\r\n              isSubmitting,\r\n              values,\r\n              setFieldValue,\r\n            }) => (\r\n              <FieldArray name=\"options\">\r\n                {({ push, remove }) => (\r\n                  <>\r\n                    <Stepper\r\n                      nonLinear\r\n                      activeStep={activeStep}\r\n                      orientation=\"vertical\"\r\n                    >\r\n                      {values.options &&\r\n                        values.options.length > 0 &&\r\n                        values.options.map((info, index) => (\r\n                          <Step\r\n                            key={`${info.id ? info.id : index}-options`}\r\n                            onClick={() => setActiveStep(index)}\r\n                          >\r\n                            <StepLabel key={`${info.id}-options`}>\r\n                              {isNameEdit !== index &&\r\n                                steps.options[index]?.name ? (\r\n                                <div\r\n                                  className={classes.greetingMessage}\r\n                                  variant=\"body1\"\r\n                                >\r\n                                  {values.options[index].name}\r\n\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    onClick={() => {\r\n                                      setIsNamedEdit(index);\r\n                                      setIsStepContent(false);\r\n                                    }}\r\n                                  >\r\n                                    <EditIcon />\r\n                                  </IconButton>\r\n\r\n                                  <IconButton\r\n                                    onClick={() => {\r\n                                      setSelectedQueue(info);\r\n                                      setConfirmModalOpen(true);\r\n                                    }}\r\n                                    size=\"small\"\r\n                                  >\r\n                                    <DeleteOutline />\r\n                                  </IconButton>\r\n                                </div>\r\n                              ) : (\r\n                                <Grid container spacing={2}>\r\n                                  <Grid xs={12} md={12} item>\r\n                                    <Field\r\n                                      as={TextField}\r\n                                      name={`options[${index}].name`}\r\n                                      variant=\"outlined\"\r\n                                      margin=\"dense\"\r\n                                      label={i18n.t(\"queueModal.form.greetingMessage\")}\r\n                                      color=\"primary\"\r\n                                      disabled={isSubmitting}\r\n                                      autoFocus\r\n                                      fullWidth\r\n                                      error={\r\n                                        touched?.options?.[index]?.name &&\r\n                                        Boolean(errors.options?.[index]?.name)\r\n                                      }\r\n                                    //className={classes.textField}\r\n                                    />\r\n                                  </Grid>\r\n                                  <Grid xs={12} md={8} item>\r\n                                    <FormControl\r\n                                      variant=\"outlined\"\r\n                                      margin=\"dense\"\r\n                                      className={classes.FormControl}\r\n                                      fullWidth\r\n                                    >\r\n                                      <InputLabel id=\"queueType-selection-label\">{i18n.t(\"queueModal.form.queueType\")}</InputLabel>\r\n                                      <Field\r\n                                        as={Select}\r\n                                        name={`options[${index}].queueType`}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                        labelId=\"queueType-selection-label\"\r\n                                        label={i18n.t(\"queueModal.form.queueType\")}\r\n                                        error={touched?.options?.[index]?.queueType &&\r\n                                          Boolean(errors?.options?.[index]?.queueType)}\r\n                                      // helpertext={touched?.options?.[index]?.queueType && errors?.options?.[index]?.queueType}\r\n                                      // value={`chatbots[${index}].queueType`}\r\n                                      //className={classes.textField1}\r\n                                      >\r\n                                        <MenuItem value={\"text\"}>Texto</MenuItem>\r\n                                        <MenuItem value={\"attendent\"}>Atendente</MenuItem>\r\n                                        <MenuItem value={\"queue\"}>Fila</MenuItem>\r\n                                        <MenuItem value={\"integration\"}>Integração</MenuItem>\r\n                                        <MenuItem value={\"file\"}>Arquivo</MenuItem>\r\n                                      </Field>\r\n                                    </FormControl>\r\n                                  </Grid>\r\n                                  <Grid xs={12} md={4} item>\r\n                                    <FormControlLabel\r\n                                      control={\r\n                                        <Field\r\n                                          as={Checkbox}\r\n                                          color=\"primary\"\r\n                                          name={`options[${index}].closeTicket`}\r\n                                          checked={values.options[index].closeTicket || false}\r\n                                        />\r\n                                      }\r\n                                      labelPlacement=\"top\"\r\n                                      label={i18n.t(\"queueModal.form.closeTicket\")}\r\n                                    />\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      onClick={() =>\r\n                                        values.options[index].name\r\n                                          ? handleSaveBot(values)\r\n                                          : null\r\n                                      }\r\n                                      disabled={isSubmitting}\r\n                                    >\r\n                                      <SaveIcon />\r\n                                    </IconButton>\r\n\r\n                                    <IconButton\r\n                                      size=\"small\"\r\n                                      onClick={() => remove(index)}\r\n                                      disabled={isSubmitting}\r\n                                    >\r\n                                      <DeleteOutline />\r\n                                    </IconButton>\r\n                                  </Grid>\r\n                                </Grid>\r\n                              )}\r\n                            </StepLabel>\r\n\r\n                            {isStepContent && steps.options[index] && (\r\n                              <StepContent>\r\n                                <>\r\n                                  <CustomToolTip\r\n                                    title=\"A mensagem é obrigatória para seguir ao próximo nível\"\r\n                                    content=\"Se a mensagem não estiver definida, o bot não seguirá adiante\"\r\n                                  >\r\n                                    <HelpOutlineOutlinedIcon\r\n                                      color=\"secondary\"\r\n                                      style={{ marginLeft: \"4px\" }}\r\n                                      fontSize=\"small\"\r\n                                    />\r\n                                  </CustomToolTip>\r\n                                  {isGreetingMessageEdit !== index ? (\r\n                                    <div className={classes.greetingMessage}>\r\n                                      <Typography\r\n                                        color=\"textSecondary\"\r\n                                        variant=\"body1\"\r\n                                      >\r\n                                        Message:\r\n                                      </Typography>\r\n\r\n                                      {values.options[index].greetingMessage}\r\n\r\n                                      <IconButton\r\n                                        size=\"small\"\r\n                                        onClick={() =>\r\n                                          setGreetingMessageEdit(index)\r\n                                        }\r\n                                      >\r\n                                        <EditIcon />\r\n                                      </IconButton>\r\n                                    </div>\r\n                                  ) : (\r\n                                    <Grid spacing={2} container>\r\n                                      <div\r\n                                        className={classes.greetingMessage}\r\n                                      >\r\n                                        {steps.options[index].queueType === \"text\" && (\r\n                                          <Grid xs={12} md={12} item>\r\n                                            <Field\r\n                                              as={TextField}\r\n                                              name={`options[${index}].greetingMessage`}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              color=\"primary\"\r\n                                              fullWidth\r\n                                              multiline\r\n                                              error={\r\n                                                touched.greetingMessage &&\r\n                                                Boolean(errors.greetingMessage)\r\n                                              }\r\n                                              helperText={\r\n                                                touched.greetingMessage &&\r\n                                                errors.greetingMessage\r\n                                              }\r\n                                              className={classes.textField}\r\n                                            />\r\n\r\n                                          </Grid>\r\n                                        )}\r\n                                      </div>\r\n\r\n                                      {steps.options[index].queueType === \"queue\" && (\r\n                                        <>\r\n                                          <Grid xs={12} md={12} item>\r\n                                            <Field\r\n                                              as={TextField}\r\n                                              name={`options[${index}].greetingMessage`}\r\n                                              label={i18n.t(\"queueModal.form.message\")}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              multiline\r\n                                              error={\r\n                                                touched.greetingMessage &&\r\n                                                Boolean(errors.greetingMessage)\r\n                                              }\r\n                                              helperText={\r\n                                                touched.greetingMessage &&\r\n                                                errors.greetingMessage\r\n                                              }\r\n                                              className={classes.textField}\r\n                                            />\r\n                                          </Grid>\r\n                                          <Grid xs={12} md={8} item>\r\n                                            <FormControl\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              className={classes.FormControl}\r\n                                              fullWidth\r\n                                            >\r\n                                              <InputLabel id=\"queue-selection-label\">{i18n.t(\"queueModal.form.queue\")}</InputLabel>\r\n                                              <Field\r\n                                                as={Select}\r\n                                                name={`options[${index}].optQueueId`}\r\n                                                labelId=\"queue-selection-label\"\r\n                                                label={i18n.t(\"queueModal.form.queue\")}\r\n                                                error={touched?.options?.[index]?.optQueueId &&\r\n                                                  Boolean(errors?.options?.[index]?.optQueueId)}\r\n                                                helpertext={touched?.options?.[index]?.optQueueId && errors?.options?.[index]?.optQueueId}\r\n                                                // value={`options[${index}].optQueueId`}\r\n                                                fullWidth\r\n                                                variant=\"outlined\"\r\n                                                margin=\"dense\"\r\n                                              >\r\n                                                {queues.map(queue => (\r\n                                                  <MenuItem key={queue.id} value={queue.id}>\r\n                                                    {queue.name}\r\n                                                  </MenuItem>\r\n                                                ))}\r\n                                              </Field>\r\n                                            </FormControl>\r\n                                          </Grid>\r\n                                        </>\r\n                                      )}\r\n                                      {steps.options[index].queueType === \"attendent\" && (\r\n                                        <>\r\n                                          <Grid xs={12} md={12} item>\r\n                                            <Field\r\n                                              as={TextField}\r\n                                              name={`options[${index}].greetingMessage`}\r\n                                              label={i18n.t(\"queueModal.form.message\")}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              multiline\r\n                                              error={\r\n                                                touched.greetingMessage &&\r\n                                                Boolean(errors.greetingMessage)\r\n                                              }\r\n                                              helperText={\r\n                                                touched.greetingMessage &&\r\n                                                errors.greetingMessage\r\n                                              }\r\n                                              className={classes.textField}\r\n                                            />\r\n                                          </Grid>\r\n                                          {/* SELECIONAR USUARIO */}\r\n                                          <Grid xs={12} md={4} item>\r\n                                            <Autocomplete\r\n                                              style={{ marginTop: '8px' }}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              getOptionLabel={(option) => `${option.name}`}\r\n                                              value={steps.options[index].user}\r\n                                              onChange={(e, newValue) => {\r\n                                                setSelectedUser(newValue);\r\n                                                if (newValue != null) {\r\n                                                  setFieldValue(`options[${index}].optUserId`, newValue.id);\r\n                                                } else {\r\n                                                  setFieldValue(`options[${index}].optUserId`, null);\r\n\r\n                                                }\r\n                                                if (newValue != null && Array.isArray(newValue.queues)) {\r\n                                                  if (newValue.queues.length === 1) {\r\n                                                    setSelectedQueueOption(newValue.queues[0].id);\r\n                                                    setFieldValue(`options[${index}].optQueueId`, newValue.queues[0].id);\r\n                                                  }\r\n                                                  setQueues(newValue.queues);\r\n\r\n                                                } else {\r\n                                                  setQueues(allQueues);\r\n                                                  setSelectedQueueOption(\"\");\r\n                                                }\r\n                                              }}\r\n                                              options={userOptions}\r\n                                              filterOptions={filterOptions}\r\n                                              freeSolo\r\n                                              fullWidth\r\n                                              autoHighlight\r\n                                              noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n                                              loading={loading}\r\n                                              size=\"small\"\r\n                                              renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n                                              renderInput={(params) => (\r\n                                                <TextField\r\n                                                  {...params}\r\n                                                  label={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n                                                  variant=\"outlined\"\r\n                                                  onChange={(e) => setSearchParam(e.target.value)}\r\n                                                  InputProps={{\r\n                                                    ...params.InputProps,\r\n                                                    endAdornment: (\r\n                                                      <Fragment>\r\n                                                        {loading ? (\r\n                                                          <CircularProgress color=\"inherit\" size={20} />\r\n                                                        ) : null}\r\n                                                        {params.InputProps.endAdornment}\r\n                                                      </Fragment>\r\n                                                    ),\r\n                                                  }}\r\n                                                />\r\n                                              )}\r\n                                            />\r\n                                          </Grid>\r\n                                          <Grid xs={12} md={4} item>\r\n                                            <FormControl\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              className={classes.formControl}\r\n                                            >\r\n                                              <InputLabel>\r\n                                                {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n                                              </InputLabel>\r\n                                              <Select\r\n                                                value={selectedQueueOption}\r\n                                                onChange={(e) => {\r\n                                                  setSelectedQueueOption(e.target.value)\r\n                                                  setFieldValue(`options[${index}].optQueueId`, e.target.value);\r\n                                                }}\r\n                                                label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n                                              >\r\n                                                {queues.map((queue) => (\r\n                                                  <MenuItem key={queue.id} value={queue.id}>\r\n                                                    {queue.name}\r\n                                                  </MenuItem>\r\n                                                ))}\r\n                                              </Select>\r\n                                            </FormControl>\r\n                                          </Grid>\r\n                                        </>\r\n                                      )}\r\n                                      {steps.options[index].queueType === \"integration\" && (\r\n                                        <>\r\n                                          <Grid xs={12} md={12} item>\r\n                                            <Field\r\n                                              as={TextField}\r\n                                              name={`options[${index}].greetingMessage`}\r\n                                              label={i18n.t(\"queueModal.form.message\")}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              multiline\r\n                                              error={\r\n                                                touched.greetingMessage &&\r\n                                                Boolean(errors.greetingMessage)\r\n                                              }\r\n                                              helperText={\r\n                                                touched.greetingMessage &&\r\n                                                errors.greetingMessage\r\n                                              }\r\n                                              className={classes.textField}\r\n                                            />\r\n                                          </Grid>\r\n                                          <Grid xs={12} md={8} item>\r\n                                            <FormControl\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              className={classes.formControl}\r\n                                            >\r\n                                              <InputLabel id=\"optIntegrationId-selection-label\">\r\n                                                {i18n.t(\"queueModal.form.integration\")}\r\n                                              </InputLabel>\r\n                                              <Field\r\n                                                as={Select}\r\n                                                name={`options[${index}].optIntegrationId`}\r\n                                                labelId=\"optIntegrationId-selection-label\"\r\n                                                label={i18n.t(\"queueModal.form.integration\")}\r\n                                                variant=\"outlined\"\r\n                                                margin=\"dense\"\r\n                                                fullWidth\r\n                                                error={touched?.options?.[index]?.optIntegrationId &&\r\n                                                  Boolean(errors?.options?.[index]?.optIntegrationId)}\r\n                                                helpertext={touched?.options?.[index]?.optIntegrationId && errors?.options?.[index]?.optIntegrationId}\r\n                                              // value={`options[${index}].optQueueId`}\r\n                                              >\r\n                                                {integrations.map(integration => (\r\n                                                  <MenuItem key={integration.id} value={integration.id}>\r\n                                                    {integration.name}\r\n                                                  </MenuItem>\r\n                                                ))}\r\n                                              </Field>\r\n                                            </FormControl>\r\n                                          </Grid>\r\n                                        </>\r\n                                      )}\r\n                                      {steps.options[index].queueType === \"file\" && (\r\n                                        <>\r\n                                          <Grid xs={12} md={12} item>\r\n                                            <Field\r\n                                              as={TextField}\r\n                                              name={`options[${index}].greetingMessage`}\r\n                                              label={i18n.t(\"queueModal.form.message\")}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              multiline\r\n                                              error={\r\n                                                touched.greetingMessage &&\r\n                                                Boolean(errors.greetingMessage)\r\n                                              }\r\n                                              helperText={\r\n                                                touched.greetingMessage &&\r\n                                                errors.greetingMessage\r\n                                              }\r\n                                              className={classes.textField}\r\n                                            />\r\n                                          </Grid>\r\n\r\n                                          <Grid xs={12} md={8} item>\r\n                                            <FormControl\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              className={classes.formControl}\r\n                                            >\r\n                                              <InputLabel id=\"optFileId-selection-label\">\r\n                                                {i18n.t(\"queueModal.form.file\")}\r\n                                              </InputLabel>\r\n                                              <Field\r\n                                                as={Select}\r\n                                                name={`options[${index}].optFileId`}\r\n                                                labelId=\"optFileId-selection-label\"\r\n                                                label={i18n.t(\"queueModal.form.file\")}\r\n                                                error={touched?.options?.[index]?.optFileId &&\r\n                                                  Boolean(errors?.options?.[index]?.optFileId)}\r\n                                                helpertext={touched?.options?.[index]?.optFileId && errors?.options?.[index]?.optFileId}\r\n                                                // value={`options[${index}].optQueueId`}\r\n                                                variant=\"outlined\"\r\n                                                margin=\"dense\"\r\n                                              >\r\n                                                {file.map(f => (\r\n                                                  <MenuItem key={f.id} value={f.id}>\r\n                                                    {f.name}\r\n                                                  </MenuItem>\r\n                                                ))}\r\n                                              </Field>\r\n                                            </FormControl>\r\n                                          </Grid>\r\n                                        </>\r\n                                      )}\r\n                                      <Grid xs={2} md={4} item>\r\n                                        <IconButton\r\n                                          size=\"small\"\r\n                                          onClick={() => handleSaveBot(values)}\r\n                                          disabled={isSubmitting}\r\n                                          style={{ marginTop: '8px' }}\r\n                                        >\r\n                                          {\" \"}\r\n                                          <SaveIcon />\r\n                                        </IconButton>\r\n                                      </Grid>\r\n                                    </Grid>\r\n\r\n                                  )}\r\n                                  {getStepContent(info.id)}\r\n                                </>\r\n                              </StepContent>\r\n                            )}\r\n                          </Step>\r\n                        ))}\r\n\r\n                      <Step>\r\n                        <StepLabel\r\n                          onClick={() =>\r\n                            push({\r\n                              name: undefined,\r\n                              greetingMessage: undefined,\r\n                            })\r\n                          }\r\n                        >\r\n                          {i18n.t(\"fileModal.buttons.fileOptions\")}\r\n                        </StepLabel>\r\n                      </Step>\r\n                    </Stepper>\r\n                  </>\r\n                )}\r\n              </FieldArray>\r\n            )}\r\n          />\r\n        </div>\r\n      )\r\n      }\r\n    </div >\r\n  );\r\n}\r\n","import React, { useState, useEffect, useRef, useContext, Fragment } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { FormControl, FormControlLabel, Grid, InputLabel, MenuItem, Paper, Select, Tab, Tabs } from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport SaveIcon from \"@material-ui/icons/Save\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport HelpOutlineOutlinedIcon from \"@material-ui/icons/HelpOutlineOutlined\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport Switch from \"@material-ui/core/Switch\";\r\nimport { isArray } from \"lodash\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport ColorPicker from \"../ColorPicker\";\r\nimport { IconButton, InputAdornment } from \"@material-ui/core\";\r\nimport { Colorize } from \"@material-ui/icons\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DeleteOutline from \"@material-ui/icons/DeleteOutline\";\r\nimport Stepper from \"@material-ui/core/Stepper\";\r\nimport Step from \"@material-ui/core/Step\";\r\nimport StepLabel from \"@material-ui/core/StepLabel\";\r\nimport StepContent from \"@material-ui/core/StepContent\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport Checkbox from '@mui/material/Checkbox';\r\n\r\nimport OptionsChatBot from \"../ChatBots/options\";\r\nimport CustomToolTip from \"../ToolTips\";\r\n\r\nimport SchedulesForm from \"../SchedulesForm\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport ColorBoxModal from \"../ColorBoxModal\";\r\n// import { ColorBox } from \"material-ui-color\";\r\n\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  textField1: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n  greetingMessage: {\r\n    cursor: \"pointer\",\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n  custom: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst QueueSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  color: Yup.string().min(3, \"Too Short!\").max(9, \"Too Long!\").required(),\r\n  greetingMessage: Yup.string(),\r\n  chatbots: Yup.array()\r\n    .of(\r\n      Yup.object().shape({\r\n        name: Yup.string().min(4, \"too short\").required(\"Required\"),\r\n      })\r\n    )\r\n    .required(\"Must have friends\"),\r\n});\r\n\r\nconst QueueModal = ({ open, onClose, queueId, onEdit }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    color: \"\",\r\n    greetingMessage: \"\",\r\n    chatbots: [],\r\n    outOfHoursMessage: \"\",\r\n    orderQueue: \"\",\r\n    tempoRoteador: 0,\r\n    ativarRoteador: false,\r\n    integrationId: \"\",\r\n    fileListId: \"\",\r\n    closeTicket: false\r\n  };\r\n\r\n  const [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\r\n  const [queue, setQueue] = useState(initialState);\r\n  const greetingRef = useRef();\r\n  const [activeStep, setActiveStep] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [isStepContent, setIsStepContent] = useState(true);\r\n  const [isNameEdit, setIsNamedEdit] = useState(null);\r\n  const [isGreetingMessageEdit, setGreetingMessageEdit] = useState(null);\r\n  const [queues, setQueues] = useState([]);\r\n\r\n  const [integrations, setIntegrations] = useState([]);\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n  const [tab, setTab] = useState(0);\r\n  const [file, setFile] = useState(null);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [selectedQueueOption, setSelectedQueueOption] = useState(\"\");\r\n  const { findAll: findAllQueues } = useQueues();\r\n  const [allQueues, setAllQueues] = useState([]);\r\n  const [userOptions, setUserOptions] = useState([]);\r\n  const isMounted = useRef(true);\r\n\r\n  const initialStateSchedule = [\r\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" },\r\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\" }\r\n  ];\r\n\r\n\r\n  const [schedules, setSchedules] = useState(initialStateSchedule);\r\n\r\n  const companyId = user.companyId;\r\n\r\n  const { get: getSetting } = useCompanySettings();\r\n  const [showOpenAi, setShowOpenAi] = useState(false);\r\n  const [showIntegrations, setShowIntegrations] = useState(false);\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n\r\n      setShowOpenAi(planConfigs.plan.useOpenAi);\r\n      setShowIntegrations(planConfigs.plan.useIntegrations);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n\r\n      const setting = await getSetting({\r\n        \"column\": \"scheduleType\"\r\n      });\r\n      if (setting.scheduleType === \"queue\") setSchedulesEnabled(true);\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/files/\", {\r\n          params: { companyId }\r\n        });\r\n\r\n        setFile(data.files);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!queueId) return;\r\n      try {\r\n        const { data } = await api.get(`/queue/${queueId}`);\r\n\r\n        setQueue((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n\r\n        if (isArray(data.schedules) && data.schedules.length > 0)\r\n          setSchedules(data.schedules);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      setQueue({\r\n        name: \"\",\r\n        color: \"\",\r\n        greetingMessage: \"\",\r\n        chatbots: [],\r\n        outOfHoursMessage: \"\",\r\n        orderQueue: \"\",\r\n        tempoRoteador: \"\",\r\n        ativarRoteador: false,\r\n        integrationId: \"\",\r\n        fileListId: \"\",\r\n        closeTicket: false\r\n      });\r\n    };\r\n  }, [queueId, open]);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      const loadQueues = async () => {\r\n        const list = await findAllQueues();\r\n        setAllQueues(list);\r\n        setQueues(list);\r\n\r\n      };\r\n      loadQueues();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchParam.length < 3) {\r\n      setLoading(false);\r\n      setSelectedQueueOption(\"\");\r\n      return;\r\n    }\r\n    const delayDebounceFn = setTimeout(() => {\r\n      //setLoading(true);\r\n      const fetchUsers = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/users/\");\r\n          setUserOptions(data.users);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n\r\n      fetchUsers();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queueIntegration\");\r\n\r\n        setIntegrations(data.queueIntegrations);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n\r\n    if (activeStep) {\r\n      setSelectedQueueOption(queue.chatbots[activeStep]?.optQueueId)\r\n    }\r\n\r\n    if (activeStep === isNameEdit) {\r\n      setIsStepContent(false);\r\n    } else {\r\n      setIsStepContent(true);\r\n    }\r\n  }, [isNameEdit, activeStep]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setIsNamedEdit(null);\r\n    setActiveStep(null);\r\n    setGreetingMessageEdit(null);\r\n  };\r\n\r\n  const handleSaveSchedules = async (values) => {\r\n    toast.success(\"Clique em salvar para registar as alterações\");\r\n    setSchedules(values);\r\n    setTab(0);\r\n  };\r\n\r\n  const filterOptions = createFilterOptions({\r\n    trim: true,\r\n  });\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleDeleteQueue = async (optionsId) => {\r\n    try {\r\n      await api.delete(`/chatbot/${optionsId}`);\r\n      const { data } = await api.get(`/queue/${queueId}`);\r\n      setQueue(initialState);\r\n      setQueue(data);\r\n\r\n      setIsNamedEdit(null);\r\n      setGreetingMessageEdit(null);\r\n      toast.success(`${i18n.t(\"queues.toasts.deleted\")}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSaveQueue = async (values) => {\r\n    try {\r\n      if (queueId) {\r\n        await api.put(`/queue/${queueId}`, { ...values, schedules });\r\n      } else {\r\n        await api.post(\"/queue\", { ...values, schedules });\r\n      }\r\n\r\n      toast.success(`${i18n.t(\"queues.toasts.success\")}`);\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSaveBot = async (values) => {\r\n    try {\r\n      if (queueId) {\r\n        const { data } = await api.put(`/queue/${queueId}`, values);\r\n        if (data.chatbots && data.chatbots.length) {\r\n          onEdit(data);\r\n          setQueue(data);\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/queue\", values);\r\n        if (data.chatbots && data.chatbots.length) {\r\n          setQueue(data);\r\n          onEdit(data);\r\n          handleClose();\r\n        }\r\n      }\r\n\r\n      setIsNamedEdit(null)\r\n      setGreetingMessageEdit(null)\r\n      toast.success(`${i18n.t(\"queues.toasts.success\")}`);\r\n\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  // const renderColorBox = (open, handleClose, color, handleColorChange) => {\r\n  //   return (\r\n  //     <Dialog open={open} onClose={handleClose}>\r\n\r\n  //       <DialogTitle>Escolha uma cor</DialogTitle>\r\n  //       <DialogContent>\r\n  //         <ColorBox\r\n  //           disableAlpha={true}\r\n  //           hslGradient={false}\r\n  //           style={{ margin: '20px auto 0' }}\r\n  //           value={color}\r\n  //           onChange={handleColorChange} />\r\n  //       </DialogContent>\r\n  //       <DialogActions>\r\n  //         <Button onClick={handleClose} color=\"primary\">\r\n  //           Cancelar\r\n  //         </Button>\r\n  //         <Button\r\n  //           color=\"primary\"\r\n  //           variant=\"contained\"\r\n  //           className={classes.btnWrapper}\r\n  //           onClick={handleClose} >\r\n  //           OK\r\n  //         </Button>\r\n  //       </DialogActions>\r\n  //     </Dialog>\r\n  //   )\r\n  // }\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={\r\n          selectedQueue &&\r\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${selectedQueue.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\r\n      >\r\n        {i18n.t(\"queueModal.title.confirmationDelete\")}\r\n      </ConfirmationModal>\r\n      <Dialog\r\n        maxWidth=\"md\"\r\n        fullWidth\r\n        open={open}\r\n        onClose={handleClose}\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle>\r\n          {queueId\r\n            ? `${i18n.t(\"queueModal.title.edit\")}`\r\n            : `${i18n.t(\"queueModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Tabs\r\n          value={tab}\r\n          indicatorColor=\"primary\"\r\n          textColor=\"primary\"\r\n          onChange={(e, v) => setTab(v)}\r\n          aria-label=\"disabled tabs example\"\r\n        >\r\n          <Tab label={i18n.t(\"queueModal.title.queueData\")} />\r\n          {schedulesEnabled && <Tab label={i18n.t(\"queueModal.title.text\")} />}\r\n        </Tabs>\r\n        {tab === 0 && (\r\n          <Formik\r\n            initialValues={queue}\r\n            validateOnChange={false}\r\n            enableReinitialize={true}\r\n            validationSchema={QueueSchema}\r\n            onSubmit={(values, actions) => {\r\n              setTimeout(() => {\r\n                handleSaveQueue(values);\r\n                actions.setSubmitting(false);\r\n              }, 400);\r\n            }}\r\n          >\r\n            {({ setFieldValue, touched, errors, isSubmitting, values }) => (\r\n              <Form>\r\n                <DialogContent dividers>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.name\")}\r\n                    autoFocus\r\n                    name=\"name\"\r\n                    error={touched.name && Boolean(errors.name)}\r\n                    helperText={touched.name && errors.name}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    className={classes.textField}\r\n                  />\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.color\")}\r\n                    name=\"color\"\r\n                    id=\"color\"\r\n                    onFocus={() => {\r\n                      setColorPickerModalOpen(true);\r\n                      greetingRef.current.focus();\r\n                    }}\r\n                    error={touched.color && Boolean(errors.color)}\r\n                    helperText={touched.color && errors.color}\r\n                    InputProps={{\r\n                      startAdornment: (\r\n                        <InputAdornment position=\"start\">\r\n                          <div\r\n                            style={{ backgroundColor: values.color }}\r\n                            className={classes.colorAdorment}\r\n                          ></div>\r\n                        </InputAdornment>\r\n                      ),\r\n                      endAdornment: (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          color=\"default\"\r\n                          onClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\r\n                        >\r\n                          <Colorize />\r\n\r\n                        </IconButton>\r\n                      ),\r\n                    }}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                  />\r\n                  <ColorBoxModal\r\n                    open={colorPickerModalOpen}\r\n                    handleClose={() => setColorPickerModalOpen(false)}\r\n                    onChange={(color) => {\r\n                      setFieldValue(\"color\", `#${color.hex}`);\r\n                    }}\r\n                    currentColor={values.color}\r\n                  />\r\n                  \r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"queueModal.form.orderQueue\")}\r\n                    name=\"orderQueue\"\r\n                    type=\"orderQueue\"\r\n                    error={touched.orderQueue && Boolean(errors.orderQueue)}\r\n                    helperText={touched.orderQueue && errors.orderQueue}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    className={classes.textField1}\r\n                  />\r\n                  <FormControlLabel\r\n                    control={\r\n                      <Field\r\n                        as={Switch}\r\n                        color=\"primary\"\r\n                        name=\"closeTicket\"\r\n                        checked={values.closeTicket}\r\n                      />\r\n                    }\r\n                    label={i18n.t(\"queueModal.form.closeTicket\")}\r\n                  />\r\n                  <div>\r\n                    <FormControlLabel\r\n                      control={\r\n                        <Field\r\n                          as={Switch}\r\n                          color=\"primary\"\r\n                          name=\"ativarRoteador\"\r\n                          checked={values.ativarRoteador}\r\n                        />\r\n                      }\r\n                      label={i18n.t(\"queueModal.form.rotate\")}\r\n                    />\r\n                    <Field\r\n                      as={Select}\r\n                      label={i18n.t(\"queueModal.form.timeRotate\")}\r\n                      name=\"tempoRoteador\"\r\n                      id=\"tempoRoteador\"\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.selectField}\r\n                    >\r\n                      <MenuItem value=\"0\" selected disabled>{i18n.t(\"queueModal.form.timeRotate\")}</MenuItem>\r\n                      <MenuItem value=\"2\">2 minutos</MenuItem>\r\n                      <MenuItem value=\"5\">5 minutos</MenuItem>\r\n                      <MenuItem value=\"10\">10 minutos</MenuItem>\r\n                      <MenuItem value=\"15\">15 minutos</MenuItem>\r\n                      <MenuItem value=\"30\">30 minutos</MenuItem>\r\n                      <MenuItem value=\"45\">45 minutos</MenuItem>\r\n                      <MenuItem value=\"60\">60 minutos</MenuItem>\r\n                    </Field>\r\n                  </div>\r\n                  <div>\r\n                    {showIntegrations && (\r\n                      <FormControl\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        className={classes.FormControl}\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel id=\"integrationId-selection-label\">\r\n                          {i18n.t(\"queueModal.form.integrationId\")}\r\n                        </InputLabel>\r\n                        <Field\r\n                          as={Select}\r\n                          label={i18n.t(\"queueModal.form.integrationId\")}\r\n                          name=\"integrationId\"\r\n                          id=\"integrationId\"\r\n                          placeholder={i18n.t(\"queueModal.form.integrationId\")}\r\n                          labelId=\"integrationId-selection-label\"\r\n                          value={values.integrationId || \"\"}\r\n                        >\r\n                          <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\r\n                          {integrations.map((integration) => (\r\n                            <MenuItem key={integration.id} value={integration.id}>\r\n                              {integration.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                        </Field>\r\n\r\n                      </FormControl>\r\n                    )}\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.FormControl}\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel id=\"fileListId-selection-label\">{i18n.t(\"queueModal.form.fileListId\")}</InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"queueModal.form.fileListId\")}\r\n                        name=\"fileListId\"\r\n                        id=\"fileListId\"\r\n                        placeholder={i18n.t(\"queueModal.form.fileListId\")}\r\n                        labelId=\"fileListId-selection-label\"\r\n                        value={values.fileListId || \"\"}\r\n                      >\r\n                        <MenuItem value={\"\"} >{\"Nenhum\"}</MenuItem>\r\n                        {file.map(f => (\r\n                          <MenuItem key={f.id} value={f.id}>\r\n                            {f.name}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </div>\r\n                  <div>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"queueModal.form.greetingMessage\")}\r\n                      type=\"greetingMessage\"\r\n                      multiline\r\n                      inputRef={greetingRef}\r\n                      minRows={5}\r\n                      fullWidth\r\n                      name=\"greetingMessage\"\r\n                      error={\r\n                        touched.greetingMessage && Boolean(errors.greetingMessage)\r\n                      }\r\n                      helperText={\r\n                        touched.greetingMessage && errors.greetingMessage\r\n                      }\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                    />\r\n                    {schedulesEnabled && (\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"queueModal.form.outOfHoursMessage\")}\r\n                        type=\"outOfHoursMessage\"\r\n                        multiline\r\n                        rows={5}\r\n                        fullWidth\r\n                        required={schedulesEnabled}\r\n                        name=\"outOfHoursMessage\"\r\n                        error={\r\n                          touched.outOfHoursMessage &&\r\n                          Boolean(errors.outOfHoursMessage)\r\n                        }\r\n                        helperText={\r\n                          touched.outOfHoursMessage && errors.outOfHoursMessage\r\n                        }\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    )}\r\n                  </div>\r\n\r\n                  <Typography variant=\"subtitle1\">\r\n                    {i18n.t(\"queueModal.bot.title\")}\r\n                    <CustomToolTip\r\n                      title={i18n.t(\"queueModal.bot.toolTipTitle\")}\r\n                      content={i18n.t(\"queueModal.bot.toolTip\")}\r\n                    >\r\n                      <HelpOutlineOutlinedIcon\r\n                        style={{ marginLeft: \"14px\" }}\r\n                        fontSize=\"small\"\r\n                      />\r\n                    </CustomToolTip>\r\n                  </Typography>\r\n\r\n                  <div>\r\n                    <FieldArray name=\"chatbots\">\r\n                      {({ push, remove }) => (\r\n                        <>\r\n                          <Stepper\r\n                            nonLinear\r\n                            activeStep={activeStep}\r\n                            orientation=\"vertical\"\r\n                          >\r\n                            {values.chatbots &&\r\n                              values.chatbots.length > 0 &&\r\n                              values.chatbots.map((info, index) => (\r\n                                <Step\r\n                                  key={`${info.id ? info.id : index}-chatbots`}\r\n                                  onClick={() => setActiveStep(index)}\r\n                                >\r\n                                  <StepLabel key={`${info.id}-chatbots`}>\r\n                                    {isNameEdit !== index &&\r\n                                      queue.chatbots[index]?.name ? (\r\n                                      <div\r\n                                        className={classes.greetingMessage}\r\n                                        variant=\"body1\"\r\n                                      >\r\n                                        {values.chatbots[index].name}\r\n\r\n                                        <IconButton\r\n                                          size=\"small\"\r\n                                          onClick={() => {\r\n                                            setIsNamedEdit(index);\r\n                                            setIsStepContent(false);\r\n                                          }}\r\n                                        >\r\n                                          <EditIcon />\r\n                                        </IconButton>\r\n\r\n                                        <IconButton\r\n                                          onClick={() => {\r\n                                            setSelectedQueue(info);\r\n                                            setConfirmModalOpen(true);\r\n                                          }}\r\n                                          size=\"small\"\r\n                                        >\r\n                                          <DeleteOutline />\r\n                                        </IconButton>\r\n                                      </div>\r\n                                    ) : (\r\n                                      <Grid spacing={2} container>\r\n                                        <Grid xs={12} md={12} item>\r\n\r\n                                          <Field\r\n                                            as={TextField}\r\n                                            name={`chatbots[${index}].name`}\r\n                                            variant=\"outlined\"\r\n                                            margin=\"dense\"\r\n                                            color=\"primary\"\r\n                                            label={i18n.t(\"queueModal.form.greetingMessage\")}\r\n                                            disabled={isSubmitting}\r\n                                            autoFocus\r\n                                            fullWidth\r\n                                            size=\"small\"\r\n                                            error={\r\n                                              touched?.chatbots?.[index]?.name &&\r\n                                              Boolean(\r\n                                                errors.chatbots?.[index]?.name\r\n                                              )\r\n                                            }\r\n                                            className={classes.textField}\r\n                                          />\r\n                                        </Grid>\r\n                                        <Grid xs={12} md={8} item>\r\n                                          <FormControl\r\n                                            variant=\"outlined\"\r\n                                            margin=\"dense\"\r\n                                            className={classes.formControl}\r\n                                            fullWidth\r\n                                          >\r\n                                            <InputLabel id=\"queueType-selection-label\">{i18n.t(\"queueModal.form.queueType\")}</InputLabel>\r\n\r\n                                            <Field\r\n                                              as={Select}\r\n                                              name={`chatbots[${index}].queueType`}\r\n                                              variant=\"outlined\"\r\n                                              margin=\"dense\"\r\n                                              fullWidth\r\n                                              labelId=\"queueType-selection-label\"\r\n                                              label={i18n.t(\"queueModal.form.queueType\")}\r\n                                              error={touched?.chatbots?.[index]?.queueType &&\r\n                                                Boolean(errors?.chatbots?.[index]?.queueType)}\r\n                                            // helpertext={touched?.chatbots?.[index]?.queueType && errors?.chatbots?.[index]?.queueType}\r\n                                            // value={`chatbots[${index}].queueType`}\r\n                                            >\r\n                                              <MenuItem value={\"text\"}>{i18n.t(\"queueModal.bot.text\")}</MenuItem>\r\n                                              <MenuItem value={\"attendent\"}>{i18n.t(\"queueModal.bot.attendent\")}</MenuItem>\r\n                                              <MenuItem value={\"queue\"}>{i18n.t(\"queueModal.bot.queue\")}</MenuItem>\r\n                                              <MenuItem value={\"integration\"}>{i18n.t(\"queueModal.bot.integration\")}</MenuItem>\r\n                                              <MenuItem value={\"file\"}>{i18n.t(\"queueModal.bot.file\")}</MenuItem>\r\n                                            </Field>\r\n                                          </FormControl>\r\n                                        </Grid>\r\n\r\n                                        <Grid xs={12} md={4} item>\r\n                                          <FormControlLabel\r\n                                            control={\r\n                                              <Field\r\n                                                as={Checkbox}\r\n                                                color=\"primary\"\r\n                                                name={`chatbots[${index}].closeTicket`}\r\n                                                checked={values.chatbots[index].closeTicket || false}\r\n                                              />\r\n                                            }\r\n                                            labelPlacement=\"top\"\r\n                                            label={i18n.t(\"queueModal.form.closeTicket\")}\r\n                                          />\r\n\r\n                                          <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() =>\r\n                                              values.chatbots[index].name\r\n                                                ? handleSaveBot(values)\r\n                                                : null\r\n                                            }\r\n                                            disabled={isSubmitting}\r\n                                          >\r\n                                            <SaveIcon />\r\n                                          </IconButton>\r\n\r\n                                          <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() => remove(index)}\r\n                                            disabled={isSubmitting}\r\n                                          >\r\n                                            <DeleteOutline />\r\n                                          </IconButton>\r\n                                        </Grid>\r\n                                      </Grid>\r\n                                    )}\r\n                                  </StepLabel>\r\n\r\n                                  {isStepContent && queue.chatbots[index] && (\r\n                                    <StepContent>\r\n                                      <>\r\n                                        {isGreetingMessageEdit !== index ? (\r\n                                          <div\r\n                                            className={classes.greetingMessage}\r\n                                          >\r\n                                            <Typography\r\n                                              color=\"textSecondary\"\r\n                                              variant=\"body1\"\r\n                                            >\r\n                                              Message:\r\n                                            </Typography>\r\n\r\n                                            {\r\n                                              values.chatbots[index]\r\n                                                .greetingMessage\r\n                                            }\r\n\r\n                                            {!queue.chatbots[index]\r\n                                              ?.greetingMessage && (\r\n                                                <CustomToolTip\r\n                                                  title={i18n.t(\"queueModal.bot.toolTipMessageTitle\")}\r\n                                                  content={i18n.t(\"queueModal.bot.toolTipMessageContent\")}\r\n                                                >\r\n                                                  <HelpOutlineOutlinedIcon\r\n                                                    color=\"secondary\"\r\n                                                    style={{ marginLeft: \"4px\" }}\r\n                                                    fontSize=\"small\"\r\n                                                  />\r\n                                                </CustomToolTip>\r\n                                              )}\r\n\r\n                                            <IconButton\r\n                                              size=\"small\"\r\n                                              onClick={() =>\r\n                                                setGreetingMessageEdit(index)\r\n                                              }\r\n                                            >\r\n                                              <EditIcon />\r\n                                            </IconButton>\r\n                                          </div>\r\n                                        ) : (\r\n                                          <Grid spacing={2} container>\r\n                                            <div\r\n                                              className={classes.greetingMessage}\r\n                                            >\r\n                                              {queue.chatbots[index].queueType === \"text\" && (\r\n                                                <Grid xs={12} md={12} item>\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    label={i18n.t(\"queueModal.form.message\")}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    error={\r\n                                                      touched.greetingMessage &&\r\n                                                      Boolean(errors.greetingMessage)\r\n                                                    }\r\n                                                    helperText={\r\n                                                      touched.greetingMessage &&\r\n                                                      errors.greetingMessage\r\n                                                    }\r\n                                                    className={classes.textField}\r\n                                                  />\r\n\r\n                                                </Grid>\r\n                                              )}\r\n                                            </div>\r\n                                            {queue.chatbots[index].queueType === \"queue\" && (\r\n                                              <>\r\n                                                <Grid xs={12} md={12} item>\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    label={i18n.t(\"queueModal.form.message\")}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    error={\r\n                                                      touched.greetingMessage &&\r\n                                                      Boolean(errors.greetingMessage)\r\n                                                    }\r\n                                                    helperText={\r\n                                                      touched.greetingMessage &&\r\n                                                      errors.greetingMessage\r\n                                                    }\r\n                                                    className={classes.textField}\r\n                                                  />\r\n                                                </Grid>\r\n                                                <Grid xs={12} md={8} item>\r\n                                                  <FormControl\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    className={classes.FormControl}\r\n                                                    fullWidth\r\n                                                  >\r\n                                                    <InputLabel id=\"queue-selection-label\">{i18n.t(\"queueModal.form.queue\")}</InputLabel>\r\n                                                    <Field\r\n                                                      as={Select}\r\n                                                      name={`chatbots[${index}].optQueueId`}\r\n                                                      error={touched?.chatbots?.[index]?.optQueueId &&\r\n                                                        Boolean(errors?.chatbots?.[index]?.optQueueId)}\r\n                                                      helpertext={touched?.chatbots?.[index]?.optQueueId && errors?.chatbots?.[index]?.optQueueId}\r\n                                                      // value={`chatbots[${index}].optQueueId`}\r\n                                                      className={classes.textField1}\r\n                                                    >\r\n                                                      {queues.map(queue => (\r\n                                                        <MenuItem key={queue.id} value={queue.id}>\r\n                                                          {queue.name}\r\n                                                        </MenuItem>\r\n                                                      ))}\r\n                                                    </Field>\r\n                                                  </FormControl>\r\n                                                </Grid>\r\n                                              </>\r\n                                            )}\r\n                                            {queue.chatbots[index].queueType === \"attendent\" && (\r\n                                              <>\r\n                                                <Grid xs={12} md={12} item>\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    label={i18n.t(\"queueModal.form.message\")}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    error={\r\n                                                      touched.greetingMessage &&\r\n                                                      Boolean(errors.greetingMessage)\r\n                                                    }\r\n                                                    helperText={\r\n                                                      touched.greetingMessage &&\r\n                                                      errors.greetingMessage\r\n                                                    }\r\n                                                    className={classes.textField}\r\n                                                  />\r\n                                                </Grid>\r\n                                                {/* SELECIONAR USUARIO */}\r\n                                                <Grid xs={12} md={4} item>\r\n                                                  <Autocomplete\r\n                                                    style={{ marginTop: '8px' }}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    getOptionLabel={(option) => `${option.name}`}\r\n                                                    value={queue.chatbots[index].user}\r\n                                                    onChange={(e, newValue) => {\r\n                                                      if (newValue != null) {\r\n                                                        setFieldValue(`chatbots[${index}].optUserId`, newValue.id);\r\n                                                      } else {\r\n                                                        setFieldValue(`chatbots[${index}].optUserId`, null);\r\n\r\n                                                      }\r\n                                                      if (newValue != null && Array.isArray(newValue.queues)) {\r\n                                                        if (newValue.queues.length === 1) {\r\n                                                          setSelectedQueueOption(newValue.queues[0].id);\r\n                                                          setFieldValue(`chatbots[${index}].optQueueId`, newValue.queues[0].id);\r\n                                                        }\r\n                                                        setQueues(newValue.queues);\r\n\r\n                                                      } else {\r\n                                                        setQueues(allQueues);\r\n                                                        setSelectedQueueOption(\"\");\r\n                                                      }\r\n                                                    }}\r\n                                                    options={userOptions}\r\n                                                    filterOptions={filterOptions}\r\n                                                    freeSolo\r\n                                                    fullWidth\r\n                                                    autoHighlight\r\n                                                    noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n                                                    loading={loading}\r\n                                                    size=\"small\"\r\n                                                    renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n                                                    renderInput={(params) => (\r\n                                                      <TextField\r\n                                                        {...params}\r\n                                                        label={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n                                                        variant=\"outlined\"\r\n                                                        onChange={(e) => setSearchParam(e.target.value)}\r\n                                                        InputProps={{\r\n                                                          ...params.InputProps,\r\n                                                          endAdornment: (\r\n                                                            <Fragment>\r\n                                                              {loading ? (\r\n                                                                <CircularProgress color=\"inherit\" size={20} />\r\n                                                              ) : null}\r\n                                                              {params.InputProps.endAdornment}\r\n                                                            </Fragment>\r\n                                                          ),\r\n                                                        }}\r\n                                                      />\r\n                                                    )}\r\n                                                  />\r\n                                                </Grid>\r\n                                                <Grid xs={12} md={4} item>\r\n                                                  <FormControl\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    className={classes.formControl}\r\n                                                  >\r\n                                                    <InputLabel>\r\n                                                      {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n                                                    </InputLabel>\r\n                                                    <Select\r\n                                                      value={selectedQueueOption}\r\n                                                      onChange={(e) => {\r\n                                                        setSelectedQueueOption(e.target.value)\r\n                                                        setFieldValue(`chatbots[${index}].optQueueId`, e.target.value);\r\n                                                      }}\r\n                                                      label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n                                                    >\r\n                                                      {queues.map((queue) => (\r\n                                                        <MenuItem key={queue.id} value={queue.id}>\r\n                                                          {queue.name}\r\n                                                        </MenuItem>\r\n                                                      ))}\r\n                                                    </Select>\r\n                                                  </FormControl>\r\n                                                </Grid>\r\n                                              </>\r\n                                            )}\r\n                                            {queue.chatbots[index].queueType === \"integration\" && (\r\n                                              <>\r\n                                                <Grid xs={12} md={12} item>\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    label={i18n.t(\"queueModal.form.message\")}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    error={\r\n                                                      touched.greetingMessage &&\r\n                                                      Boolean(errors.greetingMessage)\r\n                                                    }\r\n                                                    helperText={\r\n                                                      touched.greetingMessage &&\r\n                                                      errors.greetingMessage\r\n                                                    }\r\n                                                    className={classes.textField}\r\n                                                  />\r\n                                                </Grid>\r\n                                                <Grid xs={12} md={8} item>\r\n                                                  <FormControl\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    className={classes.FormControl}\r\n                                                    fullWidth\r\n                                                  >\r\n                                                    <InputLabel id=\"optIntegrationId-selection-label\">{i18n.t(\"queueModal.form.integration\")}</InputLabel>\r\n                                                    <Field\r\n                                                      as={Select}\r\n                                                      name={`chatbots[${index}].optIntegrationId`}\r\n                                                      error={touched?.chatbots?.[index]?.optIntegrationId &&\r\n                                                        Boolean(errors?.chatbots?.[index]?.optIntegrationId)}\r\n                                                      helpertext={touched?.chatbots?.[index]?.optIntegrationId && errors?.chatbots?.[index]?.optIntegrationId}\r\n                                                      // value={`chatbots[${index}].optQueueId`}\r\n                                                      className={classes.textField1}\r\n                                                    >\r\n                                                      {integrations.map(integration => (\r\n                                                        <MenuItem key={integration.id} value={integration.id}>\r\n                                                          {integration.name}\r\n                                                        </MenuItem>\r\n                                                      ))}\r\n                                                    </Field>\r\n                                                  </FormControl>\r\n                                                </Grid>\r\n                                              </>\r\n                                            )}\r\n                                            {queue.chatbots[index].queueType === \"file\" && (\r\n                                              <>\r\n                                                <Grid xs={12} md={12} item>\r\n                                                  <Field\r\n                                                    as={TextField}\r\n                                                    name={`chatbots[${index}].greetingMessage`}\r\n                                                    label={i18n.t(\"queueModal.form.message\")}\r\n                                                    variant=\"outlined\"\r\n                                                    margin=\"dense\"\r\n                                                    fullWidth\r\n                                                    multiline\r\n                                                    error={\r\n                                                      touched.greetingMessage &&\r\n                                                      Boolean(errors.greetingMessage)\r\n                                                    }\r\n                                                    helperText={\r\n                                                      touched.greetingMessage &&\r\n                                                      errors.greetingMessage\r\n                                                    }\r\n                                                    className={classes.textField}\r\n                                                  />\r\n                                                </Grid>\r\n                                                <InputLabel>{\"Selecione um Arquivo\"}</InputLabel>\r\n                                                <Field\r\n                                                  as={Select}\r\n                                                  name={`chatbots[${index}].optFileId`}\r\n                                                  error={touched?.chatbots?.[index]?.optFileId &&\r\n                                                    Boolean(errors?.chatbots?.[index]?.optFileId)}\r\n                                                  helpertext={touched?.chatbots?.[index]?.optFileId && errors?.chatbots?.[index]?.optFileId}\r\n                                                  className={classes.textField1}\r\n                                                >\r\n                                                  {file.map(f => (\r\n                                                    <MenuItem key={f.id} value={f.id}>\r\n                                                      {f.name}\r\n                                                    </MenuItem>\r\n                                                  ))}\r\n                                                </Field>\r\n                                              </>\r\n                                            )}\r\n                                            <IconButton\r\n                                              size=\"small\"\r\n                                              onClick={() =>\r\n                                                handleSaveBot(values)\r\n                                              }\r\n                                              disabled={isSubmitting}\r\n                                            >\r\n                                              {\" \"}\r\n                                              <SaveIcon />\r\n                                            </IconButton>\r\n                                          </Grid>\r\n                                        )}\r\n\r\n                                        <OptionsChatBot chatBotId={info.id} />\r\n                                      </>\r\n                                    </StepContent>\r\n                                  )}\r\n                                </Step>\r\n                              ))}\r\n\r\n                            <Step>\r\n                              <StepLabel\r\n                                onClick={() => push({ name: \"\", value: \"\" })}\r\n                              >\r\n                                {i18n.t(\"queueModal.bot.addOptions\")}\r\n                              </StepLabel>\r\n                            </Step>\r\n                          </Stepper>\r\n                        </>\r\n                      )}\r\n                    </FieldArray>\r\n                  </div>\r\n                </DialogContent>\r\n                <DialogActions>\r\n                  <Button\r\n                    onClick={handleClose}\r\n                    // color=\"secondary\"\r\n                    disabled={isSubmitting}\r\n                  // variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"queueModal.buttons.cancel\")}\r\n                  </Button>\r\n                  <Button\r\n                    type=\"submit\"\r\n                    color=\"primary\"\r\n                    disabled={isSubmitting}\r\n                    variant=\"contained\"\r\n                    className={classes.btnWrapper}\r\n                  >\r\n                    {queueId\r\n                      ? `${i18n.t(\"queueModal.buttons.okEdit\")}`\r\n                      : `${i18n.t(\"queueModal.buttons.okAdd\")}`}\r\n                    {isSubmitting && (\r\n                      <CircularProgress\r\n                        size={24}\r\n                        className={classes.buttonProgress}\r\n                      />\r\n                    )}\r\n                  </Button>\r\n                </DialogActions>\r\n              </Form>\r\n            )}\r\n          </Formik>\r\n        )}\r\n        {tab === 1 && (\r\n          <Paper style={{ padding: 20 }}>\r\n            <SchedulesForm\r\n              loading={false}\r\n              onSubmit={handleSaveSchedules}\r\n              initialValues={schedules}\r\n              labelSaveButton={i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n            />\r\n          </Paper>\r\n        )}\r\n      </Dialog>\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default QueueModal;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\n\r\nimport {\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\n\r\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\r\nimport { toast } from \"react-toastify\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport QueueModal from \"../../components/QueueModal\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport Title from \"../../components/Title\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_QUEUES\") {\r\n    const queues = action.payload;\r\n    const newQueues = [];\r\n\r\n    queues.forEach((queue) => {\r\n      const queueIndex = state.findIndex((q) => q.id === queue.id);\r\n      if (queueIndex !== -1) {\r\n        state[queueIndex] = queue;\r\n      } else {\r\n        newQueues.push(queue);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newQueues];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_QUEUES\") {\r\n    const queue = action.payload;\r\n    const queueIndex = state.findIndex((u) => u.id === queue.id);\r\n\r\n    if (queueIndex !== -1) {\r\n      state[queueIndex] = queue;\r\n      return [...state];\r\n    } else {\r\n      return [queue, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_QUEUE\") {\r\n    const queueId = action.payload;\r\n    const queueIndex = state.findIndex((q) => q.id === queueId);\r\n    if (queueIndex !== -1) {\r\n      state.splice(queueIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst Queues = () => {\r\n  const classes = useStyles();\r\n\r\n  const [queues, dispatch] = useReducer(reducer, []);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [queueModalOpen, setQueueModalOpen] = useState(false);\r\n  const [selectedQueue, setSelectedQueue] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const companyId = user.companyId;\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await api.get(\"/queue\");\r\n        dispatch({ type: \"LOAD_QUEUES\", payload: data });\r\n\r\n        setLoading(false);\r\n      } catch (err) {\r\n        toastError(err);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const onQueueEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_QUEUES\", payload: data.queue });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_QUEUE\", payload: data.queueId });\r\n      }\r\n    };\r\n    socket.on(`company-${companyId}-queue`, onQueueEvent);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-queue`, onQueueEvent);\r\n    };\r\n  }, [socket, companyId]);\r\n\r\n  const handleOpenQueueModal = () => {\r\n    setQueueModalOpen(true);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleCloseQueueModal = () => {\r\n    setQueueModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleEditQueue = (queue) => {\r\n    setSelectedQueue(queue);\r\n    setQueueModalOpen(true);\r\n  };\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  const handleDeleteQueue = async (queueId) => {\r\n    try {\r\n      await api.delete(`/queue/${queueId}`);\r\n      toast.success(i18n.t(\"Queue deleted successfully!\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setSelectedQueue(null);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          selectedQueue &&\r\n          `${i18n.t(\"queues.confirmationModal.deleteTitle\")} ${\r\n            selectedQueue.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeleteQueue(selectedQueue.id)}\r\n      >\r\n        {i18n.t(\"queues.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <QueueModal\r\n        open={queueModalOpen}\r\n        onClose={handleCloseQueueModal}\r\n        queueId={selectedQueue?.id}\r\n        onEdit={(res) => {\r\n          if (res) {\r\n            setTimeout(() => {\r\n              handleEditQueue(res);\r\n            }, 500);\r\n          }\r\n        }}\r\n      />\r\n      {user.profile === \"user\" ? (\r\n        <ForbiddenPage />\r\n      ) : (\r\n        <>\r\n          <MainHeader>\r\n            <Title>\r\n              {i18n.t(\"queues.title\")} ({queues.length})\r\n            </Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenQueueModal}\r\n                style={{ borderRadius: \"22px\" }}\r\n              >\r\n                {i18n.t(\"queues.buttons.add\")}\r\n              </Button>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n          <Paper className={classes.mainPaper} variant=\"outlined\">\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.ID\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.name\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.color\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.orderQueue\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.greeting\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queues.table.actions\")}\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {queues.map((queue) => (\r\n                    <TableRow key={queue.id}>\r\n                      <TableCell align=\"center\">{queue.id}</TableCell>\r\n                      <TableCell align=\"center\">{queue.name}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <div className={classes.customTableCell}>\r\n                          <span\r\n                            style={{\r\n                              backgroundColor: queue.color,\r\n                              width: 60,\r\n                              height: 20,\r\n                              alignSelf: \"center\",\r\n                            }}\r\n                          />\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <div className={classes.customTableCell}>\r\n                          <Typography\r\n                            style={{ width: 300, align: \"center\" }}\r\n                            noWrap\r\n                            variant=\"body2\"\r\n                          >\r\n                            {queue.orderQueue}\r\n                          </Typography>\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <div className={classes.customTableCell}>\r\n                          <Typography\r\n                            style={{ width: 300, align: \"center\" }}\r\n                            noWrap\r\n                            variant=\"body2\"\r\n                          >\r\n                            {queue.greetingMessage}\r\n                          </Typography>\r\n                        </div>\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleEditQueue(queue)}\r\n                        >\r\n                          <Edit />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => {\r\n                            setSelectedQueue(queue);\r\n                            setConfirmModalOpen(true);\r\n                          }}\r\n                        >\r\n                          <DeleteOutline />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  {loading && <TableRowSkeleton columns={4} />}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>\r\n      )}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Queues;\r\n","import React, { useContext, useEffect, useState } from \"react\";\r\nimport {\r\n  makeStyles,\r\n  Modal,\r\n  Backdrop,\r\n  Fade,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableContainer,\r\n  TableHead,\r\n  TableRow,\r\n  Paper,\r\n  IconButton,\r\n} from \"@material-ui/core\";\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport CloseIcon from \"@material-ui/icons/Close\";\r\nimport api from \"../../services/api\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  modal: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  paper: {\r\n    backgroundColor: theme.palette.background.paper,\r\n    boxShadow: theme.shadows[5],\r\n    padding: theme.spacing(2, 4, 3),\r\n    borderRadius: \"8px\",\r\n    overflow: \"auto\",\r\n    maxHeight: \"80vh\",\r\n  },\r\n  closeButton: {\r\n    position: \"absolute\",\r\n    top: theme.spacing(1),\r\n    right: theme.spacing(1),\r\n  },\r\n}));\r\n\r\nconst handleRemoveContactTag = async (contactId, tagId) => {\r\n  await api.delete(`/tags-contacts/${tagId}/${contactId}`);\r\n}\r\n\r\nconst ContactTagListModal = ({ open, onClose, tag }) => {\r\n  const classes = useStyles();\r\n  const [tagList, setTagList] = useState(tag.contacts);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\r\n\r\n    const onCompanyTags = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        if (data.tag.id === tag.id && data.tag?.contacts?.length > 0) {\r\n          setTagList(data.tag.contacts);\r\n        }\r\n        if (data.tag.id === tag.id && data.tag?.contacts?.length === 0) {\r\n          setTagList([]);\r\n          onClose();\r\n        }\r\n      }\r\n    };\r\n    socket.on(`company${user.companyId}-tag`, onCompanyTags);\r\n\r\n    return () => {\r\n      socket.off(`company${user.companyId}-tag`, onCompanyTags);\r\n    };\r\n  }, []); // Dependência do estado auxiliar updateFlag\r\n\r\n  return tagList.length > 0 ? (\r\n    <Modal\r\n      className={classes.modal}\r\n      open={open}\r\n      onClose={onClose}\r\n      closeAfterTransition\r\n      BackdropComponent={Backdrop}\r\n      BackdropProps={{\r\n        timeout: 500,\r\n      }}\r\n    >\r\n      <Fade in={open}>\r\n        <div className={classes.paper}>\r\n          <IconButton className={classes.closeButton} onClick={onClose}>\r\n            <CloseIcon />\r\n          </IconButton>\r\n          <h2 id=\"transition-modal-title\">{tag.name} - Contatos</h2>\r\n          <TableContainer component={Paper}>\r\n            <Table>\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell>ID</TableCell>\r\n                  <TableCell>Nome</TableCell>\r\n                  <TableCell>Nmero</TableCell>\r\n                  <TableCell>Ações</TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                {tagList?.map((contact) => (\r\n                  <TableRow key={contact.id}>\r\n                    <TableCell>{contact.id}</TableCell>\r\n                    <TableCell>{contact.name}</TableCell>\r\n                    <TableCell>{contact.number}</TableCell>\r\n                    <TableCell>\r\n                      <IconButton onClick={() => handleRemoveContactTag(contact.id, tag.id)}>\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    </TableCell>\r\n                  </TableRow>\r\n                ))}\r\n              </TableBody>\r\n            </Table>\r\n          </TableContainer>\r\n        </div>\r\n      </Fade>\r\n    </Modal>\r\n  ) : (\r\n    <></>\r\n  )\r\n};\r\n\r\nexport default ContactTagListModal;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { Colorize } from \"@material-ui/icons\";\r\nimport { ColorBox } from 'material-ui-color';\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { FormControl, IconButton, InputAdornment, InputLabel, MenuItem, Select } from \"@material-ui/core\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tmultFieldLine: {\r\n\t\tdisplay: \"flex\",\r\n\t\t\"& > *:not(:last-child)\": {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n\tcolorAdorment: {\r\n\t\twidth: 20,\r\n\t\theight: 20,\r\n\t},\r\n}));\r\n\r\nconst TagSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(3, \"Mensagem muito curta\")\r\n\t\t.required(\"Obrigatório\")\r\n});\r\n\r\nconst TagModal = ({ open, onClose, tagId, kanban }) => {\r\n\tconst classes = useStyles();\r\n\tconst { user } = useContext(AuthContext);\r\n\tconst [colorPickerModalOpen, setColorPickerModalOpen] = useState(false);\r\n\tconst [lanes, setLanes] = useState([]);\r\n\tconst [loading, setLoading] = useState(false);\r\n\tconst [selectedLane, setSelectedLane] = useState([]);\r\n\tconst [selectedRollbackLane, setSelectedRollbackLane] = useState([]);\r\n\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\tcolor: getRandomHexColor(),\r\n\t\tkanban: kanban,\r\n\t\ttimeLane: 0,\r\n\t\tnextLaneId: 0,\r\n\t\tgreetingMessageLane: \"\",\r\n\t\trollbackLaneId: 0,\r\n\t};\r\n\r\n\tconst [tag, setTag] = useState(initialState);\r\n\r\n\tuseEffect(() => {\r\n\t\tsetLoading(true);\r\n\t\tconst delayDebounceFn = setTimeout(() => {\r\n\t\t\tconst fetchTags = async () => {\r\n\t\t\t\ttry {\r\n\t\t\t\t\tconst { data } = await api.get(\"/tags/\", {\r\n\t\t\t\t\t\tparams: { kanban: 1, tagId },\r\n\t\t\t\t\t});\r\n\t\t\t\t\tsetLanes(data.tags);\r\n\t\t\t\t} catch (err) {\r\n\t\t\t\t\ttoastError(err);\r\n\t\t\t\t}\r\n\t\t\t};\r\n\t\t\tfetchTags();\r\n\t\t}, 500);\r\n\t\treturn () => clearTimeout(delayDebounceFn);\r\n\t}, []);\r\n\r\n\tuseEffect(() => {\r\n\t\ttry {\r\n\t\t\t(async () => {\r\n\t\t\t\tif (!tagId) return;\r\n\r\n\t\t\t\tconst { data } = await api.get(`/tags/${tagId}`);\r\n\t\t\t\tsetTag(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...data };\r\n\t\t\t\t});\r\n\t\t\t\tif (data.nextLaneId) {\r\n\t\t\t\t\tsetSelectedLane(data.nextLaneId);\r\n\t\t\t\t}\r\n\t\t\t\tif (data.rollbackLaneId) {\r\n\t\t\t\t\tsetSelectedRollbackLane(data.rollbackLaneId);\r\n\t\t\t\t}\r\n\t\t\t})()\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}, [tagId, open]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tsetTag(initialState);\r\n\t\tsetColorPickerModalOpen(false);\r\n\t\tonClose();\r\n\t};\r\n\r\n\tconst handleSaveTag = async values => {\r\n\t\tconst tagData = { ...values, userId: user?.id, kanban: kanban, nextLaneId: selectedLane || null, rollbackLaneId: selectedRollbackLane || null };\r\n\r\n\t\ttry {\r\n\t\t\tif (tagId) {\r\n\t\t\t\tawait api.put(`/tags/${tagId}`, tagData);\r\n\t\t\t} else {\r\n\t\t\t\tawait api.post(\"/tags\", tagData);\r\n\t\t\t}\r\n\t\t\ttoast.success(kanban === 0 ? `${i18n.t(\"tagModal.success\")}` : `${i18n.t(\"tagModal.successKanban\")}`);\r\n\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\thandleClose();\r\n\t};\r\n\r\n\tfunction getRandomHexColor() {\r\n\t\t// Gerar valores aleatórios para os componentes de cor\r\n\t\tconst red = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n\t\tconst green = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n\t\tconst blue = Math.floor(Math.random() * 256); // Valor entre 0 e 255\r\n\r\n\t\t// Converter os componentes de cor em uma cor hexadecimal\r\n\t\tconst hexColor = `#${red.toString(16).padStart(2, '0')}${green.toString(16).padStart(2, '0')}${blue.toString(16).padStart(2, '0')}`;\r\n\r\n\t\treturn hexColor;\r\n\t}\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"md\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{(tagId ? (kanban === 0 ? `${i18n.t(\"tagModal.title.edit\")}` : `${i18n.t(\"tagModal.title.editKanban\")}`) :\r\n\t\t\t\t\t\t(kanban === 0 ? `${i18n.t(\"tagModal.title.add\")}` : `${i18n.t(\"tagModal.title.addKanban\")}`))\r\n\t\t\t\t\t}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={tag}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={TagSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveTag(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ touched, errors, isSubmitting, values }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<Grid container spacing={1}>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, name: e.target.value }))}\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.color\")}\r\n\t\t\t\t\t\t\t\t\t\t\tname=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\t\tid=\"color\"\r\n\t\t\t\t\t\t\t\t\t\t\terror={touched.color && Boolean(errors.color)}\r\n\t\t\t\t\t\t\t\t\t\t\thelperText={touched.color && errors.color}\r\n\t\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\t\tstartAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"start\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<div\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: values.color }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.colorAdorment}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t></div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"default\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setColorPickerModalOpen(!colorPickerModalOpen)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<Colorize />\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t),\r\n\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\r\n\t\t\t\t\t\t\t\t\t\t{colorPickerModalOpen && (\r\n\t\t\t\t\t\t\t\t\t\t\t<div>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<ColorBox\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tdisableAlpha={true}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thslGradient={false}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ margin: '20px auto 0' }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={tag.color}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={val => {\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tsetTag(prev => ({ ...prev, color: `#${val.hex}` }));\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t\t\t{kanban === 1 && (\r\n\t\t\t\t\t\t\t\t\t\t<>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.timeLane\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"timeLane\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.timeLane && Boolean(errors.timeLane)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.timeLane && errors.timeLane}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, timeLane: e.target.value }))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={6} xl={6}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"whatsapp-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.form.nextLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.nextLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"tagModal.form.nextLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"whatsapp-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"nextLaneId\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"nextLaneId\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ left: \"-7px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.nextLaneId && Boolean(errors.nextLaneId)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedLane}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedLane(e.target.value || null)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={null}>&nbsp;</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lanes &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlanes.map((lane) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={lane.id} value={lane.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lane.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.greetingMessageLane\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"greetingMessageLane\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\trows={5}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmultiline\r\n\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.greetingMessageLane && Boolean(errors.greetingMessageLane)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\thelperText={touched.greetingMessageLane && errors.greetingMessageLane}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setTag(prev => ({ ...prev, greetingMessageLane: e.target.value }))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t\t<Grid item xs={12} md={12} xl={12}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t<FormControl\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.formControl}\r\n\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<InputLabel id=\"whatsapp-selection-label\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.form.rollbackLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</InputLabel>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tas={Select}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"tagModal.form.rollbackLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tplaceholder={i18n.t(\"tagModal.form.rollbackLaneId\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tlabelId=\"whatsapp-selection-label\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tid=\"rollbackLaneId\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tname=\"rollbackLaneId\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tstyle={{ left: \"-7px\" }}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\terror={touched.rollbackLaneId && Boolean(errors.rollbackLaneId)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tvalue={selectedRollbackLane}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonChange={(e) => setSelectedRollbackLane(e.target.value)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem value={null}>&nbsp;</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lanes &&\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tlanes.map((lane) => (\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<MenuItem key={lane.id} value={lane.id}>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t{lane.name}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t))}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</Field>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</FormControl>\r\n\t\t\t\t\t\t\t\t\t\t\t</Grid>\r\n\t\t\t\t\t\t\t\t\t\t</>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Grid>\r\n\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"tagModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{tagId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"tagModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"tagModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default TagModal;\r\n","import React, {\r\n  useContext,\r\n  useEffect,\r\n  useReducer,\r\n  useRef,\r\n  useState,\r\n} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport { Chip } from \"@material-ui/core\";\r\nimport { MoreHoriz } from \"@material-ui/icons\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport ContactTagListModal from \"../../components/ContactTagListModal\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport TagModal from \"../../components/TagModal\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst reducer = (state, action) => {\r\n  switch (action.type) {\r\n    case \"LOAD_TAGS\":\r\n      return [...state, ...action.payload];\r\n    case \"UPDATE_TAGS\":\r\n      const tag = action.payload;\r\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\r\n\r\n      if (tagIndex !== -1) {\r\n        state[tagIndex] = tag;\r\n        return [...state];\r\n      } else {\r\n        return [tag, ...state];\r\n      }\r\n    case \"DELETE_TAGS\":\r\n      const tagId = action.payload;\r\n      return state.filter((tag) => tag.id !== tagId);\r\n    case \"RESET\":\r\n      return [];\r\n    default:\r\n      return state;\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Tags = () => {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [selectedTagContacts, setSelectedTagContacts] = useState([]);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedTagName, setSelectedTagName] = useState(\"\");\r\n  const [selectedTag, setSelectedTag] = useState(null);\r\n  const [deletingTag, setDeletingTag] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [tags, dispatch] = useReducer(reducer, []);\r\n  const [tagModalOpen, setTagModalOpen] = useState(false);\r\n  const pageNumberRef = useRef(1);\r\n\r\n  useEffect(() => {\r\n    const fetchMoreTags = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/tags/\", {\r\n          params: { searchParam, pageNumber, kanban: 0 },\r\n        });\r\n        dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\r\n        setHasMore(data.hasMore);\r\n        setLoading(false);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    if (pageNumber > 0) {\r\n      setLoading(true);\r\n      fetchMoreTags();\r\n    }\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const onCompanyTags = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tag });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_TAGS\", payload: +data.tagId });\r\n      }\r\n    };\r\n    socket.on(`company${user.companyId}-tag`, onCompanyTags);\r\n\r\n    return () => {\r\n      socket.off(`company${user.companyId}-tag`, onCompanyTags);\r\n    };\r\n  }, [socket, user.companyId]);\r\n\r\n  const handleOpenTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleCloseTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    const newSearchParam = event.target.value.toLowerCase();\r\n    setSearchParam(newSearchParam);\r\n    setPageNumber(1);\r\n    dispatch({ type: \"RESET\" });\r\n  };\r\n\r\n  const handleEditTag = (tag) => {\r\n    setSelectedTag(tag);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleShowContacts = (contacts, tag) => {\r\n    setSelectedTagContacts(contacts);\r\n    setContactModalOpen(true);\r\n    setSelectedTagName(tag);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setContactModalOpen(false);\r\n    setSelectedTagContacts([]);\r\n    setSelectedTagName(\"\");\r\n  };\r\n\r\n  const handleDeleteTag = async (tagId) => {\r\n    try {\r\n      await api.delete(`/tags/${tagId}`);\r\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingTag(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevPageNumber) => prevPageNumber + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      {contactModalOpen && (\r\n        <ContactTagListModal\r\n          open={contactModalOpen}\r\n          onClose={handleCloseContactModal}\r\n          tag={selectedTagName}\r\n        />\r\n      )}\r\n      <ConfirmationModal\r\n        title={deletingTag && `${i18n.t(\"tags.confirmationModal.deleteTitle\")}`}\r\n        open={confirmModalOpen}\r\n        onClose={() => setConfirmModalOpen(false)}\r\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\r\n      >\r\n        {i18n.t(\"tags.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <TagModal\r\n        open={tagModalOpen}\r\n        onClose={handleCloseTagModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        tagId={selectedTag && selectedTag.id}\r\n        kanban={0}\r\n      />\r\n      <MainHeader>\r\n        <Title>\r\n          {i18n.t(\"tags.title\")} ({tags.length})\r\n        </Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenTagModal}\r\n            style={{ borderRadius: \"22px\" }}\r\n          >\r\n            {i18n.t(\"tags.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">{i18n.t(\"tags.table.id\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"tags.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"tags.table.contacts\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"tags.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {tags.map((tag) => (\r\n                <TableRow key={tag.id}>\r\n                  <TableCell align=\"center\">{tag.id}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Chip\r\n                      variant=\"outlined\"\r\n                      style={{\r\n                        backgroundColor: tag.color,\r\n                        textShadow: \"1px 1px #000\",\r\n                        color: \"white\",\r\n                      }}\r\n                      label={tag.name}\r\n                      size=\"small\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {tag?.contacts?.length}\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleShowContacts(tag?.contacts, tag)}\r\n                      disabled={tag?.contacts?.length === 0}\r\n                    >\r\n                      <MoreHoriz />\r\n                    </IconButton>\r\n                  </TableCell>\r\n\r\n                  <TableCell align=\"center\">\r\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingTag(tag);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n\r\n              {loading && <TableRowSkeleton key=\"skeleton\" columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Tags;\r\n","import Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Grid,\r\n  TextField,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { Field, Form, Formik } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport axios from \"axios\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    paddingBottom: 100,\r\n  },\r\n  mainHeader: {\r\n    marginTop: theme.spacing(1),\r\n  },\r\n  elementMargin: {\r\n    padding: theme.spacing(2),\r\n  },\r\n  formContainer: {\r\n    maxWidth: 500,\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n}));\r\n\r\nconst MessagesAPI = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [formMessageTextData] = useState({\r\n    token: \"\",\r\n    number: \"\",\r\n    body: \"\",\r\n    userId: \"\",\r\n    queueId: \"\",\r\n  });\r\n  const [formMessageMediaData] = useState({\r\n    token: \"\",\r\n    number: \"\",\r\n    medias: \"\",\r\n    body: \"\",\r\n    userId: \"\",\r\n    queueId: \"\",\r\n  });\r\n  const [file, setFile] = useState({});\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useExternalApi) {\r\n        toast.error(\r\n          \"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\"\r\n        );\r\n        setTimeout(() => {\r\n          history.push(`/`);\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const getEndpoint = () => {\r\n    return process.env.REACT_APP_BACKEND_URL + \"/api/messages/send\";\r\n  };\r\n\r\n  const handleSendTextMessage = async (values) => {\r\n    const { number, body, userId, queueId } = values;\r\n    const data = { number, body, userId, queueId };\r\n    try {\r\n      await axios.request({\r\n        url: getEndpoint(),\r\n        method: \"POST\",\r\n        data,\r\n        headers: {\r\n          \"Content-type\": \"application/json\",\r\n          Authorization: `Bearer ${values.token}`,\r\n        },\r\n      });\r\n      toast.success(\"Mensagem enviada com sucesso\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSendMediaMessage = async (values) => {\r\n    try {\r\n      const firstFile = file[0];\r\n      const data = new FormData();\r\n      data.append(\"number\", values.number);\r\n      data.append(\"body\", values.body ? values.body : firstFile.name);\r\n      data.append(\"userId\", values.userId);\r\n      data.append(\"queueId\", values.queueId);\r\n      data.append(\"medias\", firstFile);\r\n      await axios.request({\r\n        url: getEndpoint(),\r\n        method: \"POST\",\r\n        data,\r\n        headers: {\r\n          \"Content-type\": \"multipart/form-data\",\r\n          Authorization: `Bearer ${values.token}`,\r\n        },\r\n      });\r\n      toast.success(\"Mensagem enviada com sucesso\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const renderFormMessageText = () => {\r\n    return (\r\n      <Formik\r\n        initialValues={formMessageTextData}\r\n        enableReinitialize={true}\r\n        onSubmit={(values, actions) => {\r\n          setTimeout(async () => {\r\n            await handleSendTextMessage(values);\r\n            actions.setSubmitting(false);\r\n            actions.resetForm();\r\n          }, 400);\r\n        }}\r\n        className={classes.elementMargin}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <Form className={classes.formContainer}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.token\")}\r\n                  name=\"token\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.number\")}\r\n                  name=\"number\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\r\n                  name=\"body\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.userId\")}\r\n                  name=\"userId\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.queueId\")}\r\n                  name=\"queueId\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.textRight}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  style={{ borderRadius: \"22px\" }}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  ) : (\r\n                    \"Enviar\"\r\n                  )}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    );\r\n  };\r\n\r\n  const renderFormMessageMedia = () => {\r\n    return (\r\n      <Formik\r\n        initialValues={formMessageMediaData}\r\n        enableReinitialize={true}\r\n        onSubmit={(values, actions) => {\r\n          setTimeout(async () => {\r\n            await handleSendMediaMessage(values);\r\n            actions.setSubmitting(false);\r\n            actions.resetForm();\r\n            document.getElementById(\"medias\").files = null;\r\n            document.getElementById(\"medias\").value = null;\r\n          }, 400);\r\n        }}\r\n        className={classes.elementMargin}\r\n      >\r\n        {({ isSubmitting }) => (\r\n          <Form className={classes.formContainer}>\r\n            <Grid container spacing={2}>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.mediaMessage.token\")}\r\n                  name=\"token\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.mediaMessage.number\")}\r\n                  name=\"number\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                  required\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.body\")}\r\n                  name=\"body\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.userId\")}\r\n                  name=\"userId\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} md={6}>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"messagesAPI.textMessage.queueId\")}\r\n                  name=\"queueId\"\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  fullWidth\r\n                  className={classes.textField}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12}>\r\n                <input\r\n                  type=\"file\"\r\n                  name=\"medias\"\r\n                  id=\"medias\"\r\n                  required\r\n                  onChange={(e) => setFile(e.target.files)}\r\n                />\r\n              </Grid>\r\n              <Grid item xs={12} className={classes.textRight}>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  style={{ borderRadius: \"22px\" }}\r\n                >\r\n                  {isSubmitting ? (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  ) : (\r\n                    \"Enviar\"\r\n                  )}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Form>\r\n        )}\r\n      </Formik>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <Paper\r\n      className={classes.mainPaper}\r\n      style={{ marginLeft: \"5px\" }}\r\n      // className={classes.elementMargin}\r\n      variant=\"outlined\"\r\n    >\r\n      <Typography variant=\"h5\">{i18n.t(\"messagesAPI.API.title\")}</Typography>\r\n      <Typography\r\n        variant=\"h6\"\r\n        color=\"primary\"\r\n        className={classes.elementMargin}\r\n      >\r\n        {i18n.t(\"messagesAPI.API.methods.title\")}\r\n      </Typography>\r\n      <Typography component=\"div\">\r\n        <ol>\r\n          <li>{i18n.t(\"messagesAPI.API.methods.messagesText\")}</li>\r\n          <li>{i18n.t(\"messagesAPI.API.methods.messagesMidia\")}</li>\r\n        </ol>\r\n      </Typography>\r\n      <Typography\r\n        variant=\"h6\"\r\n        color=\"primary\"\r\n        className={classes.elementMargin}\r\n      >\r\n        {i18n.t(\"messagesAPI.API.instructions.title\")}\r\n      </Typography>\r\n      <Typography className={classes.elementMargin} component=\"div\">\r\n        <b>{i18n.t(\"messagesAPI.API.instructions.comments\")}</b>\r\n        <br />\r\n        <ul>\r\n          <li>{i18n.t(\"messagesAPI.API.instructions.comments1\")}</li>\r\n          <li>\r\n            {i18n.t(\"messagesAPI.API.instructions.comments2\")}\r\n            <ul>\r\n              <li>{i18n.t(\"messagesAPI.API.instructions.codeCountry\")}</li>\r\n              <li>{i18n.t(\"messagesAPI.API.instructions.code\")}</li>\r\n              <li>{i18n.t(\"messagesAPI.API.instructions.number\")}</li>\r\n            </ul>\r\n          </li>\r\n        </ul>\r\n      </Typography>\r\n      <Typography\r\n        variant=\"h6\"\r\n        color=\"primary\"\r\n        className={classes.elementMargin}\r\n      >\r\n        {i18n.t(\"messagesAPI.API.text.title\")}\r\n      </Typography>\r\n      <Grid container>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin} component=\"div\">\r\n            <p>{i18n.t(\"messagesAPI.API.text.instructions\")}</p>\r\n            <b>Endpoint: </b> {getEndpoint()} <br />\r\n            <b>Método: </b> POST <br />\r\n            <b>Headers: </b> Authorization Bearer (token registrado) e\r\n            Content-Type (application/json) <br />\r\n            <b>Body: </b> {\"{\"} <br></br>\r\n            \"number\": \"558599999999\" <br></br>\r\n            \"body\": \"Message\" <br></br>\r\n            \"userId\": ID usuário ou \"\" <br></br>\r\n            \"queueId\": ID Fila ou \"\"<br></br>\r\n            \"sendSignature\": Assinar mensagem - true/false <br></br>\r\n            \"closeTicket\": Encerrar o ticket - true/false<br></br>\r\n            {\"}\"}\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin}>\r\n            <b>Teste de Envio</b>\r\n          </Typography>\r\n          {renderFormMessageText()}\r\n        </Grid>\r\n      </Grid>\r\n      <Typography\r\n        variant=\"h6\"\r\n        color=\"primary\"\r\n        className={classes.elementMargin}\r\n      >\r\n        {i18n.t(\"messagesAPI.API.media.title\")}\r\n      </Typography>\r\n      <Grid container>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin} component=\"div\">\r\n            <p>{i18n.t(\"messagesAPI.API.media.instructions\")}</p>\r\n            <b>Endpoint: </b> {getEndpoint()} <br />\r\n            <b>Método: </b> POST <br />\r\n            <b>Headers: </b> Authorization Bearer (token cadastrado) e\r\n            Content-Type (multipart/form-data) <br />\r\n            <b>FormData: </b> <br />\r\n            <ul>\r\n              <li>\r\n                <b>number: </b> 558599999999\r\n              </li>\r\n              <li>\r\n                <b>body:</b> Message\r\n              </li>\r\n              <li>\r\n                <b>userId:</b> ID usuário ou \"\"\r\n              </li>\r\n              <li>\r\n                <b>queueId:</b> ID da fila ou \"\"\r\n              </li>\r\n              <li>\r\n                <b>medias: </b> arquivo\r\n              </li>\r\n              <li>\r\n                <b>sendSignature:</b> Assinar mensagem true/false\r\n              </li>\r\n              <li>\r\n                <b>closeTicket:</b> Encerrar ticket true/false\r\n              </li>\r\n            </ul>\r\n          </Typography>\r\n        </Grid>\r\n        <Grid item xs={12} sm={6}>\r\n          <Typography className={classes.elementMargin}>\r\n            <b>Teste de Envio</b>\r\n          </Typography>\r\n          {renderFormMessageMedia()}\r\n        </Grid>\r\n      </Grid>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default MessagesAPI;\r\n","import React, { useState, useEffect, useCallback } from \"react\";\r\nimport { makeStyles, Paper, Typography, Modal, IconButton } from \"@material-ui/core\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport useHelps from \"../../hooks/useHelps\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaperContainer: {\r\n    overflowY: 'auto',\r\n    maxHeight: 'calc(100vh - 200px)',\r\n  },\r\n  mainPaper: {\r\n    width: '100%',\r\n    display: 'grid',\r\n    gridTemplateColumns: 'repeat(auto-fit, minmax(320px, 1fr))',\r\n    gap: theme.spacing(3),\r\n    padding: theme.spacing(2),\r\n    marginBottom: theme.spacing(3),\r\n  },\r\n  helpPaper: {\r\n    position: 'relative',\r\n    width: '100%',\r\n    minHeight: '340px',\r\n    padding: theme.spacing(2),\r\n    boxShadow: theme.shadows[3],\r\n    borderRadius: theme.spacing(1),\r\n    cursor: 'pointer',\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    justifyContent: 'space-between',\r\n    maxWidth: '340px',\r\n  },\r\n  paperHover: {\r\n    transition: 'transform 0.3s, box-shadow 0.3s',\r\n    '&:hover': {\r\n      transform: 'scale(1.03)',\r\n      boxShadow: `0 0 8px`,\r\n      color: theme.palette.primary.main,\r\n    },\r\n  },\r\n  videoThumbnail: {\r\n    width: '100%',\r\n    height: 'calc(100% - 56px)',\r\n    objectFit: 'cover',\r\n    borderRadius: `${theme.spacing(1)}px ${theme.spacing(1)}px 0 0`,\r\n  },\r\n  videoTitle: {\r\n    marginTop: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  videoDescription: {\r\n    maxHeight: '100px',\r\n    overflow: 'hidden',\r\n  },\r\n  videoModal: {\r\n    display: 'flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n  },\r\n  videoModalContent: {\r\n    outline: 'none',\r\n    width: '90%',\r\n    maxWidth: 1024,\r\n    aspectRatio: '16/9',\r\n    position: 'relative',\r\n    backgroundColor: 'white',\r\n    borderRadius: theme.spacing(1),\r\n    overflow: 'hidden',\r\n  },\r\n}));\r\n\r\nconst Helps = () => {\r\n  const classes = useStyles();\r\n  const [records, setRecords] = useState([]);\r\n  const { list } = useHelps();\r\n  const [selectedVideo, setSelectedVideo] = useState(null);\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const helps = await list();\r\n      setRecords(helps);\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const openVideoModal = (video) => {\r\n    setSelectedVideo(video);\r\n  };\r\n\r\n  const closeVideoModal = () => {\r\n    setSelectedVideo(null);\r\n  };\r\n\r\n  const handleModalClose = useCallback((event) => {\r\n    if (event.key === \"Escape\") {\r\n      closeVideoModal();\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    document.addEventListener(\"keydown\", handleModalClose);\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", handleModalClose);\r\n    };\r\n  }, [handleModalClose]);\r\n\r\n  const renderVideoModal = () => {\r\n    return (\r\n      <Modal\r\n        open={Boolean(selectedVideo)}\r\n        onClose={closeVideoModal}\r\n        className={classes.videoModal}\r\n      >\r\n        <div className={classes.videoModalContent}>\r\n          {selectedVideo && (\r\n            <iframe\r\n              style={{ width: \"100%\", height: \"100%\", position: \"absolute\", top: 0, left: 0 }}\r\n              src={`https://www.youtube.com/embed/${selectedVideo}`}\r\n              title=\"YouTube video player\"\r\n              frameBorder=\"0\"\r\n              allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\"\r\n              allowFullScreen\r\n            />\r\n          )}\r\n        </div>\r\n      </Modal>\r\n    );\r\n  };\r\n\r\n  const renderHelps = () => {\r\n    return (\r\n      <>\r\n        <div className={`${classes.mainPaper} ${classes.mainPaperContainer}`}>\r\n          {records.length ? records.map((record, key) => (\r\n            <Paper key={key} className={`${classes.helpPaper} ${classes.paperHover}`} onClick={() => openVideoModal(record.video)}>\r\n              <img\r\n                src={`https://img.youtube.com/vi/${record.video}/mqdefault.jpg`}\r\n                alt=\"Thumbnail\"\r\n                className={classes.videoThumbnail}\r\n              />\r\n              <Typography variant=\"button\" className={classes.videoTitle}>\r\n                {record.title}\r\n              </Typography>\r\n              <Typography variant=\"caption\" className={classes.videoDescription}>\r\n                {record.description}\r\n              </Typography>\r\n            </Paper>\r\n          )) : null}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"helps.title\")} ({records.length})</Title>\r\n        <MainHeaderButtonsWrapper></MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <div className={classes.mainPaper}>\r\n        {renderHelps()}\r\n      </div>\r\n      {renderVideoModal()}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Helps;","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n}));\r\n\r\nconst ContactListSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst ContactListModal = ({ open, onClose, contactListId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n  };\r\n\r\n  const [contactList, setContactList] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    const fetchContactList = async () => {\r\n      if (!contactListId) return;\r\n      try {\r\n        const { data } = await api.get(`/contact-lists/${contactListId}`);\r\n        setContactList((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    fetchContactList();\r\n  }, [contactListId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setContactList(initialState);\r\n  };\r\n\r\n  const handleSaveContactList = async (values) => {\r\n    const contactListData = { ...values };\r\n    try {\r\n      if (contactListId) {\r\n        await api.put(`/contact-lists/${contactListId}`, contactListData);\r\n      } else {\r\n        await api.post(\"/contact-lists\", contactListData);\r\n      }\r\n      toast.success(i18n.t(\"contactList.dialog\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {contactListId\r\n            ? `${i18n.t(\"contactLists.dialog.edit\")}`\r\n            : `${i18n.t(\"contactLists.dialog.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={contactList}\r\n          enableReinitialize={true}\r\n          validationSchema={ContactListSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveContactList(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <div className={classes.multFieldLine}>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"contactLists.dialog.name\")}\r\n                    autoFocus\r\n                    name=\"name\"\r\n                    error={touched.name && Boolean(errors.name)}\r\n                    helperText={touched.name && errors.name}\r\n                    variant=\"outlined\"\r\n                    margin=\"dense\"\r\n                    fullWidth\r\n                  />\r\n                </div>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactLists.dialog.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {contactListId\r\n                    ? `${i18n.t(\"contactLists.dialog.okEdit\")}`\r\n                    : `${i18n.t(\"contactLists.dialog.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactListModal;\r\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport DownloadIcon from \"@material-ui/icons/GetApp\";\r\nimport PeopleIcon from \"@material-ui/icons/People\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport { Grid } from \"@material-ui/core\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport ContactListDialog from \"../../components/ContactListDialog\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTLISTS\") {\r\n    const contactLists = action.payload;\r\n    const newContactLists = [];\r\n\r\n    contactLists.forEach((contactList) => {\r\n      const contactListIndex = state.findIndex((u) => u.id === contactList.id);\r\n      if (contactListIndex !== -1) {\r\n        state[contactListIndex] = contactList;\r\n      } else {\r\n        newContactLists.push(contactList);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContactLists];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTLIST\") {\r\n    const contactList = action.payload;\r\n    const contactListIndex = state.findIndex((u) => u.id === contactList.id);\r\n\r\n    if (contactListIndex !== -1) {\r\n      state[contactListIndex] = contactList;\r\n      return [...state];\r\n    } else {\r\n      return [contactList, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACTLIST\") {\r\n    const contactListId = action.payload;\r\n\r\n    const contactListIndex = state.findIndex((u) => u.id === contactListId);\r\n    if (contactListIndex !== -1) {\r\n      state.splice(contactListIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst ContactLists = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedContactList, setSelectedContactList] = useState(null);\r\n  const [deletingContactList, setDeletingContactList] = useState(null);\r\n  const [contactListModalOpen, setContactListModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contactLists, dispatch] = useReducer(reducer, []);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContactLists = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/contact-lists/\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n          dispatch({ type: \"LOAD_CONTACTLISTS\", payload: data.records });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContactLists();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onContactListEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTLIST\", payload: data.record });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACTLIST\", payload: +data.id });\r\n      }\r\n    };\r\n\r\n    socket.on(`company-${companyId}-ContactList`, onContactListEvent);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-ContactList`, onContactListEvent);\r\n    };\r\n  }, []);\r\n\r\n  const handleOpenContactListModal = () => {\r\n    setSelectedContactList(null);\r\n    setContactListModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactListModal = () => {\r\n    setSelectedContactList(null);\r\n    setContactListModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditContactList = (contactList) => {\r\n    setSelectedContactList(contactList);\r\n    setContactListModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteContactList = async (contactListId) => {\r\n    try {\r\n      await api.delete(`/contact-lists/${contactListId}`);\r\n      toast.success(i18n.t(\"contactLists.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContactList(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const goToContacts = (id) => {\r\n    history.push(`/contact-lists/${id}/contacts`);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContactList &&\r\n          `${i18n.t(\"contactLists.confirmationModal.deleteTitle\")} ${\r\n            deletingContactList.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteContactList(deletingContactList.id)}\r\n      >\r\n        {i18n.t(\"contactLists.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <ContactListDialog\r\n        open={contactListModalOpen}\r\n        onClose={handleCloseContactListModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactListId={selectedContactList && selectedContactList.id}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>{i18n.t(\"contactLists.title\")}</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={7} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={5} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={handleOpenContactListModal}\r\n                  style={{ borderRadius: \"22px\" }}\r\n                >\r\n                  {i18n.t(\"contactLists.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contactLists.table.name\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contactLists.table.contacts\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"contactLists.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {contactLists.map((contactList) => (\r\n                <TableRow key={contactList.id}>\r\n                  <TableCell align=\"center\">{contactList.name}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {contactList.contactsCount || 0}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <a href={planilhaExemplo} download=\"planilha.xlsx\">\r\n                      <IconButton size=\"small\" title=\"Baixar Planilha Exemplo\">\r\n                        <DownloadIcon />\r\n                      </IconButton>\r\n                    </a>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => goToContacts(contactList.id)}\r\n                    >\r\n                      <PeopleIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditContactList(contactList)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingContactList(contactList);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={3} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default ContactLists;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  number: Yup.string().min(8, \"Too Short!\").max(50, \"Too Long!\"),\r\n  email: Yup.string().email(\"Invalid email\"),\r\n});\r\n\r\nconst ContactListItemModal = ({\r\n  open,\r\n  onClose,\r\n  contactId,\r\n  initialValues,\r\n  onSave,\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const {\r\n    user: { companyId },\r\n  } = useContext(AuthContext);\r\n  const { contactListId } = useParams();\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    number: \"\",\r\n    email: \"\",\r\n  };\r\n\r\n  const [contact, setContact] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const fetchContact = async () => {\r\n      if (initialValues) {\r\n        setContact((prevState) => {\r\n          return { ...prevState, ...initialValues };\r\n        });\r\n      }\r\n\r\n      if (!contactId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`/contact-list-items/${contactId}`);\r\n        if (isMounted.current) {\r\n          setContact(data);\r\n        }\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n\r\n    fetchContact();\r\n  }, [contactId, open, initialValues]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setContact(initialState);\r\n  };\r\n\r\n  const handleSaveContact = async (values) => {\r\n    try {\r\n      if (contactId) {\r\n        await api.put(`/contact-list-items/${contactId}`, {\r\n          ...values,\r\n          companyId,\r\n          contactListId,\r\n        });\r\n        handleClose();\r\n      } else {\r\n        const { data } = await api.post(\"/contact-list-items\", {\r\n          ...values,\r\n          companyId,\r\n          contactListId,\r\n        });\r\n        if (onSave) {\r\n          onSave(data);\r\n        }\r\n        handleClose();\r\n      }\r\n      toast.success(i18n.t(\"contactModal.success\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={open} onClose={handleClose} maxWidth=\"lg\" scroll=\"paper\">\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {contactId\r\n            ? `${i18n.t(\"contactModal.title.edit\")}`\r\n            : `${i18n.t(\"contactModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={contact}\r\n          enableReinitialize={true}\r\n          validationSchema={ContactSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveContact(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, errors, touched, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Typography variant=\"subtitle1\" gutterBottom>\r\n                  {i18n.t(\"contactModal.form.mainInfo\")}\r\n                </Typography>\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"contactModal.form.name\")}\r\n                  name=\"name\"\r\n                  autoFocus\r\n                  error={touched.name && Boolean(errors.name)}\r\n                  helperText={touched.name && errors.name}\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                  className={classes.textField}\r\n                />\r\n                <Field\r\n                  as={TextField}\r\n                  label={i18n.t(\"contactModal.form.number\")}\r\n                  name=\"number\"\r\n                  error={touched.number && Boolean(errors.number)}\r\n                  helperText={touched.number && errors.number}\r\n                  placeholder=\"5513912344321\"\r\n                  variant=\"outlined\"\r\n                  margin=\"dense\"\r\n                />\r\n                <div>\r\n                  <Field\r\n                    as={TextField}\r\n                    label={i18n.t(\"contactModal.form.email\")}\r\n                    name=\"email\"\r\n                    error={touched.email && Boolean(errors.email)}\r\n                    helperText={touched.email && errors.email}\r\n                    placeholder=\"Email address\"\r\n                    fullWidth\r\n                    margin=\"dense\"\r\n                    variant=\"outlined\"\r\n                  />\r\n                </div>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {contactId\r\n                    ? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ContactListItemModal;\r\n","import api from \"../../services/api\";\r\n\r\nconst useContactLists = () => {\r\n  const save = async (data) => {\r\n    const { data: responseData } = await api.request({\r\n      url: \"/contact-lists\",\r\n      method: \"POST\",\r\n      data,\r\n    });\r\n    return responseData;\r\n  };\r\n\r\n  const update = async (data) => {\r\n    const { data: responseData } = await api.request({\r\n      url: `/contact-lists/${data.id}`,\r\n      method: \"PUT\",\r\n      data,\r\n    });\r\n    return responseData;\r\n  };\r\n\r\n  const deleteRecord = async (id) => {\r\n    const { data } = await api.request({\r\n      url: `/contact-lists/${id}`,\r\n      method: \"DELETE\",\r\n    });\r\n    return data;\r\n  };\r\n\r\n  const findById = async (id) => {\r\n    const { data } = await api.request({\r\n      url: `/contact-lists/${id}`,\r\n      method: \"GET\",\r\n    });\r\n    return data;\r\n  };\r\n\r\n  const list = async (params) => {\r\n    const { data } = await api.request({\r\n      url: \"/contact-lists/list\",\r\n      method: \"GET\",\r\n      params,\r\n    });\r\n    return data;\r\n  };\r\n\r\n  return {\r\n    findById,\r\n    save,\r\n    update,\r\n    deleteRecord,\r\n    list,\r\n  };\r\n};\r\n\r\nexport default useContactLists;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useContext,\r\n  useRef,\r\n} from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useParams, useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport BlockIcon from \"@material-ui/icons/Block\";\r\n\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport ContactListItemModal from \"../../components/ContactListItemModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\nimport useContactLists from \"../../hooks/useContactLists\";\r\nimport { Grid } from \"@material-ui/core\";\r\n\r\nimport planilhaExemplo from \"../../assets/planilha.xlsx\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTS\") {\r\n    const contacts = action.payload;\r\n    const newContacts = [];\r\n\r\n    contacts.forEach((contact) => {\r\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n      if (contactIndex !== -1) {\r\n        state[contactIndex] = contact;\r\n      } else {\r\n        newContacts.push(contact);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContacts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTS\") {\r\n    const contact = action.payload;\r\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n\r\n    if (contactIndex !== -1) {\r\n      state[contactIndex] = contact;\r\n      return [...state];\r\n    } else {\r\n      return [contact, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACT\") {\r\n    const contactId = action.payload;\r\n\r\n    const contactIndex = state.findIndex((c) => c.id === contactId);\r\n    if (contactIndex !== -1) {\r\n      state.splice(contactIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst ContactListItems = () => {\r\n  const classes = useStyles();\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { contactListId } = useParams();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contacts, dispatch] = useReducer(reducer, []);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactListItemModalOpen, setContactListItemModalOpen] =\r\n    useState(false);\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [contactList, setContactList] = useState({});\r\n  const fileUploadRef = useRef(null);\r\n\r\n  const { findById: findContactList } = useContactLists();\r\n\r\n  useEffect(() => {\r\n    findContactList(contactListId).then((data) => {\r\n      setContactList(data);\r\n    });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [contactListId]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(`contact-list-items`, {\r\n            params: { searchParam, pageNumber, contactListId },\r\n          });\r\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.contacts });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber, contactListId]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onCompanyContactLists = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.record });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.id });\r\n      }\r\n\r\n      if (data.action === \"reload\") {\r\n        dispatch({ type: \"LOAD_CONTACTS\", payload: data.records });\r\n      }\r\n    }\r\n    socket.on(`company-${companyId}-ContactListItem`, onCompanyContactLists);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-ContactListItem`, onCompanyContactLists);\r\n    };\r\n  }, [contactListId]);\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleOpenContactListItemModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactListItemModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactListItemModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactListItemModalOpen(false);\r\n  };\r\n\r\n  const hadleEditContact = (contactId) => {\r\n    setSelectedContactId(contactId);\r\n    setContactListItemModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteContact = async (contactId) => {\r\n    try {\r\n      await api.delete(`/contact-list-items/${contactId}`);\r\n      toast.success(i18n.t(\"contacts.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingContact(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const handleImportContacts = async () => {\r\n    try {\r\n      const formData = new FormData();\r\n      formData.append(\"file\", fileUploadRef.current.files[0]);\r\n      await api.request({\r\n        url: `contact-lists/${contactListId}/upload`,\r\n        method: \"POST\",\r\n        data: formData,\r\n      });\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const goToContactLists = () => {\r\n    history.push(\"/contact-lists\");\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <ContactListItemModal\r\n        open={contactListItemModalOpen}\r\n        onClose={handleCloseContactListItemModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactId={selectedContactId}\r\n      ></ContactListItemModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `${i18n.t(\"contactListItems.confirmationModal.deleteTitle\")} ${deletingContact.name\r\n            }?`\r\n            : `${i18n.t(\"contactListItems.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmOpen}\r\n        onClose={setConfirmOpen}\r\n        onConfirm={() =>\r\n          deletingContact\r\n            ? handleDeleteContact(deletingContact.id)\r\n            : handleImportContacts()\r\n        }\r\n      >\r\n        {deletingContact ? (\r\n          `${i18n.t(\"contactListItems.confirmationModal.deleteMessage\")}`\r\n        ) : (\r\n          <>\r\n            {i18n.t(\"contactListItems.confirmationModal.importMessage\")}\r\n            <a href={planilhaExemplo} download=\"planilha.xlsx\">\r\n              Clique aqui para baixar planilha exemplo.\r\n            </a>\r\n          </>\r\n        )}\r\n      </ConfirmationModal>\r\n      {\r\n        user.profile === \"user\" ?\r\n          <ForbiddenPage />\r\n          :\r\n          <>\r\n            <MainHeader>\r\n              <Grid style={{ width: \"99.6%\" }} container>\r\n                <Grid xs={12} sm={5} item>\r\n                  <Title>{contactList.name}</Title>\r\n                </Grid>\r\n                <Grid xs={12} sm={7} item>\r\n                  <Grid spacing={2} container>\r\n                    <Grid xs={12} sm={6} item>\r\n                      <TextField\r\n                        fullWidth\r\n                        placeholder={i18n.t(\"contactListItems.searchPlaceholder\")}\r\n                        type=\"search\"\r\n                        value={searchParam}\r\n                        onChange={handleSearch}\r\n                        InputProps={{\r\n                          startAdornment: (\r\n                            <InputAdornment position=\"start\">\r\n                              <SearchIcon style={{ color: \"gray\" }} />\r\n                            </InputAdornment>\r\n                          ),\r\n                        }}\r\n                      />\r\n                    </Grid>\r\n                    <Grid xs={4} sm={2} item>\r\n                      <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={goToContactLists}\r\n                      >\r\n                        {i18n.t(\"contactListItems.buttons.lists\")}\r\n                      </Button>\r\n                    </Grid>\r\n                    <Grid xs={4} sm={2} item>\r\n                      <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={() => {\r\n                          fileUploadRef.current.value = null;\r\n                          fileUploadRef.current.click();\r\n                        }}\r\n                      >\r\n                        {i18n.t(\"contactListItems.buttons.import\")}\r\n                      </Button>\r\n                    </Grid>\r\n                    <Grid xs={4} sm={2} item>\r\n                      <Button\r\n                        fullWidth\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={handleOpenContactListItemModal}\r\n                      >\r\n                        {i18n.t(\"contactListItems.buttons.add\")}\r\n                      </Button>\r\n                    </Grid>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </MainHeader>\r\n            <Paper\r\n              className={classes.mainPaper}\r\n              variant=\"outlined\"\r\n              onScroll={handleScroll}\r\n            >\r\n              <>\r\n                <input\r\n                  style={{ display: \"none\" }}\r\n                  id=\"upload\"\r\n                  name=\"file\"\r\n                  type=\"file\"\r\n                  accept=\".xls,.xlsx\"\r\n                  onChange={() => {\r\n                    setConfirmOpen(true);\r\n                  }}\r\n                  ref={fileUploadRef}\r\n                />\r\n              </>\r\n              <Table size=\"small\">\r\n                <TableHead>\r\n                  <TableRow>\r\n                    <TableCell align=\"center\" style={{ width: \"0%\" }}>\r\n                      #\r\n                    </TableCell>\r\n                    <TableCell>{i18n.t(\"contactListItems.table.name\")}</TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"contactListItems.table.number\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"contactListItems.table.email\")}\r\n                    </TableCell>\r\n                    <TableCell align=\"center\">\r\n                      {i18n.t(\"contactListItems.table.actions\")}\r\n                    </TableCell>\r\n                  </TableRow>\r\n                </TableHead>\r\n                <TableBody>\r\n                  <>\r\n                    {contacts.map((contact) => (\r\n                      <TableRow key={contact.id}>\r\n                        <TableCell align=\"center\" style={{ width: \"0%\" }}>\r\n                          <IconButton>\r\n                            {contact.isWhatsappValid ? (\r\n                              <CheckCircleIcon\r\n                                titleAccess=\"Whatsapp Válido\"\r\n                                htmlColor=\"green\"\r\n                              />\r\n                            ) : (\r\n                              <BlockIcon\r\n                                titleAccess=\"Whatsapp Inválido\"\r\n                                htmlColor=\"grey\"\r\n                              />\r\n                            )}\r\n                          </IconButton>\r\n                        </TableCell>\r\n                        <TableCell>{contact.name}</TableCell>\r\n                        <TableCell align=\"center\">{contact.number}</TableCell>\r\n                        <TableCell align=\"center\">{contact.email}</TableCell>\r\n                        <TableCell align=\"center\">\r\n                          <IconButton\r\n                            size=\"small\"\r\n                            onClick={() => hadleEditContact(contact.id)}\r\n                          >\r\n                            <EditIcon />\r\n                          </IconButton>\r\n                          <Can\r\n                            role={user.profile}\r\n                            perform=\"contacts-page:deleteContact\"\r\n                            yes={() => (\r\n                              <IconButton\r\n                                size=\"small\"\r\n                                onClick={() => {\r\n                                  setConfirmOpen(true);\r\n                                  setDeletingContact(contact);\r\n                                }}\r\n                              >\r\n                                <DeleteOutlineIcon />\r\n                              </IconButton>\r\n                            )}\r\n                          />\r\n                        </TableCell>\r\n                      </TableRow>\r\n                    ))}\r\n                    {loading && <TableRowSkeleton columns={4} />}\r\n                  </>\r\n                </TableBody>\r\n              </Table>\r\n            </Paper>\r\n          </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default ContactListItems;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n\tButton,\r\n\tDialog,\r\n\tDialogActions,\r\n\tDialogContent,\r\n\tDialogTitle,\r\n\tCircularProgress,\r\n\tSelect,\r\n\tInputLabel,\r\n\tMenuItem,\r\n\tFormControl,\r\n\tTextField,\r\n\tInputAdornment,\r\n\tIconButton,\r\n\tFormControlLabel,\r\n\tSwitch\r\n} from '@material-ui/core';\r\n\r\nimport { Visibility, VisibilityOff } from '@material-ui/icons';\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tmultFieldLine: {\r\n\t\tdisplay: \"flex\",\r\n\t\t\"& > *:not(:last-child)\": {\r\n\t\t\tmarginRight: theme.spacing(1),\r\n\t\t},\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n\tformControl: {\r\n\t\tmargin: theme.spacing(1),\r\n\t\tminWidth: 120,\r\n\t},\r\n}));\r\n\r\nconst CompanySchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Too Short!\")\r\n\t\t.max(50, \"Too Long!\")\r\n\t\t.required(\"Nome é obrigatório\"),\r\n\temail: Yup.string().email(\"Email é inválido\").required(\"E-mail é obrigatório\"),\r\n\tnumberAttendants: Yup.number(),\r\n\tnumberConections: Yup.number(),\r\n});\r\n\r\nconst CompanyModal = ({ open, onClose, companyId }) => {\r\n\tconst classes = useStyles();\r\n\r\n\tconst initialState = {\r\n\t\tname: \"\",\r\n\t\temail: \"\",\r\n\t\tpasswordDefault: \"\",\r\n\t\tnumberAttendants: 1,\r\n\t\tnumberConections: 1,\r\n\t\tstatus: false\r\n\t};\r\n\r\n\tconst [company, setCompany] = useState(initialState);\r\n\tconst [showPassword, setShowPassword] = useState(false);\r\n\r\n\tuseEffect(() => {\r\n\t\tconst fetchCompany = async () => {\r\n\t\t\tif (!companyId) return;\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(`/companies/listPlan/${companyId}`);\r\n\t\t\t\tsetCompany(prevState => {\r\n\t\t\t\t\treturn { ...prevState, ...data };\r\n\t\t\t\t});\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t};\r\n\r\n\t\tfetchCompany();\r\n\t}, [companyId, open]);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetCompany(initialState);\r\n\t};\r\n\r\n\tconst handleSaveCompany = async values => {\r\n\t\tconst companyData = { ...values };\r\n\t\ttry {\r\n\t\t\tif (companyId) {\r\n\t\t\t\tawait api.put(`/companies/${companyId}`, companyData);\r\n\t\t\t} else {\r\n\t\t\t\tawait api.post(\"/companies\", companyData);\r\n\t\t\t}\r\n\t\t\ttoast.success(i18n.t(\"companyModal.success\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t\thandleClose();\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog\r\n\t\t\t\topen={open}\r\n\t\t\t\tonClose={handleClose}\r\n\t\t\t\tmaxWidth=\"xs\"\r\n\t\t\t\tfullWidth\r\n\t\t\t\tscroll=\"paper\"\r\n\t\t\t>\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{companyId\r\n\t\t\t\t\t\t? `${i18n.t(\"companyModal.title.edit\")}`\r\n\t\t\t\t\t\t: `${i18n.t(\"companyModal.title.add\")}`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={company}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={CompanySchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveCompany(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ values, touched, errors, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.name && Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.name && errors.name}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<FormControlLabel\r\n\t\t\t\t\t\t\t\t\t\tcontrol={\r\n\t\t\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\t\t\tas={Switch}\r\n\t\t\t\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tname=\"status\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tchecked={values.status}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlabel={\"Ativo\"}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.email\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"email\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.email && Boolean(errors.email)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.email && errors.email}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t<div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tname=\"passwordDefault\"\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.passwordDefault\")}\r\n\t\t\t\t\t\t\t\t\t\terror={touched.passwordDefault && Boolean(errors.passwordDefault)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.passwordDefault && errors.passwordDefault}\r\n\t\t\t\t\t\t\t\t\t\ttype={showPassword ? 'text' : 'password'}\r\n\t\t\t\t\t\t\t\t\t\tInputProps={{\r\n\t\t\t\t\t\t\t\t\t\t\tendAdornment: (\r\n\t\t\t\t\t\t\t\t\t\t\t\t<InputAdornment position=\"end\">\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t<IconButton\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\taria-label=\"toggle password visibility\"\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tonClick={() => setShowPassword((e) => !e)}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t{showPassword ? <VisibilityOff /> : <Visibility />}\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t</IconButton>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</InputAdornment>\r\n\t\t\t\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t\t\t\t}}\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t\t{/* <div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.numberAttendants\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"numberAttendants\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.numberAttendants && Boolean(errors.numberAttendants)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.numberAttendants && errors.numberAttendants}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t\tstyle={\r\n\t\t\t\t\t\t\t\t\t\t\t// console.log('touched', touched)\r\n\t\t\t\t\t\t\t\t\t\t\tconsole.log('value', values)\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t\t{/* <div className={classes.multFieldLine}>\r\n\t\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"companyModal.form.numberConections\")}\r\n\t\t\t\t\t\t\t\t\t\tname=\"numberConections\"\r\n\t\t\t\t\t\t\t\t\t\terror={touched.numberConections && Boolean(errors.numberConections)}\r\n\t\t\t\t\t\t\t\t\t\thelperText={touched.numberConections && errors.numberConections}\r\n\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\t\ttype=\"number\"\r\n\t\t\t\t\t\t\t\t\t\tfullWidth\r\n\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t</div> */}\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"companyModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{companyId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"companyModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"companyModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default CompanyModal;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\n\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport CompanyModal from \"../../components/CompaniesModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport moment from \"moment\";\r\n\r\nconst reducer = (state, action) => {\r\n    if (action.type === \"LOAD_COMPANIES\") {\r\n        const companies = action.payload;\r\n        const newCompanies = [];\r\n\r\n        companies.forEach((company) => {\r\n            const companyIndex = state.findIndex((u) => u.id === company.id);\r\n            if (companyIndex !== -1) {\r\n                state[companyIndex] = company;\r\n            } else {\r\n                newCompanies.push(company);\r\n            }\r\n        });\r\n\r\n        return [...state, ...newCompanies];\r\n    }\r\n\r\n    if (action.type === \"UPDATE_COMPANIES\") {\r\n        const company = action.payload;\r\n        const companyIndex = state.findIndex((u) => u.id === company.id);\r\n\r\n        if (companyIndex !== -1) {\r\n            state[companyIndex] = company;\r\n            return [...state];\r\n        } else {\r\n            return [company, ...state];\r\n        }\r\n    }\r\n\r\n    if (action.type === \"DELETE_COMPANIES\") {\r\n        const companyId = action.payload;\r\n\r\n        const companyIndex = state.findIndex((u) => u.id === companyId);\r\n        if (companyIndex !== -1) {\r\n            state.splice(companyIndex, 1);\r\n        }\r\n        return [...state];\r\n    }\r\n\r\n    if (action.type === \"RESET\") {\r\n        return [];\r\n    }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n    mainPaper: {\r\n        flex: 1,\r\n        padding: theme.spacing(1),\r\n        overflowY: \"scroll\",\r\n        ...theme.scrollbarStyles,\r\n    },\r\n}));\r\n\r\nconst Companies = () => {\r\n    const classes = useStyles();\r\n    const history = useHistory();\r\n\r\n    const [loading, setLoading] = useState(false);\r\n    const [pageNumber, setPageNumber] = useState(1);\r\n    const [hasMore, setHasMore] = useState(false);\r\n    const [selectedCompany, setSelectedCompany] = useState(null);\r\n    const [deletingCompany, setDeletingCompany] = useState(null);\r\n    const [companyModalOpen, setCompanyModalOpen] = useState(false);\r\n    const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n    const [searchParam, setSearchParam] = useState(\"\");\r\n    const [companies, dispatch] = useReducer(reducer, []);\r\n    const { dateToClient, datetimeToClient } = useDate();\r\n\r\n    // const { getPlanCompany } = usePlans();\r\n  //   const socketManager = useContext(SocketContext);\r\n    const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n    useEffect(() => {\r\n        async function fetchData() {\r\n            if (!user.super) {\r\n                toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n                setTimeout(() => {\r\n                    history.push(`/`)\r\n                }, 1000);\r\n            }\r\n        }\r\n        fetchData();\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        dispatch({ type: \"RESET\" });\r\n        setPageNumber(1);\r\n    }, [searchParam]);\r\n\r\n    useEffect(() => {\r\n        setLoading(true);\r\n        const delayDebounceFn = setTimeout(() => {\r\n            const fetchCompanies = async () => {\r\n                try {\r\n                    const { data } = await api.get(\"/companiesPlan/\", {\r\n                        params: { searchParam, pageNumber },\r\n                    });\r\n                    dispatch({ type: \"LOAD_COMPANIES\", payload: data.companies });\r\n                    setHasMore(data.hasMore);\r\n                    setLoading(false);\r\n                } catch (err) {\r\n                    toastError(err);\r\n                }\r\n            };\r\n            fetchCompanies();\r\n        }, 500);\r\n        return () => clearTimeout(delayDebounceFn);\r\n    }, [searchParam, pageNumber]);\r\n\r\n//     useEffect(() => {\r\n//         const companyId = user.companyId;\r\n//   //    const socket = socketManager.GetSocket();\r\n//         // const socket = socketConnection();\r\n\r\n//         return () => {\r\n//             socket.disconnect();\r\n//         };\r\n//     }, []);\r\n\r\n    const handleOpenCompanyModal = () => {\r\n        setSelectedCompany(null);\r\n        setCompanyModalOpen(true);\r\n    };\r\n\r\n    const handleCloseCompanyModal = () => {\r\n        setSelectedCompany(null);\r\n        setCompanyModalOpen(false);\r\n    };\r\n\r\n    const handleSearch = (event) => {\r\n        setSearchParam(event.target.value.toLowerCase());\r\n    };\r\n\r\n    const handleEditCompany = (company) => {\r\n        setSelectedCompany(company);\r\n        setCompanyModalOpen(true);\r\n    };\r\n\r\n    const handleDeleteCompany = async (companyId) => {\r\n        try {\r\n            await api.delete(`/companies/${companyId}`);\r\n            toast.success(i18n.t(\"compaies.toasts.deleted\"));\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        setDeletingCompany(null);\r\n        setSearchParam(\"\");\r\n        setPageNumber(1);\r\n    };\r\n\r\n    const loadMore = () => {\r\n        setPageNumber((prevState) => prevState + 1);\r\n    };\r\n\r\n    const handleScroll = (e) => {\r\n        if (!hasMore || loading) return;\r\n        const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n        if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n            loadMore();\r\n        }\r\n    };\r\n\r\n    const renderStatus = (row) => {\r\n        return row.status === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderPlanValue = (row) => {\r\n        return row.planId !== null ? row.plan.amount ? row.plan.amount.toLocaleString('pt-br', { minimumFractionDigits: 2 }) : '00.00' : \"-\";\r\n    };\r\n\r\n    const renderWhatsapp = (row) => {\r\n        return row.useWhatsapp === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderFacebook = (row) => {\r\n        return row.useFacebook === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderInstagram = (row) => {\r\n        return row.useInstagram === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderCampaigns = (row) => {\r\n        return row.useCampaigns === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderSchedules = (row) => {\r\n        return row.useSchedules === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderInternalChat = (row) => {\r\n        return row.useInternalChat === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const renderExternalApi = (row) => {\r\n        return row.useExternalApi === false ? \"Não\" : \"Sim\";\r\n    };\r\n\r\n    const rowStyle = (record) => {\r\n        if (moment(record.dueDate).isValid()) {\r\n            const now = moment();\r\n            const dueDate = moment(record.dueDate);\r\n            const diff = dueDate.diff(now, \"days\");\r\n            if (diff >= 1 && diff <= 5) {\r\n                return { backgroundColor: \"#fffead\" };\r\n            }\r\n            if (diff <= 0) {\r\n                return { backgroundColor: \"#fa8c8c\" };\r\n            }\r\n            // else {\r\n            //   return { backgroundColor: \"#affa8c\" };\r\n            // }\r\n        }\r\n        return {};\r\n    };\r\n\r\n    return (\r\n        <MainContainer>\r\n            <ConfirmationModal\r\n                title={\r\n                    deletingCompany &&\r\n                    `${i18n.t(\"compaies.confirmationModal.deleteTitle\")} ${deletingCompany.name}?`\r\n                }\r\n                open={confirmModalOpen}\r\n                onClose={setConfirmModalOpen}\r\n                onConfirm={() => handleDeleteCompany(deletingCompany.id)}\r\n            >\r\n                {i18n.t(\"compaies.confirmationModal.deleteMessage\")}\r\n            </ConfirmationModal>\r\n            <CompanyModal\r\n                open={companyModalOpen}\r\n                onClose={handleCloseCompanyModal}\r\n                aria-labelledby=\"form-dialog-title\"\r\n                companyId={selectedCompany && selectedCompany.id}\r\n            />\r\n            <MainHeader>\r\n                <Title>{i18n.t(\"compaies.title\")} ({companies.length})</Title>\r\n                {/* <MainHeaderButtonsWrapper>\r\n                    <TextField\r\n                        placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                        type=\"search\"\r\n                        value={searchParam}\r\n                        onChange={handleSearch}\r\n                        InputProps={{\r\n                            startAdornment: (\r\n                                <InputAdornment position=\"start\">\r\n                                    <SearchIcon style={{ color: \"gray\" }} />\r\n                                </InputAdornment>\r\n                            ),\r\n                        }}\r\n                    />\r\n                    <Button\r\n                        variant=\"contained\"\r\n                        color=\"primary\"\r\n                        onClick={handleOpenCompanyModal}\r\n                    >\r\n                        {i18n.t(\"compaies.buttons.add\")}\r\n                    </Button>\r\n                </MainHeaderButtonsWrapper> */}\r\n            </MainHeader>\r\n            <Paper\r\n                className={classes.mainPaper}\r\n                variant=\"outlined\"\r\n                onScroll={handleScroll}\r\n            >\r\n                <Table size=\"small\">\r\n                    <TableHead>\r\n                        <TableRow>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.ID\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.status\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.name\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.email\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.namePlan\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.value\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.createdAt\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.dueDate\")}</TableCell>\r\n                            <TableCell align=\"center\">{i18n.t(\"compaies.table.lastLogin\")}</TableCell>\r\n                            <TableCell align=\"center\">Tamanho da pasta</TableCell>\r\n                            <TableCell align=\"center\">Total de arquivos</TableCell>\r\n                            <TableCell align=\"center\">Ultimo update</TableCell>\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberAttendants\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberConections\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.numberQueues\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useWhatsapp\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useFacebook\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useInstagram\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useCampaigns\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useExternalApi\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useInternalChat\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.useSchedules\")}</TableCell> */}\r\n                            {/* <TableCell align=\"center\">{i18n.t(\"compaies.table.actions\")}</TableCell> */}\r\n                        </TableRow>\r\n                    </TableHead>\r\n                    <TableBody>\r\n                        <>\r\n                            {companies.map((company) => (\r\n                                <TableRow style={rowStyle(company)} key={company.id}>\r\n                                    <TableCell align=\"center\">{company.id}</TableCell>\r\n                                    <TableCell align=\"center\">{renderStatus(company.status)}</TableCell>\r\n                                    <TableCell align=\"center\">{company.name}</TableCell>\r\n                                    <TableCell align=\"center\">{company.email}</TableCell>\r\n                                    <TableCell align=\"center\">{company?.plan?.name}</TableCell>\r\n                                    <TableCell align=\"center\">R$ {renderPlanValue(company)}</TableCell>\r\n                                    <TableCell align=\"center\">{dateToClient(company.createdAt)}</TableCell>\r\n                                    <TableCell align=\"center\">{dateToClient(company.dueDate)}<br /><span>{company.recurrence}</span></TableCell>\r\n                                    <TableCell align=\"center\">{datetimeToClient(company.lastLogin)}</TableCell>\r\n                                    <TableCell align=\"center\">{company.folderSize}</TableCell>\r\n                                    <TableCell align=\"center\">{company.numberFileFolder}</TableCell>\r\n                                    <TableCell align=\"center\">{datetimeToClient(company.updatedAtFolder)}</TableCell>\r\n                                    {/* <TableCell align=\"center\">{company.plan.users}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{company.plan.connections}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{company.plan.queues}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderWhatsapp(company.plan.useWhatsapp)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderFacebook(company.plan.useFacebook)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderInstagram(company.plan.useInstagram)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderCampaigns(company.plan.useCampaigns)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderExternalApi(company.plan.useExternalApi)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderInternalChat(company.plan.useInternalChat)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">{renderSchedules(company.plan.useSchedules)}</TableCell> */}\r\n                                    {/* <TableCell align=\"center\">\r\n                                        <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={() => handleEditCompany(company)}\r\n                                        >\r\n                                            <EditIcon />\r\n                                        </IconButton>\r\n\r\n                                        <IconButton\r\n                                            size=\"small\"\r\n                                            onClick={(e) => {\r\n                                                setConfirmModalOpen(true);\r\n                                                setDeletingCompany(company);\r\n                                            }}\r\n                                        >\r\n                                            <DeleteOutlineIcon />\r\n                                        </IconButton>\r\n                                    </TableCell> */}\r\n                                </TableRow>\r\n                            ))}\r\n                            {loading && <TableRowSkeleton columns={4} />}\r\n                        </>\r\n                    </TableBody>\r\n                </Table>\r\n            </Paper>\r\n        </MainContainer>\r\n    );\r\n};\r\n\r\nexport default Companies;\r\n","import React, { useContext, useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { head, padEnd} from \"lodash\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport MessageVariablesPicker from \"../MessageVariablesPicker\";\r\nimport ButtonWithSpinner from \"../ButtonWithSpinner\";\r\n\r\nimport {\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nconst path = require('path');\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n   // margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nconst QuickeMessageSchema = Yup.object().shape({\r\n  shortcode: Yup.string().required(\"Obrigatório\"),\r\n  //   message: Yup.string().required(\"Obrigatório\"),\r\n});\r\n\r\nconst QuickMessageDialog = ({ open, onClose, quickemessageId, reload }) => {\r\n  const classes = useStyles();\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const messageInputRef = useRef();\r\n\r\n  const initialState = {\r\n    shortcode: \"\",\r\n    message: \"\",\r\n    geral: false,\r\n    status: true,\r\n    isCategory: false,\r\n    categoryId: '',\r\n  };\r\n\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [quickemessage, setQuickemessage] = useState(initialState);\r\n  const [attachment, setAttachment] = useState(null);\r\n  const attachmentFile = useRef(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      (async () => {\r\n        if (!quickemessageId) return;\r\n\r\n        const { data } = await api.get(`/quick-messages/${quickemessageId}`);\r\n\r\n        setQuickemessage((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      })();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }, [quickemessageId, open]);\r\n\r\n  const handleClose = () => {\r\n    setQuickemessage(initialState);\r\n    setAttachment(null);\r\n    onClose();\r\n  };\r\n\r\n  const handleAttachmentFile = (e) => {\r\n    const file = head(e.target.files);\r\n    if (file) {\r\n      setAttachment(file);\r\n    }\r\n  };\r\n\r\n  const handleSaveQuickeMessage = async (values) => {\r\n\r\n    const quickemessageData = { ...values, isMedia: true, mediaPath: attachment ? String(attachment.name).replace(/ /g, \"_\") : values.mediaPath ? path.basename(values.mediaPath).replace(/ /g, \"_\") : null };\r\n\r\n    try {\r\n      if (quickemessageId) {\r\n        await api.put(`/quick-messages/${quickemessageId}`, quickemessageData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"typeArch\", \"quickMessage\");\r\n          formData.append(\"file\", attachment);\r\n          await api.post(\r\n            `/quick-messages/${quickemessageId}/media-upload`,\r\n            formData\r\n          );\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/quick-messages\", quickemessageData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"typeArch\", \"quickMessage\");\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/quick-messages/${data.id}/media-upload`, formData);\r\n        }\r\n      }\r\n      toast.success(i18n.t(\"quickMessages.toasts.success\"));\r\n      if (typeof reload == \"function\") {\r\n        reload();\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  const deleteMedia = async () => {\r\n    if (attachment) {\r\n      setAttachment(null);\r\n      attachmentFile.current.value = null;\r\n    }\r\n\r\n    if (quickemessage.mediaPath) {\r\n      await api.delete(`/quick-messages/${quickemessage.id}/media-upload`);\r\n      setQuickemessage((prev) => ({\r\n        ...prev,\r\n        mediaPath: null,\r\n      }));\r\n      toast.success(i18n.t(\"quickMessages.toasts.deleted\"));\r\n      if (typeof reload == \"function\") {\r\n        reload();\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleClickMsgVar = async (msgVar, setValueFunc) => {\r\n    const el = messageInputRef.current;\r\n    const firstHalfText = el.value.substring(0, el.selectionStart);\r\n    const secondHalfText = el.value.substring(el.selectionEnd);\r\n    const newCursorPos = el.selectionStart + msgVar.length;\r\n\r\n    setValueFunc(\"message\", `${firstHalfText}${msgVar}${secondHalfText}`);\r\n\r\n    await new Promise(r => setTimeout(r, 100));\r\n    messageInputRef.current.setSelectionRange(newCursorPos, newCursorPos);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"quickMessages.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={deleteMedia}\r\n      >\r\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {quickemessageId\r\n            ? `${i18n.t(\"quickMessages.dialog.edit\")}`\r\n            : `${i18n.t(\"quickMessages.dialog.add\")}`}\r\n        </DialogTitle>\r\n        <div style={{ display: \"none\" }}>\r\n          <input\r\n            type=\"file\"\r\n            // accept=\"Image/*, Video/*\"\r\n            ref={attachmentFile}\r\n            onChange={(e) => handleAttachmentFile(e)}\r\n          />\r\n        </div>\r\n        <Formik\r\n          initialValues={quickemessage}\r\n          enableReinitialize={true}\r\n          validationSchema={QuickeMessageSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveQuickeMessage(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, setFieldValue, values }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Grid spacing={2} container>\r\n                  <Grid xs={12} item>\r\n                  <FormControl\r\n                      size=\"small\"\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                  >\r\n\r\n                      <InputLabel id=\"profile-selection-input-label\">\r\n                          {'Categoria'}\r\n                      </InputLabel>\r\n\r\n                      <Field\r\n                          as={Select}\r\n                          label={'Categoria'}\r\n                          name=\"isCategory\"\r\n                          labelId=\"profile-selection-label\"\r\n                          id=\"profile-selection\"\r\n                          required\r\n                      >\r\n                          <MenuItem value={true}>Menu</MenuItem>\r\n                          <MenuItem value={false}>Resposta</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                    <Field\r\n                      as={TextField}\r\n                      autoFocus\r\n                      label={i18n.t(\"quickMessages.dialog.shortcode\")}\r\n                      name=\"shortcode\"\r\n                      disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\r\n                      error={touched.shortcode && Boolean(errors.shortcode)}\r\n                      helperText={touched.shortcode && errors.shortcode}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                    />\r\n                  </Grid>\r\n                  {!values.isCategory &&\r\n                    <>\r\n                      <Grid xs={12} item  >\r\n                        <SelectQuickMessages value={values.categoryId} setValue={setFieldValue} />\r\n                      </Grid>\r\n                      {/* <Grid xs={12} item>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"quickMessages.dialog.shortcode\")}\r\n                        name=\"shortcode\"\r\n                        error={touched.shortcode && Boolean(errors.shortcode)}\r\n                        helperText={touched.shortcode && errors.shortcode}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        fullWidth\r\n                      />\r\n                    </Grid> */}\r\n                    <Grid xs={12} item>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"quickMessages.dialog.message\")}\r\n                        name=\"message\"\r\n                        inputRef={messageInputRef}\r\n                        error={touched.message && Boolean(errors.message)}\r\n                        helperText={touched.message && errors.message}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\r\n                        multiline={true}\r\n                        rows={7}\r\n                        fullWidth\r\n                      // disabled={quickemessage.mediaPath || attachment ? true : false}\r\n                      />\r\n                    </Grid>\r\n                    <Grid item>\r\n                    <MessageVariablesPicker\r\n                      disabled={isSubmitting || (quickemessageId && values.visao && !values.geral && values.userId !== user.id)}\r\n                      onClick={value => handleClickMsgVar(value, setFieldValue)}\r\n                    />\r\n                  </Grid>\r\n                  {/* {(profile === \"admin\" || profile === \"supervisor\") && ( */}\r\n                  <Grid xs={12} item>\r\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\r\n                      <InputLabel id=\"geral-selection-label\">\r\n                        {i18n.t(\"quickMessages.dialog.visao\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"quickMessages.dialog.visao\")}\r\n                        placeholder={i18n.t(\"quickMessages.dialog.visao\")}\r\n                        labelId=\"visao-selection-label\"\r\n                        id=\"visao\"\r\n                        disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\r\n                        name=\"visao\"\r\n                        onChange={(e) => {\r\n                          setFieldValue(\"visao\", e.target.value === \"true\");\r\n                        }}\r\n                        error={touched.visao && Boolean(errors.visao)}\r\n                        value={values.visao ? \"true\" : \"false\"} // Converte o valor booleano para string\r\n                      >\r\n                        <MenuItem value={\"true\"}>{i18n.t(\"announcements.active\")}</MenuItem>\r\n                        <MenuItem value={\"false\"}>{i18n.t(\"announcements.inactive\")}</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                    {/* Renderização condicional do novo item */}\r\n                    {values.visao === true && (\r\n                      <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\r\n                        <InputLabel id=\"geral-selection-label\">\r\n                          {i18n.t(\"quickMessages.dialog.geral\")}\r\n                        </InputLabel>\r\n                        <Field\r\n                          as={Select}\r\n                          label={i18n.t(\"quickMessages.dialog.geral\")}\r\n                          placeholder={i18n.t(\"quickMessages.dialog.geral\")}\r\n                          labelId=\"novo-item-selection-label\"\r\n                          id=\"geral\"\r\n                          name=\"geral\"\r\n                          disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\r\n                          value={values.geral ? \"true\" : \"false\"} // Converte o valor booleano para string\r\n                          error={touched.geral && Boolean(errors.geral)}\r\n                        >\r\n                          <MenuItem value={\"true\"}>{i18n.t(\"announcements.active\")}</MenuItem>\r\n                          <MenuItem value={\"false\"}>{i18n.t(\"announcements.inactive\")}</MenuItem>\r\n                        </Field>\r\n                      </FormControl>\r\n                    )}\r\n                  </Grid>\r\n                    </>\r\n                  }\r\n                  \r\n                  \r\n                  {/* )} */}\r\n                  {(quickemessage.mediaPath || attachment) && (\r\n                    <Grid xs={12} item>\r\n                      <Button startIcon={<AttachFileIcon />}>\r\n                        {attachment ? attachment.name : quickemessage.mediaName}\r\n                      </Button>\r\n                      <IconButton\r\n                        onClick={() => setConfirmationOpen(true)}\r\n                        color=\"secondary\"\r\n                        disabled={quickemessageId && values.visao && !values.geral && values.userId !== user.id}\r\n                      >\r\n                        <DeleteOutlineIcon color=\"secondary\" />\r\n                      </IconButton>\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                {!values.isCategory && !attachment && !quickemessage.mediaPath && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => attachmentFile.current.click()}\r\n                    disabled={isSubmitting || (quickemessageId && values.visao && !values.geral && values.userId !== user.id)}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"quickMessages.buttons.attach\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"quickMessages.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting || (quickemessageId && values.visao && !values.geral && values.userId !== user.id)}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {quickemessageId\r\n                    ? `${i18n.t(\"quickMessages.buttons.edit\")}`\r\n                    : `${i18n.t(\"quickMessages.buttons.add\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport const SelectQuickMessages = (props) => {\r\n\r\n  const { value, setValue } = props;\r\n  \r\n  const [listCategories, setListCategories] = useState([]);\r\n  // const [selectedCategory, setSelectedCategory] = useState(null);\r\n  \r\n  useEffect(() => {\r\n      getListQuickMessages();\r\n  }, []);\r\n  \r\n  \r\n  const getListQuickMessages = async () => {\r\n      try {\r\n          const { data } = await api.get('/quick-messages/listCategories');\r\n          setListCategories(data);\r\n  \r\n      } catch (e) {\r\n          console.error(e);\r\n      }\r\n  }\r\n  \r\n  return (\r\n      <FormControl size=\"small\" variant='outlined' fullWidth>\r\n          <InputLabel id=\"demo-simple-select-label\">Menu</InputLabel>\r\n          <Select\r\n              fullWidth\r\n              labelId=\"demo-simple-select-label\"\r\n              id=\"demo-simple-select\"\r\n              value={value}\r\n              label=\"Menu\"\r\n              onChange={(e) => setValue('categoryId', e.target.value)}\r\n          >\r\n              {listCategories.map((category) => (\r\n                  <MenuItem key={category.id} value={category.id}>\r\n                      {category.shortcode}\r\n                  </MenuItem>\r\n              ))}\r\n          </Select>\r\n      </FormControl>\r\n  )\r\n  \r\n  }\r\n\r\nexport default QuickMessageDialog;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport { Chip, Grid } from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport QuickMessageDialog from \"../../components/QuickMessageDialog\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_QUICKMESSAGES\") {\r\n    //console.log(\"aqui\");\r\n    //console.log(action);\r\n    //console.log(action.payload);\r\n    const quickmessages = action.payload;\r\n    const newQuickmessages = [];\r\n    //console.log(newQuickmessages);\r\n\r\n    if (isArray(quickmessages)) {\r\n      quickmessages.forEach((quickemessage) => {\r\n        const quickemessageIndex = state.findIndex(\r\n          (u) => u.id === quickemessage.id\r\n        );\r\n        if (quickemessageIndex !== -1) {\r\n          state[quickemessageIndex] = quickemessage;\r\n        } else {\r\n          newQuickmessages.push(quickemessage);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newQuickmessages];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_QUICKMESSAGES\") {\r\n    const quickemessage = action.payload;\r\n    const quickemessageIndex = state.findIndex(\r\n      (u) => u.id === quickemessage.id\r\n    );\r\n\r\n    if (quickemessageIndex !== -1) {\r\n      state[quickemessageIndex] = quickemessage;\r\n      return [...state];\r\n    } else {\r\n      return [quickemessage, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_QUICKMESSAGE\") {\r\n    const quickemessageId = action.payload;\r\n\r\n    const quickemessageIndex = state.findIndex((u) => u.id === quickemessageId);\r\n    if (quickemessageIndex !== -1) {\r\n      state.splice(quickemessageIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Quickemessages = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedQuickemessage, setSelectedQuickemessage] = useState(null);\r\n  const [deletingQuickemessage, setDeletingQuickemessage] = useState(null);\r\n  const [quickemessageModalOpen, setQuickMessageDialogOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [quickemessages, dispatch] = useReducer(reducer, []);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { profile } = user;\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchQuickemessages();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onQuickMessageEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_QUICKMESSAGES\", payload: data.record });\r\n      }\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_QUICKMESSAGE\", payload: +data.id });\r\n      }\r\n    };\r\n    socket.on(`company-${companyId}-quickemessage`, onQuickMessageEvent);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-quickemessage`, onQuickMessageEvent);\r\n    };\r\n  }, [socket]);\r\n\r\n  const fetchQuickemessages = async () => {\r\n    try {\r\n      const companyId = user.companyId;\r\n      //const searchParam = ({ companyId, userId: user.id });\r\n      const { data } = await api.get(\"/quick-messages\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n\r\n      dispatch({ type: \"LOAD_QUICKMESSAGES\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenQuickMessageDialog = () => {\r\n    setSelectedQuickemessage(null);\r\n    setQuickMessageDialogOpen(true);\r\n  };\r\n\r\n  const handleCloseQuickMessageDialog = () => {\r\n    setSelectedQuickemessage(null);\r\n    setQuickMessageDialogOpen(false);\r\n    //window.location.reload();\r\n    fetchQuickemessages();\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditQuickemessage = (quickemessage) => {\r\n    //console.log(quickemessage);\r\n    setSelectedQuickemessage(quickemessage);\r\n    setQuickMessageDialogOpen(true);\r\n  };\r\n\r\n  const handleDeleteQuickemessage = async (quickemessageId) => {\r\n    try {\r\n      await api.delete(`/quick-messages/${quickemessageId}`);\r\n      toast.success(i18n.t(\"quickemessages.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingQuickemessage(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n    fetchQuickemessages();\r\n    dispatch({ type: \"RESET\" });\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingQuickemessage &&\r\n          `${i18n.t(\"quickMessages.confirmationModal.deleteTitle\")} ${\r\n            deletingQuickemessage.shortcode\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteQuickemessage(deletingQuickemessage.id)}\r\n      >\r\n        {i18n.t(\"quickMessages.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <QuickMessageDialog\r\n        resetPagination={() => {\r\n          setPageNumber(1);\r\n          fetchQuickemessages();\r\n        }}\r\n        open={quickemessageModalOpen}\r\n        onClose={handleCloseQuickMessageDialog}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        quickemessageId={selectedQuickemessage && selectedQuickemessage.id}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>{i18n.t(\"quickMessages.title\")}</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={6} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"quickMessages.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={6} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={handleOpenQuickMessageDialog}\r\n                  color=\"primary\"\r\n                  style={{ borderRadius: \"22px\" }}\r\n                >\r\n                  {i18n.t(\"quickMessages.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.shortcode\")}\r\n              </TableCell>\r\n\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.mediaName\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.status\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"quickMessages.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {quickemessages.map((quickemessage) => (\r\n                <TableRow key={quickemessage.id}>\r\n                  {/* <TableCell align=\"center\">{quickemessage.shortcode}</TableCell> */}\r\n\r\n                  <TableCell align=\"center\">\r\n                    {quickemessage?.shortcode || quickemessage?.isCategory ? (\r\n                      <Chip\r\n                        className={classes.backgroundDark}\r\n                        label={quickemessage?.shortcode}\r\n                        variant=\"outlined\"\r\n                      />\r\n                    ) : (\r\n                      \"Sem menu vinculada\"\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {quickemessage.mediaName ??\r\n                      i18n.t(\"quickMessages.noAttachment\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {quickemessage.geral === true ? (\r\n                      <CheckCircleIcon style={{ color: \"green\" }} />\r\n                    ) : (\r\n                      \"\"\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditQuickemessage(quickemessage)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingQuickemessage(quickemessage);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={5} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Quickemessages;\r\n","import React, { useContext } from \"react\";\r\nimport { Route as RouterRoute, Redirect } from \"react-router-dom\";\r\n\r\nimport { AuthContext } from \"../context/Auth/AuthContext\";\r\nimport BackdropLoading from \"../components/BackdropLoading\";\r\n\r\nconst Route = ({ component: Component, isPrivate = false, ...rest }) => {\r\n\tconst { isAuth, loading } = useContext(AuthContext);\r\n\r\n\tif (!isAuth && isPrivate) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{loading && <BackdropLoading />}\r\n\t\t\t\t<Redirect to={{ pathname: \"/login\", state: { from: rest.location } }} />\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\tif (isAuth && !isPrivate) {\r\n\t\treturn (\r\n\t\t\t<>\r\n\t\t\t\t{loading && <BackdropLoading />}\r\n\t\t\t\t<Redirect to={{ pathname: \"/\", state: { from: rest.location } }} />;\r\n\t\t\t</>\r\n\t\t);\r\n\t}\r\n\r\n\treturn (\r\n\t\t<>\r\n\t\t\t{loading && <BackdropLoading />}\r\n\t\t\t<RouterRoute {...rest} component={Component} />\r\n\t\t</>\r\n\t);\r\n};\r\n\r\nexport default Route;\r\n","import Button from \"@material-ui/core/Button\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport React, {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useReducer,\r\n  useState,\r\n} from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n// import MessageModal from \"../../components/MessageModal\"\r\nimport moment from \"moment\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport ScheduleModal from \"../../components/ScheduleModal\";\r\nimport toastError from \"../../errors/toastError\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport \"moment/locale/pt-br\";\r\nimport { Calendar, momentLocalizer } from \"react-big-calendar\";\r\nimport \"react-big-calendar/lib/css/react-big-calendar.css\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\n\r\nimport \"./Schedules.css\"; // Importe o arquivo CSS\r\n\r\n// Defina a função getUrlParam antes de usá-la\r\nfunction getUrlParam(paramName) {\r\n  const searchParams = new URLSearchParams(window.location.search);\r\n  return searchParams.get(paramName);\r\n}\r\n\r\nconst eventTitleStyle = {\r\n  fontSize: \"14px\", // Defina um tamanho de fonte menor\r\n  overflow: \"hidden\", // Oculte qualquer conteúdo excedente\r\n  whiteSpace: \"nowrap\", // Evite a quebra de linha do texto\r\n  textOverflow: \"ellipsis\", // Exiba \"...\" se o texto for muito longo\r\n};\r\n\r\nconst localizer = momentLocalizer(moment);\r\nvar defaultMessages = {\r\n  date: \"Data\",\r\n  time: \"Hora\",\r\n  event: \"Evento\",\r\n  allDay: \"Dia Todo\",\r\n  week: \"Semana\",\r\n  work_week: \"Agendamentos\",\r\n  day: \"Dia\",\r\n  month: \"Mês\",\r\n  previous: \"Anterior\",\r\n  next: \"Próximo\",\r\n  yesterday: \"Ontem\",\r\n  tomorrow: \"Amanhã\",\r\n  today: \"Hoje\",\r\n  agenda: \"Agenda\",\r\n  noEventsInRange: \"Não há agendamentos no período.\",\r\n  showMore: function showMore(total) {\r\n    return \"+\" + total + \" mais\";\r\n  },\r\n};\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_SCHEDULES\") {\r\n    const schedules = action.payload;\r\n    const newSchedules = [];\r\n\r\n    schedules.forEach((schedule) => {\r\n      const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\r\n      if (scheduleIndex !== -1) {\r\n        state[scheduleIndex] = schedule;\r\n      } else {\r\n        newSchedules.push(schedule);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newSchedules];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_SCHEDULES\") {\r\n    const schedule = action.payload;\r\n    const scheduleIndex = state.findIndex((s) => s.id === schedule.id);\r\n\r\n    if (scheduleIndex !== -1) {\r\n      state[scheduleIndex] = schedule;\r\n      return [...state];\r\n    } else {\r\n      return [schedule, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_SCHEDULE\") {\r\n    const scheduleId = action.payload;\r\n\r\n    const scheduleIndex = state.findIndex((s) => s.id === scheduleId);\r\n    if (scheduleIndex !== -1) {\r\n      state.splice(scheduleIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  calendarToolbar: {\r\n    \"& .rbc-toolbar-label\": {\r\n      color: theme.mode === \"light\" ? theme.palette.light : \"white\",\r\n    },\r\n    \"& .rbc-btn-group button\": {\r\n      color: theme.mode === \"light\" ? theme.palette.light : \"white\",\r\n      \"&:hover\": {\r\n        color: theme.palette.mode === \"dark\" ? \"#fff\" : \"#000\",\r\n      },\r\n      \"&:active\": {\r\n        color: theme.palette.mode === \"dark\" ? \"#fff\" : \"#000\",\r\n      },\r\n      \"&:focus\": {\r\n        color: theme.palette.mode === \"dark\" ? \"#fff\" : \"#000\",\r\n      },\r\n      \"&.rbc-active\": {\r\n        color: theme.palette.mode === \"dark\" ? \"#fff\" : \"#000\",\r\n      },\r\n    },\r\n  },\r\n}));\r\n\r\nconst Schedules = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedSchedule, setSelectedSchedule] = useState(null);\r\n  const [deletingSchedule, setDeletingSchedule] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [schedules, dispatch] = useReducer(reducer, []);\r\n  const [scheduleModalOpen, setScheduleModalOpen] = useState(false);\r\n  const [contactId, setContactId] = useState(+getUrlParam(\"contactId\"));\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useSchedules) {\r\n        toast.error(\r\n          \"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\"\r\n        );\r\n        setTimeout(() => {\r\n          history.push(`/`);\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n  }, [user, history, getPlanCompany]);\r\n\r\n  const fetchSchedules = useCallback(async () => {\r\n    try {\r\n      const { data } = await api.get(\"/schedules\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n\r\n      dispatch({ type: \"LOAD_SCHEDULES\", payload: data.schedules });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }, [searchParam, pageNumber]);\r\n\r\n  const handleOpenScheduleModalFromContactId = useCallback(() => {\r\n    if (contactId) {\r\n      handleOpenScheduleModal();\r\n    }\r\n  }, [contactId]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchSchedules();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [\r\n    searchParam,\r\n    pageNumber,\r\n    contactId,\r\n    fetchSchedules,\r\n    handleOpenScheduleModalFromContactId,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    // handleOpenScheduleModalFromContactId();\r\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\r\n\r\n    const onCompanySchedule = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_SCHEDULES\", payload: data.schedule });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_SCHEDULE\", payload: +data.scheduleId });\r\n      }\r\n    };\r\n\r\n    socket.on(`company${user.companyId}-schedule`, onCompanySchedule);\r\n\r\n    return () => {\r\n      socket.off(`company${user.companyId}-schedule`, onCompanySchedule);\r\n    };\r\n  }, [socket]);\r\n\r\n  const cleanContact = () => {\r\n    setContactId(\"\");\r\n  };\r\n\r\n  const handleOpenScheduleModal = () => {\r\n    setSelectedSchedule(null);\r\n    setScheduleModalOpen(true);\r\n  };\r\n\r\n  const handleCloseScheduleModal = () => {\r\n    setSelectedSchedule(null);\r\n    setScheduleModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditSchedule = (schedule) => {\r\n    setSelectedSchedule(schedule);\r\n    setScheduleModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteSchedule = async (scheduleId) => {\r\n    try {\r\n      await api.delete(`/schedules/${scheduleId}`);\r\n      toast.success(i18n.t(\"schedules.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingSchedule(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n    await fetchSchedules();\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const truncate = (str, len) => {\r\n    if (str.length > len) {\r\n      return str.substring(0, len) + \"...\";\r\n    }\r\n    return str;\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingSchedule &&\r\n          `${i18n.t(\"schedules.confirmationModal.deleteTitle\")}`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={() => setConfirmModalOpen(false)}\r\n        onConfirm={() => handleDeleteSchedule(deletingSchedule.id)}\r\n      >\r\n        {i18n.t(\"schedules.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      {scheduleModalOpen && (\r\n        <ScheduleModal\r\n          open={scheduleModalOpen}\r\n          onClose={handleCloseScheduleModal}\r\n          reload={fetchSchedules}\r\n          // aria-labelledby=\"form-dialog-title\"\r\n          scheduleId={selectedSchedule ? selectedSchedule.id : null}\r\n          contactId={contactId}\r\n          cleanContact={cleanContact}\r\n        />\r\n      )}\r\n      <MainHeader>\r\n        <Title>\r\n          {i18n.t(\"schedules.title\")} ({schedules.length})\r\n        </Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenScheduleModal}\r\n            style={{ borderRadius: \"22px\" }}\r\n          >\r\n            {i18n.t(\"schedules.buttons.add\")}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Calendar\r\n          messages={defaultMessages}\r\n          formats={{\r\n            agendaDateFormat: \"DD/MM ddd\",\r\n            weekdayFormat: \"dddd\",\r\n          }}\r\n          localizer={localizer}\r\n          events={schedules.map((schedule) => ({\r\n            title: (\r\n              <div key={schedule.id} className=\"event-container\">\r\n                <div style={eventTitleStyle}>{schedule?.contact?.name}</div>\r\n                <DeleteOutlineIcon\r\n                  onClick={() => handleDeleteSchedule(schedule.id)}\r\n                  className=\"delete-icon\"\r\n                />\r\n                <EditIcon\r\n                  onClick={() => {\r\n                    handleEditSchedule(schedule);\r\n                    setScheduleModalOpen(true);\r\n                  }}\r\n                  className=\"edit-icon\"\r\n                />\r\n              </div>\r\n            ),\r\n            start: new Date(schedule.sendAt),\r\n            end: new Date(schedule.sendAt),\r\n          }))}\r\n          startAccessor=\"start\"\r\n          endAccessor=\"end\"\r\n          style={{ height: 500 }}\r\n          className={classes.calendarToolbar}\r\n        />\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Schedules;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { head } from \"lodash\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport Chip from '@material-ui/core/Chip';\r\nimport { isNil } from \"lodash\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport moment from \"moment\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  Box,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Tab,\r\n  Tabs,\r\n} from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport UserStatusIcon from \"../UserModal/statusIcon\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport useQueues from \"../../hooks/useQueues\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\",\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n}));\r\n\r\nconst CampaignSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst CampaignModal = ({\r\n  open,\r\n  onClose,\r\n  campaignId,\r\n  initialValues,\r\n  onSave,\r\n  resetPagination,\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { companyId } = user;\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    message1: \"\",\r\n    message2: \"\",\r\n    message3: \"\",\r\n    message4: \"\",\r\n    message5: \"\",\r\n    confirmationMessage1: \"\",\r\n    confirmationMessage2: \"\",\r\n    confirmationMessage3: \"\",\r\n    confirmationMessage4: \"\",\r\n    confirmationMessage5: \"\",\r\n    status: \"INATIVA\", // INATIVA, PROGRAMADA, EM_ANDAMENTO, CANCELADA, FINALIZADA,\r\n    confirmation: false,\r\n    scheduledAt: \"\",\r\n    //whatsappId: \"\",\r\n    contactListId: \"\",\r\n    tagListId: \"Nenhuma\",\r\n    companyId,\r\n    statusTicket: \"closed\",\r\n    openTicket: \"disabled\"\r\n  };\r\n\r\n  const [campaign, setCampaign] = useState(initialState);\r\n  const [whatsapps, setWhatsapps] = useState([]);\r\n  const [selectedWhatsapps, setSelectedWhatsapps] = useState([]);\r\n  const [whatsappId, setWhatsappId] = useState(false);\r\n\r\n  const [contactLists, setContactLists] = useState([]);\r\n  const [tagLists, setTagLists] = useState([]);\r\n  const [messageTab, setMessageTab] = useState(0);\r\n  const [attachment, setAttachment] = useState(null);\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [campaignEditable, setCampaignEditable] = useState(true);\r\n  const attachmentFile = useRef(null);\r\n\r\n\r\n  const [options, setOptions] = useState([]);\r\n  const [queues, setQueues] = useState([]);\r\n  const [allQueues, setAllQueues] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedUser, setSelectedUser] = useState(null);\r\n  const [selectedQueue, setSelectedQueue] = useState(null);\r\n  const { findAll: findAllQueues } = useQueues();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      const loadQueues = async () => {\r\n        const list = await findAllQueues();\r\n        setAllQueues(list);\r\n        setQueues(list);\r\n\r\n      };\r\n      loadQueues();\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (searchParam.length < 3) {\r\n      setLoading(false);\r\n      setSelectedQueue(\"\");\r\n      return;\r\n    }\r\n    const delayDebounceFn = setTimeout(() => {\r\n      setLoading(true);\r\n      const fetchUsers = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/users/\");\r\n          setOptions(data.users);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n\r\n      fetchUsers();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      if (initialValues) {\r\n        setCampaign((prevState) => {\r\n          return { ...prevState, ...initialValues };\r\n        });\r\n      }\r\n\r\n      api\r\n        .get(`/contact-lists/list`, { params: { companyId } })\r\n        .then(({ data }) => setContactLists(data));\r\n\r\n      api\r\n        .get(`/whatsapp`, { params: { companyId, session: 0 } })\r\n        .then(({ data }) => {\r\n          // Mapear os dados recebidos da API para adicionar a propriedade 'selected'\r\n          const mappedWhatsapps = data.map((whatsapp) => ({\r\n            ...whatsapp,\r\n            selected: false,\r\n          }));\r\n\r\n          setWhatsapps(mappedWhatsapps);\r\n        });\r\n\r\n      api.get(`/tags/list`, { params: { companyId, kanban: 0 } })\r\n        .then(({ data }) => {\r\n          const fetchedTags = data;\r\n          // Perform any necessary data transformation here\r\n          const formattedTagLists = fetchedTags\r\n            .filter(tag => tag.contacts.length > 0)  // Filtra as tags com contacts.length > 0\r\n            .map((tag) => ({\r\n              id: tag.id,\r\n              name: `${tag.name} (${tag.contacts.length})`,\r\n            }));\r\n\r\n          setTagLists(formattedTagLists);\r\n        })\r\n        .catch((error) => {\r\n          console.error(\"Error retrieving tags:\", error);\r\n        });\r\n\r\n      if (!campaignId) return;\r\n\r\n      api.get(`/campaigns/${campaignId}`).then(({ data }) => {\r\n\r\n        if (data?.user)\r\n          setSelectedUser(data.user);\r\n\r\n        if (data?.queue)\r\n          setSelectedQueue(data.queue.id)\r\n\r\n        if (data?.whatsappId) {\r\n          // const selectedWhatsapps = data.whatsappId.split(\",\");\r\n          setWhatsappId(data.whatsappId);\r\n        }\r\n        setCampaign((prev) => {\r\n          let prevCampaignData = Object.assign({}, prev);\r\n\r\n          Object.entries(data).forEach(([key, value]) => {\r\n            if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\r\n              prevCampaignData[key] = moment(value).format(\"YYYY-MM-DDTHH:mm\");\r\n            } else {\r\n              prevCampaignData[key] = value === null ? \"\" : value;\r\n            }\r\n          });\r\n\r\n          return prevCampaignData;\r\n        });\r\n      });\r\n    }\r\n  }, [campaignId, open, initialValues, companyId]);\r\n\r\n\r\n\r\n  useEffect(() => {\r\n    const now = moment();\r\n    const scheduledAt = moment(campaign.scheduledAt);\r\n    const moreThenAnHour =\r\n      !Number.isNaN(scheduledAt.diff(now)) && scheduledAt.diff(now, \"hour\") > 1;\r\n    const isEditable =\r\n      campaign.status === \"INATIVA\" ||\r\n      (campaign.status === \"PROGRAMADA\" && moreThenAnHour);\r\n\r\n    setCampaignEditable(isEditable);\r\n  }, [campaign.status, campaign.scheduledAt]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setCampaign(initialState);\r\n  };\r\n\r\n  const handleAttachmentFile = (e) => {\r\n    const file = head(e.target.files);\r\n    if (file) {\r\n      setAttachment(file);\r\n    }\r\n  };\r\n\r\n  const handleSaveCampaign = async (values) => {\r\n    try {\r\n      const dataValues = {\r\n        ...values,  // Merge the existing values object\r\n        whatsappId: whatsappId,\r\n        userId: selectedUser?.id || null,\r\n        queueId: selectedQueue || null\r\n      };\r\n\r\n      //console.log(values);\r\n      //console.log(selectedWhatsapps);\r\n\r\n      Object.entries(values).forEach(([key, value]) => {\r\n        if (key === \"scheduledAt\" && value !== \"\" && value !== null) {\r\n          dataValues[key] = moment(value).format(\"YYYY-MM-DD HH:mm:ss\");\r\n        } else {\r\n          dataValues[key] = value === \"\" ? null : value;\r\n        }\r\n      });\r\n\r\n      if (campaignId) {\r\n        await api.put(`/campaigns/${campaignId}`, dataValues);\r\n\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/campaigns/${campaignId}/media-upload`, formData);\r\n        }\r\n        handleClose();\r\n      } else {\r\n        const { data } = await api.post(\"/campaigns\", dataValues);\r\n\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/campaigns/${data.id}/media-upload`, formData);\r\n        }\r\n        if (onSave) {\r\n          onSave(data);\r\n        }\r\n        handleClose();\r\n      }\r\n      toast.success(i18n.t(\"campaigns.toasts.success\"));\r\n    } catch (err) {\r\n      console.log(err);\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const deleteMedia = async () => {\r\n    if (attachment) {\r\n      setAttachment(null);\r\n      attachmentFile.current.value = null;\r\n    }\r\n\r\n    if (campaign.mediaPath) {\r\n      await api.delete(`/campaigns/${campaign.id}/media-upload`);\r\n      setCampaign((prev) => ({ ...prev, mediaPath: null, mediaName: null }));\r\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\r\n    }\r\n  };\r\n\r\n  const renderMessageField = (identifier) => {\r\n    return (\r\n      <Field\r\n        as={TextField}\r\n        id={identifier}\r\n        name={identifier}\r\n        fullWidth\r\n        rows={5}\r\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\r\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\r\n        multiline={true}\r\n        variant=\"outlined\"\r\n        helperText=\"Utilize variáveis como {nome}, {numero}, {email} ou defina variáveis personalizadas.\"\r\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\r\n      />\r\n    );\r\n  };\r\n\r\n  const renderConfirmationMessageField = (identifier) => {\r\n    return (\r\n      <Field\r\n        as={TextField}\r\n        id={identifier}\r\n        name={identifier}\r\n        fullWidth\r\n        rows={5}\r\n        label={i18n.t(`campaigns.dialog.form.${identifier}`)}\r\n        placeholder={i18n.t(\"campaigns.dialog.form.messagePlaceholder\")}\r\n        multiline={true}\r\n        variant=\"outlined\"\r\n        disabled={!campaignEditable && campaign.status !== \"CANCELADA\"}\r\n      />\r\n    );\r\n  };\r\n\r\n  const cancelCampaign = async () => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/cancel`);\r\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\r\n      setCampaign((prev) => ({ ...prev, status: \"CANCELADA\" }));\r\n      resetPagination();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  const restartCampaign = async () => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/restart`);\r\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\r\n      setCampaign((prev) => ({ ...prev, status: \"EM_ANDAMENTO\" }));\r\n      resetPagination();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  const filterOptions = createFilterOptions({\r\n    trim: true,\r\n  });\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={deleteMedia}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        fullWidth\r\n        maxWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {campaignEditable ? (\r\n            <>\r\n              {campaignId\r\n                ? `${i18n.t(\"campaigns.dialog.update\")}`\r\n                : `${i18n.t(\"campaigns.dialog.new\")}`}\r\n            </>\r\n          ) : (\r\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\r\n          )}\r\n        </DialogTitle>\r\n        <div style={{ display: \"none\" }}>\r\n          <input\r\n            type=\"file\"\r\n            ref={attachmentFile}\r\n            onChange={(e) => handleAttachmentFile(e)}\r\n          />\r\n        </div>\r\n        <Formik\r\n          initialValues={campaign}\r\n          enableReinitialize={true}\r\n          validationSchema={CampaignSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveCampaign(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, errors, touched, isSubmitting }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Grid spacing={2} container>\r\n                  <Grid xs={12} md={4} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"campaigns.dialog.form.name\")}\r\n                      name=\"name\"\r\n                      error={touched.name && Boolean(errors.name)}\r\n                      helperText={touched.name && errors.name}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.textField}\r\n                      disabled={!campaignEditable}\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"confirmation-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.confirmation\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.confirmation\")}\r\n                        placeholder={i18n.t(\r\n                          \"campaigns.dialog.form.confirmation\"\r\n                        )}\r\n                        labelId=\"confirmation-selection-label\"\r\n                        id=\"confirmation\"\r\n                        name=\"confirmation\"\r\n                        error={\r\n                          touched.confirmation && Boolean(errors.confirmation)\r\n                        }\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        <MenuItem value={false}>Desabilitada</MenuItem>\r\n                        <MenuItem value={true}>Habilitada</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"contactList-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.contactList\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.contactList\")}\r\n                        placeholder={i18n.t(\r\n                          \"campaigns.dialog.form.contactList\"\r\n                        )}\r\n                        labelId=\"contactList-selection-label\"\r\n                        id=\"contactListId\"\r\n                        name=\"contactListId\"\r\n                        error={\r\n                          touched.contactListId && Boolean(errors.contactListId)\r\n                        }\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        <MenuItem value=\"\">Nenhuma</MenuItem>\r\n                        {contactLists &&\r\n                          contactLists.map((contactList) => (\r\n                            <MenuItem\r\n                              key={contactList.id}\r\n                              value={contactList.id}\r\n                            >\r\n                              {contactList.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"tagList-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.tagList\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.tagList\")}\r\n                        placeholder={i18n.t(\"campaigns.dialog.form.tagList\")}\r\n                        labelId=\"tagList-selection-label\"\r\n                        id=\"tagListId\"\r\n                        name=\"tagListId\"\r\n                        error={touched.tagListId && Boolean(errors.tagListId)}\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        {/* <MenuItem value=\"\">Nenhuma</MenuItem> */}\r\n                        {Array.isArray(tagLists) &&\r\n                          tagLists.map((tagList) => (\r\n                            <MenuItem key={tagList.id} value={tagList.id}>\r\n                              {tagList.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"whatsapp-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        // multiple\r\n                        label={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n                        placeholder={i18n.t(\"campaigns.dialog.form.whatsapp\")}\r\n                        labelId=\"whatsapp-selection-label\"\r\n                        id=\"whatsappIds\"\r\n                        name=\"whatsappIds\"\r\n                        required\r\n                        error={touched.whatsappId && Boolean(errors.whatsappId)}\r\n                        disabled={!campaignEditable}\r\n                        value={whatsappId}\r\n                        onChange={(event) => {\r\n                          setWhatsappId(event.target.value)\r\n                        }}\r\n                        // renderValue={(selected) => (\r\n                        //   <div>\r\n                        //     {selected.map((value) => (\r\n                        //       <Chip key={value} label={whatsapps.find((whatsapp) => whatsapp.id === value).name} />\r\n                        //     ))}\r\n                        //   </div>\r\n                        // )}\r\n                      >\r\n                        {whatsapps &&\r\n                          whatsapps.map((whatsapp) => (\r\n                            <MenuItem key={whatsapp.id} value={whatsapp.id}>\r\n                              {whatsapp.name}\r\n                            </MenuItem>\r\n                          ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid xs={12} md={4} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"campaigns.dialog.form.scheduledAt\")}\r\n                      name=\"scheduledAt\"\r\n                      error={touched.scheduledAt && Boolean(errors.scheduledAt)}\r\n                      helperText={touched.scheduledAt && errors.scheduledAt}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      type=\"datetime-local\"\r\n                      InputLabelProps={{\r\n                        shrink: true,\r\n                      }}\r\n                      fullWidth\r\n                      className={classes.textField}\r\n                      disabled={!campaignEditable}\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"openTicket-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.openTicket\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.openTicket\")}\r\n                        placeholder={i18n.t(\r\n                          \"campaigns.dialog.form.openTicket\"\r\n                        )}\r\n                        labelId=\"openTicket-selection-label\"\r\n                        id=\"openTicket\"\r\n                        name=\"openTicket\"\r\n                        error={\r\n                          touched.openTicket && Boolean(errors.openTicket)\r\n                        }\r\n                        disabled={!campaignEditable}\r\n                      >\r\n                        <MenuItem value={\"enabled\"}>{i18n.t(\"campaigns.dialog.form.enabledOpenTicket\")}</MenuItem>\r\n                        <MenuItem value={\"disabled\"}>{i18n.t(\"campaigns.dialog.form.disabledOpenTicket\")}</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  {/* SELECIONAR USUARIO */}\r\n                  <Grid xs={12} md={4} item>\r\n                    <Autocomplete\r\n                      style={{ marginTop: '8px' }}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.formControl}\r\n                      getOptionLabel={(option) => `${option.name}`}\r\n                      value={selectedUser}\r\n                      size=\"small\"\r\n                      onChange={(e, newValue) => {\r\n                        setSelectedUser(newValue);\r\n                        if (newValue != null && Array.isArray(newValue.queues)) {\r\n                          if (newValue.queues.length === 1) {\r\n                            setSelectedQueue(newValue.queues[0].id);\r\n                          }\r\n                          setQueues(newValue.queues);\r\n\r\n                        } else {\r\n                          setQueues(allQueues);\r\n                          setSelectedQueue(\"\");\r\n                        }\r\n                      }}\r\n                      options={options}\r\n                      filterOptions={filterOptions}\r\n                      freeSolo\r\n                      fullWidth\r\n                      autoHighlight\r\n                      disabled={!campaignEditable || values.openTicket === 'disabled'}\r\n                      noOptionsText={i18n.t(\"transferTicketModal.noOptions\")}\r\n                      loading={loading}\r\n                      renderOption={option => (<span> <UserStatusIcon user={option} /> {option.name}</span>)}\r\n                      renderInput={(params) => (\r\n                        <TextField\r\n                          {...params}\r\n                          label={i18n.t(\"transferTicketModal.fieldLabel\")}\r\n                          variant=\"outlined\"\r\n                          onChange={(e) => setSearchParam(e.target.value)}\r\n                          InputProps={{\r\n                            ...params.InputProps,\r\n                            endAdornment: (\r\n                              <React.Fragment>\r\n                                {loading ? (\r\n                                  <CircularProgress color=\"inherit\" size={20} />\r\n                                ) : null}\r\n                                {params.InputProps.endAdornment}\r\n                              </React.Fragment>\r\n                            ),\r\n                          }}\r\n                        />\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel>\r\n                        {i18n.t(\"transferTicketModal.fieldQueueLabel\")}\r\n                      </InputLabel>\r\n                      <Select\r\n                        value={selectedQueue}\r\n                        onChange={(e) => setSelectedQueue(e.target.value)}\r\n                        label={i18n.t(\"transferTicketModal.fieldQueuePlaceholder\")}\r\n                        required={!isNil(selectedUser)}\r\n                        disabled={!campaignEditable || values.openTicket === 'disabled'}\r\n                      >\r\n                        {queues.map((queue) => (\r\n                          <MenuItem key={queue.id} value={queue.id}>\r\n                            {queue.name}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid xs={12} md={4} item>\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                      className={classes.formControl}\r\n                    >\r\n                      <InputLabel id=\"statusTicket-selection-label\">\r\n                        {i18n.t(\"campaigns.dialog.form.statusTicket\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"campaigns.dialog.form.statusTicket\")}\r\n                        placeholder={i18n.t(\r\n                          \"campaigns.dialog.form.statusTicket\"\r\n                        )}\r\n                        labelId=\"statusTicket-selection-label\"\r\n                        id=\"statusTicket\"\r\n                        name=\"statusTicket\"\r\n                        error={\r\n                          touched.statusTicket && Boolean(errors.statusTicket)\r\n                        }\r\n                        disabled={!campaignEditable || values.openTicket === 'disabled'}\r\n                      >\r\n                        <MenuItem value={\"closed\"}>{i18n.t(\"campaigns.dialog.form.closedTicketStatus\")}</MenuItem>\r\n                        <MenuItem value={\"pending\"}>{i18n.t(\"campaigns.dialog.form.pendingTicketStatus\")}</MenuItem>\r\n                        <MenuItem value={\"open\"}>{i18n.t(\"campaigns.dialog.form.openTicketStatus\")}</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n\r\n                  <Grid xs={12} item>\r\n                    <Tabs\r\n                      value={messageTab}\r\n                      indicatorColor=\"primary\"\r\n                      textColor=\"primary\"\r\n                      onChange={(e, v) => setMessageTab(v)}\r\n                      variant=\"fullWidth\"\r\n                      centered\r\n                      style={{\r\n                        background: \"#f2f2f2\",\r\n                        border: \"1px solid #e6e6e6\",\r\n                        borderRadius: 2,\r\n                      }}\r\n                    >\r\n                      <Tab label=\"Msg. 1\" index={0} />\r\n                      <Tab label=\"Msg. 2\" index={1} />\r\n                      <Tab label=\"Msg. 3\" index={2} />\r\n                      <Tab label=\"Msg. 4\" index={3} />\r\n                      <Tab label=\"Msg. 5\" index={4} />\r\n                    </Tabs>\r\n                    <Box style={{ paddingTop: 20, border: \"none\" }}>\r\n                      {messageTab === 0 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message1\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage1\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message1\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 1 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message2\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage2\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message2\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 2 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message3\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage3\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message3\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 3 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message4\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage4\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message4\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                      {messageTab === 4 && (\r\n                        <>\r\n                          {values.confirmation ? (\r\n                            <Grid spacing={2} container>\r\n                              <Grid xs={12} md={8} item>\r\n                                <>{renderMessageField(\"message5\")}</>\r\n                              </Grid>\r\n                              <Grid xs={12} md={4} item>\r\n                                <>\r\n                                  {renderConfirmationMessageField(\r\n                                    \"confirmationMessage5\"\r\n                                  )}\r\n                                </>\r\n                              </Grid>\r\n                            </Grid>\r\n                          ) : (\r\n                            <>{renderMessageField(\"message5\")}</>\r\n                          )}\r\n                        </>\r\n                      )}\r\n                    </Box>\r\n                  </Grid>\r\n                  {(campaign.mediaPath || attachment) && (\r\n                    <Grid xs={12} item>\r\n                      <Button startIcon={<AttachFileIcon />}>\r\n                        {attachment != null\r\n                          ? attachment.name\r\n                          : campaign.mediaName}\r\n                      </Button>\r\n                      {campaignEditable && (\r\n                        <IconButton\r\n                          onClick={() => setConfirmationOpen(true)}\r\n                          color=\"primary\"\r\n                        >\r\n                          <DeleteOutlineIcon color=\"secondary\" />\r\n                        </IconButton>\r\n                      )}\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                {campaign.status === \"CANCELADA\" && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => restartCampaign()}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"campaigns.dialog.buttons.restart\")}\r\n                  </Button>\r\n                )}\r\n                {campaign.status === \"EM_ANDAMENTO\" && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => cancelCampaign()}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"campaigns.dialog.buttons.cancel\")}\r\n                  </Button>\r\n                )}\r\n                {!attachment && !campaign.mediaPath && campaignEditable && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => attachmentFile.current.click()}\r\n                    disabled={isSubmitting}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"campaigns.dialog.buttons.attach\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"campaigns.dialog.buttons.close\")}\r\n                </Button>\r\n                {(campaignEditable || campaign.status === \"CANCELADA\") && (\r\n                  <Button\r\n                    type=\"submit\"\r\n                    color=\"primary\"\r\n                    disabled={isSubmitting}\r\n                    variant=\"contained\"\r\n                    className={classes.btnWrapper}\r\n                  >\r\n                    {campaignId\r\n                      ? `${i18n.t(\"campaigns.dialog.buttons.edit\")}`\r\n                      : `${i18n.t(\"campaigns.dialog.buttons.add\")}`}\r\n                    {isSubmitting && (\r\n                      <CircularProgress\r\n                        size={24}\r\n                        className={classes.buttonProgress}\r\n                      />\r\n                    )}\r\n                  </Button>\r\n                )}\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CampaignModal;","/* eslint-disable no-unused-vars */\r\n\r\nimport React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport DescriptionIcon from \"@material-ui/icons/Description\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\nimport PauseCircleOutlineIcon from \"@material-ui/icons/PauseCircleOutline\";\r\nimport PlayCircleOutlineIcon from \"@material-ui/icons/PlayCircleOutline\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\nimport CampaignModal from \"../../components/CampaignModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CAMPAIGNS\") {\r\n    const campaigns = action.payload;\r\n    const newCampaigns = [];\r\n\r\n    if (isArray(campaigns)) {\r\n      campaigns.forEach((campaign) => {\r\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\r\n        if (campaignIndex !== -1) {\r\n          state[campaignIndex] = campaign;\r\n        } else {\r\n          newCampaigns.push(campaign);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newCampaigns];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\r\n    const campaign = action.payload;\r\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\r\n\r\n    if (campaignIndex !== -1) {\r\n      state[campaignIndex] = campaign;\r\n      return [...state];\r\n    } else {\r\n      return [campaign, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CAMPAIGN\") {\r\n    const campaignId = action.payload;\r\n\r\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\r\n    if (campaignIndex !== -1) {\r\n      state.splice(campaignIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(1),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Campaigns = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\r\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\r\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [showCampaigns, setShowCampaigns] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [campaigns, dispatch] = useReducer(reducer, []);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { datetimeToClient } = useDate();\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useCampaigns) {\r\n        toast.error(\r\n          \"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\"\r\n        );\r\n        setTimeout(() => {\r\n          history.push(`/`);\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchCampaigns();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onCompanyCampaign = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CAMPAIGNS\", payload: data.record });\r\n      }\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CAMPAIGN\", payload: +data.id });\r\n      }\r\n    };\r\n\r\n    socket.on(`company-${companyId}-campaign`, onCompanyCampaign);\r\n    return () => {\r\n      socket.off(`company-${companyId}-campaign`, onCompanyCampaign);\r\n    };\r\n  }, [user]);\r\n\r\n  const fetchCampaigns = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/campaigns/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_CAMPAIGNS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenCampaignModal = () => {\r\n    setSelectedCampaign(null);\r\n    setCampaignModalOpen(true);\r\n  };\r\n\r\n  const handleCloseCampaignModal = () => {\r\n    setSelectedCampaign(null);\r\n    setCampaignModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditCampaign = (campaign) => {\r\n    setSelectedCampaign(campaign);\r\n    setCampaignModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteCampaign = async (campaignId) => {\r\n    try {\r\n      await api.delete(`/campaigns/${campaignId}`);\r\n      toast.success(i18n.t(\"campaigns.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingCampaign(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const formatStatus = (val) => {\r\n    switch (val) {\r\n      case \"INATIVA\":\r\n        return \"Inativa\";\r\n      case \"PROGRAMADA\":\r\n        return \"Programada\";\r\n      case \"EM_ANDAMENTO\":\r\n        return \"Em Andamento\";\r\n      case \"CANCELADA\":\r\n        return \"Cancelada\";\r\n      case \"FINALIZADA\":\r\n        return \"Finalizada\";\r\n      default:\r\n        return val;\r\n    }\r\n  };\r\n\r\n  const cancelCampaign = async (campaign) => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/cancel`);\r\n      toast.success(i18n.t(\"campaigns.toasts.cancel\"));\r\n      setPageNumber(1);\r\n      fetchCampaigns();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  const restartCampaign = async (campaign) => {\r\n    try {\r\n      await api.post(`/campaigns/${campaign.id}/restart`);\r\n      toast.success(i18n.t(\"campaigns.toasts.restart\"));\r\n      setPageNumber(1);\r\n      fetchCampaigns();\r\n    } catch (err) {\r\n      toast.error(err.message);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingCampaign &&\r\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${\r\n            deletingCampaign.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteCampaign(deletingCampaign.id)}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      {campaignModalOpen && (\r\n        <CampaignModal\r\n          resetPagination={() => {\r\n            setPageNumber(1);\r\n            fetchCampaigns();\r\n          }}\r\n          open={campaignModalOpen}\r\n          onClose={handleCloseCampaignModal}\r\n          aria-labelledby=\"form-dialog-title\"\r\n          campaignId={selectedCampaign && selectedCampaign.id}\r\n        />\r\n      )}\r\n      {user.profile === \"user\" ? (\r\n        <ForbiddenPage />\r\n      ) : (\r\n        <>\r\n          <MainHeader>\r\n            <Grid style={{ width: \"99.6%\" }} container>\r\n              <Grid xs={12} sm={8} item>\r\n                <Title>{i18n.t(\"campaigns.title\")}</Title>\r\n              </Grid>\r\n              <Grid xs={12} sm={4} item>\r\n                <Grid spacing={2} container>\r\n                  <Grid xs={6} sm={6} item>\r\n                    <TextField\r\n                      fullWidth\r\n                      placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\r\n                      type=\"search\"\r\n                      value={searchParam}\r\n                      onChange={handleSearch}\r\n                      InputProps={{\r\n                        startAdornment: (\r\n                          <InputAdornment position=\"start\">\r\n                            <SearchIcon style={{ color: \"gray\" }} />\r\n                          </InputAdornment>\r\n                        ),\r\n                      }}\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={6} sm={6} item>\r\n                    <Button\r\n                      fullWidth\r\n                      variant=\"contained\"\r\n                      onClick={handleOpenCampaignModal}\r\n                      color=\"primary\"\r\n                      style={{ borderRadius: \"22px\" }}\r\n                    >\r\n                      {i18n.t(\"campaigns.buttons.add\")}\r\n                    </Button>\r\n                  </Grid>\r\n                </Grid>\r\n              </Grid>\r\n            </Grid>\r\n          </MainHeader>\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\"\r\n            onScroll={handleScroll}\r\n          >\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"campaigns.table.name\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"campaigns.table.status\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"campaigns.table.contactList\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"campaigns.table.whatsapp\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"campaigns.table.scheduledAt\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"campaigns.table.completedAt\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"campaigns.table.confirmation\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"campaigns.table.actions\")}\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {campaigns.map((campaign) => (\r\n                    <TableRow key={campaign.id}>\r\n                      <TableCell align=\"center\">{campaign.name}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {formatStatus(campaign.status)}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {campaign.contactListId\r\n                          ? campaign.contactList.name\r\n                          : \"Não definida\"}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {campaign.whatsappId\r\n                          ? campaign.whatsapp.name\r\n                          : \"Não definido\"}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {campaign.scheduledAt\r\n                          ? datetimeToClient(campaign.scheduledAt)\r\n                          : \"Sem agendamento\"}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {campaign.completedAt\r\n                          ? datetimeToClient(campaign.completedAt)\r\n                          : \"Não concluída\"}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {campaign.confirmation ? \"Habilitada\" : \"Desabilitada\"}\r\n                      </TableCell>\r\n                      <TableCell align=\"center\">\r\n                        {campaign.status === \"EM_ANDAMENTO\" && (\r\n                          <IconButton\r\n                            onClick={() => cancelCampaign(campaign)}\r\n                            title=\"Parar Campanha\"\r\n                            size=\"small\"\r\n                          >\r\n                            <PauseCircleOutlineIcon />\r\n                          </IconButton>\r\n                        )}\r\n                        {campaign.status === \"CANCELADA\" && (\r\n                          <IconButton\r\n                            onClick={() => restartCampaign(campaign)}\r\n                            title=\"Parar Campanha\"\r\n                            size=\"small\"\r\n                          >\r\n                            <PlayCircleOutlineIcon />\r\n                          </IconButton>\r\n                        )}\r\n                        <IconButton\r\n                          onClick={() =>\r\n                            history.push(`/campaign/${campaign.id}/report`)\r\n                          }\r\n                          size=\"small\"\r\n                        >\r\n                          <DescriptionIcon />\r\n                        </IconButton>\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleEditCampaign(campaign)}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            setConfirmModalOpen(true);\r\n                            setDeletingCampaign(campaign);\r\n                          }}\r\n                        >\r\n                          <DeleteOutlineIcon />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  {loading && <TableRowSkeleton columns={8} />}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>\r\n      )}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Campaigns;\r\n","import Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n  Box,\r\n  Button,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    // padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  tabPanelsContainer: {\r\n    // padding: theme.spacing(2),\r\n    padding: theme.padding,\r\n  },\r\n  paper: {\r\n    padding: theme.spacing(2),\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    marginBottom: 12,\r\n  },\r\n}));\r\n\r\nconst initialSettings = {\r\n  messageInterval: 20,\r\n  longerIntervalAfter: 20,\r\n  greaterInterval: 60,\r\n  variables: [],\r\n  sabado: \"false\",\r\n  domingo: \"false\",\r\n  startHour: \"09:00\",\r\n  endHour: \"18:00\",\r\n};\r\n\r\nconst CampaignsConfig = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [settings, setSettings] = useState(initialSettings);\r\n  const [showVariablesForm, setShowVariablesForm] = useState(false);\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [selectedKey, setSelectedKey] = useState(null);\r\n  const [variable, setVariable] = useState({ key: \"\", value: \"\" });\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [sabado, setSabado] = React.useState(false);\r\n  const [domingo, setDomingo] = React.useState(false);\r\n\r\n  const [startHour, setStartHour] = useState(\"08:00\");\r\n  const [endHour, setEndHour] = useState(\"19:00\");\r\n\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useCampaigns) {\r\n        toast.error(\r\n          \"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\"\r\n        );\r\n        setTimeout(() => {\r\n          history.push(`/`);\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    api.get(\"/campaign-settings\").then(({ data }) => {\r\n      const settingsList = [];\r\n      if (Array.isArray(data) && data.length > 0) {\r\n        data.forEach((item) => {\r\n          settingsList.push([item.key, item.value]);\r\n          if (item.key === \"sabado\") setSabado(item?.value === \"true\");\r\n          if (item.key === \"domingo\") setDomingo(item?.value === \"true\");\r\n          if (item.key === \"startHour\") setStartHour(item?.value);\r\n          if (item.key === \"endHour\") setEndHour(item?.value);\r\n        });\r\n        setSettings(Object.fromEntries(settingsList));\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  const handleOnChangeVariable = (e) => {\r\n    if (e.target.value !== null) {\r\n      const changedProp = {};\r\n      changedProp[e.target.name] = e.target.value;\r\n      setVariable((prev) => ({ ...prev, ...changedProp }));\r\n    }\r\n  };\r\n\r\n  const handleOnChangeSettings = (e) => {\r\n    const changedProp = {};\r\n    changedProp[e.target.name] = e.target.value;\r\n    setSettings((prev) => ({ ...prev, ...changedProp }));\r\n  };\r\n\r\n  const addVariable = () => {\r\n    setSettings((prev) => {\r\n      if (!Array.isArray(prev.variables)) {\r\n        // Lidar com o caso em que prev.variables não é um array\r\n        return { ...prev, variables: [Object.assign({}, variable)] };\r\n      }\r\n      const variablesExists = settings.variables.filter(\r\n        (v) => v.key === variable.key\r\n      );\r\n      const variables = prev.variables;\r\n      if (variablesExists.length === 0) {\r\n        variables.push(Object.assign({}, variable));\r\n        setVariable({ key: \"\", value: \"\" });\r\n      }\r\n      return { ...prev, variables };\r\n    });\r\n  };\r\n\r\n  const removeVariable = () => {\r\n    const newList = settings.variables.filter((v) => v.key !== selectedKey);\r\n    setSettings((prev) => ({ ...prev, variables: newList }));\r\n    setSelectedKey(null);\r\n  };\r\n\r\n  const saveSettings = async () => {\r\n    await api.post(\"/campaign-settings\", { settings });\r\n    toast.success(\"Configurações salvas\");\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n    if (event.target.name === \"sabado\") {\r\n      setSabado(event.target.checked);\r\n    }\r\n    if (event.target.name === \"domingo\") {\r\n      setDomingo(event.target.checked);\r\n    }\r\n  };\r\n\r\n  const handleSaveTimeMass = async () => {\r\n    let settings = {\r\n      sabado: sabado,\r\n      domingo: domingo,\r\n      startHour: startHour,\r\n      endHour: endHour,\r\n    };\r\n\r\n    try {\r\n      await api.post(`/campaign-settings/`, { settings });\r\n\r\n      toast.success(i18n.t(\"settings.success\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"campaigns.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={removeVariable}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      {user.profile === \"user\" ? (\r\n        <ForbiddenPage />\r\n      ) : (\r\n        <>\r\n          <MainHeader>\r\n            <Grid style={{ width: \"99.6%\" }} container>\r\n              <Grid xs={12} item>\r\n                <Title>{i18n.t(\"campaignsConfig.title\")}</Title>\r\n              </Grid>\r\n            </Grid>\r\n          </MainHeader>\r\n\r\n          <Paper className={classes.mainPaper} variant=\"outlined\">\r\n            {/* <Typography component={\"h1\"}>Período de Disparo das Campanhas &nbsp;</Typography>\r\n        <Paper className={classes.paper}>\r\n          <TextField\r\n            id=\"buttonText\"\r\n            label=\"Começar o envio que hora?\"\r\n            margin=\"dense\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            value={startHour}\r\n            onChange={(e) => setStartHour(e.target.value)}\r\n            style={{ marginRight: \"10px\" }}\r\n          />\r\n\r\n          <TextField\r\n            id=\"buttonText\"\r\n            label=\"Terminar o envio que hora?\"\r\n            margin=\"dense\"\r\n            variant=\"outlined\"\r\n            fullWidth\r\n            value={endHour}\r\n            onChange={(e) => setEndHour(e.target.value)}\r\n            style={{ marginRight: \"10px\" }}\r\n          />\r\n\r\n          <FormControlLabel\r\n            control={<Checkbox checked={sabado} onChange={handleChange} name=\"sabado\" />}\r\n            label=\"Sábado\"\r\n          />\r\n\r\n          <FormControlLabel\r\n            control={<Checkbox checked={domingo} onChange={handleChange} name=\"domingo\" />}\r\n            label=\"Domigo\"\r\n          />\r\n\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            className={classes.button}\r\n            onClick={() => {\r\n              handleSaveTimeMass();\r\n            }}\r\n            style={{ marginRight: \"10px\" }}\r\n          >\r\n            Salvar\r\n          </Button>\r\n\r\n        </Paper> */}\r\n\r\n            <Box className={classes.tabPanelsContainer}>\r\n              <Grid spacing={1} container>\r\n                <Grid xs={12} item>\r\n                  <Typography component={\"h1\"}>Intervalos &nbsp;</Typography>\r\n                </Grid>\r\n\r\n                {/* TEMPO ENTRE DISPAROS */}\r\n                {/* <Grid xs={12} md={3} item>\r\n              <FormControl\r\n                variant=\"outlined\"\r\n                className={classes.formControl}\r\n                fullWidth\r\n              >\r\n                <InputLabel id=\"messageInterval-label\">\r\n                  Tempo entre Disparos\r\n                </InputLabel>\r\n                <Select\r\n                  name=\"messageInterval\"\r\n                  id=\"messageInterval\"\r\n                  labelId=\"messageInterval-label\"\r\n                  label=\"Intervalo Randômico de Disparo\"\r\n                  value={settings.messageInterval}\r\n                  onChange={(e) => handleOnChangeSettings(e)}\r\n                >\r\n                  <MenuItem value={0}>Sem Intervalo</MenuItem>\r\n                  <MenuItem value={5}>5 segundos</MenuItem>\r\n                  <MenuItem value={10}>10 segundos</MenuItem>\r\n                  <MenuItem value={15}>15 segundos</MenuItem>\r\n                  <MenuItem value={20}>20 segundos</MenuItem>\r\n                </Select>\r\n              </FormControl>\r\n            </Grid> */}\r\n\r\n                <Grid xs={12} md={3} item>\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                    fullWidth\r\n                  >\r\n                    <InputLabel id=\"messageInterval-label\">\r\n                      {i18n.t(\"campaigns.settings.randomInterval\")}\r\n                    </InputLabel>\r\n                    <Select\r\n                      name=\"messageInterval\"\r\n                      id=\"messageInterval\"\r\n                      labelId=\"messageInterval-label\"\r\n                      label={i18n.t(\"campaigns.settings.randomInterval\")}\r\n                      value={settings.messageInterval}\r\n                      onChange={(e) => handleOnChangeSettings(e)}\r\n                    >\r\n                      <MenuItem value={0}>\r\n                        {i18n.t(\"campaigns.settings.noBreak\")}\r\n                      </MenuItem>\r\n                      <MenuItem value={5}>5 segundos</MenuItem>\r\n                      <MenuItem value={10}>10 segundos</MenuItem>\r\n                      <MenuItem value={15}>15 segundos</MenuItem>\r\n                      <MenuItem value={20}>20 segundos</MenuItem>\r\n                      <MenuItem value={30}>30 segundos</MenuItem>\r\n                      <MenuItem value={60}>40 segundos</MenuItem>\r\n                      <MenuItem value={70}>60 segundos</MenuItem>\r\n                      <MenuItem value={80}>80 segundos</MenuItem>\r\n                      <MenuItem value={100}>100 segundos</MenuItem>\r\n                      <MenuItem value={120}>120 segundos</MenuItem> `` ``\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid xs={12} md={3} item>\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                    fullWidth\r\n                  >\r\n                    <InputLabel id=\"longerIntervalAfter-label\">\r\n                      {i18n.t(\"campaigns.settings.intervalGapAfter\")}\r\n                    </InputLabel>\r\n                    <Select\r\n                      name=\"longerIntervalAfter\"\r\n                      id=\"longerIntervalAfter\"\r\n                      labelId=\"longerIntervalAfter-label\"\r\n                      label={i18n.t(\"campaigns.settings.intervalGapAfter\")}\r\n                      value={settings.longerIntervalAfter}\r\n                      onChange={(e) => handleOnChangeSettings(e)}\r\n                    >\r\n                      <MenuItem value={0}>\r\n                        {i18n.t(\"campaigns.settings.undefined\")}\r\n                      </MenuItem>\r\n                      <MenuItem value={5}>\r\n                        5 {i18n.t(\"campaigns.settings.messages\")}\r\n                      </MenuItem>\r\n                      <MenuItem value={10}>\r\n                        10 {i18n.t(\"campaigns.settings.messages\")}\r\n                      </MenuItem>\r\n                      <MenuItem value={15}>\r\n                        15 {i18n.t(\"campaigns.settings.messages\")}\r\n                      </MenuItem>\r\n                      <MenuItem value={20}>\r\n                        20 {i18n.t(\"campaigns.settings.messages\")}\r\n                      </MenuItem>\r\n                      <MenuItem value={30}>\r\n                        30 {i18n.t(\"campaigns.settings.messages\")}\r\n                      </MenuItem>\r\n                      <MenuItem value={40}>\r\n                        40 {i18n.t(\"campaigns.settings.messages\")}\r\n                      </MenuItem>\r\n                      <MenuItem value={50}>\r\n                        50 {i18n.t(\"campaigns.settings.messages\")}\r\n                      </MenuItem>\r\n                      <MenuItem value={60}>\r\n                        60 {i18n.t(\"campaigns.settings.messages\")}\r\n                      </MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid xs={12} md={3} item>\r\n                  <FormControl\r\n                    variant=\"outlined\"\r\n                    className={classes.formControl}\r\n                    fullWidth\r\n                  >\r\n                    <InputLabel id=\"greaterInterval-label\">\r\n                      {i18n.t(\"campaigns.settings.laggerTriggerRange\")}\r\n                    </InputLabel>\r\n                    <Select\r\n                      name=\"greaterInterval\"\r\n                      id=\"greaterInterval\"\r\n                      labelId=\"greaterInterval-label\"\r\n                      label={i18n.t(\"campaigns.settings.laggerTriggerRange\")}\r\n                      value={settings.greaterInterval}\r\n                      onChange={(e) => handleOnChangeSettings(e)}\r\n                    >\r\n                      <MenuItem value={0}>\r\n                        {i18n.t(\"campaigns.settings.noBreak\")}\r\n                      </MenuItem>\r\n                      <MenuItem value={20}>20 segundos</MenuItem>\r\n                      <MenuItem value={30}>30 segundos</MenuItem>\r\n                      <MenuItem value={40}>40 segundos</MenuItem>\r\n                      <MenuItem value={50}>50 segundos</MenuItem>\r\n                      <MenuItem value={60}>60 segundos</MenuItem>\r\n                      <MenuItem value={70}>70 segundos</MenuItem>\r\n                      <MenuItem value={80}>80 segundos</MenuItem>\r\n                      <MenuItem value={90}>90 segundos</MenuItem>\r\n                      <MenuItem value={100}>100 segundos</MenuItem>\r\n                      <MenuItem value={110}>110 segundos</MenuItem>\r\n                      <MenuItem value={120}>120 segundos</MenuItem>\r\n                      <MenuItem value={130}>130 segundos</MenuItem>\r\n                      <MenuItem value={140}>140 segundos</MenuItem>\r\n                      <MenuItem value={150}>150 segundos</MenuItem>\r\n                      <MenuItem value={160}>160 segundos</MenuItem>\r\n                      <MenuItem value={170}>170 segundos</MenuItem>\r\n                      <MenuItem value={180}>180 segundos</MenuItem>\r\n                    </Select>\r\n                  </FormControl>\r\n                </Grid>\r\n                <Grid xs={12} className={classes.textRight} item>\r\n                  {/* <Button\r\n                onClick={() => setShowVariablesForm(!showVariablesForm)}\r\n                color=\"primary\"\r\n                style={{ marginRight: 10 }}\r\n              >\r\n                {i18n.t(\"campaigns.settings.addVar\")}\r\n              </Button> */}\r\n                  <Button\r\n                    onClick={saveSettings}\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                    style={{ borderRadius: \"22px\" }}\r\n                  >\r\n                    {i18n.t(\"campaigns.settings.save\")}\r\n                  </Button>\r\n                </Grid>\r\n                {/* {showVariablesForm && (\r\n              <>\r\n                <Grid xs={12} md={6} item>\r\n                  <TextField\r\n                    label={i18n.t(\"campaigns.settings.shortcut\")}\r\n                    variant=\"outlined\"\r\n                    value={variable.key}\r\n                    name=\"key\"\r\n                    onChange={handleOnChangeVariable}\r\n                    fullWidth\r\n                  />\r\n                </Grid>\r\n                <Grid xs={12} md={6} item>\r\n                  <TextField\r\n                    label={i18n.t(\"campaigns.settings.content\")}\r\n                    variant=\"outlined\"\r\n                    value={variable.value}\r\n                    name=\"value\"\r\n                    onChange={handleOnChangeVariable}\r\n                    fullWidth\r\n                  />\r\n                </Grid>\r\n                <Grid xs={12} className={classes.textRight} item>\r\n                  <Button\r\n                    onClick={() => setShowVariablesForm(!showVariablesForm)}\r\n                    color=\"primary\"\r\n                    style={{ marginRight: 10 }}\r\n                  >\r\n                    {i18n.t(\"campaigns.settings.close\")}\r\n                  </Button>\r\n                  <Button\r\n                    onClick={addVariable}\r\n                    color=\"primary\"\r\n                    variant=\"contained\"\r\n                  >\r\n                    {i18n.t(\"campaigns.settings.add\")}\r\n                  </Button>\r\n                </Grid>\r\n              </>\r\n            )}\r\n            {settings.variables.length > 0 && (\r\n              <Grid xs={12} className={classes.textRight} item>\r\n                <Table size=\"small\">\r\n                  <TableHead>\r\n                    <TableRow>\r\n                      <TableCell style={{ width: \"1%\" }}></TableCell>\r\n                      <TableCell>{i18n.t(\"campaigns.settings.shortcut\")}\r\n                      </TableCell>\r\n                      <TableCell>{i18n.t(\"campaigns.settings.content\")}</TableCell>\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {Array.isArray(settings.variables) &&\r\n                      settings.variables.map((v, k) => (\r\n                        <TableRow key={k}>\r\n                          <TableCell>\r\n                            <IconButton\r\n                              size=\"small\"\r\n                              onClick={() => {\r\n                                setSelectedKey(v.key);\r\n                                setConfirmationOpen(true);\r\n                              }}\r\n                            >\r\n                              <DeleteOutlineIcon />\r\n                            </IconButton>\r\n                          </TableCell>\r\n                          <TableCell>{\"{\" + v.key + \"}\"}</TableCell>\r\n                          <TableCell>{v.value}</TableCell>\r\n                        </TableRow>\r\n                      ))}\r\n                  </TableBody>\r\n                </Table>\r\n              </Grid>\r\n            )} */}\r\n              </Grid>\r\n            </Box>\r\n          </Paper>\r\n        </>\r\n      )}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default CampaignsConfig;\r\n","import React from \"react\";\r\n\r\nimport { Avatar, Card, CardHeader, Typography } from \"@material-ui/core\";\r\nimport Skeleton from \"@material-ui/lab/Skeleton\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { grey } from '@material-ui/core/colors';\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tcardAvatar: {\r\n\t\tfontSize: '55px',\r\n\t\tcolor: grey[500],\r\n\t\tbackgroundColor: '#ffffff',\r\n\t\twidth: theme.spacing(7),\r\n\t\theight: theme.spacing(7)\r\n\t},\r\n\tcardTitle: {\r\n\t\tfontSize: '18px',\r\n\t\tcolor: theme.palette.text.primary\r\n\t},\r\n\tcardSubtitle: {\r\n\t\tcolor: grey[600],\r\n\t\tfontSize: '14px'\r\n\t}\r\n}));\r\n\r\nexport default function CardCounter(props) {\r\n    const { icon, title, value, loading } = props\r\n\tconst classes = useStyles();\r\n    return ( !loading ? \r\n        <Card>\r\n            <CardHeader\r\n                avatar={\r\n                    <Avatar className={classes.cardAvatar}>\r\n                        {icon}\r\n                    </Avatar>\r\n                }\r\n                title={\r\n                    <Typography variant=\"h6\" component=\"h2\" className={classes.cardTitle}>\r\n                        { title }\r\n                    </Typography>\r\n                }\r\n                subheader={\r\n                    <Typography variant=\"subtitle1\" component=\"p\" className={classes.cardSubtitle}>\r\n                        { value }\r\n                    </Typography>\r\n                }\r\n            />\r\n        </Card>\r\n        : <Skeleton variant=\"rect\" height={80} />\r\n    )\r\n    \r\n}","import React, { useEffect, useRef, useState, useContext } from \"react\";\r\nimport { useParams } from \"react-router-dom\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { toast } from \"react-toastify\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport { Grid, LinearProgress, Typography } from \"@material-ui/core\";\r\nimport api from \"../../services/api\";\r\nimport { has, get, isNull } from \"lodash\";\r\nimport CardCounter from \"../../components/Dashboard/CardCounter\";\r\nimport GroupIcon from \"@material-ui/icons/Group\";\r\nimport ScheduleIcon from \"@material-ui/icons/Schedule\";\r\nimport EventAvailableIcon from \"@material-ui/icons/EventAvailable\";\r\nimport DoneIcon from \"@material-ui/icons/Done\";\r\nimport DoneAllIcon from \"@material-ui/icons/DoneAll\";\r\nimport CheckCircleIcon from \"@material-ui/icons/CheckCircle\";\r\nimport WhatsAppIcon from \"@material-ui/icons/WhatsApp\";\r\nimport ListAltIcon from \"@material-ui/icons/ListAlt\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(2),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  textRight: {\r\n    textAlign: \"right\",\r\n  },\r\n  tabPanelsContainer: {\r\n    // padding: theme.spacing(2),\r\n    padding: theme.padding,\r\n  },\r\n}));\r\n\r\nconst CampaignReport = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const { campaignId } = useParams();\r\n\r\n  const [campaign, setCampaign] = useState({});\r\n  const [validContacts, setValidContacts] = useState(0);\r\n  const [delivered, setDelivered] = useState(0);\r\n  const [confirmationRequested, setConfirmationRequested] = useState(0);\r\n  const [confirmed, setConfirmed] = useState(0);\r\n  const [percent, setPercent] = useState(0);\r\n  const [loading, setLoading] = useState(false);\r\n  const mounted = useRef(true);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const { datetimeToClient } = useDate();\r\n  const { getPlanCompany } = usePlans();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const companyId = user.companyId;\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useCampaigns) {\r\n        toast.error(\"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\");\r\n        setTimeout(() => {\r\n          history.push(`/`)\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (mounted.current) {\r\n      findCampaign();\r\n    }\r\n\r\n    return () => {\r\n      mounted.current = false;\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (mounted.current && has(campaign, \"shipping\")) {\r\n      if (has(campaign, \"contactList\")) {\r\n        const contactList = get(campaign, \"contactList\");\r\n        const valids = contactList.contacts.filter((c) => c.isWhatsappValid);\r\n        setValidContacts(valids.length);\r\n      }\r\n\r\n      if (has(campaign, \"shipping\")) {\r\n        const contacts = get(campaign, \"shipping\");\r\n        const delivered = contacts.filter((c) => !isNull(c.deliveredAt));\r\n        const confirmationRequested = contacts.filter(\r\n          (c) => !isNull(c.confirmationRequestedAt)\r\n        );\r\n        const confirmed = contacts.filter(\r\n          (c) => !isNull(c.deliveredAt) && !isNull(c.confirmationRequestedAt)\r\n        );\r\n        setDelivered(delivered.length);\r\n        setConfirmationRequested(confirmationRequested.length);\r\n        setConfirmed(confirmed.length);\r\n        setDelivered(delivered.length);\r\n      }\r\n    }\r\n  }, [campaign]);\r\n\r\n  useEffect(() => {\r\n    setPercent((delivered / validContacts) * 100);\r\n  }, [delivered, validContacts]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onCampaignEvent = (data) => {\r\n\r\n      if (data.record.id === +campaignId) {\r\n        setCampaign(data.record);\r\n\r\n        if (data.record.status === \"FINALIZADA\") {\r\n          setTimeout(() => {\r\n            findCampaign();\r\n          }, 5000);\r\n        }\r\n      }\r\n    };\r\n    socket.on(`company-${companyId}-campaign`, onCampaignEvent);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-campaign`, onCampaignEvent);\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [campaignId]);\r\n\r\n  const findCampaign = async () => {\r\n    setLoading(true);\r\n    const { data } = await api.get(`/campaigns/${campaignId}`);\r\n    setCampaign(data);\r\n    setLoading(false);\r\n  };\r\n\r\n  const formatStatus = (val) => {\r\n    switch (val) {\r\n      case \"INATIVA\":\r\n        return i18n.t(\"campaignReport.inactive\");\r\n      case \"PROGRAMADA\":\r\n        return i18n.t(\"campaignReport.scheduled\");\r\n      case \"EM_ANDAMENTO\":\r\n        return i18n.t(\"campaignReport.process\");\r\n      case \"CANCELADA\":\r\n        return i18n.t(\"campaignReport.cancelled\");\r\n      case \"FINALIZADA\":\r\n        return i18n.t(\"campaignReport.finished\");\r\n      default:\r\n        return val;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} item>\r\n            <Title>{i18n.t(\"campaignReport.title\")} {campaign.name || i18n.t(\"campaignReport.campaign\")}</Title>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper className={classes.mainPaper} variant=\"outlined\">\r\n        <Typography variant=\"h6\" component=\"h2\">\r\n          Status: {formatStatus(campaign.status)} {delivered} de {validContacts}\r\n        </Typography>\r\n        <Grid spacing={2} container>\r\n          <Grid xs={12} item>\r\n            <LinearProgress\r\n              variant=\"determinate\"\r\n              style={{ height: 15, borderRadius: 3, margin: \"20px 0\" }}\r\n              value={percent}\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<GroupIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.validContacts\")}\r\n              value={validContacts}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          {campaign.confirmation && (\r\n            <>\r\n              <Grid xs={12} md={4} item>\r\n                <CardCounter\r\n                  icon={<DoneIcon fontSize=\"inherit\" />}\r\n                  title={i18n.t(\"campaignReport.confirmationsRequested\")}\r\n                  value={confirmationRequested}\r\n                  loading={loading}\r\n                />\r\n              </Grid>\r\n              <Grid xs={12} md={4} item>\r\n                <CardCounter\r\n                  icon={<DoneAllIcon fontSize=\"inherit\" />}\r\n                  title={i18n.t(\"campaignReport.confirmations\")}\r\n                  value={confirmed}\r\n                  loading={loading}\r\n                />\r\n              </Grid>\r\n            </>\r\n          )}\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<CheckCircleIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.deliver\")}\r\n              value={delivered}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          {campaign.whatsappId && (\r\n            <Grid xs={12} md={4} item>\r\n              <CardCounter\r\n                icon={<WhatsAppIcon fontSize=\"inherit\" />}\r\n                title={i18n.t(\"campaignReport.connection\")}\r\n                value={campaign.whatsapp.name}\r\n                loading={loading}\r\n              />\r\n            </Grid>\r\n          )}\r\n          {campaign.contactListId && (\r\n            <Grid xs={12} md={4} item>\r\n              <CardCounter\r\n                icon={<ListAltIcon fontSize=\"inherit\" />}\r\n                title={i18n.t(\"campaignReport.contactLists\")}\r\n                value={campaign.contactList.name}\r\n                loading={loading}\r\n              />\r\n            </Grid>\r\n          )}\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<ScheduleIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.schedule\")}\r\n              value={datetimeToClient(campaign.scheduledAt)}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} md={4} item>\r\n            <CardCounter\r\n              icon={<EventAvailableIcon fontSize=\"inherit\" />}\r\n              title={i18n.t(\"campaignReport.conclusion\")}\r\n              value={datetimeToClient(campaign.completedAt)}\r\n              loading={loading}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default CampaignReport;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { head } from \"lodash\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n} from \"@material-ui/core\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nconst AnnouncementSchema = Yup.object().shape({\r\n  title: Yup.string().required(\"Obrigatório\"),\r\n  text: Yup.string().required(\"Obrigatório\"),\r\n});\r\n\r\nconst AnnouncementModal = ({ open, onClose, announcementId, reload }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    title: \"\",\r\n    text: \"\",\r\n    priority: 3,\r\n    status: true,\r\n  };\r\n\r\n  const [confirmationOpen, setConfirmationOpen] = useState(false);\r\n  const [announcement, setAnnouncement] = useState(initialState);\r\n  const [attachment, setAttachment] = useState(null);\r\n  const attachmentFile = useRef(null);\r\n\r\n  useEffect(() => {\r\n    try {\r\n      (async () => {\r\n        if (!announcementId) return;\r\n\r\n        const { data } = await api.get(`/announcements/${announcementId}`);\r\n        setAnnouncement((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      })();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }, [announcementId, open]);\r\n\r\n  const handleClose = () => {\r\n    setAnnouncement(initialState);\r\n    setAttachment(null);\r\n    onClose();\r\n  };\r\n\r\n  const handleAttachmentFile = (e) => {\r\n    const file = head(e.target.files);\r\n    if (file) {\r\n      setAttachment(file);\r\n    }\r\n  };\r\n\r\n  const handleSaveAnnouncement = async (values) => {\r\n    const announcementData = { ...values };\r\n    try {\r\n      if (announcementId) {\r\n        await api.put(`/announcements/${announcementId}`, announcementData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"typeArch\", \"announcements\");\r\n          formData.append(\"file\", attachment);\r\n          await api.post(\r\n            `/announcements/${announcementId}/media-upload`,\r\n            formData\r\n          );\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/announcements\", announcementData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"typeArch\", \"announcements\");\r\n          formData.append(\"file\", attachment);\r\n\r\n          await api.post(`/announcements/${data.id}/media-upload`, formData);\r\n        }\r\n      }\r\n      toast.success(i18n.t(\"announcements.toasts.success\"));\r\n      if (typeof reload == \"function\") {\r\n        reload();\r\n      }\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  const deleteMedia = async () => {\r\n    if (attachment) {\r\n      setAttachment(null);\r\n      attachmentFile.current.value = null;\r\n    }\r\n\r\n    if (announcement.mediaPath) {\r\n      await api.delete(`/announcements/${announcement.id}/media-upload`);\r\n      setAnnouncement((prev) => ({\r\n        ...prev,\r\n        mediaPath: null,\r\n      }));\r\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\r\n      if (typeof reload == \"function\") {\r\n        reload();\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <ConfirmationModal\r\n        title={i18n.t(\"announcements.confirmationModal.deleteTitle\")}\r\n        open={confirmationOpen}\r\n        onClose={() => setConfirmationOpen(false)}\r\n        onConfirm={deleteMedia}\r\n      >\r\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xs\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {announcementId\r\n            ? `${i18n.t(\"announcements.dialog.edit\")}`\r\n            : `${i18n.t(\"announcements.dialog.add\")}`}\r\n        </DialogTitle>\r\n        <div style={{ display: \"none\" }}>\r\n          <input\r\n            type=\"file\"\r\n            accept=\".png,.jpg,.jpeg\"\r\n            ref={attachmentFile}\r\n            onChange={(e) => handleAttachmentFile(e)}\r\n          />\r\n        </div>\r\n        <Formik\r\n          initialValues={announcement}\r\n          enableReinitialize={true}\r\n          validationSchema={AnnouncementSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveAnnouncement(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, values }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Grid spacing={2} container>\r\n                  <Grid xs={12} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"announcements.dialog.form.title\")}\r\n                      name=\"title\"\r\n                      error={touched.title && Boolean(errors.title)}\r\n                      helperText={touched.title && errors.title}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      fullWidth\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"announcements.dialog.form.text\")}\r\n                      name=\"text\"\r\n                      error={touched.text && Boolean(errors.text)}\r\n                      helperText={touched.text && errors.text}\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      multiline={true}\r\n                      rows={7}\r\n                      fullWidth\r\n                    />\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\r\n                      <InputLabel id=\"status-selection-label\">\r\n                        {i18n.t(\"announcements.dialog.form.status\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"announcements.dialog.form.status\")}\r\n                        placeholder={i18n.t(\"announcements.dialog.form.status\")}\r\n                        labelId=\"status-selection-label\"\r\n                        id=\"status\"\r\n                        name=\"status\"\r\n                        error={touched.status && Boolean(errors.status)}\r\n                      >\r\n                        <MenuItem value={true}>{i18n.t(\"announcements.dialog.form.active\")}</MenuItem>\r\n                        <MenuItem value={false}>{i18n.t(\"announcements.dialog.form.inactive\")}</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  <Grid xs={12} item>\r\n                    <FormControl variant=\"outlined\" margin=\"dense\" fullWidth>\r\n                      <InputLabel id=\"priority-selection-label\">\r\n                        {i18n.t(\"announcements.dialog.form.priority\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"announcements.dialog.form.priority\")}\r\n                        placeholder={i18n.t(\r\n                          \"announcements.dialog.form.priority\"\r\n                        )}\r\n                        labelId=\"priority-selection-label\"\r\n                        id=\"priority\"\r\n                        name=\"priority\"\r\n                        error={touched.priority && Boolean(errors.priority)}\r\n                      >\r\n                        <MenuItem value={1}>{i18n.t(\"announcements.dialog.form.high\")}</MenuItem>\r\n                        <MenuItem value={2}>{i18n.t(\"announcements.dialog.form.medium\")}</MenuItem>\r\n                        <MenuItem value={3}>{i18n.t(\"announcements.dialog.form.low\")}</MenuItem>\r\n                      </Field>\r\n                    </FormControl>\r\n                  </Grid>\r\n                  {(announcement.mediaPath || attachment) && (\r\n                    <Grid xs={12} item>\r\n                      <Button startIcon={<AttachFileIcon />}>\r\n                        {attachment ? attachment.name : announcement.mediaName}\r\n                      </Button>\r\n                      <IconButton\r\n                        onClick={() => setConfirmationOpen(true)}\r\n                        color=\"secondary\"\r\n                      >\r\n                        <DeleteOutlineIcon />\r\n                      </IconButton>\r\n                    </Grid>\r\n                  )}\r\n                </Grid>\r\n              </DialogContent>\r\n              <DialogActions>\r\n                {!attachment && !announcement.mediaPath && (\r\n                  <Button\r\n                    color=\"primary\"\r\n                    onClick={() => attachmentFile.current.click()}\r\n                    disabled={isSubmitting}\r\n                    variant=\"outlined\"\r\n                  >\r\n                    {i18n.t(\"announcements.dialog.buttons.attach\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"announcements.dialog.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {announcementId\r\n                    ? `${i18n.t(\"announcements.dialog.buttons.edit\")}`\r\n                    : `${i18n.t(\"announcements.dialog.buttons.add\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AnnouncementModal;\r\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport { Grid } from \"@material-ui/core\";\r\nimport { isArray } from \"lodash\";\r\nimport AnnouncementModal from \"../../components/AnnouncementModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_ANNOUNCEMENTS\") {\r\n    const announcements = action.payload;\r\n    const newAnnouncements = [];\r\n\r\n    if (isArray(announcements)) {\r\n      announcements.forEach((announcement) => {\r\n        const announcementIndex = state.findIndex(\r\n          (u) => u.id === announcement.id\r\n        );\r\n        if (announcementIndex !== -1) {\r\n          state[announcementIndex] = announcement;\r\n        } else {\r\n          newAnnouncements.push(announcement);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newAnnouncements];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_ANNOUNCEMENTS\") {\r\n    const announcement = action.payload;\r\n    const announcementIndex = state.findIndex((u) => u.id === announcement.id);\r\n\r\n    if (announcementIndex !== -1) {\r\n      state[announcementIndex] = announcement;\r\n      return [...state];\r\n    } else {\r\n      return [announcement, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_ANNOUNCEMENT\") {\r\n    const announcementId = action.payload;\r\n\r\n    const announcementIndex = state.findIndex((u) => u.id === announcementId);\r\n    if (announcementIndex !== -1) {\r\n      state.splice(announcementIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    // padding: theme.spacing(1),\r\n    padding: theme.padding,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Announcements = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedAnnouncement, setSelectedAnnouncement] = useState(null);\r\n  const [deletingAnnouncement, setDeletingAnnouncement] = useState(null);\r\n  const [announcementModalOpen, setAnnouncementModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [announcements, dispatch] = useReducer(reducer, []);\r\n\r\n  // trava para nao acessar pagina que não pode\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      if (!user.super) {\r\n        toast.error(\r\n          \"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\"\r\n        );\r\n        setTimeout(() => {\r\n          history.push(`/`);\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchAnnouncements();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    if (user.companyId) {\r\n      //    const socket = socketManager.GetSocket();\r\n\r\n      const onCompanyAnnouncement = (data) => {\r\n        if (data.action === \"update\" || data.action === \"create\") {\r\n          dispatch({ type: \"UPDATE_ANNOUNCEMENTS\", payload: data.record });\r\n        }\r\n        if (data.action === \"delete\") {\r\n          dispatch({ type: \"DELETE_ANNOUNCEMENT\", payload: +data.id });\r\n        }\r\n      };\r\n\r\n      socket.on(`company-announcement`, onCompanyAnnouncement);\r\n      return () => {\r\n        socket.off(`company-announcement`, onCompanyAnnouncement);\r\n      };\r\n    }\r\n  }, [user]);\r\n\r\n  const fetchAnnouncements = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/announcements/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_ANNOUNCEMENTS\", payload: data.records });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenAnnouncementModal = () => {\r\n    setSelectedAnnouncement(null);\r\n    setAnnouncementModalOpen(true);\r\n  };\r\n\r\n  const handleCloseAnnouncementModal = () => {\r\n    setSelectedAnnouncement(null);\r\n    setAnnouncementModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditAnnouncement = (announcement) => {\r\n    setSelectedAnnouncement(announcement);\r\n    setAnnouncementModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteAnnouncement = async (announcement) => {\r\n    try {\r\n      if (announcement.mediaName)\r\n        await api.delete(`/announcements/${announcement.id}/media-upload`);\r\n\r\n      await api.delete(`/announcements/${announcement.id}`);\r\n\r\n      toast.success(i18n.t(\"announcements.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingAnnouncement(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const translatePriority = (val) => {\r\n    if (val === 1) {\r\n      return \"Alta\";\r\n    }\r\n    if (val === 2) {\r\n      return \"Média\";\r\n    }\r\n    if (val === 3) {\r\n      return \"Baixa\";\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingAnnouncement &&\r\n          `${i18n.t(\"announcements.confirmationModal.deleteTitle\")} ${\r\n            deletingAnnouncement.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteAnnouncement(deletingAnnouncement)}\r\n      >\r\n        {i18n.t(\"announcements.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <AnnouncementModal\r\n        resetPagination={() => {\r\n          setPageNumber(1);\r\n          fetchAnnouncements();\r\n        }}\r\n        open={announcementModalOpen}\r\n        onClose={handleCloseAnnouncementModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        announcementId={selectedAnnouncement && selectedAnnouncement.id}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>\r\n              {i18n.t(\"announcements.title\")} ({announcements.length})\r\n            </Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={6} sm={6} item>\r\n                <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"announcements.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                />\r\n              </Grid>\r\n              <Grid xs={6} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={handleOpenAnnouncementModal}\r\n                  color=\"primary\"\r\n                  style={{ borderRadius: \"22px\" }}\r\n                >\r\n                  {i18n.t(\"announcements.buttons.add\")}\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.title\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.priority\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.mediaName\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.status\")}\r\n              </TableCell>\r\n              <TableCell align=\"center\">\r\n                {i18n.t(\"announcements.table.actions\")}\r\n              </TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {announcements.map((announcement) => (\r\n                <TableRow key={announcement.id}>\r\n                  <TableCell align=\"center\">{announcement.title}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {translatePriority(announcement.priority)}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {announcement.mediaName ??\r\n                      i18n.t(\"quickMessages.noAttachment\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {announcement.status\r\n                      ? i18n.t(\"announcements.active\")\r\n                      : i18n.t(\"announcements.inactive\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditAnnouncement(announcement)}\r\n                    >\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingAnnouncement(announcement);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={5} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Announcements;\r\n","import React, { useContext, useState } from \"react\";\r\nimport {\r\n  Chip,\r\n  IconButton,\r\n  List,\r\n  ListItem,\r\n  ListItemSecondaryAction,\r\n  ListItemText,\r\n  makeStyles,\r\n} from \"@material-ui/core\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\n\r\nimport DeleteIcon from \"@material-ui/icons/Delete\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport api from \"../../services/api\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    height: \"calc(100% - 58px)\",\r\n    overflow: \"hidden\",\r\n    borderRadius: 0,\r\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\r\n  },\r\n  chatList: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  listItemActive: {\r\n    cursor: \"pointer\",\r\n    backgroundColor: theme.palette.background.paper,\r\n    borderLeft: \"6px solid #002d6e\",\r\n  },\r\n  listItem: {\r\n    cursor: \"pointer\",\r\n    backgroundColor: theme.palette.background.color,\r\n  },\r\n}));\r\n\r\nexport default function ChatList({\r\n  chats,\r\n  handleSelectChat,\r\n  handleDeleteChat,\r\n  handleEditChat,\r\n  pageInfo,\r\n  loading,\r\n}) {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { datetimeToClient } = useDate();\r\n\r\n  const [confirmationModal, setConfirmModalOpen] = useState(false);\r\n  const [selectedChat, setSelectedChat] = useState({});\r\n\r\n  const { id } = useParams();\r\n\r\n  const goToMessages = async (chat) => {\r\n    if (unreadMessages(chat) > 0) {\r\n      try {\r\n        await api.post(`/chats/${chat.id}/read`, { userId: user.id });\r\n      } catch (err) {}\r\n    }\r\n\r\n    if (id !== chat.uuid) {\r\n      history.push(`/chats/${chat.uuid}`);\r\n      handleSelectChat(chat);\r\n    }\r\n  };\r\n\r\n  const handleDelete = () => {\r\n    handleDeleteChat(selectedChat);\r\n  };\r\n\r\n  const unreadMessages = (chat) => {\r\n    const currentUser = chat.users.find((u) => u.userId === user.id);\r\n    return currentUser.unreads;\r\n  };\r\n\r\n  const getPrimaryText = (chat) => {\r\n    const mainText = chat.title;\r\n    const unreads = unreadMessages(chat);\r\n    return (\r\n      <>\r\n        {mainText}\r\n        {unreads > 0 && (\r\n          <Chip\r\n            size=\"small\"\r\n            style={{ marginLeft: 5 }}\r\n            label={unreads}\r\n            color=\"secondary\"\r\n          />\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const getSecondaryText = (chat) => {\r\n    return chat.lastMessage !== \"\"\r\n      ? `${datetimeToClient(chat.updatedAt)}: ${chat.lastMessage}`\r\n      : \"\";\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ConfirmationModal\r\n        title={\"Excluir Conversa\"}\r\n        open={confirmationModal}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={handleDelete}\r\n      >\r\n        Esta ação não pode ser revertida, confirmar?\r\n      </ConfirmationModal>\r\n      <div className={classes.mainContainer}>\r\n        <div className={classes.chatList}>\r\n          <List>\r\n            {Array.isArray(chats) &&\r\n              chats.length > 0 &&\r\n              chats.map((chat, key) => (\r\n                <ListItem\r\n                  onClick={() => goToMessages(chat)}\r\n                  key={key}\r\n                  className={chat.uuid === id ? classes.listItemActive : classes.listItem}\r\n                  // style={getItemStyle(chat)}\r\n                  button\r\n                >\r\n                  <ListItemText\r\n                    primary={getPrimaryText(chat)}\r\n                    secondary={getSecondaryText(chat)}\r\n                  />\r\n                  {chat.ownerId === user.id && (\r\n                    <ListItemSecondaryAction>\r\n                      <IconButton\r\n                        onClick={() => {\r\n                          goToMessages(chat).then(() => {\r\n                            handleEditChat(chat);\r\n                          });\r\n                        }}\r\n                        edge=\"end\"\r\n                        aria-label=\"delete\"\r\n                        size=\"small\"\r\n                        style={{ marginRight: 5 }}\r\n                      >\r\n                        <EditIcon />\r\n                      </IconButton>\r\n                      <IconButton\r\n                        onClick={() => {\r\n                          setSelectedChat(chat);\r\n                          setConfirmModalOpen(true);\r\n                        }}\r\n                        edge=\"end\"\r\n                        aria-label=\"delete\"\r\n                        size=\"small\"\r\n                      >\r\n                        <DeleteIcon />\r\n                      </IconButton>\r\n                    </ListItemSecondaryAction>\r\n                  )}\r\n                </ListItem>\r\n              ))}\r\n          </List>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\nimport {\r\n  Box,\r\n  FormControl,\r\n  IconButton,\r\n  Input,\r\n  InputAdornment,\r\n  makeStyles,\r\n  Paper,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport SendIcon from \"@material-ui/icons/Send\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\nimport api from \"../../services/api\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    overflow: \"hidden\",\r\n    borderRadius: 0,\r\n    height: \"100%\",\r\n    borderLeft: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  messageList: {\r\n    position: \"relative\",\r\n    overflowY: \"auto\",\r\n    height: \"100%\",\r\n    ...theme.scrollbarStyles,\r\n    backgroundColor: theme.mode === 'light' ? \"#f2f2f2\" : \"#7f7f7f\",\r\n  },\r\n  inputArea: {\r\n    position: \"relative\",\r\n    height: \"auto\",\r\n  },\r\n  input: {\r\n    padding: \"20px\",\r\n  },\r\n  buttonSend: {\r\n    margin: theme.spacing(1),\r\n  },\r\n  boxLeft: {\r\n    padding: \"10px 10px 5px\",\r\n    margin: \"10px\",\r\n    position: \"relative\",\r\n    backgroundColor: \"#ffffff\",\r\n    color: \"#303030\",\r\n    maxWidth: 300,\r\n    borderRadius: 10,\r\n    borderBottomLeftRadius: 0,\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  boxRight: {\r\n    padding: \"10px 10px 5px\",\r\n    margin: \"10px 10px 10px auto\",\r\n    position: \"relative\",\r\n    backgroundColor: \"#dcf8c6\",\r\n    color: \"#303030\",\r\n    textAlign: \"right\",\r\n    maxWidth: 300,\r\n    borderRadius: 10,\r\n    borderBottomRightRadius: 0,\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n}));\r\n\r\nexport default function ChatMessages({\r\n  chat,\r\n  messages,\r\n  handleSendMessage,\r\n  handleLoadMore,\r\n  scrollToBottomRef,\r\n  pageInfo,\r\n  loading,\r\n}) {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { datetimeToClient } = useDate();\r\n  const baseRef = useRef();\r\n\r\n  const [contentMessage, setContentMessage] = useState(\"\");\r\n\r\n  const scrollToBottom = () => {\r\n    if (baseRef.current) {\r\n      baseRef.current.scrollIntoView({});\r\n    }\r\n  };\r\n\r\n  const unreadMessages = (chat) => {\r\n    if (chat !== undefined) {\r\n      const currentUser = chat.users.find((u) => u.userId === user.id);\r\n      return currentUser.unreads > 0;\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (unreadMessages(chat) > 0) {\r\n      try {\r\n        api.post(`/chats/${chat.id}/read`, { userId: user.id });\r\n      } catch (err) {}\r\n    }\r\n    scrollToBottomRef.current = scrollToBottom;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleScroll = (e) => {\r\n    const { scrollTop } = e.currentTarget;\r\n    if (!pageInfo.hasMore || loading) return;\r\n    if (scrollTop < 600) {\r\n      handleLoadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Paper className={classes.mainContainer}>\r\n      <div onScroll={handleScroll} className={classes.messageList}>\r\n        {Array.isArray(messages) &&\r\n          messages.map((item, key) => {\r\n            if (item.senderId === user.id) {\r\n              return (\r\n                <Box key={key} className={classes.boxRight}>\r\n                  <Typography variant=\"subtitle2\">\r\n                    {item.sender.name}\r\n                  </Typography>\r\n                  {item.message}\r\n                  <Typography variant=\"caption\" display=\"block\">\r\n                    {datetimeToClient(item.createdAt)}\r\n                  </Typography>\r\n                </Box>\r\n              );\r\n            } else {\r\n              return (\r\n                <Box key={key} className={classes.boxLeft}>\r\n                  <Typography variant=\"subtitle2\">\r\n                    {item.sender.name}\r\n                  </Typography>\r\n                  {item.message}\r\n                  <Typography variant=\"caption\" display=\"block\">\r\n                    {datetimeToClient(item.createdAt)}\r\n                  </Typography>\r\n                </Box>\r\n              );\r\n            }\r\n          })}\r\n        <div ref={baseRef}></div>\r\n      </div>\r\n      <div className={classes.inputArea}>\r\n        <FormControl variant=\"outlined\" fullWidth>\r\n          <Input\r\n            multiline\r\n            value={contentMessage}\r\n            onKeyUp={(e) => {\r\n              if (e.key === \"Enter\" && contentMessage.trim() !== \"\") {\r\n                handleSendMessage(contentMessage);\r\n                setContentMessage(\"\");\r\n              }\r\n            }}\r\n            onChange={(e) => setContentMessage(e.target.value)}\r\n            className={classes.input}\r\n            endAdornment={\r\n              <InputAdornment position=\"end\">\r\n                <IconButton\r\n                  onClick={() => {\r\n                    if (contentMessage.trim() !== \"\") {\r\n                      handleSendMessage(contentMessage);\r\n                      setContentMessage(\"\");\r\n                    }\r\n                  }}\r\n                  className={classes.buttonSend}\r\n                >\r\n                  <SendIcon />\r\n                </IconButton>\r\n              </InputAdornment>\r\n            }\r\n          />\r\n        </FormControl>\r\n      </div>\r\n    </Paper>\r\n  );\r\n}\r\n","import React, { useContext, useEffect, useRef, useState } from \"react\";\r\n\r\nimport { useHistory, useParams } from \"react-router-dom\";\r\n\r\nimport {\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Grid,\r\n  makeStyles,\r\n  Paper,\r\n  Tab,\r\n  Tabs,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\nimport { UsersFilter } from \"../../components/UsersFilter\";\r\nimport api from \"../../services/api\";\r\nimport ChatList from \"./ChatList\";\r\nimport ChatMessages from \"./ChatMessages\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nimport { has, isObject } from \"lodash\";\r\n\r\nimport withWidth, { isWidthUp } from \"@material-ui/core/withWidth\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    height: `100dvh`,\r\n    overflowY: \"hidden\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  mainContainerHorizontal: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    position: \"relative\",\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    height: `calc(100% - 48px)`,\r\n    overflowY: \"hidden\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n  },\r\n  gridContainer: {\r\n    flex: 1,\r\n    height: \"100%\",\r\n    border: \"1px solid rgba(0, 0, 0, 0.12)\",\r\n    background: theme.palette.background.color,\r\n  },\r\n  gridItem: {\r\n    height: \"100%\",\r\n  },\r\n  gridItemTab: {\r\n    height: \"92%\",\r\n    width: \"100%\",\r\n  },\r\n  btnContainer: {\r\n    textAlign: \"right\",\r\n    padding: 10,\r\n  },\r\n}));\r\n\r\nexport function ChatModal({\r\n  open,\r\n  chat,\r\n  type,\r\n  handleClose,\r\n  handleLoadNewChat,\r\n}) {\r\n  const [users, setUsers] = useState([]);\r\n  const [title, setTitle] = useState(\"\");\r\n\r\n  useEffect(() => {\r\n    setTitle(\"\");\r\n    setUsers([]);\r\n    if (type === \"edit\") {\r\n      const userList = chat.users.map((u) => ({\r\n        id: u.user.id,\r\n        name: u.user.name,\r\n      }));\r\n      setUsers(userList);\r\n      setTitle(chat.title);\r\n    }\r\n  }, [chat, open, type]);\r\n\r\n  const handleSave = async () => {\r\n    try {\r\n      if (type === \"edit\") {\r\n        await api.put(`/chats/${chat.id}`, {\r\n          users,\r\n          title,\r\n        });\r\n      } else {\r\n        const { data } = await api.post(\"/chats\", {\r\n          users,\r\n          title,\r\n        });\r\n        handleLoadNewChat(data);\r\n      }\r\n      handleClose();\r\n    } catch (err) {}\r\n  };\r\n\r\n  return (\r\n    <Dialog\r\n      open={open}\r\n      onClose={handleClose}\r\n      aria-labelledby=\"alert-dialog-title\"\r\n      aria-describedby=\"alert-dialog-description\"\r\n    >\r\n      <DialogTitle id=\"alert-dialog-title\">\r\n        {i18n.t(\"chatInternal.modal.title\")}\r\n      </DialogTitle>\r\n      <DialogContent>\r\n        <Grid spacing={2} container>\r\n          <Grid xs={12} style={{ padding: 18 }} item>\r\n            <TextField\r\n              label=\"Título\"\r\n              placeholder=\"Título\"\r\n              value={title}\r\n              onChange={(e) => setTitle(e.target.value)}\r\n              variant=\"outlined\"\r\n              size=\"small\"\r\n              fullWidth\r\n            />\r\n          </Grid>\r\n          <Grid xs={12} item>\r\n            <UsersFilter\r\n              onFiltered={(users) => setUsers(users)}\r\n              initialUsers={users}\r\n            />\r\n          </Grid>\r\n        </Grid>\r\n      </DialogContent>\r\n      <DialogActions>\r\n        <Button onClick={handleClose} color=\"primary\">\r\n          {i18n.t(\"chatInternal.modal.cancel\")}\r\n        </Button>\r\n        <Button\r\n          onClick={handleSave}\r\n          color=\"primary\"\r\n          variant=\"contained\"\r\n          disabled={\r\n            users === undefined ||\r\n            users.length === 0 ||\r\n            title === null ||\r\n            title === \"\" ||\r\n            title === undefined\r\n          }\r\n        >\r\n          {i18n.t(\"chatInternal.modal.save\")}\r\n        </Button>\r\n      </DialogActions>\r\n    </Dialog>\r\n  );\r\n}\r\n\r\nfunction Chat(props) {\r\n  const classes = useStyles();\r\n  const { user, socket, isHorizontal } = useContext(AuthContext);\r\n  const history = useHistory();\r\n\r\n  const [showDialog, setShowDialog] = useState(false);\r\n  const [dialogType, setDialogType] = useState(\"new\");\r\n  const [currentChat, setCurrentChat] = useState({});\r\n  const [chats, setChats] = useState([]);\r\n  const [chatsPageInfo, setChatsPageInfo] = useState({ hasMore: false });\r\n  const [messages, setMessages] = useState([]);\r\n  const [messagesPageInfo, setMessagesPageInfo] = useState({ hasMore: false });\r\n  const [messagesPage, setMessagesPage] = useState(1);\r\n  const [loading, setLoading] = useState(false);\r\n  const [tab, setTab] = useState(0);\r\n  const isMounted = useRef(true);\r\n  const scrollToBottomRef = useRef();\r\n  const { id } = useParams();\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isMounted.current) {\r\n      findChats().then((data) => {\r\n        const { records } = data;\r\n        if (records.length > 0) {\r\n          setChats(records);\r\n          setChatsPageInfo(data);\r\n\r\n          if (id && records.length) {\r\n            const chat = records.find((r) => r.uuid === id);\r\n            selectChat(chat);\r\n          }\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n      findMessages(currentChat.id).then(() => {\r\n        if (typeof scrollToBottomRef.current === \"function\") {\r\n          setTimeout(() => {\r\n            scrollToBottomRef.current();\r\n          }, 300);\r\n        }\r\n      });\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentChat]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    // const socket = socketConnection({ companyId, userId: user.id });\r\n\r\n    const onChatUser = (data) => {\r\n      if (data.action === \"create\") {\r\n        setChats((prev) => [data.record, ...prev]);\r\n      }\r\n      if (data.action === \"update\") {\r\n        const changedChats = chats.map((chat) => {\r\n          if (chat.id === data.record.id) {\r\n            setCurrentChat(data.record);\r\n            return {\r\n              ...data.record,\r\n            };\r\n          }\r\n          return chat;\r\n        });\r\n        setChats(changedChats);\r\n      }\r\n    };\r\n    const onChat = (data) => {\r\n      if (data.action === \"delete\") {\r\n        const filteredChats = chats.filter((c) => c.id !== +data.id);\r\n        setChats(filteredChats);\r\n        setMessages([]);\r\n        setMessagesPage(1);\r\n        setMessagesPageInfo({ hasMore: false });\r\n        setCurrentChat({});\r\n        history.push(\"/chats\");\r\n      }\r\n    };\r\n\r\n    const onCurrentChat = (data) => {\r\n      if (data.action === \"new-message\") {\r\n        setMessages((prev) => [...prev, data.newMessage]);\r\n        const changedChats = chats.map((chat) => {\r\n          if (chat.id === data.newMessage.chatId) {\r\n            return {\r\n              ...data.chat,\r\n            };\r\n          }\r\n          return chat;\r\n        });\r\n        setChats(changedChats);\r\n        scrollToBottomRef.current();\r\n      }\r\n\r\n      if (data.action === \"update\") {\r\n        const changedChats = chats.map((chat) => {\r\n          if (chat.id === data.chat.id) {\r\n            return {\r\n              ...data.chat,\r\n            };\r\n          }\r\n          return chat;\r\n        });\r\n        setChats(changedChats);\r\n        scrollToBottomRef.current();\r\n      }\r\n    };\r\n\r\n    socket.on(`company-${companyId}-chat-user-${user.id}`, onChatUser);\r\n    socket.on(`company-${companyId}-chat`, onChat);\r\n    if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n      socket.on(`company-${companyId}-chat-${currentChat.id}`, onCurrentChat);\r\n    }\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-chat-user-${user.id}`, onChatUser);\r\n      socket.off(`company-${companyId}-chat`, onChat);\r\n      if (isObject(currentChat) && has(currentChat, \"id\")) {\r\n        socket.off(\r\n          `company-${companyId}-chat-${currentChat.id}`,\r\n          onCurrentChat\r\n        );\r\n      }\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [currentChat]);\r\n\r\n  const selectChat = (chat) => {\r\n    try {\r\n      setMessages([]);\r\n      setMessagesPage(1);\r\n      setCurrentChat(chat);\r\n      setTab(1);\r\n    } catch (err) {}\r\n  };\r\n\r\n  const sendMessage = async (contentMessage) => {\r\n    setLoading(true);\r\n    try {\r\n      await api.post(`/chats/${currentChat.id}/messages`, {\r\n        message: contentMessage,\r\n      });\r\n    } catch (err) {}\r\n    setLoading(false);\r\n  };\r\n\r\n  const deleteChat = async (chat) => {\r\n    try {\r\n      await api.delete(`/chats/${chat.id}`);\r\n    } catch (err) {}\r\n  };\r\n\r\n  const findMessages = async (chatId) => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await api.get(\r\n        `/chats/${chatId}/messages?pageNumber=${messagesPage}`\r\n      );\r\n      setMessagesPage((prev) => prev + 1);\r\n      setMessagesPageInfo(data);\r\n      setMessages((prev) => [...data.records, ...prev]);\r\n    } catch (err) {}\r\n    setLoading(false);\r\n  };\r\n\r\n  const loadMoreMessages = async () => {\r\n    if (!loading) {\r\n      findMessages(currentChat.id);\r\n    }\r\n  };\r\n\r\n  const findChats = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/chats\");\r\n      return data;\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const renderGrid = () => {\r\n    return (\r\n      <Grid className={classes.gridContainer} container>\r\n        <Grid className={classes.gridItem} md={3} item>\r\n          {/* {user.profile === \"admin\" && ( */}\r\n          <div className={classes.btnContainer}>\r\n            <Button\r\n              onClick={() => {\r\n                setDialogType(\"new\");\r\n                setShowDialog(true);\r\n              }}\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              style={{ borderRadius: \"22px\" }}\r\n            >\r\n              {i18n.t(\"chatInternal.new\")}\r\n            </Button>\r\n          </div>\r\n          {/* )} */}\r\n          <ChatList\r\n            chats={chats}\r\n            pageInfo={chatsPageInfo}\r\n            loading={loading}\r\n            handleSelectChat={(chat) => selectChat(chat)}\r\n            handleDeleteChat={(chat) => deleteChat(chat)}\r\n            handleEditChat={() => {\r\n              setDialogType(\"edit\");\r\n              setShowDialog(true);\r\n            }}\r\n          />\r\n        </Grid>\r\n        <Grid className={classes.gridItem} md={9} item>\r\n          {isObject(currentChat) && has(currentChat, \"id\") && (\r\n            <ChatMessages\r\n              chat={currentChat}\r\n              scrollToBottomRef={scrollToBottomRef}\r\n              pageInfo={messagesPageInfo}\r\n              messages={messages}\r\n              loading={loading}\r\n              handleSendMessage={sendMessage}\r\n              handleLoadMore={loadMoreMessages}\r\n            />\r\n          )}\r\n        </Grid>\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  const renderTab = () => {\r\n    return (\r\n      <Grid className={classes.gridContainer} container>\r\n        <Grid md={12} item>\r\n          <Tabs\r\n            value={tab}\r\n            indicatorColor=\"primary\"\r\n            textColor=\"primary\"\r\n            onChange={(e, v) => setTab(v)}\r\n            aria-label=\"disabled tabs example\"\r\n          >\r\n            <Tab label=\"Chats\" />\r\n            <Tab label=\"Mensagens\" />\r\n          </Tabs>\r\n        </Grid>\r\n        {tab === 0 && (\r\n          <Grid className={classes.gridItemTab} md={12} item>\r\n            <div className={classes.btnContainer}>\r\n              <Button\r\n                onClick={() => setShowDialog(true)}\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                Novo\r\n              </Button>\r\n            </div>\r\n            <ChatList\r\n              chats={chats}\r\n              pageInfo={chatsPageInfo}\r\n              loading={loading}\r\n              handleSelectChat={(chat) => selectChat(chat)}\r\n              handleDeleteChat={(chat) => deleteChat(chat)}\r\n            />\r\n          </Grid>\r\n        )}\r\n        {tab === 1 && (\r\n          <Grid className={classes.gridItemTab} md={12} item>\r\n            {isObject(currentChat) && has(currentChat, \"id\") && (\r\n              <ChatMessages\r\n                scrollToBottomRef={scrollToBottomRef}\r\n                pageInfo={messagesPageInfo}\r\n                messages={messages}\r\n                loading={loading}\r\n                handleSendMessage={sendMessage}\r\n                handleLoadMore={loadMoreMessages}\r\n              />\r\n            )}\r\n          </Grid>\r\n        )}\r\n      </Grid>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <ChatModal\r\n        type={dialogType}\r\n        open={showDialog}\r\n        chat={currentChat}\r\n        handleLoadNewChat={(data) => {\r\n          setMessages([]);\r\n          setMessagesPage(1);\r\n          setCurrentChat(data);\r\n          setTab(1);\r\n          history.push(`/chats/${data.uuid}`);\r\n        }}\r\n        handleClose={() => setShowDialog(false)}\r\n      />\r\n      <Paper\r\n        className={\r\n          isHorizontal ? classes.mainContainerHorizontal : classes.mainContainer\r\n        }\r\n      >\r\n        {isWidthUp(\"md\", props.width) ? renderGrid() : renderTab()}\r\n      </Paper>\r\n    </>\r\n  );\r\n}\r\n\r\nexport default withWidth()(Chat);\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Field } from \"formik\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n}));\r\n\r\nconst QueueSelectSingle = () => {\r\n    const classes = useStyles();\r\n    const [queues, setQueues] = useState([]);\r\n\r\n    useEffect(() => {\r\n        (async () => {\r\n            try {\r\n                const { data } = await api.get(\"/queue\");\r\n                setQueues(data);\r\n            } catch (err) {\r\n                toastError(`QUEUESELETSINGLE >>> ${err}`);\r\n            }\r\n        })();\r\n    }, []);\r\n\r\n    return (\r\n        <div style={{ marginTop: 6 }}>\r\n            <FormControl\r\n                variant=\"outlined\"\r\n                className={classes.FormControl}\r\n                margin=\"dense\"\r\n                fullWidth\r\n            >\r\n                <div>\r\n                    <Typography>\r\n                        {i18n.t(\"queueSelect.inputLabel\")}\r\n                    </Typography>\r\n                    <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"queueSelect.inputLabel\")}\r\n                        name=\"queueId\"\r\n                        labelId=\"queue-selection-label\"\r\n                        id=\"queue-selection\"\r\n                        fullWidth\r\n                    >\r\n                        {queues.map(queue => (\r\n                            <MenuItem key={queue.id} value={queue.id}>\r\n                                {queue.name}\r\n                            </MenuItem>\r\n                        ))}\r\n                    </Field>\r\n                </div>\r\n            </FormControl>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default QueueSelectSingle;\r\n","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { MenuItem, FormControl, InputLabel, Select } from \"@material-ui/core\";\r\nimport { Visibility, VisibilityOff } from \"@material-ui/icons\";\r\nimport { InputAdornment, IconButton } from \"@material-ui/core\";\r\nimport QueueSelectSingle from \"../QueueSelectSingle\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n    },\r\n    multFieldLine: {\r\n        display: \"flex\",\r\n        \"& > *:not(:last-child)\": {\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n\r\n    btnWrapper: {\r\n        position: \"relative\",\r\n    },\r\n\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 120,\r\n    },\r\n    colorAdorment: {\r\n        width: 20,\r\n        height: 20,\r\n    },\r\n}));\r\n\r\nconst PromptSchema = Yup.object().shape({\r\n    name: Yup.string().min(5, \"Muito curto!\").max(100, \"Muito longo!\").required(\"Obrigatório\"),\r\n    prompt: Yup.string().min(50, \"Muito curto!\").required(\"Descreva o treinamento para Inteligência Artificial\"),\r\n    voice: Yup.string().required(\"Informe o modo para Voz\"),\r\n    max_tokens: Yup.number().required(\"Informe o número máximo de tokens\"),\r\n    temperature: Yup.number().required(\"Informe a temperatura\"),\r\n    apikey: Yup.string().required(\"Informe a API Key\"),\r\n    queueId: Yup.number().required(\"Informe a fila\"),\r\n    max_messages: Yup.number().required(\"Informe o número máximo de mensagens\")\r\n});\r\n\r\nconst PromptModal = ({ open, onClose, promptId }) => {\r\n    const classes = useStyles();\r\n    const [selectedVoice, setSelectedVoice] = useState(\"texto\");\r\n    const [showApiKey, setShowApiKey] = useState(false);\r\n\r\n    const handleToggleApiKey = () => {\r\n        setShowApiKey(!showApiKey);\r\n    };\r\n\r\n    const initialState = {\r\n        name: \"\",\r\n        prompt: \"\",\r\n        voice: \"texto\",\r\n        voiceKey: \"\",\r\n        voiceRegion: \"\",\r\n        maxTokens: 100,\r\n        temperature: 1,\r\n        apiKey: \"\",\r\n        queueId: null,\r\n        maxMessages: 10\r\n    };\r\n\r\n    const [prompt, setPrompt] = useState(initialState);\r\n\r\n    useEffect(() => {\r\n        const fetchPrompt = async () => {\r\n            if (!promptId) {\r\n                setPrompt(initialState);\r\n                return;\r\n            }\r\n            try {\r\n                const { data } = await api.get(`/prompt/${promptId}`);\r\n                setPrompt(prevState => {\r\n                    return { ...prevState, ...data };\r\n                });\r\n                setSelectedVoice(data.voice);\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n        };\r\n\r\n        fetchPrompt();\r\n    }, [promptId, open]);\r\n\r\n    const handleClose = () => {\r\n        setPrompt(initialState);\r\n        setSelectedVoice(\"texto\");\r\n        onClose();\r\n    };\r\n\r\n    const handleChangeVoice = (e) => {\r\n        setSelectedVoice(e.target.value);\r\n    };\r\n\r\n    const handleSavePrompt = async values => {\r\n        const promptData = { ...values, voice: selectedVoice };\r\n        if (!values.queueId) {\r\n            toastError(\"Informe o setor\");\r\n            return;\r\n        }\r\n        try {\r\n            if (promptId) {\r\n                await api.put(`/prompt/${promptId}`, promptData);\r\n            } else {\r\n                await api.post(\"/prompt\", promptData);\r\n            }\r\n            toast.success(i18n.t(\"promptModal.success\"));\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth=\"md\"\r\n                scroll=\"paper\"\r\n                fullWidth\r\n            >\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {promptId\r\n                        ? `${i18n.t(\"promptModal.title.edit\")}`\r\n                        : `${i18n.t(\"promptModal.title.add\")}`}\r\n                </DialogTitle>\r\n                <Formik\r\n                    initialValues={prompt}\r\n                    enableReinitialize={true}\r\n                    onSubmit={(values, actions) => {\r\n                        setTimeout(() => {\r\n                            handleSavePrompt(values);\r\n                            actions.setSubmitting(false);\r\n                        }, 400);\r\n                    }}\r\n                >\r\n                    {({ touched, errors, isSubmitting, values }) => (\r\n                        <Form style={{ width: \"100%\" }}>\r\n                            <DialogContent dividers>\r\n                                <Field\r\n                                    as={TextField}\r\n                                    label={i18n.t(\"promptModal.form.name\")}\r\n                                    name=\"name\"\r\n                                    error={touched.name && Boolean(errors.name)}\r\n                                    helperText={touched.name && errors.name}\r\n                                    variant=\"outlined\"\r\n                                    margin=\"dense\"\r\n                                    fullWidth\r\n                                    required\r\n                                />\r\n                                <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.apikey\")}\r\n                                        name=\"apiKey\"\r\n                                        type={showApiKey ? 'text' : 'password'}\r\n                                        error={touched.apiKey && Boolean(errors.apiKey)}\r\n                                        helperText={touched.apiKey && errors.apiKey}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                        required\r\n                                        InputProps={{\r\n                                            endAdornment: (\r\n                                                <InputAdornment position=\"end\">\r\n                                                    <IconButton onClick={handleToggleApiKey}>\r\n                                                        {showApiKey ? <VisibilityOff /> : <Visibility />}\r\n                                                    </IconButton>\r\n                                                </InputAdornment>\r\n                                            ),\r\n                                        }}\r\n                                    />\r\n                                </FormControl>\r\n                                <Field\r\n                                    as={TextField}\r\n                                    label={i18n.t(\"promptModal.form.prompt\")}\r\n                                    name=\"prompt\"\r\n                                    error={touched.prompt && Boolean(errors.prompt)}\r\n                                    helperText={touched.prompt && errors.prompt}\r\n                                    variant=\"outlined\"\r\n                                    margin=\"dense\"\r\n                                    fullWidth\r\n                                    required\r\n                                    rows={10}\r\n                                    multiline={true}\r\n                                />\r\n                                <QueueSelectSingle />\r\n                                <div className={classes.multFieldLine}>\r\n                                    <FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n                                    <InputLabel>{i18n.t(\"promptModal.form.voice\")}</InputLabel>\r\n                                        <Select\r\n                                            id=\"type-select\"\r\n                                            labelWidth={60}\r\n                                            name=\"voice\"\r\n                                            value={selectedVoice}\r\n                                            onChange={handleChangeVoice}\r\n                                            multiple={false}\r\n                                        >\r\n                                            <MenuItem key={\"texto\"} value={\"texto\"}>\r\n                                                Texto\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-FranciscaNeural\"} value={\"pt-BR-FranciscaNeural\"}>\r\n                                                Francisa\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-AntonioNeural\"} value={\"pt-BR-AntonioNeural\"}>\r\n                                                Antônio\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-BrendaNeural\"} value={\"pt-BR-BrendaNeural\"}>\r\n                                                Brenda\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-DonatoNeural\"} value={\"pt-BR-DonatoNeural\"}>\r\n                                                Donato\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-ElzaNeural\"} value={\"pt-BR-ElzaNeural\"}>\r\n                                                Elza\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-FabioNeural\"} value={\"pt-BR-FabioNeural\"}>\r\n                                                Fábio\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-GiovannaNeural\"} value={\"pt-BR-GiovannaNeural\"}>\r\n                                                Giovanna\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-HumbertoNeural\"} value={\"pt-BR-HumbertoNeural\"}>\r\n                                                Humberto\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-JulioNeural\"} value={\"pt-BR-JulioNeural\"}>\r\n                                                Julio\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-LeilaNeural\"} value={\"pt-BR-LeilaNeural\"}>\r\n                                                Leila\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-LeticiaNeural\"} value={\"pt-BR-LeticiaNeural\"}>\r\n                                                Letícia\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-ManuelaNeural\"} value={\"pt-BR-ManuelaNeural\"}>\r\n                                                Manuela\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-NicolauNeural\"} value={\"pt-BR-NicolauNeural\"}>\r\n                                                Nicolau\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-ValerioNeural\"} value={\"pt-BR-ValerioNeural\"}>\r\n                                                Valério\r\n                                            </MenuItem>\r\n                                            <MenuItem key={\"pt-BR-YaraNeural\"} value={\"pt-BR-YaraNeural\"}>\r\n                                                Yara\r\n                                            </MenuItem>\r\n                                        </Select>\r\n                                    </FormControl>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.voiceKey\")}\r\n                                        name=\"voiceKey\"\r\n                                        error={touched.voiceKey && Boolean(errors.voiceKey)}\r\n                                        helperText={touched.voiceKey && errors.voiceKey}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.voiceRegion\")}\r\n                                        name=\"voiceRegion\"\r\n                                        error={touched.voiceRegion && Boolean(errors.voiceRegion)}\r\n                                        helperText={touched.voiceRegion && errors.voiceRegion}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                </div>\r\n                                \r\n                                <div className={classes.multFieldLine}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.temperature\")}\r\n                                        name=\"temperature\"\r\n                                        error={touched.temperature && Boolean(errors.temperature)}\r\n                                        helperText={touched.temperature && errors.temperature}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.max_tokens\")}\r\n                                        name=\"maxTokens\"\r\n                                        error={touched.maxTokens && Boolean(errors.maxTokens)}\r\n                                        helperText={touched.maxTokens && errors.maxTokens}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"promptModal.form.max_messages\")}\r\n                                        name=\"maxMessages\"\r\n                                        error={touched.maxMessages && Boolean(errors.maxMessages)}\r\n                                        helperText={touched.maxMessages && errors.maxMessages}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                </div>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button\r\n                                    onClick={handleClose}\r\n                                    color=\"secondary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"outlined\"\r\n                                >\r\n                                    {i18n.t(\"promptModal.buttons.cancel\")}\r\n                                </Button>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    color=\"primary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"contained\"\r\n                                    className={classes.btnWrapper}\r\n                                >\r\n                                    {promptId\r\n                                        ? `${i18n.t(\"promptModal.buttons.okEdit\")}`\r\n                                        : `${i18n.t(\"promptModal.buttons.okAdd\")}`}\r\n                                    {isSubmitting && (\r\n                                        <CircularProgress\r\n                                            size={24}\r\n                                            className={classes.buttonProgress}\r\n                                        />\r\n                                    )}\r\n                                </Button>\r\n                            </DialogActions>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default PromptModal;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\n\r\nimport {\r\n  Button,\r\n  IconButton,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { toast } from \"react-toastify\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport PromptModal from \"../../components/PromptModal\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport Title from \"../../components/Title\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n}));\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_PROMPTS\") {\r\n    const prompts = action.payload;\r\n    const newPrompts = [];\r\n\r\n    prompts.forEach((prompt) => {\r\n      const promptIndex = state.findIndex((p) => p.id === prompt.id);\r\n      if (promptIndex !== -1) {\r\n        state[promptIndex] = prompt;\r\n      } else {\r\n        newPrompts.push(prompt);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newPrompts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_PROMPTS\") {\r\n    const prompt = action.payload;\r\n    const promptIndex = state.findIndex((p) => p.id === prompt.id);\r\n\r\n    if (promptIndex !== -1) {\r\n      state[promptIndex] = prompt;\r\n      return [...state];\r\n    } else {\r\n      return [prompt, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_PROMPT\") {\r\n    const promptId = action.payload;\r\n    const promptIndex = state.findIndex((p) => p.id === promptId);\r\n    if (promptIndex !== -1) {\r\n      state.splice(promptIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst Prompts = () => {\r\n  const classes = useStyles();\r\n\r\n  const [prompts, dispatch] = useReducer(reducer, []);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [promptModalOpen, setPromptModalOpen] = useState(false);\r\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { getPlanCompany } = usePlans();\r\n  const history = useHistory();\r\n  const companyId = user.companyId;\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useOpenAi) {\r\n        toast.error(\r\n          \"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\"\r\n        );\r\n        setTimeout(() => {\r\n          history.push(`/`);\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      setLoading(true);\r\n      try {\r\n        const { data } = await api.get(\"/prompt\");\r\n        dispatch({ type: \"LOAD_PROMPTS\", payload: data.prompts });\r\n\r\n        setLoading(false);\r\n      } catch (err) {\r\n        toastError(err);\r\n        setLoading(false);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onPromptEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_PROMPTS\", payload: data.prompt });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_PROMPT\", payload: data.promptId });\r\n      }\r\n    };\r\n\r\n    socket.on(`company-${companyId}-prompt`, onPromptEvent);\r\n    return () => {\r\n      socket.off(`company-${companyId}-prompt`, onPromptEvent);\r\n    };\r\n  }, [socket]);\r\n\r\n  const handleOpenPromptModal = () => {\r\n    setPromptModalOpen(true);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleClosePromptModal = () => {\r\n    setPromptModalOpen(false);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleEditPrompt = (prompt) => {\r\n    setSelectedPrompt(prompt);\r\n    setPromptModalOpen(true);\r\n  };\r\n\r\n  const handleCloseConfirmationModal = () => {\r\n    setConfirmModalOpen(false);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleDeletePrompt = async (promptId) => {\r\n    try {\r\n      const { data } = await api.delete(`/prompt/${promptId}`);\r\n      toast.info(i18n.t(data.message));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          selectedPrompt &&\r\n          `${i18n.t(\"prompts.confirmationModal.deleteTitle\")} ${\r\n            selectedPrompt.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={handleCloseConfirmationModal}\r\n        onConfirm={() => handleDeletePrompt(selectedPrompt.id)}\r\n      >\r\n        {i18n.t(\"prompts.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <PromptModal\r\n        open={promptModalOpen}\r\n        onClose={handleClosePromptModal}\r\n        promptId={selectedPrompt?.id}\r\n      />\r\n      {user.profile === \"user\" ? (\r\n        <ForbiddenPage />\r\n      ) : (\r\n        <>\r\n          <MainHeader>\r\n            <Title>{i18n.t(\"prompts.title\")}</Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenPromptModal}\r\n                style={{ borderRadius: \"22px\" }}\r\n              >\r\n                {i18n.t(\"prompts.buttons.add\")}\r\n              </Button>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n          <Paper className={classes.mainPaper} variant=\"outlined\">\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"left\">\r\n                    {i18n.t(\"prompts.table.name\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"left\">\r\n                    {i18n.t(\"prompts.table.queue\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"left\">\r\n                    {i18n.t(\"prompts.table.max_tokens\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"prompts.table.actions\")}\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {prompts.map((prompt) => (\r\n                    <TableRow key={prompt.id}>\r\n                      <TableCell align=\"left\">{prompt.name}</TableCell>\r\n                      <TableCell align=\"left\">{prompt.queue.name}</TableCell>\r\n                      <TableCell align=\"left\">{prompt.maxTokens}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleEditPrompt(prompt)}\r\n                        >\r\n                          <Edit />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => {\r\n                            setSelectedPrompt(prompt);\r\n                            setConfirmModalOpen(true);\r\n                          }}\r\n                        >\r\n                          <DeleteOutline />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  {loading && <TableRowSkeleton columns={4} />}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>\r\n      )}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Prompts;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { isNil } from \"lodash\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport moment from \"moment\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogTitle,\r\n  Button,\r\n  DialogActions,\r\n  CircularProgress,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  TextField,\r\n  Switch,\r\n  FormControlLabel,\r\n  Grid,\r\n  Divider,\r\n  Tab,\r\n  Tabs,\r\n  Paper,\r\n  Box\r\n} from \"@material-ui/core\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport QueueSelect from \"../QueueSelect\";\r\nimport TabPanel from \"../TabPanel\";\r\nimport { Autorenew, FileCopy } from \"@material-ui/icons\";\r\nimport useCompanySettings from \"../../hooks/useSettings/companySettings\";\r\nimport SchedulesForm from \"../SchedulesForm\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    gap: 4\r\n  },\r\n\r\n  multFieldLine: {\r\n    marginTop: 12,\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n  importMessage: {\r\n    marginTop: 12,\r\n    marginBottom: 12,\r\n    paddingBottom: 20,\r\n    paddingTop: 3,\r\n    padding: 12,\r\n    border: \"solid grey 2px\",\r\n    borderRadius: 4,\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n  tokenRefresh: {\r\n    minWidth: \"auto\",\r\n    display: \"flex\", // Torna o botão flexível para alinhar o conteúdo\r\n    alignItems: \"center\", // Alinha verticalmente ao centro\r\n    justifyContent: \"center\", // Alinha horizontalmente ao centro\r\n  },\r\n}));\r\n\r\nconst SessionSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n});\r\n\r\nconst WhatsAppModal = ({ open, onClose, whatsAppId, companyId }) => {\r\n  const classes = useStyles();\r\n  const [autoToken, setAutoToken] = useState(\"\");\r\n\r\n  const inputFileRef = useRef(null);\r\n\r\n  const [attachment, setAttachment] = useState(null)\r\n  const [attachmentName, setAttachmentName] = useState('')\r\n\r\n  const initialState = {\r\n    name: \"\",\r\n    greetingMessage: \"\",\r\n    complationMessage: \"\",\r\n    outOfHoursMessage: \"\",\r\n    ratingMessage: \"\",\r\n    isDefault: false,\r\n    token: \"\",\r\n    maxUseBotQueues: 3,\r\n    provider: \"beta\",\r\n    expiresTicket: 0,\r\n    allowGroup: false,\r\n    groupAsTicket: \"disabled\",\r\n    timeUseBotQueues: '0',\r\n    timeSendQueue: '0',\r\n    sendIdQueue: 0,\r\n    expiresTicketNPS: '0',\r\n    expiresInactiveMessage: \"\",\r\n    timeInactiveMessage: \"\",\r\n    inactiveMessage: \"\",\r\n    maxUseBotQueuesNPS: 3,\r\n    whenExpiresTicket: 0,\r\n    timeCreateNewTicket: 0,\r\n    greetingMediaAttachment: \"\",\r\n    importRecentMessages: \"\",\r\n    importOldMessages: \"\",\r\n    importOldMessagesGroups: \"\",\r\n    integrationId: \"\",\r\n  };\r\n  const [whatsApp, setWhatsApp] = useState(initialState);\r\n  const [selectedQueueIds, setSelectedQueueIds] = useState([]);\r\n  const [queues, setQueues] = useState([]);\r\n  const [tab, setTab] = useState(\"general\");\r\n  const [enableImportMessage, setEnableImportMessage] = useState(false);\r\n  const [importOldMessagesGroups, setImportOldMessagesGroups] = useState(false);\r\n  const [closedTicketsPostImported, setClosedTicketsPostImported] = useState(false);\r\n  const [importOldMessages, setImportOldMessages] = useState(moment().add(-1, \"days\").format(\"YYYY-MM-DDTHH:mm\"));\r\n  const [importRecentMessages, setImportRecentMessages] = useState(moment().add(-1, \"minutes\").format(\"YYYY-MM-DDTHH:mm\"));\r\n  const [copied, setCopied] = useState(false);\r\n  const [integrations, setIntegrations] = useState([]);\r\n  const [schedulesEnabled, setSchedulesEnabled] = useState(false);\r\n\r\n\r\n  const [schedules, setSchedules] = useState([\r\n    { weekday: i18n.t(\"queueModal.serviceHours.monday\"), weekdayEn: \"monday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.tuesday\"), weekdayEn: \"tuesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.wednesday\"), weekdayEn: \"wednesday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.thursday\"), weekdayEn: \"thursday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: i18n.t(\"queueModal.serviceHours.friday\"), weekdayEn: \"friday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: \"Sábado\", weekdayEn: \"saturday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n    { weekday: \"Domingo\", weekdayEn: \"sunday\", startTimeA: \"08:00\", endTimeA: \"12:00\", startTimeB: \"13:00\", endTimeB: \"18:00\", },\r\n  ]);\r\n\r\n  const { get: getSetting } = useCompanySettings();\r\n  const [selectedPrompt, setSelectedPrompt] = useState(null);\r\n  const [prompts, setPrompts] = useState([]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/prompt\");\r\n        setPrompts(data.prompts);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n\r\n    const fetchData = async () => {\r\n\r\n      const setting = await getSetting({\r\n        \"column\": \"scheduleType\"\r\n      });\r\n      setSchedulesEnabled(setting.scheduleType === \"connection\");\r\n    }\r\n    fetchData();\r\n  }, []);\r\n\r\n  const handleEnableImportMessage = async (e) => {\r\n    setEnableImportMessage(e.target.checked);\r\n\r\n  };\r\n\r\n  useEffect(() => {\r\n    const fetchSession = async () => {\r\n      if (!whatsAppId) return;\r\n\r\n      try {\r\n        const { data } = await api.get(`whatsapp-admin/${whatsAppId}?session=0`);\r\n        setWhatsApp(data);\r\n        setAttachmentName(data.greetingMediaAttachment);\r\n        setAutoToken(data.token);\r\n        data.promptId ? setSelectedPrompt(data.promptId) : setSelectedPrompt(null);\r\n        const whatsQueueIds = data.queues?.map((queue) => queue.id);\r\n        setSelectedQueueIds(whatsQueueIds);\r\n        setSchedules(data.schedules)\r\n        if (data?.importOldMessages) {\r\n          setEnableImportMessage(true);\r\n          setImportOldMessages(data?.importOldMessages);\r\n          setImportRecentMessages(data?.importRecentMessages);\r\n          setClosedTicketsPostImported(data?.closedTicketsPostImported);\r\n          setImportOldMessagesGroups(data?.importOldMessagesGroups);\r\n        }\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, [whatsAppId]);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queue\",{\r\n          params:{\r\n            companyId\r\n          }\r\n        });\r\n        setQueues(data);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      try {\r\n        const { data } = await api.get(\"/queueIntegration\");\r\n\r\n        setIntegrations(data.queueIntegrations);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n  }, []);\r\n\r\n  const handleChangeQueue = (e) => {\r\n    setSelectedQueueIds(e);\r\n    setSelectedPrompt(null);\r\n  };\r\n\r\n  const handleChangePrompt = (e) => {\r\n    setSelectedPrompt(e.target.value);\r\n    setSelectedQueueIds([]);\r\n  };\r\n\r\n  const handleSaveWhatsApp = async (values) => {\r\n    if (!whatsAppId) setAutoToken(generateRandomCode(30));\r\n   \r\n    if ((!isNil(values.ratingMessage) && values.ratingMessage !== '') && (values.expiresTicketNPS === '0' || values.expiresTicketNPS === '' || values.expiresTicketNPS === 0)) {\r\n      toastError(i18n.t(\"whatsappModal.errorExpiresNPS\"));\r\n      return;\r\n    }\r\n\r\n    if (!isNil(values.ratingMessage) && (values.expiresTicketNPS === '0' || values.expiresTicketNPS === '')) {\r\n      toastError(i18n.t(\"whatsappModal.errorExpiresNPS\"));\r\n      return;\r\n    }\r\n    if (values.timeSendQueue === '') values.timeSendQueue = '0'\r\n    \r\n    if  ((values.sendIdQueue === 0 || values.sendIdQueue === '' || isNil(values.sendIdQueue)) &&  (values.timeSendQueue !== 0 && values.timeSendQueue !== '0')) {\r\n      toastError(i18n.t(\"whatsappModal.errorSendQueue\"));\r\n      return;\r\n    }\r\n\r\n    const whatsappData = {\r\n      ...values, queueIds: selectedQueueIds,\r\n      importOldMessages: enableImportMessage ? importOldMessages : null,\r\n      importRecentMessages: enableImportMessage ? importRecentMessages : null,\r\n      importOldMessagesGroups: importOldMessagesGroups ? importOldMessagesGroups : null,\r\n      closedTicketsPostImported: closedTicketsPostImported ? closedTicketsPostImported : null,\r\n      token: autoToken ? autoToken : null, schedules,\r\n      promptId: selectedPrompt ? selectedPrompt : null\r\n    };\r\n    delete whatsappData[\"queues\"];\r\n    delete whatsappData[\"session\"];\r\n\r\n    try {\r\n      if (whatsAppId) {\r\n        if (whatsAppId && enableImportMessage && whatsApp?.status === \"CONNECTED\") {\r\n          toast.warning(\r\n            i18n.t(\"userModal.warning.updateImage\"),\r\n            { autoClose: false }\r\n          );\r\n          try {\r\n            setWhatsApp({ ...whatsApp, status: \"qrcode\" });\r\n            await api.delete(`/whatsappsession/${whatsApp.id}`);\r\n          } catch (err) {\r\n            toastError(err);\r\n          }\r\n        }\r\n\r\n        await api.put(`/whatsapp/${whatsAppId}`, whatsappData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/whatsapp/${whatsAppId}/media-upload`, formData);\r\n        }\r\n        if (!attachmentName && (whatsApp.greetingMediaAttachment !== null)) {\r\n          await api.delete(`/whatsapp/${whatsAppId}/media-upload`);\r\n        }\r\n      } else {\r\n        const { data } = await api.post(\"/whatsapp\", whatsappData);\r\n        if (attachment != null) {\r\n          const formData = new FormData();\r\n          formData.append(\"file\", attachment);\r\n          await api.post(`/whatsapp/${data.id}/media-upload`, formData);\r\n        }\r\n      }\r\n      toast.success(i18n.t(\"whatsappModal.success\"));\r\n\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  function generateRandomCode(length) {\r\n    const charset = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyvz0123456789\";\r\n    let code = \"\";\r\n\r\n    for (let i = 0; i < length; i++) {\r\n      const randomIndex = Math.floor(Math.random() * charset.length);\r\n      code += charset.charAt(randomIndex);\r\n    }\r\n    return code;\r\n  }\r\n\r\n  const handleRefreshToken = () => {\r\n    setAutoToken(generateRandomCode(30));\r\n  }\r\n\r\n  const handleCopyToken = () => {\r\n    navigator.clipboard.writeText(autoToken); // Copia o token para a área de transferência    \r\n    setCopied(true); // Define o estado de cópia como verdadeiro\r\n  };\r\n\r\n  const handleSaveSchedules = async (values) => {\r\n    toast.success(\"Clique em salvar para registar as alterações\");\r\n    setSchedules(values);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setWhatsApp(initialState);\r\n    // inputFileRef.current.value = null\r\n    setAttachment(null)\r\n    setAttachmentName(\"\")\r\n    setCopied(false);\r\n  };\r\n\r\n  const handleTabChange = (event, newValue) => {\r\n    setTab(newValue);\r\n  };\r\n\r\n  const handleFileUpload = () => {\r\n    const file = inputFileRef.current.files[0];\r\n    setAttachment(file)\r\n    setAttachmentName(file.name)\r\n    inputFileRef.current.value = null\r\n  };\r\n\r\n  const handleDeleFile = () => {\r\n    setAttachment(null)\r\n    setAttachmentName(null)\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"xl\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle>\r\n          {whatsAppId\r\n            ? i18n.t(\"whatsappModal.title.edit\")\r\n            : i18n.t(\"whatsappModal.title.add\")}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={whatsApp}\r\n          enableReinitialize={true}\r\n          validationSchema={SessionSchema}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              handleSaveWhatsApp(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ values, touched, errors, isSubmitting }) => (\r\n            <Form>\r\n              <Paper className={classes.mainPaper} elevation={1}>\r\n                <Tabs\r\n                  value={tab}\r\n                  indicatorColor=\"primary\"\r\n                  textColor=\"primary\"\r\n                  scrollButtons=\"on\"\r\n                  variant=\"scrollable\"\r\n                  onChange={handleTabChange}\r\n                  className={classes.tab}\r\n                >\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.general\")} value={\"general\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.integrations\")} value={\"integrations\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.messages\")} value={\"messages\"} />\r\n                  <Tab label=\"Chatbot\" value={\"chatbot\"} />\r\n                  <Tab label={i18n.t(\"whatsappModal.tabs.assessments\")} value={\"nps\"} />\r\n                  {schedulesEnabled && <Tab label={i18n.t(\"whatsappModal.tabs.schedules\")} value={\"schedules\"} />}\r\n                </Tabs>\r\n              </Paper>\r\n              <Paper className={classes.paper} elevation={0}>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"general\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {attachmentName && (\r\n                      <div\r\n                        style={{ display: 'flex', flexDirection: 'row-reverse' }}\r\n                      >\r\n                        <Button\r\n                          variant='outlined'\r\n                          color=\"primary\"\r\n                          endIcon={<DeleteOutlineIcon />}\r\n                          onClick={handleDeleFile}\r\n                        >\r\n                          {attachmentName}\r\n                        </Button>\r\n                      </div>\r\n                    )}\r\n                    <div\r\n                      style={{ display: 'flex', flexDirection: \"column-reverse\" }}\r\n                    >\r\n                      <input\r\n                        type=\"file\"\r\n                        accept=\"video/*,image/*\"\r\n                        ref={inputFileRef}\r\n                        style={{ display: 'none' }}\r\n                        onChange={handleFileUpload}\r\n                      />\r\n                      <Button variant=\"contained\" color=\"primary\" onClick={() => inputFileRef.current.click()}>\r\n                        {i18n.t(\"userModal.buttons.addImage\")}\r\n                      </Button>\r\n                    </div>\r\n                    {/* NOME E PADRAO */}\r\n                    <div className={classes.multFieldLine}>\r\n                      <Grid spacing={2} container>\r\n                        <Grid item>\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"whatsappModal.form.name\")}\r\n                            autoFocus\r\n                            name=\"name\"\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helperText={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid style={{ paddingTop: 15 }} item>\r\n                          <FormControlLabel\r\n                            control={\r\n                              <Field\r\n                                as={Switch}\r\n                                color=\"primary\"\r\n                                name=\"isDefault\"\r\n                                checked={values.isDefault}\r\n                              />\r\n                            }\r\n                            label={i18n.t(\"whatsappModal.form.default\")}\r\n                          />\r\n                          <FormControlLabel\r\n                            control={\r\n                              <Field\r\n                                as={Switch}\r\n                                color=\"primary\"\r\n                                name=\"allowGroup\"\r\n                                checked={values.allowGroup}\r\n                              />\r\n                            }\r\n                            label={i18n.t(\"whatsappModal.form.group\")}\r\n                          />\r\n                        </Grid>\r\n                        <Grid xs={6} md={4} item>\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.formControl}\r\n                          >\r\n                            <InputLabel id=\"groupAsTicket-selection-label\">{i18n.t(\"whatsappModal.form.groupAsTicket\")}</InputLabel>\r\n                            <Field\r\n                              as={Select}\r\n                              label={i18n.t(\"whatsappModal.form.groupAsTicket\")}\r\n                              placeholder={i18n.t(\"whatsappModal.form.groupAsTicket\")}\r\n                              labelId=\"groupAsTicket-selection-label\"\r\n                              id=\"groupAsTicket\"\r\n                              name=\"groupAsTicket\"\r\n                            >\r\n                              <MenuItem value={\"disabled\"}>{i18n.t(\"whatsappModal.menuItem.disabled\")}</MenuItem>\r\n                              <MenuItem value={\"enabled\"}>{i18n.t(\"whatsappModal.menuItem.enabled\")}</MenuItem>\r\n                            </Field>\r\n                          </FormControl>\r\n                        </Grid>\r\n                      </Grid>\r\n                    </div>\r\n\r\n\r\n                    <div className={classes.importMessage}>\r\n                      <div className={classes.multFieldLine}>\r\n                        <FormControlLabel\r\n                          style={{ marginRight: 7, color: \"gray\" }}\r\n                          label={i18n.t(\"whatsappModal.form.importOldMessagesEnable\")}\r\n                          labelPlacement=\"end\"\r\n                          control={\r\n                            <Switch\r\n                              size=\"medium\"\r\n                              checked={enableImportMessage}\r\n                              onChange={handleEnableImportMessage}\r\n                              name=\"importOldMessagesEnable\"\r\n                              color=\"primary\"\r\n                            />\r\n                          }\r\n                        />\r\n\r\n                        {enableImportMessage ? (\r\n                          <>\r\n                            <FormControlLabel\r\n                              style={{ marginRight: 7, color: \"gray\" }}\r\n                              label={i18n.t(\r\n                                \"whatsappModal.form.importOldMessagesGroups\"\r\n                              )}\r\n                              labelPlacement=\"end\"\r\n                              control={\r\n                                <Switch\r\n                                  size=\"medium\"\r\n                                  checked={importOldMessagesGroups}\r\n                                  onChange={(e) =>\r\n                                    setImportOldMessagesGroups(e.target.checked)\r\n                                  }\r\n                                  name=\"importOldMessagesGroups\"\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                            />\r\n\r\n                            <FormControlLabel\r\n                              style={{ marginRight: 7, color: \"gray\" }}\r\n                              label={i18n.t(\r\n                                \"whatsappModal.form.closedTicketsPostImported\"\r\n                              )}\r\n                              labelPlacement=\"end\"\r\n                              control={\r\n                                <Switch\r\n                                  size=\"medium\"\r\n                                  checked={closedTicketsPostImported}\r\n                                  onChange={(e) =>\r\n                                    setClosedTicketsPostImported(e.target.checked)\r\n                                  }\r\n                                  name=\"closedTicketsPostImported\"\r\n                                  color=\"primary\"\r\n                                />\r\n                              }\r\n                            />\r\n                          </>) : <></>}\r\n                      </div>\r\n\r\n                      {enableImportMessage ? (\r\n                        <Grid style={{ marginTop: 18 }} container spacing={3}>\r\n                          <Grid item xs={6}>\r\n                            <Field\r\n                              fullWidth\r\n                              as={TextField}\r\n                              label={i18n.t(\"whatsappModal.form.importOldMessages\")}\r\n                              type=\"datetime-local\"\r\n                              name=\"importOldMessages\"\r\n                              inputProps={{\r\n                                max: moment()\r\n                                  .add(0, \"minutes\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                                min: moment()\r\n                                  .add(-2, \"years\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                              }}\r\n                              //min=\"2022-11-06T22:22:55\"\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              error={\r\n                                touched.importOldMessages &&\r\n                                Boolean(errors.importOldMessages)\r\n                              }\r\n                              helperText={\r\n                                touched.importOldMessages && errors.importOldMessages\r\n                              }\r\n                              variant=\"outlined\"\r\n                              value={moment(importOldMessages).format(\r\n                                \"YYYY-MM-DDTHH:mm\"\r\n                              )}\r\n                              onChange={(e) => {\r\n                                setImportOldMessages(e.target.value);\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                          <Grid item xs={6}>\r\n                            <Field\r\n                              fullWidth\r\n                              as={TextField}\r\n                              label={i18n.t(\"whatsappModal.form.importRecentMessages\")}\r\n                              type=\"datetime-local\"\r\n                              name=\"importRecentMessages\"\r\n                              inputProps={{\r\n                                max: moment()\r\n                                  .add(0, \"minutes\")\r\n                                  .format(\"YYYY-MM-DDTHH:mm\"),\r\n                                min: moment(importOldMessages).format(\r\n                                  \"YYYY-MM-DDTHH:mm\"\r\n                                )\r\n                              }}\r\n                              //min=\"2022-11-06T22:22:55\"\r\n                              InputLabelProps={{\r\n                                shrink: true,\r\n                              }}\r\n                              error={\r\n                                touched.importRecentMessages &&\r\n                                Boolean(errors.importRecentMessages)\r\n                              }\r\n                              helperText={\r\n                                touched.importRecentMessages && errors.importRecentMessages\r\n                              }\r\n                              variant=\"outlined\"\r\n                              value={moment(importRecentMessages).format(\r\n                                \"YYYY-MM-DDTHH:mm\"\r\n                              )}\r\n                              onChange={(e) => {\r\n                                setImportRecentMessages(e.target.value);\r\n                              }}\r\n                            />\r\n                          </Grid>\r\n                        </Grid>\r\n\r\n                      ) : null}\r\n                    </div>\r\n                    {enableImportMessage && (\r\n                      <span style={{ color: \"red\" }}>\r\n                        {i18n.t(\"whatsappModal.form.importAlert\")}\r\n                      </span>\r\n                    )}\r\n\r\n\r\n                    {/* TOKEN */}\r\n                    <Box display=\"flex\" alignItems=\"center\">\r\n                      <Grid xs={6} md={12} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.token\")}\r\n                          type=\"token\"\r\n                          fullWidth\r\n                          // name=\"token\"\r\n                          value={autoToken}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          disabled\r\n                        />\r\n                      </Grid>\r\n                      <Button\r\n                        onClick={handleRefreshToken}\r\n                        disabled={isSubmitting}\r\n                        className={classes.tokenRefresh}\r\n                        variant=\"text\"\r\n                        startIcon={<Autorenew style={{ marginLeft: 5, color: \"green\" }} />}\r\n                      />\r\n                      <Button\r\n                        onClick={handleCopyToken}\r\n                        className={classes.tokenRefresh}\r\n                        variant=\"text\"\r\n                        startIcon={<FileCopy style={{ color: copied ? \"blue\" : \"inherit\" }} />}\r\n                      />\r\n                    </Box>\r\n\r\n                    <div>\r\n                      <h3>{i18n.t(\"whatsappModal.form.queueRedirection\")}</h3>\r\n                      <p>{i18n.t(\"whatsappModal.form.queueRedirectionDesc\")}</p>\r\n                      <Grid spacing={2} container>\r\n\r\n                        <Grid xs={6} md={6} item>\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.FormControl}\r\n                            fullWidth\r\n                          >\r\n                            <InputLabel id=\"sendIdQueue-selection-label\">\r\n                              {i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                            </InputLabel>\r\n                            <Field\r\n                              as={Select}\r\n                              name=\"sendIdQueue\"\r\n                              id=\"sendIdQueue\"\r\n                              value={values.sendIdQueue || '0'}\r\n                              label={i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                              placeholder={i18n.t(\"whatsappModal.form.sendIdQueue\")}\r\n                              labelId=\"sendIdQueue-selection-label\"\r\n                            >\r\n                              <MenuItem value={0}>&nbsp;</MenuItem>\r\n                              {queues.map(queue => (\r\n                                <MenuItem key={queue.id} value={queue.id}>\r\n                                  {queue.name}\r\n                                </MenuItem>\r\n                              ))}\r\n                            </Field>\r\n                          </FormControl>\r\n\r\n                        </Grid>\r\n\r\n                        <Grid xs={6} md={6} item>\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"whatsappModal.form.timeSendQueue\")}\r\n                            fullWidth\r\n                            name=\"timeSendQueue\"\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            error={touched.timeSendQueue && Boolean(errors.timeSendQueue)}\r\n                            helperText={touched.timeSendQueue && errors.timeSendQueue}\r\n                          />\r\n                        </Grid>\r\n\r\n                      </Grid>\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"integrations\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* FILAS */}\r\n                    <QueueSelect\r\n                      selectedQueueIds={selectedQueueIds}\r\n                      onChange={(selectedIds) => handleChangeQueue(selectedIds)}\r\n                      companyId={values?.companyId}\r\n                    />\r\n                    <FormControl\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      className={classes.FormControl}\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel id=\"integrationId-selection-label\">\r\n                        {i18n.t(\"queueModal.form.integrationId\")}\r\n                      </InputLabel>\r\n                      <Field\r\n                        as={Select}\r\n                        label={i18n.t(\"queueModal.form.integrationId\")}\r\n                        name=\"integrationId\"\r\n                        id=\"integrationId\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        placeholder={i18n.t(\"queueModal.form.integrationId\")}\r\n                        labelId=\"integrationId-selection-label\"                        >\r\n                        <MenuItem value={null} >{\"Desabilitado\"}</MenuItem>\r\n                        {integrations.map((integration) => (\r\n                          <MenuItem key={integration.id} value={integration.id}>\r\n                            {integration.name}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Field>\r\n                    </FormControl>\r\n                    <FormControl\r\n                      margin=\"dense\"\r\n                      variant=\"outlined\"\r\n                      fullWidth\r\n                    >\r\n                      <InputLabel>\r\n                        {i18n.t(\"whatsappModal.form.prompt\")}\r\n                      </InputLabel>\r\n                      <Select\r\n                        labelId=\"dialog-select-prompt-label\"\r\n                        id=\"dialog-select-prompt\"\r\n                        name=\"promptId\"\r\n                        value={selectedPrompt || \"\"}\r\n                        onChange={handleChangePrompt}\r\n                        label={i18n.t(\"whatsappModal.form.prompt\")}\r\n                        fullWidth\r\n                        MenuProps={{\r\n                          anchorOrigin: {\r\n                            vertical: \"bottom\",\r\n                            horizontal: \"left\",\r\n                          },\r\n                          transformOrigin: {\r\n                            vertical: \"top\",\r\n                            horizontal: \"left\",\r\n                          },\r\n                          getContentAnchorEl: null,\r\n                        }}\r\n                      >\r\n                        {prompts.map((prompt) => (\r\n                          <MenuItem\r\n                            key={prompt.id}\r\n                            value={prompt.id}\r\n                          >\r\n                            {prompt.name}\r\n                          </MenuItem>\r\n                        ))}\r\n                      </Select>\r\n                    </FormControl>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"messages\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* MENSAGEM DE SAUDAÇÃO */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.greetingMessage\")}\r\n                        type=\"greetingMessage\"\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"greetingMessage\"\r\n                        error={\r\n                          touched.greetingMessage && Boolean(errors.greetingMessage)\r\n                        }\r\n                        helperText={\r\n                          touched.greetingMessage && errors.greetingMessage\r\n                        }\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/* MENSAGEM DE CONCLUSÃO */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.complationMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"complationMessage\"\r\n                        error={\r\n                          touched.complationMessage &&\r\n                          Boolean(errors.complationMessage)\r\n                        }\r\n                        helperText={\r\n                          touched.complationMessage && errors.complationMessage\r\n                        }\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/* MENSAGEM DE FORA DE EXPEDIENTE */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.outOfHoursMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"outOfHoursMessage\"\r\n                        error={touched.outOfHoursMessage && Boolean(errors.outOfHoursMessage)}\r\n                        helperText={touched.outOfHoursMessage && errors.outOfHoursMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"chatbot\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    <Grid spacing={2} container>\r\n                      {/* TEMPO PARA CRIAR NOVO TICKET */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.timeCreateNewTicket\")}\r\n                          fullWidth\r\n                          name=\"timeCreateNewTicket\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.timeCreateNewTicket && Boolean(errors.timeCreateNewTicket)}\r\n                          helperText={touched.timeCreateNewTicket && errors.timeCreateNewTicket}\r\n                        />\r\n                      </Grid>\r\n\r\n                      {/* QUANTIDADE MÁXIMA DE VEZES QUE O CHATBOT VAI SER ENVIADO */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.maxUseBotQueues\")}\r\n                          fullWidth\r\n                          name=\"maxUseBotQueues\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.maxUseBotQueues && Boolean(errors.maxUseBotQueues)}\r\n                          helperText={touched.maxUseBotQueues && errors.maxUseBotQueues}\r\n                        />\r\n                      </Grid>\r\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\r\n                      <Grid xs={6} md={4} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.timeUseBotQueues\")}\r\n                          fullWidth\r\n                          name=\"timeUseBotQueues\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.timeUseBotQueues && Boolean(errors.timeUseBotQueues)}\r\n                          helperText={touched.timeUseBotQueues && errors.timeUseBotQueues}\r\n                        />\r\n                      </Grid>\r\n                    </Grid>\r\n                    <Grid spacing={2} container>\r\n                      {/* ENCERRAR CHATS ABERTOS APÓS X HORAS */}\r\n                      <Grid xs={6} md={6} item>\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"whatsappModal.form.expiresTicket\")}\r\n                          fullWidth\r\n                          name=\"expiresTicket\"\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          error={touched.expiresTicket && Boolean(errors.expiresTicket)}\r\n                          helperText={touched.expiresTicket && errors.expiresTicket}\r\n                        />\r\n                      </Grid>\r\n                      {/* TEMPO PARA ENVIO DO CHATBOT */}\r\n                      <Grid xs={6} md={6} item>\r\n                        <FormControl\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          fullWidth\r\n                          className={classes.formControl}\r\n                        >\r\n                          <InputLabel id=\"whenExpiresTicket-selection-label\">\r\n                            {i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\r\n                          </InputLabel>\r\n                          <Field\r\n                            as={Select}\r\n                            label={i18n.t(\"whatsappModal.form.whenExpiresTicket\")}\r\n                            placeholder={i18n.t(\r\n                              \"whatsappModal.form.whenExpiresTicket\"\r\n                            )}\r\n                            labelId=\"whenExpiresTicket-selection-label\"\r\n                            id=\"whenExpiresTicket\"\r\n                            name=\"whenExpiresTicket\"\r\n                          >\r\n                            <MenuItem value={\"0\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions1\")}</MenuItem>\r\n                            <MenuItem value={\"1\"}>{i18n.t(\"whatsappModal.form.closeLastMessageOptions2\")}</MenuItem>\r\n                          </Field>\r\n                        </FormControl>\r\n                      </Grid>\r\n                    </Grid>\r\n                    {/* MENSAGEM POR INATIVIDADE*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.expiresInactiveMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"expiresInactiveMessage\"\r\n                        error={touched.expiresInactiveMessage && Boolean(errors.expiresInactiveMessage)}\r\n                        helperText={touched.expiresInactiveMessage && errors.expiresInactiveMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n\r\n                    {/* TEMPO PARA ENVIO DE MENSAGEM POR INATIVIDADE */}\r\n                    <Field\r\n                      as={TextField}\r\n                      label={i18n.t(\"whatsappModal.form.timeInactiveMessage\")}\r\n                      fullWidth\r\n                      name=\"timeInactiveMessage\"\r\n                      variant=\"outlined\"\r\n                      margin=\"dense\"\r\n                      error={touched.timeInactiveMessage && Boolean(errors.timeInactiveMessage)}\r\n                      helperText={touched.timeInactiveMessage && errors.timeInactiveMessage}\r\n                    />\r\n                    {/* MENSAGEM POR INATIVIDADE*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.inactiveMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"inactiveMessage\"\r\n                        error={touched.inactiveMessage && Boolean(errors.inactiveMessage)}\r\n                        helperText={touched.inactiveMessage && errors.inactiveMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"nps\"}\r\n                >\r\n                  <DialogContent dividers>\r\n                    {/* MENSAGEM DE AVALIAÇAO*/}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.ratingMessage\")}\r\n                        multiline\r\n                        rows={4}\r\n                        fullWidth\r\n                        name=\"ratingMessage\"\r\n                        error={touched.ratingMessage && Boolean(errors.ratingMessage)}\r\n                        helperText={touched.ratingMessage && errors.ratingMessage}\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                      />\r\n                    </div>\r\n                    {/* QUANTIDADE MÁXIMA DE VEZES QUE O NPS VAI SER ENVIADO */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.maxUseBotQueuesNPS\")}\r\n                        fullWidth\r\n                        name=\"maxUseBotQueuesNPS\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        error={touched.maxUseBotQueuesNPS && Boolean(errors.maxUseBotQueuesNPS)}\r\n                        helperText={touched.maxUseBotQueuesNPS && errors.maxUseBotQueuesNPS}\r\n                      />\r\n                    </div>\r\n                    {/* ENCERRAR CHATS NPS APÓS X Minutos */}\r\n                    <div>\r\n                      <Field\r\n                        as={TextField}\r\n                        label={i18n.t(\"whatsappModal.form.expiresTicketNPS\")}\r\n                        fullWidth\r\n                        name=\"expiresTicketNPS\"\r\n                        variant=\"outlined\"\r\n                        margin=\"dense\"\r\n                        error={touched.expiresTicketNPS && Boolean(errors.expiresTicketNPS)}\r\n                        helperText={touched.expiresTicketNPS && errors.expiresTicketNPS}\r\n                      />\r\n                    </div>\r\n                  </DialogContent>\r\n                </TabPanel>\r\n                <TabPanel\r\n                  className={classes.container}\r\n                  value={tab}\r\n                  name={\"schedules\"}\r\n                >\r\n                  {tab === \"schedules\" && (\r\n                    <Paper style={{ padding: 20 }}>\r\n                      <SchedulesForm\r\n                        loading={false}\r\n                        onSubmit={handleSaveSchedules}\r\n                        initialValues={schedules}\r\n                        labelSaveButton={i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n                      />\r\n                    </Paper>\r\n                  )}\r\n\r\n                </TabPanel>\r\n              </Paper>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"whatsappModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {whatsAppId\r\n                    ? i18n.t(\"whatsappModal.buttons.okEdit\")\r\n                    : i18n.t(\"whatsappModal.buttons.okAdd\")}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(WhatsAppModal);","import React, { useState, useCallback, useContext, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { format, parseISO, set } from \"date-fns\";\r\n\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\r\nimport { Stack } from \"@mui/material\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n  Button,\r\n  TableBody,\r\n  TableCell,\r\n  IconButton,\r\n  Dialog,\r\n  DialogTitle,\r\n  TableRow,\r\n  Table,\r\n  TableHead,\r\n  Paper,\r\n  Tooltip,\r\n  Typography,\r\n  CircularProgress,\r\n  Divider\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Edit,\r\n  CheckCircle,\r\n  SignalCellularConnectedNoInternet2Bar,\r\n  SignalCellularConnectedNoInternet0Bar,\r\n  SignalCellular4Bar,\r\n  CropFree,\r\n  DeleteOutline,\r\n  Facebook,\r\n  Instagram,\r\n  WhatsApp\r\n} from \"@material-ui/icons\";\r\n\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\n\r\nimport MainContainer from \"../MainContainer\";\r\nimport MainHeader from \"../MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../MainHeaderButtonsWrapper\";\r\nimport Title from \"../Title\";\r\nimport TableRowSkeleton from \"../TableRowSkeleton\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport useCompanies from \"../../hooks/useCompanies\";\r\nimport api from \"../../services/api\";\r\nimport WhatsAppModalAdmin from \"../WhatsAppModalAdmin\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport QrcodeModal from \"../QrcodeModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"rgba(0, 0, 0, 0.1) 0px 4px 12px\",\r\n    ...theme.scrollbarStyles\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  tooltip: {\r\n    backgroundColor: \"#f5f5f9\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontSize: theme.typography.pxToRem(14),\r\n    border: \"1px solid #dadde9\",\r\n    maxWidth: 450\r\n  },\r\n  tooltipPopper: {\r\n    textAlign: \"center\"\r\n  },\r\n  buttonProgress: {\r\n    color: green[500]\r\n  }\r\n  ,\r\n  TableHead: {\r\n    backgroundColor: theme.palette.barraSuperior,//\"#3d3d3d\",\r\n    color: \"textSecondary\",\r\n    borderRadius: \"5px\"\r\n  }\r\n}));\r\n\r\nconst CustomToolTip = ({ title, content, children }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip\r\n      arrow\r\n      classes={{\r\n        tooltip: classes.tooltip,\r\n        popper: classes.tooltipPopper\r\n      }}\r\n      title={\r\n        <React.Fragment>\r\n          <Typography gutterBottom color=\"inherit\">\r\n            {title}\r\n          </Typography>\r\n          {content && <Typography>{content}</Typography>}\r\n        </React.Fragment>\r\n      }\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n};\r\nconst WhatsAppModalCompany = ({\r\n  open,\r\n  onClose,\r\n  whatsAppId,\r\n  filteredWhatsapps,\r\n  companyInfos\r\n}) => {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { list } = useCompanies();\r\n  const [loadingComp, setLoadingComp] = useState(false);\r\n  const { whatsApps, loading } = useContext(WhatsAppsContext);\r\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\r\n  const [companies, setCompanies] = useState([]);\r\n  const [qrModalOpen, setQrModalOpen] = useState(false);\r\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const confirmationModalInitialState = {\r\n    action: \"\",\r\n    title: \"\",\r\n    message: \"\",\r\n    whatsAppId: \"\",\r\n    open: false\r\n  };\r\n  const [confirmModalInfo, setConfirmModalInfo] = useState(\r\n    confirmationModalInitialState\r\n  );\r\n\r\n  const responseFacebook = response => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken\r\n        })\r\n        .then(response => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch(error => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n  const responseInstagram = response => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          addInstagram: true,\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken\r\n        })\r\n        .then(response => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch(error => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleStartWhatsAppSession = async whatsAppId => {\r\n    try {\r\n      await api.post(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleRequestNewQrCode = async whatsAppId => {\r\n    try {\r\n      await api.put(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenWhatsAppModal = () => {\r\n    setSelectedWhatsApp(null);\r\n    setWhatsAppModalOpen(true);\r\n  };\r\n\r\n  const handleCloseWhatsAppModal = useCallback(() => {\r\n    setWhatsAppModalOpen(false);\r\n    setSelectedWhatsApp(null);\r\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\r\n\r\n  const handleOpenQrModal = whatsApp => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setQrModalOpen(true);\r\n  };\r\n\r\n  const handleCloseQrModal = useCallback(() => {\r\n    setSelectedWhatsApp(null);\r\n    setQrModalOpen(false);\r\n  }, [setQrModalOpen, setSelectedWhatsApp]);\r\n\r\n  const handleEditWhatsApp = whatsApp => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setWhatsAppModalOpen(true);\r\n  };\r\n\r\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\r\n    if (action === \"disconnect\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\r\n        whatsAppId: whatsAppId\r\n      });\r\n    }\r\n\r\n    if (action === \"delete\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\r\n        whatsAppId: whatsAppId\r\n      });\r\n    }\r\n    setConfirmModalOpen(true);\r\n  };\r\n\r\n  const handleSubmitConfirmationModal = async () => {\r\n    if (confirmModalInfo.action === \"disconnect\") {\r\n      try {\r\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    if (confirmModalInfo.action === \"delete\") {\r\n      try {\r\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\r\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    setConfirmModalInfo(confirmationModalInitialState);\r\n  };\r\n\r\n  const renderStatusToolTips = whatsApp => {\r\n    return (\r\n      <div className={classes.customTableCell}>\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\r\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <CircularProgress size={24} className={classes.buttonProgress} />\r\n        )}\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\r\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\r\n          >\r\n            <CropFree />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"CONNECTED\" && (\r\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\r\n            <SignalCellular4Bar style={{ color: green[500] }} />\r\n          </CustomToolTip>\r\n        )}\r\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\r\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const renderActionButtons = whatsApp => {\r\n    return (\r\n      <>\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <Button\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => handleOpenQrModal(whatsApp)}\r\n          >\r\n            {i18n.t(\"connections.buttons.qrcode\")}\r\n          </Button>\r\n        )}\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <>\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              onClick={() => handleStartWhatsAppSession(whatsApp.id)}\r\n            >\r\n              {i18n.t(\"connections.buttons.tryAgain\")}\r\n            </Button>{\" \"}\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"secondary\"\r\n              onClick={() => handleRequestNewQrCode(whatsApp.id)}\r\n            >\r\n              {i18n.t(\"connections.buttons.newQr\")}\r\n            </Button>\r\n          </>\r\n        )}\r\n        {(whatsApp.status === \"CONNECTED\" ||\r\n          whatsApp.status === \"PAIRING\" ||\r\n          whatsApp.status === \"TIMEOUT\") && (\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"secondary\"\r\n              onClick={() => {\r\n                handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\r\n              }}\r\n            >\r\n              {i18n.t(\"connections.buttons.disconnect\")}\r\n            </Button>\r\n          )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\r\n            {i18n.t(\"connections.buttons.connecting\")}\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const IconChannel = channel => {\r\n    switch (channel) {\r\n      case \"facebook\":\r\n        return <Facebook />;\r\n      case \"instagram\":\r\n        return <Instagram />;\r\n      case \"whatsapp\":\r\n        return <WhatsApp />;\r\n      default:\r\n        return \"error\";\r\n    }\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"lg\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <MainContainer>\r\n          <ConfirmationModal\r\n            title={confirmModalInfo.title}\r\n            open={confirmModalOpen}\r\n            onClose={setConfirmModalOpen}\r\n            onConfirm={handleSubmitConfirmationModal}\r\n          >\r\n            {confirmModalInfo.message}\r\n          </ConfirmationModal>\r\n          <QrcodeModal\r\n            open={qrModalOpen}\r\n            onClose={handleCloseQrModal}\r\n            whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\r\n          />\r\n          <WhatsAppModalAdmin\r\n            open={whatsAppModalOpen}\r\n            onClose={handleCloseWhatsAppModal}\r\n            whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\r\n            companyId={companyInfos?.id}\r\n          />\r\n\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            style={{ overflow: \"hidden\" }}\r\n            variant=\"outlined\"\r\n          >\r\n            <MainHeader>\r\n              <Stack>\r\n                <Typography\r\n                  variant=\"h5\"\r\n                  color=\"black\"\r\n                  style={{\r\n                    fontWeight: \"bold\",\r\n                    marginLeft: \"10px\",\r\n                    marginTop: \"10px\"\r\n                  }}\r\n                  gutterBottom\r\n                >\r\n                  Conexões de: {companyInfos?.name}\r\n                </Typography>\r\n              </Stack>\r\n\r\n              <MainHeaderButtonsWrapper>\r\n                <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\r\n                  {popupState => (\r\n                    <React.Fragment>\r\n                      <Menu {...bindMenu(popupState)}>\r\n                        <MenuItem\r\n                          onClick={() => {\r\n                            handleOpenWhatsAppModal();\r\n                            popupState.close();\r\n                          }}\r\n                        >\r\n                          <WhatsApp\r\n                            fontSize=\"small\"\r\n                            style={{\r\n                              marginRight: \"10px\"\r\n                            }}\r\n                          />\r\n                          WhatsApp\r\n                        </MenuItem>\r\n                        <FacebookLogin\r\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                          autoLoad={false}\r\n                          fields=\"name,email,picture\"\r\n                          version=\"13.0\"\r\n                          scope=\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagementnt,business_management\"\r\n                          callback={responseFacebook}\r\n                          render={renderProps => (\r\n                            <MenuItem onClick={renderProps.onClick}>\r\n                              <Facebook\r\n                                fontSize=\"small\"\r\n                                style={{\r\n                                  marginRight: \"10px\"\r\n                                }}\r\n                              />\r\n                              Facebook\r\n                            </MenuItem>\r\n                          )}\r\n                        />\r\n\r\n                        <FacebookLogin\r\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                          autoLoad={false}\r\n                          fields=\"name,email,picture\"\r\n                          version=\"13.0\"\r\n                          scope=\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\r\n                          callback={responseInstagram}\r\n                          render={renderProps => (\r\n                            <MenuItem onClick={renderProps.onClick}>\r\n                              <Instagram\r\n                                fontSize=\"small\"\r\n                                style={{\r\n                                  marginRight: \"10px\"\r\n                                }}\r\n                              />\r\n                              Instagram\r\n                            </MenuItem>\r\n                          )}\r\n                        />\r\n                      </Menu>\r\n                    </React.Fragment>\r\n                  )}\r\n                </PopupState>\r\n              </MainHeaderButtonsWrapper>\r\n            </MainHeader>\r\n            <Stack\r\n              style={{\r\n                overflowY: \"auto\",\r\n                padding: \"20px\",\r\n                backgroundColor: \"rgb(244 244 244 / 53%)\",\r\n                borderRadius: \"5px\",\r\n                height: \"93%\"\r\n              }}\r\n            >\r\n              <Paper>\r\n                <Table size=\"small\">\r\n                  <TableHead\r\n                    className={classes.TableHead}\r\n                  >\r\n                    <TableRow style={{ color: \"#fff\" }}>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        Channel\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"connections.table.name\")}\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"connections.table.status\")}\r\n                      </TableCell>\r\n                      {user.profile === \"admin\" && (\r\n                        <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                          {i18n.t(\"connections.table.session\")}\r\n                        </TableCell>\r\n                      )}\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"connections.table.lastUpdate\")}\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"connections.table.default\")}\r\n                      </TableCell>\r\n                      {user.profile === \"admin\" && (\r\n                        <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                          {i18n.t(\"connections.table.actions\")}\r\n                        </TableCell>\r\n                      )}\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {loading ? (\r\n                      <TableRowSkeleton />\r\n                    ) : (\r\n                      <>\r\n                        {filteredWhatsapps?.length > 0 &&\r\n                          filteredWhatsapps.map(whatsApp => (\r\n                            <TableRow key={whatsApp.id}>\r\n                              <TableCell align=\"center\">\r\n                                {IconChannel(whatsApp.channel)}\r\n                              </TableCell>\r\n                              <TableCell align=\"center\">\r\n                                {whatsApp?.name}\r\n                              </TableCell>\r\n                              <TableCell align=\"center\">\r\n                                {renderStatusToolTips(whatsApp)}\r\n                              </TableCell>\r\n                              {user.profile === \"admin\" && (\r\n                                <TableCell align=\"center\">\r\n                                  {renderActionButtons(whatsApp)}\r\n                                </TableCell>\r\n                              )}\r\n                              <TableCell align=\"center\">\r\n                                {format(\r\n                                  parseISO(whatsApp.updatedAt),\r\n                                  \"dd/MM/yy HH:mm\"\r\n                                )}\r\n                              </TableCell>\r\n                              <TableCell align=\"center\">\r\n                                {whatsApp.isDefault && (\r\n                                  <div className={classes.customTableCell}>\r\n                                    <CheckCircle\r\n                                      style={{ color: green[500] }}\r\n                                    />\r\n                                  </div>\r\n                                )}\r\n                              </TableCell>\r\n                              {user.profile === \"admin\" && (\r\n                                <TableCell align=\"center\">\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    onClick={() => handleEditWhatsApp(whatsApp)}\r\n                                  >\r\n                                    <Edit />\r\n                                  </IconButton>\r\n\r\n                                  <IconButton\r\n                                    size=\"small\"\r\n                                    onClick={e => {\r\n                                      handleOpenConfirmationModal(\r\n                                        \"delete\",\r\n                                        whatsApp.id\r\n                                      );\r\n                                    }}\r\n                                  >\r\n                                    <DeleteOutline />\r\n                                  </IconButton>\r\n                                </TableCell>\r\n                              )}\r\n                            </TableRow>\r\n                          ))}\r\n                      </>\r\n                    )}\r\n                  </TableBody>\r\n                </Table>\r\n              </Paper>\r\n            </Stack>\r\n          </Paper>\r\n        </MainContainer>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default React.memo(WhatsAppModalCompany);\r\n","import React, { useState, useCallback, useContext, useEffect } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { format, parseISO, set } from \"date-fns\";\r\n\r\nimport Menu from \"@material-ui/core/Menu\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport PopupState, { bindTrigger, bindMenu } from \"material-ui-popup-state\";\r\nimport { Stack } from \"@mui/material\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport {\r\n  Button,\r\n  TableBody,\r\n  TableRow,\r\n  TableCell,\r\n  IconButton,\r\n  Table,\r\n  TableHead,\r\n  Paper,\r\n  Tooltip,\r\n  Typography,\r\n  CircularProgress,\r\n  Divider\r\n} from \"@material-ui/core\";\r\nimport {\r\n  Edit,\r\n  CheckCircle,\r\n  SignalCellularConnectedNoInternet2Bar,\r\n  SignalCellularConnectedNoInternet0Bar,\r\n  SignalCellular4Bar,\r\n  CropFree,\r\n  DeleteOutline,\r\n  Facebook,\r\n  Instagram,\r\n  WhatsApp\r\n} from \"@material-ui/icons\";\r\n\r\nimport FacebookLogin from \"react-facebook-login/dist/facebook-login-render-props\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport useCompanies from \"../../hooks/useCompanies\";\r\nimport api from \"../../services/api\";\r\nimport WhatsAppModalCompany from \"../../components/CompanyWhatsapps\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport QrcodeModal from \"../../components/QrcodeModal\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport { WhatsAppsContext } from \"../../context/WhatsApp/WhatsAppsContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    borderRadius: \"10px\",\r\n    boxShadow: \"rgba(0, 0, 0, 0.1) 0px 4px 12px\",\r\n    ...theme.scrollbarStyles\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\"\r\n  },\r\n  tooltip: {\r\n    backgroundColor: \"#f5f5f9\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontSize: theme.typography.pxToRem(14),\r\n    border: \"1px solid #dadde9\",\r\n    maxWidth: 450\r\n  },\r\n  tooltipPopper: {\r\n    textAlign: \"center\"\r\n  },\r\n  buttonProgress: {\r\n    color: green[500]\r\n  },\r\n  TableHead: {\r\n    backgroundColor: theme.palette.barraSuperior,//\"#3d3d3d\",\r\n    color: \"textSecondary\",\r\n    borderRadius: \"5px\"\r\n  }\r\n}));\r\n\r\nconst CustomToolTip = ({ title, content, children }) => {\r\n  const classes = useStyles();\r\n\r\n  return (\r\n    <Tooltip\r\n      arrow\r\n      classes={{\r\n        tooltip: classes.tooltip,\r\n        popper: classes.tooltipPopper\r\n      }}\r\n      title={\r\n        <React.Fragment>\r\n          <Typography gutterBottom color=\"inherit\">\r\n            {title}\r\n          </Typography>\r\n          {content && <Typography>{content}</Typography>}\r\n        </React.Fragment>\r\n      }\r\n    >\r\n      {children}\r\n    </Tooltip>\r\n  );\r\n};\r\n\r\nconst IconChannel = channel => {\r\n  switch (channel) {\r\n    case \"facebook\":\r\n      return <Facebook />;\r\n    case \"instagram\":\r\n      return <Instagram />;\r\n    case \"whatsapp\":\r\n      return <WhatsApp />;\r\n    default:\r\n      return \"error\";\r\n  }\r\n};\r\n\r\nconst AllConnections = () => {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const { list } = useCompanies();\r\n  const [loadingWhatsapp, setLoadingWhatsapp] = useState(true);\r\n  const [loadingComp, setLoadingComp] = useState(false);\r\n  const [whats, setWhats] = useState([]);\r\n  const [whatsAppModalOpen, setWhatsAppModalOpen] = useState(false);\r\n  const [companies, setCompanies] = useState([]);\r\n  const [qrModalOpen, setQrModalOpen] = useState(false);\r\n  const [selectedWhatsApp, setSelectedWhatsApp] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [filterConnections, setFilterConnections] = useState([]);\r\n  const [companyWhatsApps, setCompanyWhatsApps] = useState(null);\r\n  const confirmationModalInitialState = {\r\n    action: \"\",\r\n    title: \"\",\r\n    message: \"\",\r\n    whatsAppId: \"\",\r\n    open: false\r\n  };\r\n  const [confirmModalInfo, setConfirmModalInfo] = useState(\r\n    confirmationModalInitialState\r\n  );\r\n\r\n  const history = useHistory();\r\n  if (!user.super) {\r\n    history.push(\"/tickets\")\r\n  }\r\n\r\n\r\n  useEffect(() => {\r\n    setLoadingWhatsapp(true);\r\n    const fetchSession = async () => {\r\n      try {\r\n        const { data } = await api.get(\"/whatsapp/all/?session=0\");\r\n        setWhats(data);\r\n        setLoadingWhatsapp(false);\r\n      } catch (err) {\r\n        setLoadingWhatsapp(false);\r\n        toastError(err);\r\n      }\r\n    };\r\n    fetchSession();\r\n  }, []);\r\n\r\n  const responseFacebook = response => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken\r\n        })\r\n        .then(response => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch(error => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n  useEffect(() => {\r\n    loadCompanies();\r\n  }, []);\r\n  const loadCompanies = async () => {\r\n    setLoadingComp(true);\r\n    try {\r\n      const companyList = await list();\r\n      setCompanies(companyList);\r\n    } catch (e) {\r\n      toast.error(\"Não foi possível carregar a lista de registros\");\r\n    }\r\n    setLoadingComp(false);\r\n  }\r\n\r\n  const responseInstagram = response => {\r\n    if (response.status !== \"unknown\") {\r\n      const { accessToken, id } = response;\r\n\r\n      api\r\n        .post(\"/facebook\", {\r\n          addInstagram: true,\r\n          facebookUserId: id,\r\n          facebookUserToken: accessToken\r\n        })\r\n        .then(response => {\r\n          toast.success(i18n.t(\"connections.facebook.success\"));\r\n        })\r\n        .catch(error => {\r\n          toastError(error);\r\n        });\r\n    }\r\n  };\r\n\r\n  const handleStartWhatsAppSession = async whatsAppId => {\r\n    try {\r\n      await api.post(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleRequestNewQrCode = async whatsAppId => {\r\n    try {\r\n      await api.put(`/whatsappsession/${whatsAppId}`);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleOpenWhatsAppModal = (whatsappsFilter, comp) => {\r\n    setSelectedWhatsApp(null);\r\n    setWhatsAppModalOpen(true);\r\n    if (whatsappsFilter?.length > 0) {\r\n      setFilterConnections(whatsappsFilter);\r\n      setCompanyWhatsApps(comp);\r\n    }\r\n  };\r\n\r\n\r\n\r\n  const handleCloseWhatsAppModal = useCallback(() => {\r\n    setWhatsAppModalOpen(false);\r\n    setSelectedWhatsApp(null);\r\n    setFilterConnections([]);\r\n    setCompanyWhatsApps(null);\r\n  }, [setSelectedWhatsApp, setWhatsAppModalOpen]);\r\n\r\n  const handleOpenQrModal = whatsApp => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setQrModalOpen(true);\r\n  };\r\n\r\n  const handleCloseQrModal = useCallback(() => {\r\n    setSelectedWhatsApp(null);\r\n    setQrModalOpen(false);\r\n  }, [setQrModalOpen, setSelectedWhatsApp]);\r\n\r\n  const handleEditWhatsApp = whatsApp => {\r\n    setSelectedWhatsApp(whatsApp);\r\n    setWhatsAppModalOpen(true);\r\n  };\r\n\r\n  const handleOpenConfirmationModal = (action, whatsAppId) => {\r\n    if (action === \"disconnect\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.disconnectTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.disconnectMessage\"),\r\n        whatsAppId: whatsAppId\r\n      });\r\n    }\r\n\r\n    if (action === \"delete\") {\r\n      setConfirmModalInfo({\r\n        action: action,\r\n        title: i18n.t(\"connections.confirmationModal.deleteTitle\"),\r\n        message: i18n.t(\"connections.confirmationModal.deleteMessage\"),\r\n        whatsAppId: whatsAppId\r\n      });\r\n    }\r\n    setConfirmModalOpen(true);\r\n  };\r\n\r\n  const handleSubmitConfirmationModal = async () => {\r\n    if (confirmModalInfo.action === \"disconnect\") {\r\n      try {\r\n        await api.delete(`/whatsappsession/${confirmModalInfo.whatsAppId}`);\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    if (confirmModalInfo.action === \"delete\") {\r\n      try {\r\n        await api.delete(`/whatsapp/${confirmModalInfo.whatsAppId}`);\r\n        toast.success(i18n.t(\"connections.toasts.deleted\"));\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n    setConfirmModalInfo(confirmationModalInitialState);\r\n  };\r\n\r\n  const renderActionButtons = whatsApp => {\r\n    return (\r\n      <>\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <Button\r\n            size=\"small\"\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => handleOpenQrModal(whatsApp)}\r\n          >\r\n            {i18n.t(\"connections.buttons.qrcode\")}\r\n          </Button>\r\n        )}\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <>\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"primary\"\r\n              onClick={() => handleStartWhatsAppSession(whatsApp.id)}\r\n            >\r\n              {i18n.t(\"connections.buttons.tryAgain\")}\r\n            </Button>{\" \"}\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"secondary\"\r\n              onClick={() => handleRequestNewQrCode(whatsApp.id)}\r\n            >\r\n              {i18n.t(\"connections.buttons.newQr\")}\r\n            </Button>\r\n          </>\r\n        )}\r\n        {(whatsApp.status === \"CONNECTED\" ||\r\n          whatsApp.status === \"PAIRING\" ||\r\n          whatsApp.status === \"TIMEOUT\") && (\r\n            <Button\r\n              size=\"small\"\r\n              variant=\"outlined\"\r\n              color=\"secondary\"\r\n              onClick={() => {\r\n                handleOpenConfirmationModal(\"disconnect\", whatsApp.id);\r\n              }}\r\n            >\r\n              {i18n.t(\"connections.buttons.disconnect\")}\r\n            </Button>\r\n          )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <Button size=\"small\" variant=\"outlined\" disabled color=\"default\">\r\n            {i18n.t(\"connections.buttons.connecting\")}\r\n          </Button>\r\n        )}\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderStatusToolTips = whatsApp => {\r\n    return (\r\n      <div className={classes.customTableCell}>\r\n        {whatsApp.status === \"DISCONNECTED\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.disconnected.title\")}\r\n            content={i18n.t(\"connections.toolTips.disconnected.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet0Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"OPENING\" && (\r\n          <CircularProgress size={24} className={classes.buttonProgress} />\r\n        )}\r\n        {whatsApp.status === \"qrcode\" && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.qrcode.title\")}\r\n            content={i18n.t(\"connections.toolTips.qrcode.content\")}\r\n          >\r\n            <CropFree />\r\n          </CustomToolTip>\r\n        )}\r\n        {whatsApp.status === \"CONNECTED\" && (\r\n          <CustomToolTip title={i18n.t(\"connections.toolTips.connected.title\")}>\r\n            <SignalCellular4Bar style={{ color: green[500] }} />\r\n          </CustomToolTip>\r\n        )}\r\n        {(whatsApp.status === \"TIMEOUT\" || whatsApp.status === \"PAIRING\") && (\r\n          <CustomToolTip\r\n            title={i18n.t(\"connections.toolTips.timeout.title\")}\r\n            content={i18n.t(\"connections.toolTips.timeout.content\")}\r\n          >\r\n            <SignalCellularConnectedNoInternet2Bar color=\"secondary\" />\r\n          </CustomToolTip>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={confirmModalInfo.title}\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={handleSubmitConfirmationModal}\r\n      >\r\n        {confirmModalInfo.message}\r\n      </ConfirmationModal>\r\n      <QrcodeModal\r\n        open={qrModalOpen}\r\n        onClose={handleCloseQrModal}\r\n        whatsAppId={!whatsAppModalOpen && selectedWhatsApp?.id}\r\n      />\r\n      <WhatsAppModalCompany\r\n        open={whatsAppModalOpen}\r\n        onClose={handleCloseWhatsAppModal}\r\n        filteredWhatsapps={filterConnections}\r\n        companyInfos={companyWhatsApps}\r\n        whatsAppId={!qrModalOpen && selectedWhatsApp?.id}\r\n      />\r\n\r\n      {user.profile === \"user\" ?\r\n        <ForbiddenPage />\r\n        :\r\n        <>\r\n          <Paper className={classes.mainPaper} style={{ overflow: \"hidden\" }} variant=\"outlined\">\r\n            <MainHeader>\r\n              <Stack>\r\n                <Typography variant=\"h5\" color=\"black\" style={{ fontWeight: \"bold\", marginLeft: \"10px\", marginTop: \"10px\" }} gutterBottom>\r\n                  {i18n.t(\"connections.title\")}\r\n                </Typography>\r\n                <Typography style={{ marginTop: \"-10px\", marginLeft: \"10px\" }} variant=\"caption\" color=\"textSecondary\">\r\n                  Conecte seus canais de atendimento para receber mensagens e iniciar conversas com seus clientes.\r\n                </Typography>\r\n              </Stack>\r\n\r\n              <MainHeaderButtonsWrapper>\r\n                <PopupState variant=\"popover\" popupId=\"demo-popup-menu\">\r\n                  {popupState => (\r\n                    <React.Fragment>\r\n                      <Menu {...bindMenu(popupState)}>\r\n                        <MenuItem\r\n                          onClick={() => {\r\n                            handleOpenWhatsAppModal();\r\n                            popupState.close();\r\n                          }}\r\n                        >\r\n                          <WhatsApp\r\n                            fontSize=\"small\"\r\n                            style={{\r\n                              marginRight: \"10px\"\r\n                            }}\r\n                          />\r\n                          WhatsApp\r\n                        </MenuItem>\r\n                        <FacebookLogin\r\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                          autoLoad={false}\r\n                          fields=\"name,email,picture\"\r\n                          version=\"13.0\"\r\n                          scope=\"public_profile,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\r\n                          callback={responseFacebook}\r\n                          render={renderProps => (\r\n                            <MenuItem onClick={renderProps.onClick}>\r\n                              <Facebook\r\n                                fontSize=\"small\"\r\n                                style={{\r\n                                  marginRight: \"10px\"\r\n                                }}\r\n                              />\r\n                              Facebook\r\n                            </MenuItem>\r\n                          )}\r\n                        />\r\n\r\n                        <FacebookLogin\r\n                          appId={process.env.REACT_APP_FACEBOOK_APP_ID}\r\n                          autoLoad={false}\r\n                          fields=\"name,email,picture\"\r\n                          version=\"13.0\"\r\n                          scope=\"public_profile,instagram_basic,instagram_manage_messages,pages_messaging,pages_show_list,pages_manage_metadata,pages_read_engagement,business_management\"\r\n                          callback={responseInstagram}\r\n                          render={renderProps => (\r\n                            <MenuItem onClick={renderProps.onClick}>\r\n                              <Instagram\r\n                                fontSize=\"small\"\r\n                                style={{\r\n                                  marginRight: \"10px\"\r\n                                }}\r\n                              />\r\n                              Instagram\r\n                            </MenuItem>\r\n                          )}\r\n                        />\r\n                      </Menu>\r\n                    </React.Fragment>\r\n                  )}\r\n                </PopupState>\r\n              </MainHeaderButtonsWrapper>\r\n            </MainHeader>\r\n            <Stack\r\n              style={{\r\n                overflowY: \"auto\",\r\n                padding: \"20px\",\r\n                backgroundColor: \"rgb(244 244 244 / 53%)\",\r\n                borderRadius: \"5px\",\r\n                height: \"93%\"\r\n              }}\r\n            >\r\n              <Paper >\r\n                <Table size=\"small\">\r\n                  <TableHead className={classes.TableHead}>\r\n                    <TableRow style={{ color: \"#fff\" }}>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"Cliente\")}\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"Conexões conectadas\")}\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"Conexões desconectadas\")}\r\n                      </TableCell>\r\n                      <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                        {i18n.t(\"Total de Conexões\")}\r\n                      </TableCell>\r\n                      {user.profile === \"admin\" && (\r\n                        <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                          {i18n.t(\"connections.table.actions\")}\r\n                        </TableCell>\r\n                      )}\r\n                    </TableRow>\r\n                  </TableHead>\r\n                  <TableBody>\r\n                    {loadingWhatsapp ? (\r\n                      <TableRowSkeleton />\r\n                    ) : (\r\n                      <>\r\n                        {companies?.length > 0 && companies.map(company => (\r\n                          <TableRow key={company.id}>\r\n                            <TableCell align=\"center\">\r\n                              {company?.name}\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id && item?.status === 'CONNECTED').length}\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id && item?.status !== 'CONNECTED').length}\r\n                            </TableCell>\r\n                            <TableCell align=\"center\">\r\n                              {whats?.length && whats.filter((item) => item?.companyId === company?.id).length}\r\n                            </TableCell>\r\n                            {user.profile === \"admin\" && (\r\n                              <TableCell align=\"center\">\r\n                                <IconButton\r\n                                  size=\"small\"\r\n                                  onClick={() => handleOpenWhatsAppModal(whats.filter((item) => item?.companyId === company?.id), company)}\r\n                                >\r\n                                  <Edit />\r\n                                </IconButton>\r\n                              </TableCell>\r\n                            )}\r\n                          </TableRow>\r\n                        )\r\n                        )}\r\n                        <TableRow className={classes.TableHead}>\r\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">{i18n.t(\"Total\")}</TableCell>\r\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                            {whats?.length &&\r\n                              whats.filter((item) => item?.status === 'CONNECTED').length}\r\n                          </TableCell>\r\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                            {whats?.length &&\r\n                              whats.filter((item) => item?.status !== 'CONNECTED').length}\r\n                          </TableCell>\r\n                          <TableCell style={{ color: \"#fff\" }} align=\"center\">\r\n                            {whats?.length && whats.length}\r\n                          </TableCell>\r\n                          {user.profile === \"admin\" && <TableCell style={{ color: \"#fff\" }} align=\"center\"></TableCell>}\r\n                        </TableRow>\r\n                      </>\r\n                    )}\r\n                  </TableBody>\r\n                </Table>\r\n              </Paper>\r\n            </Stack>\r\n          </Paper>\r\n        </>}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default AllConnections;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport Chip from \"@material-ui/core/Chip\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\tchips: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\tchip: {\r\n\t\tmargin: 2,\r\n\t},\r\n})); \r\n\r\nconst QueueSelectCustom = ({ selectedQueueIds, onChange }) => {\r\n\tconst classes = useStyles();\r\n\tconst [queues, setQueues] = useState([]);\r\n\r\n\tuseEffect(() => {\r\n\t\t(async () => {\r\n\t\t\ttry {\r\n\t\t\t\tconst { data } = await api.get(\"/queue\");\r\n\t\t\t\tsetQueues(data);\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t})();\r\n\t}, []);\r\n\r\n\tconst handleChange = e => {\r\n\t\tonChange(e.target.value);\r\n\t};\r\n\r\n\treturn (\r\n\t\t<div style={{ marginTop: 6 }}>\r\n\t\t\t<FormControl fullWidth margin=\"dense\" variant=\"outlined\">\r\n\t\t\t\t<InputLabel>{i18n.t(\"queueSelect.inputLabel\")}</InputLabel>\r\n\t\t\t\t<Select\r\n\t\t\t\t\tmultiple\r\n\t\t\t\t\tlabelWidth={60}\r\n\t\t\t\t\tvalue={selectedQueueIds}\r\n\t\t\t\t\tonChange={handleChange}\r\n\t\t\t\t\tMenuProps={{\r\n\t\t\t\t\t\tanchorOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"bottom\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\ttransformOrigin: {\r\n\t\t\t\t\t\t\tvertical: \"top\",\r\n\t\t\t\t\t\t\thorizontal: \"left\",\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\tgetContentAnchorEl: null,\r\n\t\t\t\t\t}}\r\n\t\t\t\t\trenderValue={selected => (\r\n\t\t\t\t\t\t<div className={classes.chips}>\r\n\t\t\t\t\t\t\t{selected?.length > 0 &&\r\n\t\t\t\t\t\t\t\tselected.map(id => {\r\n\t\t\t\t\t\t\t\t\tif (id === \"0\") {\r\n\t\t\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\t\t\t\t\tsize=\"small\"\r\n\t\t\t\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"queueSelect.withoutQueue\")}\r\n\t\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t\t);\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tconst queue = queues.find(q => q.id === id);\r\n\t\t\t\t\t\t\t\t\treturn queue ? (\r\n\t\t\t\t\t\t\t\t\t\t<Chip\r\n\t\t\t\t\t\t\t\t\t\t\tkey={id}\r\n\t\t\t\t\t\t\t\t\t\t\tstyle={{ backgroundColor: queue.color }}\r\n\t\t\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\t\t\tlabel={queue.name}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.chip}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t) : null;\r\n\t\t\t\t\t\t\t\t})}\r\n\t\t\t\t\t\t</div>\r\n\t\t\t\t\t)}\r\n\t\t\t\t>\r\n\t\t\t\t\t<MenuItem value=\"0\">\r\n\t\t\t\t\t\t{i18n.t(\"queueSelect.withoutQueue\")}\r\n\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t{queues.map(queue => (\r\n\t\t\t\t\t\t<MenuItem key={queue.id} value={queue.id}>\r\n\t\t\t\t\t\t\t{queue.name}\r\n\t\t\t\t\t\t</MenuItem>\r\n\t\t\t\t\t))}\r\n\t\t\t\t</Select>\r\n\t\t\t</FormControl>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default QueueSelectCustom;\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Pagination from \"@material-ui/lab/Pagination\";\r\nimport * as XLSX from 'xlsx';\r\n\r\nimport api from \"../../services/api\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\n\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { Can } from \"../../components/Can\";\r\n\r\nimport { CircularProgress, FormControl, FormControlLabel, Grid, IconButton, InputLabel, MenuItem, Select, Switch, TextField, Tooltip, Typography } from \"@material-ui/core\";\r\nimport { UsersFilter } from \"../../components/UsersFilter\";\r\nimport { TagsFilter } from \"../../components/TagsFilter\";\r\nimport { WhatsappsFilter } from \"../../components/WhatsappsFilter\";\r\nimport { StatusFilter } from \"../../components/StatusFilter\";\r\nimport useDashboard from \"../../hooks/useDashboard\";\r\n\r\nimport QueueSelectCustom from \"../../components/QueueSelectCustom\";\r\nimport moment from \"moment\";\r\nimport ShowTicketLogModal from \"../../components/ShowTicketLogModal\";\r\n\r\nimport { blue, green } from \"@material-ui/core/colors\";\r\nimport { Facebook, Forward, History, Instagram, SaveAlt, Visibility, WhatsApp } from \"@material-ui/icons\";\r\nimport Autocomplete, { createFilterOptions } from \"@material-ui/lab/Autocomplete\";\r\nimport { Field } from \"formik\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainContainer: {\r\n    background: theme.palette.fancyBackground,\r\n\r\n  },\r\n  formControl: {\r\n    display: 'flex',\r\n    flexDirection: 'row',\r\n    justifyContent: 'center',\r\n    alignItems: 'center',\r\n  },\r\n  mainPaper: {\r\n    flex: 1,\r\n    marginTop: 40,\r\n    borderRadius: 20,\r\n    border: '0px !important',\r\n    marginBottom: 40,\r\n    overflow: 'hidden'\r\n  },\r\n  mainPaperTable: {\r\n    flex: 1,\r\n    overflow: 'auto',\r\n    height: '68vh',\r\n    ...theme.scrollbarStylesSoftBig,\r\n  },\r\n  mainPaperFilter: {\r\n    flex: 1,\r\n    overflow: 'auto',\r\n    height: '20vh',\r\n    ...theme.scrollbarStylesSoftBig,\r\n  },\r\n  mainHeaderBlock: {\r\n    [theme.breakpoints.down('md')]: {\r\n      display: 'flex',\r\n      flexWrap: 'wrap'\r\n    },\r\n  },\r\n  filterItem: {\r\n    width: 200,\r\n    [theme.breakpoints.down('md')]: {\r\n      width: '45%'\r\n    },\r\n  },\r\n}));\r\n\r\nconst Reports = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { getReport } = useDashboard();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [pageSize, setPageSize] = useState(10); // Defina o tamanho da página\r\n\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState([]);\r\n  const [selectedStatus, setSelectedStatus] = useState([]);\r\n  const [selectedContact, setSelectedContact] = useState(null);\r\n\r\n  // const [tagIds, setTagIds] = useState([]);\r\n  const [queueIds, setQueueIds] = useState([]);\r\n  const [userIds, setUserIds] = useState([]);\r\n  const [options, setOptions] = useState([]);\r\n  const [dateFrom, setDateFrom] = useState(moment(\"1\", \"D\").format(\"YYYY-MM-DD\"));\r\n  const [dateTo, setDateTo] = useState(moment().format(\"YYYY-MM-DD\"));\r\n  const [onlyRated, setOnlyRated] = useState(false);\r\n  const [totalTickets, setTotalTickets] = useState(0);\r\n  const [tickets, setTickets] = useState([]);\r\n\r\n  const [openTicketMessageDialog, setOpenTicketMessageDialog] = useState(false);\r\n  const [ticketOpen, setTicketOpen] = useState(null);\r\n  const [hasMore, setHasMore] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"contacts\", {\r\n            params: { searchParam },\r\n          });\r\n          setOptions(data.contacts);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          setLoading(false);\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam]);\r\n\r\n  // const handleSelectedTags = (selecteds) => {\r\n  //   const tags = selecteds.map((t) => t.id);\r\n  //   setTagIds(tags);\r\n  // };\r\n\r\n  const exportarGridParaExcel = async () => {\r\n    setLoading(true); // Define o estado de loading como true durante o carregamento\r\n\r\n    try {\r\n      const data = await getReport({\r\n        searchParam,\r\n        contactId: selectedContactId,\r\n        whatsappId: JSON.stringify(selectedWhatsapp),\r\n        // tags: JSON.stringify(tagIds),\r\n        users: JSON.stringify(userIds),\r\n        queueIds: JSON.stringify(queueIds),\r\n        status: JSON.stringify(selectedStatus),\r\n        // tags: tagIds,\r\n        dateFrom,\r\n        dateTo,\r\n        page: 1, // Passa o número da página para a API\r\n        pageSize: 9999999, // Passa o tamanho da página para a API\r\n        onlyRated: onlyRated ? \"true\" : \"false\"\r\n      });\r\n\r\n\r\n      const ticketsData = data.tickets.map(ticket => {\r\n        // Convertendo o campo createdAt para um objeto Date\r\n        const createdAt = new Date(ticket.createdAt);\r\n        const closedAt = new Date(ticket.closedAt);\r\n\r\n        const dataFechamento = closedAt.toLocaleDateString();\r\n        const horaFechamento = closedAt.toLocaleTimeString();\r\n        // Obtendo a data e a hora separadamente\r\n        const dataCriacao = createdAt.toLocaleDateString(); // Obtém a data no formato 'dd/mm/aaaa'\r\n        const horaCriacao = createdAt.toLocaleTimeString(); // Obtém a hora no formato 'hh:mm:ss'\r\n\r\n        return {\r\n          id: ticket.id,\r\n          Conexão: ticket.whatsappName,\r\n          Contato: ticket.contactName,\r\n          Usuário: ticket.userName,\r\n          Fila: ticket.queueName,\r\n          Status: ticket.status,\r\n          ÚltimaMensagem: ticket.lastMessage,\r\n          DataAbertura: dataCriacao,\r\n          HoraAbertura: horaCriacao,\r\n          DataFechamento: ticket.closedAt === null ? \"\" : dataFechamento,\r\n          HoraFechamento: ticket.closedAt === null ? \"\" : horaFechamento,\r\n          TempoDeAtendimento: ticket.supportTime,\r\n          nps: ticket.NPS,\r\n        }\r\n      });\r\n\r\n      const ws = XLSX.utils.json_to_sheet(ticketsData);\r\n      const wb = XLSX.utils.book_new();\r\n\r\n      XLSX.utils.book_append_sheet(wb, ws, 'RelatorioDeAtendimentos');\r\n      XLSX.writeFile(wb, 'relatorio-de-atendimentos.xlsx');\r\n\r\n\r\n      setPageNumber(pageNumber); // Atualiza o estado da página atual\r\n    } catch (error) {\r\n      toastError(error);\r\n    } finally {\r\n      setLoading(false); // Define o estado de loading como false após o carregamento\r\n    }\r\n\r\n  };\r\n\r\n\r\n  const handleFilter = async (pageNumber) => {\r\n    setLoading(true); // Define o estado de loading como true durante o carregamento\r\n    try {\r\n      const data = await getReport({\r\n        searchParam,\r\n        contactId: selectedContactId,\r\n        whatsappId: JSON.stringify(selectedWhatsapp),\r\n        // tags: JSON.stringify(tagIds),\r\n        users: JSON.stringify(userIds),\r\n        queueIds: JSON.stringify(queueIds),\r\n        status: JSON.stringify(selectedStatus),\r\n        // tags: tagIds,\r\n        dateFrom,\r\n        dateTo,\r\n        page: pageNumber, // Passa o número da página para a API\r\n        pageSize: pageSize, // Passa o tamanho da página para a API\r\n        onlyRated: onlyRated ? \"true\" : \"false\"\r\n      });\r\n\r\n      setTotalTickets(data.totalTickets.total);\r\n\r\n      // Verifica se há mais resultados para definir hasMore\r\n      setHasMore(data.tickets.length === pageSize);\r\n\r\n      setTickets(data.tickets); // Se for a primeira página, substitua os tickets\r\n\r\n      setPageNumber(pageNumber); // Atualiza o estado da página atual\r\n    } catch (error) {\r\n      toastError(error);\r\n    } finally {\r\n      setLoading(false); // Define o estado de loading como false após o carregamento\r\n    }\r\n  }\r\n\r\n  const handleSelectedUsers = (selecteds) => {\r\n    const users = selecteds.map((t) => t.id);\r\n    setUserIds(users);\r\n  };\r\n\r\n  const handleSelectedWhatsapps = (selecteds) => {\r\n    const whatsapp = selecteds.map((t) => t.id);\r\n    setSelectedWhatsapp(whatsapp);\r\n  };\r\n\r\n  const handleSelectedStatus = (selecteds) => {\r\n    const statusFilter = selecteds.map((t) => t.status);\r\n\r\n    setSelectedStatus(statusFilter);\r\n  };\r\n  const IconChannel = (channel) => {\r\n    switch (channel) {\r\n      case \"facebook\":\r\n        return <Facebook style={{ color: \"#3b5998\", verticalAlign: \"middle\" }} />;\r\n      case \"instagram\":\r\n        return <Instagram style={{ color: \"#e1306c\", verticalAlign: \"middle\" }} />;\r\n      case \"whatsapp\":\r\n        return <WhatsApp style={{ color: \"#25d366\", verticalAlign: \"middle\" }} />\r\n      default:\r\n        return \"error\";\r\n    }\r\n  };\r\n\r\n  const renderOption = (option) => {\r\n    if (option.number) {\r\n      return <>\r\n        {IconChannel(option.channel)}\r\n        <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n          {option.name} - {option.number}\r\n        </Typography>\r\n      </>\r\n    } else {\r\n      return `${i18n.t(\"newTicketModal.add\")} ${option.name}`;\r\n    }\r\n  };\r\n\r\n  const handleSelectOption = (e, newValue) => {\r\n    setSelectedContactId(newValue.id);\r\n    setSearchParam(\"\");\r\n  };\r\n\r\n  const renderOptionLabel = option => {\r\n    if (option.number) {\r\n      return `${option.name} - ${option.number}`;\r\n    } else {\r\n      return `${option.name}`;\r\n    }\r\n  };\r\n  const filter = createFilterOptions({\r\n    trim: true,\r\n  });\r\n\r\n  const createAddContactOption = (filterOptions, params) => {\r\n    const filtered = filter(filterOptions, params);\r\n    if (params.inputValue !== \"\" && !loading && searchParam.length >= 3) {\r\n      filtered.push({\r\n        name: `${params.inputValue}`,\r\n      });\r\n    }\r\n    return filtered;\r\n  };\r\n  const renderContactAutocomplete = () => {\r\n    return (\r\n      <Grid xs={12} item>\r\n        <Autocomplete\r\n          fullWidth\r\n          options={options}\r\n          loading={loading}\r\n          clearOnBlur\r\n          autoHighlight\r\n          freeSolo\r\n          size=\"small\"\r\n          clearOnEscape\r\n          getOptionLabel={renderOptionLabel}\r\n          renderOption={renderOption}\r\n          filterOptions={createAddContactOption}\r\n          onChange={(e, newValue) => handleSelectOption(e, newValue)}\r\n          renderInput={params => (\r\n            <TextField\r\n              {...params}\r\n              label={i18n.t(\"newTicketModal.fieldLabel\")}\r\n              variant=\"outlined\"\r\n              autoFocus\r\n              size=\"small\"\r\n              onChange={e => setSearchParam(e.target.value)}\r\n              // onKeyPress={(e, newValue) => handleSelectOption(e, newValue)}\r\n              InputProps={{\r\n                ...params.InputProps,\r\n                endAdornment: (\r\n                  <React.Fragment>\r\n                    {loading ? (\r\n                      <CircularProgress color=\"inherit\" size={20} />\r\n                    ) : null}\r\n                    {params.InputProps.endAdornment}\r\n                  </React.Fragment>\r\n                ),\r\n              }}\r\n            />\r\n          )}\r\n        />\r\n      </Grid>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      {openTicketMessageDialog && (\r\n        <ShowTicketLogModal\r\n          isOpen={openTicketMessageDialog}\r\n          handleClose={() => setOpenTicketMessageDialog(false)}\r\n          ticketId={ticketOpen.id}\r\n        />\r\n      )}\r\n      <Title>{i18n.t(\"reports.title\")}</Title>\r\n\r\n      <MainHeader className={classes.mainHeaderFilter} style={{ display: 'flex' }}>\r\n        <Paper className={classes.mainPaperFilter}>\r\n          <div style={{ paddingTop: '15px' }} />\r\n          <Grid container spacing={1}>\r\n            <Grid item xs={12} md={3} xl={3}>\r\n              {renderContactAutocomplete()}\r\n            </Grid>\r\n            <Grid item xs={12} md={3} xl={3}>\r\n              <WhatsappsFilter onFiltered={handleSelectedWhatsapps} />\r\n            </Grid>\r\n            <Grid item xs={12} md={3} xl={3}>\r\n              <StatusFilter onFiltered={handleSelectedStatus} />\r\n            </Grid>\r\n            <Grid item xs={12} md={3} xl={3}>\r\n              <UsersFilter onFiltered={handleSelectedUsers} />\r\n            </Grid>\r\n            {/* <Grid item xs={12} md={4} xl={4}>\r\n              <TagsFilter onFiltered={handleSelectedTags} />\r\n            </Grid> */}\r\n            <Grid item xs={12} md={3} xl={3} style={{ marginTop: '-13px' }}>\r\n              <QueueSelectCustom\r\n                selectedQueueIds={queueIds}\r\n                onChange={values => setQueueIds(values)}\r\n              />\r\n            </Grid>\r\n\r\n            <Grid item xs={12} sm={3} md={3}>\r\n              <TextField\r\n                label=\"Data Inicial\"\r\n                type=\"date\"\r\n                value={dateFrom}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={(e) => setDateFrom(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3} md={3}>\r\n              <TextField\r\n                label=\"Data Final\"\r\n                type=\"date\"\r\n                value={dateTo}\r\n                variant=\"outlined\"\r\n                fullWidth\r\n                size=\"small\"\r\n                onChange={(e) => setDateTo(e.target.value)}\r\n                InputLabelProps={{\r\n                  shrink: true,\r\n                }}\r\n              />\r\n            </Grid>\r\n            <Grid item xs={12} sm={3} md={3} style={{ display: 'flex', justifyContent: 'center' }}>\r\n              <FormControlLabel\r\n                control={\r\n                  <Switch\r\n                    color=\"primary\"\r\n                    checked={onlyRated}\r\n                    onChange={() => setOnlyRated(!onlyRated)}\r\n                  />\r\n                }\r\n\r\n                label={i18n.t(\"reports.buttons.onlyRated\")}\r\n              />\r\n              <IconButton onClick={exportarGridParaExcel} aria-label=\"Exportar para Excel\">\r\n\r\n                <SaveAlt />\r\n              </IconButton>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => handleFilter(pageNumber)}\r\n                size=\"small\"\r\n              >{i18n.t(\"reports.buttons.filter\")}</Button>\r\n            </Grid>\r\n          </Grid>\r\n\r\n        </Paper>\r\n\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaperTable}\r\n        variant=\"outlined\"\r\n      >\r\n        <Table size=\"small\" id=\"grid-attendants\">\r\n          <TableHead>\r\n            <TableRow>\r\n              {/* <TableCell padding=\"checkbox\" /> */}\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.id\")}</TableCell>\r\n              <TableCell align=\"left\">{i18n.t(\"reports.table.whatsapp\")}</TableCell>\r\n              <TableCell align=\"left\">{i18n.t(\"reports.table.contact\")}</TableCell>\r\n              <TableCell align=\"left\">{i18n.t(\"reports.table.user\")}</TableCell>\r\n              <TableCell align=\"left\">{i18n.t(\"reports.table.queue\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.status\")}</TableCell>\r\n              <TableCell align=\"left\">{i18n.t(\"reports.table.lastMessage\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.dateOpen\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.dateClose\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.supportTime\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.NPS\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"reports.table.actions\")}</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {tickets.map((ticket) => (\r\n                <TableRow key={ticket.id}>\r\n                  <TableCell align=\"center\">{ticket.id}</TableCell>\r\n                  <TableCell align=\"left\">{ticket?.whatsappName}</TableCell>\r\n                  <TableCell align=\"left\">{ticket?.contactName}</TableCell>\r\n                  <TableCell align=\"left\">{ticket?.userName}</TableCell>\r\n                  <TableCell align=\"left\">{ticket?.queueName}</TableCell>\r\n                  <TableCell align=\"center\">{ticket?.status}</TableCell>\r\n                  <TableCell align=\"left\">{ticket?.lastMessage}</TableCell>\r\n                  <TableCell align=\"center\">{ticket?.createdAt}</TableCell>\r\n                  <TableCell align=\"center\">{ticket?.closedAt}</TableCell>\r\n                  <TableCell align=\"center\">{ticket?.supportTime}</TableCell>\r\n                  <TableCell align=\"center\">{ticket?.NPS}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <Typography\r\n                      noWrap\r\n                      component=\"span\"\r\n                      variant=\"body2\"\r\n                      color=\"textPrimary\"\r\n                    >\r\n                      <Tooltip title=\"Logs do Ticket\">\r\n                        <History\r\n                          onClick={() => {\r\n                            setOpenTicketMessageDialog(true)\r\n                            setTicketOpen(ticket)\r\n                          }}\r\n                          fontSize=\"small\"\r\n                          style={{\r\n                            color: blue[700],\r\n                            cursor: \"pointer\",\r\n                            marginLeft: 10,\r\n                            verticalAlign: \"middle\"\r\n                          }}\r\n                        />\r\n                      </Tooltip>\r\n                      <Tooltip title=\"Acessar Ticket\">\r\n                        <Forward\r\n                          onClick={() => { history.push(`/tickets/${ticket.uuid}`) }}\r\n                          fontSize=\"small\"\r\n                          style={{\r\n                            color: green[700],\r\n                            cursor: \"pointer\",\r\n                            marginLeft: 10,\r\n                            verticalAlign: \"middle\"\r\n                          }}\r\n                        />\r\n                      </Tooltip>\r\n                    </Typography>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton avatar columns={3} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n\r\n      </Paper>\r\n\r\n      <div>\r\n        <Grid container>\r\n          <Grid item xs={12} sm={10} md={10}>\r\n\r\n            <Pagination\r\n              count={Math.ceil(totalTickets / pageSize)} // Calcula o nmero total de páginas com base no nmero total de tickets e no tamanho da página\r\n              page={pageNumber} // Define a página atual\r\n              onChange={(event, value) => handleFilter(value)} // Função de callback para mudanças de página\r\n            />\r\n          </Grid>\r\n          <Grid item xs={12} sm={2} md={2}>\r\n\r\n            <FormControl\r\n              margin=\"dense\"\r\n              variant=\"outlined\"\r\n              fullWidth\r\n            >\r\n              <InputLabel>\r\n                {i18n.t(\"tickets.search.ticketsPerPage\")}\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"dialog-select-prompt-label\"\r\n                id=\"dialog-select-prompt\"\r\n                name=\"pageSize\"\r\n                value={pageSize}\r\n                onChange={(e) => {\r\n                  setPageSize(e.target.value)\r\n                }}\r\n                label={i18n.t(\"tickets.search.ticketsPerPage\")}\r\n                fullWidth\r\n                MenuProps={{\r\n                  anchorOrigin: {\r\n                    vertical: \"center\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  transformOrigin: {\r\n                    vertical: \"center\",\r\n                    horizontal: \"left\",\r\n                  },\r\n                  getContentAnchorEl: null,\r\n                }}\r\n              >\r\n                <MenuItem value={5} >{\"5\"}</MenuItem>\r\n                <MenuItem value={10} >{\"10\"}</MenuItem>\r\n                <MenuItem value={20} >{\"20\"}</MenuItem>\r\n                <MenuItem value={50} >{\"50\"}</MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n          </Grid>\r\n        </Grid>\r\n      </div>\r\n    </MainContainer >\r\n  );\r\n};\r\n\r\nexport default Reports;\r\n","import { create } from \"zustand\";\r\n\r\nexport const useNodeStorage = create(set => ({\r\n  node: \"\",\r\n  connect: \"\",\r\n  action: \"idle\",\r\n  setNodesStorage: node => set(state => ({ ...state, node: node })),\r\n  setConnectsStorage: connects =>\r\n    set(state => ({ ...state, connect: connects })),\r\n  setAct: act => set(state => ({ ...state, action: act }))\r\n}));\r\n","import {\r\n  ArrowForwardIos,\r\n  ContentCopy,\r\n  Delete,\r\n  Message\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div\r\n      style={{ backgroundColor: \"#555\", padding: \"8px\", borderRadius: \"8px\" }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        onConnect={params => console.log(\"handle onConnect\", params)}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"3.5px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <Message\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#ededed\", fontSize: \"16px\" }}>Mensagem</div>\r\n      </div>\r\n      <div style={{ color: \"#ededed\", fontSize: \"12px\", width: 180 }}>\r\n        {data.label}\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite um nome!\"),\r\n  text: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite uma mensagem!\")\r\n});\r\n\r\nconst FlowBuilderAddTextModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar mensagem ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  const [textDig, setTextDig] = useState();\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar mensagem ao fluxo\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setTextDig(data.data.label);\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar mensagem ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setTextDig(\"\");\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null)\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { label: textDig }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      handleClose();\r\n      onSave({\r\n        text: textDig\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <DialogContent dividers>\r\n            <TextField\r\n              label={\"Mensagem\"}\r\n              multiline\r\n              rows={7}\r\n              name=\"text\"\r\n              variant=\"outlined\"\r\n              value={textDig}\r\n              margin=\"dense\"\r\n              onChange={e => setTextDig(e.target.value)}\r\n              className={classes.textField}\r\n              style={{ width: \"95%\" }}\r\n            />\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\r\n              {i18n.t(\"contactModal.buttons.cancel\")}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={classes.btnWrapper}\r\n              onClick={() => handleSaveContact()}\r\n            >\r\n              {`${labels.btn}`}\r\n            </Button>\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderAddTextModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst FlowBuilderIntervalModal = ({\r\n  open,\r\n  onSave,\r\n  data,\r\n  onUpdate,\r\n  close\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [timerSec, setTimerSec] = useState(0)\r\n  const [activeModal, setActiveModal] = useState(false)\r\n\r\n  useEffect(() => {\r\n    if(open === 'edit'){\r\n      setTimerSec(data.data.sec)\r\n      setActiveModal(true)\r\n    } else if(open === 'create'){\r\n      setTimerSec(0)\r\n      setActiveModal(true)\r\n    }\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, [open]);\r\n  \r\n\r\n  const handleClose = () => {\r\n    close(null)\r\n    setActiveModal(false)\r\n  };\r\n\r\n  const handleSaveContact = async values => {\r\n    if(!timerSec || parseInt(timerSec)  <= 0){\r\n      return toast.error('Adicione o valor de intervalo')\r\n    }\r\n    if(parseInt(timerSec) > 120){\r\n      return toast.error('Máximo de tempo atingido 120 segundos')\r\n    }\r\n    if(open === 'edit'){\r\n      onUpdate({\r\n        ...data,\r\n        data: { sec: timerSec }\r\n      });\r\n    } else if(open === 'create'){\r\n      onSave({\r\n        sec: timerSec\r\n      })\r\n    }\r\n    handleClose()\r\n    \r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={activeModal} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {open === 'create' ? `Adicionar um intervalo ao fluxo`: `Editar intervalo`}\r\n        </DialogTitle>        \r\n            <Stack>\r\n              <DialogContent dividers>\r\n                <TextField\r\n                  label={'Tempo em segundos'}\r\n                  name=\"timer\"\r\n                  type=\"number\"\r\n                  value={timerSec}\r\n                  onChange={(e) => setTimerSec(e.target.value)}\r\n                  autoFocus\r\n                  variant=\"outlined\"\r\n                  InputProps={{ inputProps: { min: 0 } }}\r\n                  margin=\"dense\"\r\n                  className={classes.textField}\r\n                  style={{ width: \"95%\" }}\r\n                />\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  onClick={() => handleSaveContact()}\r\n                >\r\n                  {open === 'create' ? `Adicionar` : 'Editar'}                  \r\n                </Button>\r\n              </DialogActions>\r\n            </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderIntervalModal;\r\n","import { ArrowForwardIos, Message, RocketLaunch } from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\n\r\nexport default memo(({ data, isConnectable }) => {\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#F9FDF9\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\",\r\n        border: '1px solid rgba(58, 186, 56, 0.25)'\r\n      }}\r\n    >\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <RocketLaunch\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#3aba38\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>\r\n          Inicio do fluxo\r\n        </div>\r\n      </div>\r\n      <div style={{ color: \"#727272\", fontSize: \"12px\" }}>\r\n        Este bloco marca o inicio do seu fluxo!\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: 'none'\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import { ImportExport, Message } from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\n\r\nexport default memo(({ data, isConnectable }) => {\r\n  const typeCondition = (value) => {\r\n    if(value === 1){\r\n      return '=='\r\n    }\r\n    if(value === 2){\r\n      return '>='\r\n    }\r\n    if(value === 3){\r\n      return '<='\r\n    }\r\n    if(value === 4){\r\n      return '<'\r\n    }\r\n    if(value === 5){\r\n      return '>'\r\n    }\r\n  }\r\n  return (\r\n    <div style={{backgroundColor: '#555', padding: '8px', borderRadius: '8px'}}>\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{ background: \"#0000FF\" }}\r\n        onConnect={(params) => console.log(\"handle onConnect\", params)}\r\n        isConnectable={isConnectable}\r\n      />\r\n      <div style={{color: '#ededed', fontSize: '16px', flexDirection: 'row', display: 'flex'}}>\r\n        <ImportExport sx={{width: '16px', height: '16px', marginRight: '4px', marginTop: '4px'}}/>\r\n        <div style={{color: '#ededed', fontSize: '16px'}}>\r\n        Condição\r\n        </div>\r\n      </div>\r\n      <div style={{color: '#ededed', fontSize: '12px'}}>{data.key}</div>\r\n      <div style={{color: '#ededed', fontSize: '12px'}}>{typeCondition(data.condition)}</div>\r\n      <div style={{color: '#ededed', fontSize: '12px'}}>{data.value}</div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{ top: 10, background: \"#0000FF\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"b\"\r\n        style={{ bottom: 10, top: \"auto\", background: \"#0000FF\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ArrowForwardIos,\r\n  ContentCopy,\r\n  Delete,\r\n  DynamicFeed,\r\n  ImportExport,\r\n  Message\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#FAFBFF\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        maxWidth: \"155px\",\r\n        boxShadow: \"0px 3px 5px rgba(0,0,0,.05)\",\r\n        border: \"1px solid rgba(104, 58, 200, 0.25)\",\r\n        width: 180\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        onConnect={params => console.log(\"handle onConnect\", params)}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"3.5px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#683AC8\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#683AC8\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <DynamicFeed\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#683AC8\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Menu</div>\r\n      </div>\r\n      <div>\r\n        <div\r\n          style={{\r\n            color: \"#232323\",\r\n            fontSize: \"12px\",\r\n            height: \"50px\",\r\n            overflow: \"hidden\",\r\n            marginBottom: \"8px\"\r\n          }}\r\n        >\r\n          {data.message}\r\n        </div>\r\n      </div>\r\n      {data.arrayOption.map(option => (\r\n        <div\r\n          style={{\r\n            marginBottom: \"9px\",\r\n            justifyContent: \"end\",\r\n            display: \"flex\"\r\n          }}\r\n        >\r\n          <div\r\n            style={{\r\n              whiteSpace: \"nowrap\",\r\n              overflow: \"hidden\",\r\n              textOverflow: \"ellipsis\",\r\n              fontSize: \"10px\",\r\n              position: \"relative\",\r\n              display: \"flex\",\r\n              color: \"#232323\",\r\n              justifyContent: \"center\",\r\n              flexDirection: \"column\",\r\n              alignSelf: \"end\"\r\n            }}\r\n          >\r\n            {`[${option.number}] ${option.value}`}\r\n          </div>\r\n          <Handle\r\n            type=\"source\"\r\n            position=\"right\"\r\n            id={\"a\" + option.number}\r\n            style={{\r\n              top: 74 + 23 * option.number,\r\n              background: \"#0000FF\",\r\n              width: \"18px\",\r\n              height: \"18px\",\r\n              right: \"-11px\",\r\n              cursor: 'pointer'\r\n            }}\r\n            isConnectable={isConnectable}\r\n          >\r\n            <ArrowForwardIos\r\n              sx={{\r\n                color: \"#ffff\",\r\n                width: \"10px\",\r\n                height: \"10px\",\r\n                marginLeft: \"2.9px\",\r\n                marginBottom: \"1px\",\r\n                pointerEvents: \"none\"\r\n              }}\r\n            />\r\n          </Handle>\r\n        </div>\r\n      ))}\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  AccessTime,\r\n  ArrowForwardIos,\r\n  ContentCopy,\r\n  Delete,\r\n  Message\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#FFFBFA\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        minWidth: \"155px\",\r\n        border: '1px solid rgba(240, 135, 90, 0.25)',\r\n        boxShadow: 'rgba(0, 0, 0, 0.05) 0px 3px 5px'\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        onConnect={params => console.log(\"handle onConnect\", params)}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"3.5px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <AccessTime\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#F7953B\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Intervalo</div>\r\n      </div>\r\n      <div style={{ color: \"#232323\", fontSize: \"12px\" }}>\r\n        {data.sec} segundos\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import { ContentCopy, Delete, Image, Message } from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n\r\n  const link = process.env.REACT_APP_BACKEND_URL === 'http://localhost:8090' ? 'http://localhost:8090' : process.env.REACT_APP_BACKEND_URL\r\n\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div style={{backgroundColor: '#555', padding: '8px', borderRadius: '8px'}} >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{ background: \"#0000FF\" }}\r\n        onConnect={(params) => console.log(\"handle onConnect\", params)}\r\n        isConnectable={isConnectable}\r\n      />\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n      </div>\r\n      {/* <div style={{position: 'absolute', right: 5, top: 5, cursor: 'pointer'}}>\r\n        <Delete sx={{width: '12px', height: '12px', color: '#ffff'}}/>\r\n      </div> */}\r\n      <div style={{color: '#ededed', fontSize: '16px', flexDirection: 'row', display: 'flex'}}>\r\n        <Image sx={{width: '16px', height: '16px', marginRight: '4px', marginTop: '4px'}}/>\r\n        <div style={{color: '#ededed', fontSize: '16px'}}>\r\n        Imagem\r\n        </div>\r\n      </div>\r\n      <div style={{color: '#ededed', fontSize: '12px', width: 180}}>\r\n        <img src={`${link}/public/${data.url}`} style={{width: '180px'}} />\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{ background: \"#0000FF\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ArrowForwardIos,\r\n  CallSplit,\r\n  ContentCopy,\r\n  Delete,\r\n  Message\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#F8FCFD\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        width: \"185px\",\r\n        border: \"1px solid rgba(31, 186, 220, 0.25)\"\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        onConnect={params => console.log(\"handle onConnect\", params)}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"3.5px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#1FBADC\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#1FBADC\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <CallSplit\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#1FBADC\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Randomizador</div>\r\n      </div>\r\n      <div\r\n        style={{\r\n          whiteSpace: \"nowrap\",\r\n          overflow: \"hidden\",\r\n          textOverflow: \"ellipsis\",\r\n          fontSize: \"16px\",\r\n          justifyContent: \"end\",\r\n          position: \"relative\",\r\n          display: \"flex\",\r\n          color: \"#232323\"\r\n        }}\r\n      >\r\n        {`${data.percent}%`}\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          right: \"-11px\",\r\n          marginTop: \"-5px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          whiteSpace: \"nowrap\",\r\n          overflow: \"hidden\",\r\n          textOverflow: \"ellipsis\",\r\n          fontSize: \"16px\",\r\n          justifyContent: \"end\",\r\n          position: \"relative\",\r\n          display: \"flex\",\r\n          marginTop: \"8px\",\r\n          color: \"#232323\"\r\n        }}\r\n      >\r\n        {`${100 - data.percent}%`}\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"b\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          right: \"-11px\",\r\n          top: 73,\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ContentCopy,\r\n  Delete,\r\n  Image,\r\n  Message,\r\n  Videocam\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const link =\r\n    process.env.REACT_APP_BACKEND_URL === \"http://localhost:8090\"\r\n      ? \"http://localhost:8090\"\r\n      : process.env.REACT_APP_BACKEND_URL;\r\n\r\n  const storageItems = useNodeStorage();\r\n\r\n  return (\r\n    <div\r\n      style={{ backgroundColor: \"#555\", padding: \"8px\", borderRadius: \"8px\" }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{ background: \"#0000FF\" }}\r\n        onConnect={params => console.log(\"handle onConnect\", params)}\r\n        isConnectable={isConnectable}\r\n      />\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n      </div>\r\n      {/* <div style={{position: 'absolute', right: 5, top: 5, cursor: 'pointer'}}>\r\n        <Delete sx={{width: '12px', height: '12px', color: '#ffff'}}/>\r\n      </div> */}\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <Videocam\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#ededed\", fontSize: \"16px\" }}>Video</div>\r\n      </div>\r\n      <div style={{ color: \"#ededed\", fontSize: \"12px\", width: 180 }}>\r\n        <video controls=\"controls\" width=\"180px\">\r\n          <source src={`${link}/public/${data.url}`} type=\"video/mp4\" />\r\n          seu navegador não suporta HTML5\r\n        </video>\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{ background: \"#0000FF\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack\r\n} from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst selectFieldStyles = {\r\n  \".MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#909090\"\r\n  },\r\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#000000\",\r\n    borderWidth: \"thin\"\r\n  },\r\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#0000FF\",\r\n    borderWidth: \"thin\"\r\n  }\r\n};\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite um nome!\"),\r\n  text: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite uma mensagem!\")\r\n});\r\n\r\nconst FlowBuilderConditionModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [rule, setRule] = useState();\r\n\r\n  const [textDig, setTextDig] = useState();\r\n\r\n  const [valueCondition, setValueCondition] = useState();\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar condição ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar condição\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setTextDig(data.data.key);\r\n      setRule(data.data.condition);\r\n      setValueCondition(data.data.value);\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar condição ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setTextDig();\r\n      setRule();\r\n      setValueCondition();\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { key: textDig, condition: rule, value: valueCondition }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      handleClose();\r\n      onSave({\r\n        key: textDig,\r\n        condition: rule,\r\n        value: valueCondition\r\n      });\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <Stack\r\n            dividers\r\n            style={{ height: \"250px\", gap: \"8px\", padding: \"16px\" }}\r\n          >\r\n            <TextField\r\n              label={\"Campo da condição (Digiter apenas 1 chave)\"}\r\n              rows={7}\r\n              name=\"text\"\r\n              variant=\"outlined\"\r\n              value={textDig}\r\n              onChange={e => setTextDig(e.target.value)}\r\n              className={classes.textField}\r\n              style={{ width: \"95%\" }}\r\n            />\r\n            <FormControl sx={{ width: \"95%\" }} size=\"medium\">\r\n              <InputLabel sx={selectFieldStyles} id=\"demo-simple-select-label\">\r\n                Regra de validação\r\n              </InputLabel>\r\n              <Select\r\n                labelId=\"demo-simple-select-label\"\r\n                id=\"demo-simple-select\"\r\n                value={rule}\r\n                label=\"Regra de validação\"\r\n                onChange={e => setRule(e.target.value)}\r\n                variant=\"outlined\"\r\n                color=\"primary\"\r\n                sx={selectFieldStyles}\r\n              >\r\n                <MenuItem value={1}> {\"==\"} </MenuItem>\r\n                <MenuItem value={2}> {\">=\"} </MenuItem>\r\n                <MenuItem value={3}> {\"<=\"} </MenuItem>\r\n                <MenuItem value={4}> {\" < \"} </MenuItem>\r\n                <MenuItem value={5}> {\" > \"} </MenuItem>\r\n              </Select>\r\n            </FormControl>\r\n            <TextField\r\n              label={\"Valor da condição a ser analisada\"}\r\n              rows={7}\r\n              name=\"text\"\r\n              variant=\"outlined\"\r\n              value={valueCondition}\r\n              onChange={e => setValueCondition(e.target.value)}\r\n              className={classes.textField}\r\n              style={{ width: \"95%\", marginTop: \"11px\" }}\r\n            />\r\n          </Stack>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\r\n              {i18n.t(\"contactModal.buttons.cancel\")}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={classes.btnWrapper}\r\n              onClick={() => handleSaveContact()}\r\n            >\r\n              {`${labels.btn}`}\r\n            </Button>\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderConditionModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack\r\n} from \"@mui/material\";\r\nimport { AddCircle, Delete } from \"@mui/icons-material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst selectFieldStyles = {\r\n  \".MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#909090\"\r\n  },\r\n  \"&:hover .MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#000000\",\r\n    borderWidth: \"thin\"\r\n  },\r\n  \"&.Mui-focused .MuiOutlinedInput-notchedOutline\": {\r\n    borderColor: \"#0000FF\",\r\n    borderWidth: \"thin\"\r\n  }\r\n};\r\n\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite um nome!\"),\r\n  text: Yup.string()\r\n    .min(2, \"Muito curto!\")\r\n    .max(50, \"Muito longo!\")\r\n    .required(\"Digite uma mensagem!\")\r\n});\r\n\r\nconst FlowBuilderMenuModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [rule, setRule] = useState();\r\n\r\n  const [textDig, setTextDig] = useState();\r\n\r\n  const [arrayOption, setArrayOption] = useState([]);\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar menu ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar menu\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setTextDig(data.data.message);\r\n      setArrayOption(data.data.arrayOption);\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar menu ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setTextDig();\r\n      setArrayOption([]);\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { message: textDig, arrayOption: arrayOption }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      handleClose();\r\n      onSave({\r\n        message: textDig,\r\n        arrayOption: arrayOption\r\n      });\r\n    }\r\n  };\r\n\r\n  const removeOption = number => {\r\n    setArrayOption(old => old.filter(item => item.number !== number));\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <Stack dividers style={{ gap: \"8px\", padding: \"16px\" }}>\r\n            <TextField\r\n              label={\"Mensagem de explicação do menu\"}\r\n              rows={4}\r\n              name=\"text\"\r\n              multiline\r\n              variant=\"outlined\"\r\n              value={textDig}\r\n              onChange={e => setTextDig(e.target.value)}\r\n              className={classes.textField}\r\n              style={{ width: \"100%\" }}\r\n            />\r\n            <Stack direction={\"row\"} justifyContent={\"space-between\"}>\r\n              <Typography>Adicionar Opção</Typography>\r\n              <Button\r\n                onClick={() =>\r\n                  setArrayOption(old => [\r\n                    ...old,\r\n                    { number: old.length + 1, value: \"\" }\r\n                  ])\r\n                }\r\n                color=\"primary\"\r\n                variant=\"contained\"\r\n              >\r\n                <AddCircle />\r\n              </Button>\r\n            </Stack>\r\n            {arrayOption.map((item, index) => (\r\n              <Stack width={\"100%\"} key={item.number}>\r\n                <Typography>Digite {item.number}</Typography>\r\n                <Stack direction={\"row\"} width={\"100%\"} style={{ gap: \"8px\" }}>\r\n                  <TextField\r\n                    placeholder={\"Digite opção\"}\r\n                    variant=\"outlined\"\r\n                    defaultValue={item.value}\r\n                    style={{ width: \"100%\" }}\r\n                    onChange={event =>\r\n                      setArrayOption(old => {\r\n                        let newArr = old;\r\n                        newArr[index].value = event.target.value;\r\n                        return newArr;\r\n                      })\r\n                    }\r\n                  />\r\n                  {arrayOption.length === item.number && (\r\n                    <IconButton onClick={() => removeOption(item.number)}>\r\n                      <Delete />\r\n                    </IconButton>\r\n                  )}\r\n                </Stack>\r\n              </Stack>\r\n            ))}\r\n          </Stack>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\r\n              {i18n.t(\"contactModal.buttons.cancel\")}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={classes.btnWrapper}\r\n              onClick={() => handleSaveContact()}\r\n            >\r\n              {`${labels.btn}`}\r\n            </Button>\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderMenuModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Compressor from \"compressorjs\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\n\r\nconst FlowBuilderAddImgModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [preview, setPreview] = useState();\r\n\r\n  const [oldImage, setOldImage] = useState();\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar imagem ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  const [medias, setMedias] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar imagem\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setOldImage(data.data.url)\r\n      setPreview(process.env.REACT_APP_BACKEND_URL + '/public/' + data.data.url)\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar imagem ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { url: \"\" }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"fromMe\", true);\r\n\r\n      medias.forEach(async (media, idx) => {\r\n        const file = media;\r\n\r\n        if (!file) {\r\n          return;\r\n        }\r\n\r\n        if (media?.type.split(\"/\")[0] == \"image\") {\r\n          new Compressor(file, {\r\n            quality: 0.7,\r\n\r\n            async success(media) {\r\n              formData.append(\"medias\", media);\r\n              formData.append(\"body\", media.name);\r\n            },\r\n            error(err) {\r\n              alert(\"erro\");\r\n              console.log(err.message);\r\n            }\r\n          });\r\n        } else {\r\n          formData.append(\"medias\", media);\r\n          formData.append(\"body\", media.name);\r\n        }\r\n      });\r\n\r\n      setTimeout(async () => {\r\n        await api.post(\"/flowbuilder/img\", formData).then(res => {\r\n          handleClose();\r\n          onSave({\r\n            url: res.data.name\r\n          });\r\n          toast.success(\"Imagem adicionada com sucesso!\");\r\n          setLoading(false);\r\n          setMedias([]);\r\n          setPreview();\r\n        });\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  const handleChangeMedias = e => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if(e.target.files[0].size > 2000000){\r\n      toast.error(\"Arquivo é muito grande! 2MB máximo\")\r\n      return\r\n    }\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setPreview(URL.createObjectURL(e.target.files[0]));\r\n    setMedias(selectedMedias);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <DialogContent dividers>\r\n            <Stack gap={\"16px\"}>\r\n              {preview && <img src={preview} style={{ width: \"552px\" }} />}\r\n              {!loading && open !== \"edit\" && (\r\n                <Button variant=\"contained\" component=\"label\">\r\n                  Enviar imagem\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"image/png, image/jpg, image/jpeg\"\r\n                    disabled={loading}\r\n                    hidden\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                </Button>\r\n              )}\r\n              {loading && (\r\n                <>\r\n                  <Stack justifyContent={\"center\"} alignSelf={\"center\"}>\r\n                    <CircularProgress />\r\n                  </Stack>\r\n                </>\r\n              )}\r\n            </Stack>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            {!loading && (\r\n              <>\r\n                <Button\r\n                  onClick={() => {\r\n                    handleClose();\r\n                    setMedias([]);\r\n                    setPreview();\r\n                  }}\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                {open !== \"edit\" && (<Button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  onClick={() => handleSaveContact()}\r\n                >\r\n                  {`${labels.btn}`}\r\n                </Button>)}\r\n              </>\r\n            )}\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderAddImgModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport Select from '@material-ui/core/Select';\r\nimport InputLabel from '@material-ui/core/InputLabel';\r\nimport MenuItem from '@material-ui/core/MenuItem';\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\"\r\n    },\r\n    textField: {\r\n        marginRight: theme.spacing(1),\r\n        flex: 1\r\n    },\r\n\r\n    extraAttr: {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\"\r\n    },\r\n\r\n    btnWrapper: {\r\n        position: \"relative\"\r\n    },\r\n\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        marginTop: -12,\r\n        marginLeft: -12\r\n    }\r\n}));\r\n\r\nconst FlowBuilderTicketModal = ({\r\n    open,\r\n    onSave,\r\n    data,\r\n    onUpdate,\r\n    close\r\n}) => {\r\n    const classes = useStyles();\r\n    const isMounted = useRef(true);\r\n    const [activeModal, setActiveModal] = useState(false)\r\n    const [queues, setQueues] = useState([])\r\n    const [selectedQueue, setQueueSelected] = useState()\r\n\r\n    useEffect(() => {\r\n        if (open === 'edit') {\r\n            (async () => {\r\n                try {\r\n                    const { data: old } = await api.get(\"/queue\");\r\n                    setQueues(old)\r\n                    const queue = old.find((item) => item.id === data.data.id)\r\n                    if (queue) {\r\n                        setQueueSelected(queue.id)\r\n                    }\r\n                    setActiveModal(true)\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            })();\r\n\r\n        } else if (open === 'create') {\r\n            (async () => {\r\n                try {\r\n                    const { data } = await api.get(\"/queue\");\r\n                    setQueues(data)\r\n                    setActiveModal(true)\r\n                } catch (error) {\r\n                    console.log(error)\r\n                }\r\n            })()\r\n        }\r\n        return () => {\r\n            isMounted.current = false;\r\n        };\r\n    }, [open]);\r\n\r\n\r\n    const handleClose = () => {\r\n        close(null)\r\n        setActiveModal(false)\r\n    };\r\n\r\n    const handleSaveContact = () => {\r\n        if (!selectedQueue) {\r\n            return toast.error('Adicione uma fila')\r\n        }\r\n        if (open === 'edit') {\r\n            const queue = queues.find(item => item.id === selectedQueue)\r\n            onUpdate({\r\n                ...data,\r\n                data: queue\r\n            });\r\n        } else if (open === 'create') {\r\n            const queue = queues.find(item => item.id === selectedQueue)\r\n            onSave({\r\n                data: queue\r\n            })\r\n        }\r\n        handleClose()\r\n\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Dialog open={activeModal} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {open === 'create' ? `Adicionar um intervalo ao fluxo` : `Editar intervalo`}\r\n                </DialogTitle>\r\n                <Stack>\r\n                    <DialogContent dividers>\r\n                        <Select\r\n                            labelId=\"demo-simple-select-label\"\r\n                            id=\"demo-simple-select\"\r\n                            //   onChange={handleChange}\r\n                            value={selectedQueue}\r\n                            style={{ width: \"95%\" }}\r\n                            onChange={(e) => { setQueueSelected(e.target.value) }}\r\n                            MenuProps={{\r\n                                anchorOrigin: {\r\n                                    vertical: \"bottom\",\r\n                                    horizontal: \"left\",\r\n                                },\r\n                                transformOrigin: {\r\n                                    vertical: \"top\",\r\n                                    horizontal: \"left\",\r\n                                },\r\n                                getContentAnchorEl: null,\r\n                            }}\r\n                            renderValue={() => {\r\n                                if (selectedQueue === \"\") {\r\n                                    return \"Selecione uma Conexão\"\r\n                                }\r\n                                const queue = queues.find(w => w.id === selectedQueue)\r\n                                return queue.name\r\n                            }}\r\n                        >\r\n\r\n                            {queues.length > 0 && (\r\n                                queues.map((queue, index) => (\r\n                                    <MenuItem dense key={index} value={queue.id}>{queue.name}</MenuItem>\r\n                                ))\r\n                            )}\r\n                        </Select>\r\n                    </DialogContent>\r\n                    <DialogActions>\r\n                        <Button\r\n                            onClick={handleClose}\r\n                            color=\"secondary\"\r\n                            variant=\"outlined\"\r\n                        >\r\n                            {i18n.t(\"contactModal.buttons.cancel\")}\r\n                        </Button>\r\n                        <Button\r\n                            type=\"submit\"\r\n                            color=\"primary\"\r\n                            variant=\"contained\"\r\n                            className={classes.btnWrapper}\r\n                            onClick={handleSaveContact}\r\n                        >\r\n                            {open === 'create' ? `Adicionar` : 'Editar'}\r\n                        </Button>\r\n                    </DialogActions>\r\n                </Stack>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FlowBuilderTicketModal;","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Compressor from \"compressorjs\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Checkbox, Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst FlowBuilderAddAudioModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [record, setRecord] = useState(false);\r\n\r\n  const [preview, setPreview] = useState();\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar audio ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  const [textDig, setTextDig] = useState();\r\n\r\n  const [medias, setMedias] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar audio\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setPreview(process.env.REACT_APP_BACKEND_URL + '/public/' + data.data.url)\r\n      setRecord(data.data.record)\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar audio ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setTextDig(\"\");\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { url: data.data.url,\r\n        record: record }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"fromMe\", true);\r\n\r\n      medias.forEach(async (media, idx) => {\r\n        const file = media;\r\n\r\n        if (!file) {\r\n          return;\r\n        }\r\n\r\n        if (media?.type.split(\"/\")[0] == \"image\") {\r\n          new Compressor(file, {\r\n            quality: 0.7,\r\n\r\n            async success(media) {\r\n              formData.append(\"medias\", media);\r\n              formData.append(\"body\", media.name);\r\n            },\r\n            error(err) {\r\n              alert(\"erro\");\r\n              console.log(err.message);\r\n            }\r\n          });\r\n        } else {\r\n          formData.append(\"medias\", media);\r\n          formData.append(\"body\", media.name);\r\n        }\r\n      });\r\n\r\n      setTimeout(async () => {\r\n        await api.post(\"/flowbuilder/audio\", formData).then(res => {\r\n          handleClose();\r\n          onSave({\r\n            url: res.data.name,\r\n            record: record\r\n          });\r\n          toast.success(\"Audio adicionada com sucesso!\");\r\n          setLoading(false);\r\n          setMedias([]);\r\n          setPreview();\r\n        });\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  const handleChangeMedias = e => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if(e.target.files[0].size > 5000000){\r\n      toast.error(\"Arquivo é muito grande! 5MB máximo\")\r\n      return\r\n    }\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setPreview((URL.createObjectURL(e.target.files[0])));\r\n    setMedias(selectedMedias);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <DialogContent dividers>\r\n            <Stack gap={\"16px\"}>\r\n              {preview && (\r\n                <Stack direction={'row'} justifyContent={'center'}>\r\n                <audio controls=\"controls\">\r\n                  <source src={preview} type=\"audio/mp3\" />\r\n                  seu navegador não suporta HTML5\r\n                </audio>\r\n                </Stack>\r\n              )}\r\n              {preview && (\r\n                <Stack direction={'row'} justifyContent={'center'}>\r\n                <Checkbox checked={record} onChange={(e) => setRecord(old => !old)}/>\r\n                <Stack justifyContent={'center'}>\r\n                <Typography>Enviar como audio gravado na hora</Typography>\r\n                </Stack>\r\n                </Stack>\r\n              )}\r\n              {!loading && open !== \"edit\" && (\r\n                <Button variant=\"contained\" component=\"label\">\r\n                  Enviar audio\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"audio/ogg, audio/mp3\"\r\n                    disabled={loading}\r\n                    hidden\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                </Button>\r\n              )}\r\n              {loading && (\r\n                <>\r\n                  <Stack justifyContent={\"center\"} alignSelf={\"center\"}>\r\n                    <CircularProgress />\r\n                  </Stack>\r\n                </>\r\n              )}\r\n            </Stack>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            {!loading && (\r\n              <>\r\n                <Button\r\n                  onClick={() => {\r\n                    handleClose();\r\n                    setMedias([]);\r\n                    setPreview();\r\n                  }}\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  onClick={() => handleSaveContact()}\r\n                >\r\n                  {`${labels.btn}`}\r\n                </Button>\r\n              </>\r\n            )}\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderAddAudioModal;\r\n","import { ContentCopy, Delete, Message, MicNone } from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const link =\r\n    process.env.REACT_APP_BACKEND_URL === \"http://localhost:8090\"\r\n      ? \"http://localhost:8090\"\r\n      : process.env.REACT_APP_BACKEND_URL;\r\n\r\n  const storageItems = useNodeStorage();\r\n  return (\r\n    <div\r\n      style={{ backgroundColor: \"#555\", padding: \"8px\", borderRadius: \"8px\" }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{ background: \"#0000FF\" }}\r\n        onConnect={params => console.log(\"handle onConnect\", params)}\r\n        isConnectable={isConnectable}\r\n      />\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#ffff\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <MicNone\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#ededed\", fontSize: \"16px\" }}>Audio</div>\r\n      </div>\r\n      <div style={{ color: \"#ededed\", fontSize: \"12px\" }}>\r\n        <div style={{ position: \"absolute\", right: \"50px\", top: \"12px\" }}>\r\n          {data.record && data.record ? (\r\n            <div>Gravado na hora</div>\r\n          ) : (\r\n            <div>Audio enviado</div>\r\n          )}\r\n        </div>\r\n        <audio controls=\"controls\">\r\n          <source src={`${link}/public/${data.url}`} type=\"audio/mp3\" />\r\n          seu navegador não suporta HTML5\r\n        </audio>\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{ background: \"#0000FF\" }}\r\n        isConnectable={isConnectable}\r\n      />\r\n    </div>\r\n  );\r\n});\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Slider, Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst FlowBuilderRandomizerModal = ({\r\n  open,\r\n  onSave,\r\n  data,\r\n  onUpdate,\r\n  close\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [percent, setPercent] = useState(0);\r\n  const [activeModal, setActiveModal] = useState(false);\r\n  \r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setPercent(data.data.percent);\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setPercent(0);\r\n      setActiveModal(true);\r\n    }\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, [open]);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleValue = (event, newValue) => {\r\n    setPercent(newValue)\r\n  }\r\n\r\n  const handleSaveContact = async values => {\r\n    if (!percent || parseInt(percent) <= 0) {\r\n      return toast.error(\"Adicione o valor de intervalo\");\r\n    }\r\n    if (parseInt(percent) > 120) {\r\n      return toast.error(\"Máximo de tempo atingido 120 segundos\");\r\n    }\r\n    if (open === \"edit\") {\r\n      onUpdate({\r\n        ...data,\r\n        data: { percent: percent }\r\n      });\r\n    } else if (open === \"create\") {\r\n      onSave({\r\n        percent: percent\r\n      });\r\n    }\r\n    handleClose();\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {open === \"create\"\r\n            ? `Adicionar um randomizador ao fluxo`\r\n            : `Editar randomizador`}\r\n        </DialogTitle>\r\n        <Stack>\r\n          <DialogContent dividers>\r\n            <Stack direction={'row'} minHeight={120} alignItems={'center'} gap={4}>\r\n              <Typography>{percent}%</Typography>\r\n              <Slider\r\n                aria-label=\"Temperature\"\r\n                defaultValue={percent}\r\n                valueLabelDisplay=\"auto\"\r\n                onChange={handleValue}\r\n                step={10}\r\n                marks\r\n                min={0}\r\n                max={100}\r\n              />\r\n              <Typography>{100 - percent}%</Typography>\r\n            </Stack>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            <Button onClick={handleClose} color=\"secondary\" variant=\"outlined\">\r\n              {i18n.t(\"contactModal.buttons.cancel\")}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              className={classes.btnWrapper}\r\n              onClick={() => handleSaveContact()}\r\n            >\r\n              {open === \"create\" ? `Adicionar` : \"Editar\"}\r\n            </Button>\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderRandomizerModal;\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Compressor from \"compressorjs\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Checkbox, Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst FlowBuilderAddVideoModal = ({ open, onSave, onUpdate, data, close }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [record, setRecord] = useState(false);\r\n\r\n  const [preview, setPreview] = useState();\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar video ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  const [medias, setMedias] = useState([]);\r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar video\",\r\n        btn: \"Salvar\"\r\n      });\r\n      setPreview(process.env.REACT_APP_BACKEND_URL + '/public/' + data.data.url)\r\n      setRecord(data.data.record)\r\n      setActiveModal(true);\r\n    } else if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar video ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setActiveModal(true);\r\n    } else {\r\n      setActiveModal(false);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n  };\r\n\r\n  const handleSaveContact = async () => {\r\n    if (open === \"edit\") {\r\n      handleClose();\r\n      onUpdate({\r\n        ...data,\r\n        data: { url: data.data.url,\r\n        record: record }\r\n      });\r\n      return;\r\n    } else if (open === \"create\") {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n      formData.append(\"fromMe\", true);\r\n\r\n      medias.forEach(async (media, idx) => {\r\n        const file = media;\r\n\r\n        if (!file) {\r\n          return;\r\n        }\r\n\r\n        if (media?.type.split(\"/\")[0] == \"image\") {\r\n          new Compressor(file, {\r\n            quality: 0.7,\r\n\r\n            async success(media) {\r\n              formData.append(\"medias\", media);\r\n              formData.append(\"body\", media.name);\r\n            },\r\n            error(err) {\r\n              alert(\"erro\");\r\n              console.log(err.message);\r\n            }\r\n          });\r\n        } else {\r\n          formData.append(\"medias\", media);\r\n          formData.append(\"body\", media.name);\r\n        }\r\n      });\r\n\r\n      setTimeout(async () => {\r\n        await api.post(\"/flowbuilder/audio\", formData).then(res => {\r\n          handleClose();\r\n          onSave({\r\n            url: res.data.name,\r\n          });\r\n          toast.success(\"Audio adicionada com sucesso!\");\r\n          setLoading(false);\r\n          setMedias([]);\r\n          setPreview();\r\n        });\r\n      }, 1000);\r\n    }\r\n  };\r\n\r\n  const handleChangeMedias = e => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if(e.target.files[0].size > 20000000){\r\n      toast.error(\"Arquivo é muito grande! 20MB máximo\")\r\n      return\r\n    }\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setPreview((URL.createObjectURL(e.target.files[0])));\r\n    setMedias(selectedMedias);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={activeModal}\r\n        onClose={handleClose}\r\n        fullWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">{labels.title}</DialogTitle>\r\n        <Stack>\r\n          <DialogContent dividers>\r\n            <Stack gap={\"16px\"}>\r\n              {preview && (\r\n                <Stack direction={'row'} justifyContent={'center'}>\r\n                <video controls=\"controls\" width=\"552px\">\r\n                  <source src={preview} type=\"video/mp4\" />\r\n                  seu navegador não suporta HTML5\r\n                </video>\r\n                </Stack>\r\n              )}\r\n              {!loading && open !== \"edit\" && !preview && (\r\n                <>\r\n                <Button variant=\"contained\" component=\"label\">\r\n                  Enviar video\r\n                  <input\r\n                    type=\"file\"\r\n                    accept=\"video/mp4\"\r\n                    disabled={loading}\r\n                    hidden\r\n                    onChange={handleChangeMedias}\r\n                  />\r\n                </Button>\r\n                <Typography>ATENÇÃO! Apenas videos em MP4!</Typography>\r\n                </>\r\n              )}\r\n              {loading && (\r\n                <>\r\n                  <Stack justifyContent={\"center\"} alignSelf={\"center\"}>\r\n                    <CircularProgress />\r\n                  </Stack>\r\n                </>\r\n              )}\r\n            </Stack>\r\n          </DialogContent>\r\n          <DialogActions>\r\n            {!loading && (\r\n              <>\r\n                <Button\r\n                  onClick={() => {\r\n                    handleClose();\r\n                    setMedias([]);\r\n                    setPreview();\r\n                  }}\r\n                  color=\"secondary\"\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"contactModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  disabled={loading}\r\n                  color=\"primary\"\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                  onClick={() => handleSaveContact()}\r\n                >\r\n                  {`${labels.btn}`}\r\n                </Button>\r\n              </>\r\n            )}\r\n          </DialogActions>\r\n        </Stack>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderAddVideoModal;\r\n","export function capitalize(str) {\r\n    // Verifique se a string não está vazia\r\n    if (str.length === 0) {\r\n      return str;\r\n    }\r\n  \r\n    // Capitalize a primeira letra e concatene com o restante da string\r\n    return str.charAt(0).toUpperCase() + str.slice(1);\r\n  }","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Compressor from \"compressorjs\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  Checkbox,\r\n  FormControl,\r\n  InputLabel,\r\n  MenuItem,\r\n  Select,\r\n  Stack,\r\n  Typography\r\n} from \"@mui/material\";\r\nimport {\r\n  AccessTime,\r\n  AddCircle,\r\n  Delete,\r\n  Image,\r\n  KeyboardArrowDown,\r\n  KeyboardArrowUp,\r\n  Message,\r\n  MicNone,\r\n  Videocam\r\n} from \"@mui/icons-material\";\r\nimport { capitalize } from \"../../utils/capitalize\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst FlowBuilderSingleBlockModal = ({\r\n  open,\r\n  onSave,\r\n  onUpdate,\r\n  data,\r\n  close\r\n}) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n\r\n  const [activeModal, setActiveModal] = useState(false);\r\n\r\n  const [rule, setRule] = useState();\r\n\r\n  const [medias, setMedias] = useState([]);\r\n\r\n  const [textDig, setTextDig] = useState();\r\n\r\n  const [elements, setElements] = useState([]);\r\n\r\n  const [elementsSeq, setElementsSeq] = useState([]);\r\n\r\n  const [elementsSeqEdit, setElementsSeqEdit] = useState([]);\r\n\r\n  const [elementsEdit, setElementsEdit] = useState([]);\r\n\r\n  const [numberMessages, setNumberMessages] = useState(0);\r\n\r\n  const [numberMessagesLast, setNumberMessagesLast] = useState(0);\r\n\r\n  const [numberInterval, setNumberInterval] = useState(0);\r\n\r\n  const [numberIntervalLast, setNumberIntervalLast] = useState(0);\r\n\r\n  const [numberAudio, setNumberAudio] = useState(0);\r\n\r\n  const [numberAudioLast, setNumberAudioLast] = useState(0);\r\n\r\n  const [numberVideo, setNumberVideo] = useState(0);\r\n\r\n  const [numberVideoLast, setNumberVideoLast] = useState(0);\r\n\r\n  const [numberImg, setNumberImg] = useState(0);\r\n\r\n  const [numberImgLast, setNumberImgLast] = useState(0);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  const [previewImg, setPreviewImg] = useState([]);\r\n\r\n  const [previewAudios, setPreviewAudios] = useState([]);\r\n\r\n  const [previewVideos, setPreviewVideos] = useState([]);\r\n\r\n  const [arrayOption, setArrayOption] = useState([]);\r\n\r\n  const [labels, setLabels] = useState({\r\n    title: \"Adicionar conteúdo ao fluxo\",\r\n    btn: \"Adicionar\"\r\n  });\r\n\r\n  const handleElements = newNameFiles => {\r\n    let elementsSequence = [];\r\n\r\n    const newArrMessage = elementsSeq.filter(item => item.includes(\"message\"));\r\n    const newArrInterval = elementsSeq.filter(item =>\r\n      item.includes(\"interval\")\r\n    );\r\n    const newArrImg = elementsSeq.filter(item => item.includes(\"img\"));\r\n    const newArrAudio = elementsSeq.filter(item => item.includes(\"audio\"));\r\n    const newArrVideo = elementsSeq.filter(item => item.includes(\"video\"));\r\n\r\n    //Todas as mensagens\r\n    for (let i = 0; i < numberMessages; i++) {\r\n      const value = document\r\n        .querySelector(`.${newArrMessage[i]}`)\r\n        .querySelector(\".MuiInputBase-input\").value;\r\n      if (!value) {\r\n        toast.error(\"Campos de mensagem vazio!\");\r\n        setLoading(false);\r\n        throw \"\";\r\n      }\r\n      elementsSequence.push({\r\n        type: \"message\",\r\n        value: value,\r\n        number: newArrMessage[i]\r\n      });\r\n    }\r\n    //Todos os intervalos\r\n    for (let i = 0; i < numberInterval; i++) {\r\n      const value = document\r\n        .querySelector(`.${newArrInterval[i]}`)\r\n        .querySelector(\".MuiInputBase-input\").value;\r\n      if (parseInt(value) === 0 || parseInt(value) > 120) {\r\n        toast.error(\"Intervalo não pode ser 0 ou maior que 120!\");\r\n        setLoading(false);\r\n        throw \"\";\r\n      }\r\n      elementsSequence.push({\r\n        type: \"interval\",\r\n        value: value,\r\n        number: newArrInterval[i]\r\n      });\r\n    }\r\n\r\n    //Todas as imagens\r\n    for (let i = 0; i < numberImg; i++) {\r\n      const onlyImg =\r\n        newNameFiles !== null &&\r\n        newNameFiles.filter(\r\n          file =>\r\n            file.includes(\"png\") ||\r\n            file.includes(\"jpg\") ||\r\n            file.includes(\"jpeg\")\r\n        );\r\n      const onlyImgNameOriginal = medias.filter(\r\n        file =>\r\n          file.name.includes(\"png\") ||\r\n          file.name.includes(\"jpg\") ||\r\n          file.name.includes(\"jpeg\")\r\n      );      \r\n      if (elementsSeqEdit.includes(newArrImg[i])) {\r\n        const itemSelectedEdit = elementsEdit.filter(\r\n          item => item.number === newArrImg[i]\r\n        )[0];\r\n        elementsSequence.push({\r\n          type: \"img\",\r\n          value: itemSelectedEdit.value,\r\n          original: itemSelectedEdit.original,\r\n          number: itemSelectedEdit.number\r\n        });\r\n      } else {\r\n        let indexElem = 0;\r\n        if (elementsSeqEdit.filter(item => item.includes(\"img\")).length > 0) {\r\n          indexElem =\r\n            elementsSeqEdit.filter(item => item.includes(\"img\")).length - i;\r\n        } else {\r\n          indexElem = i;\r\n        }\r\n        elementsSequence.push({\r\n          type: \"img\",\r\n          value: onlyImg[indexElem],\r\n          original: onlyImgNameOriginal[indexElem].name,\r\n          number: newArrImg[i]\r\n        });\r\n      }\r\n    }\r\n    //Todos os audios\r\n    for (let i = 0; i < numberAudio; i++) {\r\n      const onlyAudio =\r\n        newNameFiles !== null &&\r\n        newNameFiles.filter(\r\n          file =>\r\n            file.includes(\"mp3\") ||\r\n            file.includes(\"ogg\") ||\r\n            file.includes(\"mpeg\") ||\r\n            file.includes(\"opus\")\r\n        );\r\n      const onlyAudioNameOriginal = medias.filter(\r\n        file =>\r\n          file.name.includes(\"mp3\") ||\r\n          file.name.includes(\"ogg\") ||\r\n          file.name.includes(\"mpeg\") ||\r\n          file.name.includes(\"opus\")\r\n      );\r\n      \r\n      if (elementsSeqEdit.includes(newArrAudio[i])) {\r\n        const itemSelectedEdit = elementsEdit.filter(\r\n          item => item.number === newArrAudio[i]\r\n        )[0];\r\n        elementsSequence.push({\r\n          type: \"audio\",\r\n          value: itemSelectedEdit.value,\r\n          original: itemSelectedEdit.original,\r\n          number: itemSelectedEdit.number,\r\n          record: document.querySelector(`.check${newArrAudio[i]}`).querySelector(\".PrivateSwitchBase-input\").checked\r\n        });\r\n      } else {\r\n        let indexElem = 0;\r\n        if (elementsSeqEdit.filter(item => item.includes(\"audio\")).length > 0) {\r\n          indexElem =\r\n            elementsSeqEdit.filter(item => item.includes(\"audio\")).length - i;\r\n        } else {\r\n          indexElem = i;\r\n        }\r\n        elementsSequence.push({\r\n          type: \"audio\",\r\n          value: onlyAudio[indexElem],\r\n          original: onlyAudioNameOriginal[indexElem].name,\r\n          number: newArrAudio[i],\r\n          record: document.querySelector(`.check${newArrAudio[i]}`).querySelector(\".PrivateSwitchBase-input\").checked\r\n        });        \r\n      }\r\n    }\r\n    //Todos os videos\r\n    for (let i = 0; i < numberVideo; i++) {\r\n      const onlyVideo =\r\n        newNameFiles !== null &&\r\n        newNameFiles.filter(\r\n          file => file.includes(\"mp4\") || file.includes(\"avi\")\r\n        );\r\n      const onlyVideoNameOriginal = medias.filter(\r\n        file => file.name.includes(\"mp4\") || file.name.includes(\"avi\")\r\n      );\r\n      if (elementsSeqEdit.includes(newArrVideo[i])) {\r\n        const itemSelectedEdit = elementsEdit.filter(\r\n          item => item.number === newArrVideo[i]\r\n        )[0];\r\n        elementsSequence.push({\r\n          type: \"video\",\r\n          value: itemSelectedEdit.value,\r\n          original: itemSelectedEdit.original,\r\n          number: itemSelectedEdit.number\r\n        });\r\n      } else {\r\n        let indexElem = 0;\r\n        if (elementsSeqEdit.filter(item => item.includes(\"video\")).length > 0) {\r\n          indexElem =\r\n            elementsSeqEdit.filter(item => item.includes(\"video\")).length - i;\r\n        } else {\r\n          indexElem = i;\r\n        }\r\n        elementsSequence.push({\r\n          type: \"video\",\r\n          value: onlyVideo[indexElem],\r\n          original: onlyVideoNameOriginal[indexElem].name,\r\n          number: newArrVideo[i]\r\n        });\r\n      }\r\n    }\r\n\r\n    return elementsSequence;\r\n  };\r\n\r\n  const deleteElementsTypeOne = (id, type) => {\r\n    if (type === \"message\") {\r\n      setNumberMessages(old => old - 1);\r\n      setElementsSeq(old => old.filter(item => item !== `message${id}`));\r\n      setElementsSeqEdit(old => old.filter(item => item !== `message${id}`))\r\n      document.querySelector(`.stackMessage${id}`).remove();\r\n    }\r\n    if (type === \"interval\") {\r\n      setNumberInterval(old => old - 1);\r\n      setElementsSeq(old => old.filter(item => item !== `interval${id}`));\r\n      setElementsSeqEdit(old => old.filter(item => item !== `interval${id}`))\r\n      document.querySelector(`.stackInterval${id}`).remove();\r\n    }\r\n    if (type === \"img\") {\r\n      setNumberImg(old => old - 1);\r\n      setPreviewImg(old => {\r\n        setMedias(oldMedia => {\r\n          try {\r\n            return oldMedia.filter(\r\n              mediaItem =>\r\n                mediaItem.name !==\r\n                old.filter(item => item.number === id)[0].name\r\n            );\r\n          } catch (e) {\r\n            return oldMedia;\r\n          }\r\n        });\r\n        return old.filter(item => item.number !== id);\r\n      });\r\n      setElementsSeq(old => old.filter(item => item !== `img${id}`));\r\n      setElementsSeqEdit(old => old.filter(item => item !== `img${id}`))\r\n      document.querySelector(`.stackImg${id}`).remove();\r\n    }\r\n    if (type === \"audio\") {\r\n      setNumberAudio(old => old - 1);\r\n      setPreviewAudios(old => {\r\n        setMedias(oldMedia => {\r\n          try {\r\n            return oldMedia.filter(\r\n              mediaItem =>\r\n                mediaItem.name !==\r\n                old.filter(item => item.number === id)[0].name\r\n            );\r\n          } catch (e) {\r\n            return oldMedia;\r\n          }\r\n        });\r\n        return old.filter(item => item.number !== id);\r\n      });\r\n      setElementsSeq(old => old.filter(item => item !== `audio${id}`));\r\n      setElementsSeqEdit(old => old.filter(item => item !== `audio${id}`))\r\n      document.querySelector(`.stackAudio${id}`).remove();\r\n    }\r\n    if (type === \"video\") {\r\n      setNumberVideo(old => old - 1);\r\n      setPreviewVideos(old => {\r\n        setMedias(oldMedia => {\r\n          try {\r\n            return oldMedia.filter(\r\n              mediaItem =>\r\n                mediaItem.name !==\r\n                old.filter(item => item.number === id)[0].name\r\n            );\r\n          } catch (e) {\r\n            return oldMedia;\r\n          }\r\n        });\r\n        return old.filter(item => item.number !== id);\r\n      });\r\n      setElementsSeq(old => old.filter(item => item !== `video${id}`));\r\n      setElementsSeqEdit(old => old.filter(item => item !== `video${id}`))\r\n      document.querySelector(`.stackVideo${id}`).remove();\r\n    }\r\n  };\r\n\r\n  const moveElementDown = id => {\r\n    setElementsSeq(old => {\r\n      const array = old;\r\n      const index = array.indexOf(id);\r\n      moveItemParaFrente(index);\r\n      if (index !== -1 && index < array.length - 1) {\r\n        // Verifica se o elemento foi encontrado no array e não está na última posição\r\n        const novoArray = [...array]; // Cria uma cópia do array original\r\n        const elementoMovido = novoArray.splice(index, 1)[0];\r\n        novoArray.splice(index + 1, 0, elementoMovido);\r\n        return novoArray;\r\n      }\r\n      return array;\r\n    });\r\n  };\r\n\r\n  const moveElementUp = id => {\r\n    setElementsSeq(old => {\r\n      const array = old;\r\n      const index = array.indexOf(id);\r\n      moveItemParaTras(index);\r\n\r\n      if (index !== -1 && index > 0) {\r\n        // Verifica se o elemento foi encontrado no array e não está na primeira posição\r\n        const novoArray = [...array]; // Cria uma cópia do array original\r\n        const elementoMovido = novoArray.splice(index, 1)[0];\r\n        novoArray.splice(index - 1, 0, elementoMovido);\r\n        return novoArray;\r\n      }\r\n      return array;\r\n    });\r\n  };\r\n\r\n  function moveItemParaFrente(posicao) {\r\n    setElements(old => {\r\n      const array = old;\r\n\r\n      if (posicao >= 0 && posicao < array.length - 1) {\r\n        const novoArray = [...array]; // Cria uma cópia do array original\r\n        const elementoMovido = novoArray.splice(posicao, 1)[0];\r\n        novoArray.splice(posicao + 1, 0, elementoMovido);\r\n        return novoArray;\r\n      }\r\n\r\n      return array; // Retorna o array original se a movimentação não for possível\r\n    });\r\n  }\r\n\r\n  function moveItemParaTras(posicao) {\r\n    setElements(old => {\r\n      const array = old;\r\n      if (posicao > 0 && posicao < array.length) {\r\n        const novoArray = [...array]; // Cria uma cópia do array original\r\n        const elementoMovido = novoArray.splice(posicao, 1)[0];\r\n        novoArray.splice(posicao - 1, 0, elementoMovido);\r\n        return novoArray;\r\n      }\r\n\r\n      return array; // Retorna o array original se a movimentação não for possível\r\n    });\r\n  }\r\n\r\n  const handleChangeMediasImg = (e, number) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if (e.target.files[0].size > 2000000) {\r\n      toast.error(\"Arquivo é muito grande! 2MB máximo\");\r\n      return;\r\n    }\r\n    const imgBlob = URL.createObjectURL(e.target.files[0]);\r\n    setPreviewImg(old => [\r\n      ...old,\r\n      {\r\n        number: number,\r\n        url: imgBlob,\r\n        name: e.target.files[0].name\r\n      }\r\n    ]);\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setMedias(old => [...old, selectedMedias[0]]);\r\n\r\n    document.querySelector(`.img${number}`).src = imgBlob;\r\n    document.querySelector(`.btnImg${number}`).remove();\r\n  };\r\n\r\n  const handleChangeAudios = (e, number) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if (e.target.files[0].size > 5000000) {\r\n      toast.error(\"Arquivo é muito grande! 5MB máximo\");\r\n      return;\r\n    }\r\n\r\n    const audioBlob = URL.createObjectURL(e.target.files[0]);\r\n    setPreviewAudios(old => [\r\n      ...old,\r\n      {\r\n        number: number,\r\n        url: audioBlob,\r\n        name: e.target.files[0].name\r\n      }\r\n    ]);\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setMedias(old => [...old, selectedMedias[0]]);\r\n\r\n    document.querySelector(\r\n      `.audio${number}`\r\n    ).innerHTML = `<audio controls=\"controls\">\r\n    <source src=\"${audioBlob}\" type=\"audio/mp3\" />\r\n    seu navegador não suporta HTML5\r\n  </audio>`;\r\n    document.querySelector(`.btnAudio${number}`).remove();\r\n  };\r\n\r\n  const handleChangeVideos = (e, number) => {\r\n    if (!e.target.files) {\r\n      return;\r\n    }\r\n\r\n    if (e.target.files[0].size > 20000000) {\r\n      toast.error(\"Arquivo é muito grande! 20MB máximo\");\r\n      return;\r\n    }\r\n    const videoBlob = URL.createObjectURL(e.target.files[0]);\r\n    setPreviewVideos(old => [\r\n      ...old,\r\n      {\r\n        number: number,\r\n        url: videoBlob,\r\n        name: e.target.files[0].name\r\n      }\r\n    ]);\r\n\r\n    var divConteudo = document.createElement(\"div\");\r\n\r\n    const selectedMedias = Array.from(e.target.files);\r\n    setMedias(old => [...old, selectedMedias[0]]);\r\n\r\n    divConteudo.innerHTML = `<video controls=\"controls\" style=\"width: 200px;\">\r\n    <source src=\"${videoBlob}\" type=\"video/mp4\" />\r\n    seu navegador não suporta HTML5\r\n  </video>`;\r\n\r\n    document.querySelector(`.video${number}`).appendChild(divConteudo);\r\n    document.querySelector(`.btnVideo${number}`).remove();\r\n  };\r\n\r\n  const imgLayout = (number, valueDefault = \"\") => {\r\n    return (\r\n      <Stack\r\n        sx={{\r\n          border: \"1px solid #0000FF\",\r\n          borderRadius: \"7px\",\r\n          padding: \"6px\",\r\n          position: \"relative\"\r\n        }}\r\n        className={`stackImg${number}`}\r\n        key={`stackImg${number}`}\r\n      >\r\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\r\n          <Delete onClick={() => deleteElementsTypeOne(number, \"img\")} />\r\n        </Stack>\r\n        <Typography textAlign={\"center\"}>Imagem</Typography>\r\n        <Stack direction={\"row\"} justifyContent={\"center\"}>\r\n          <img\r\n            src={\r\n              valueDefault.length > 0\r\n                ? process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault\r\n                : \"\"\r\n            }\r\n            className={`img${number}`}\r\n            style={{ width: \"200px\" }}\r\n          />\r\n        </Stack>\r\n        {valueDefault.length === 0 && (\r\n          <Button\r\n            variant=\"contained\"\r\n            component=\"label\"\r\n            className={`btnImg${number}`}\r\n          >\r\n            Enviar imagem\r\n            <input\r\n              type=\"file\"\r\n              accept=\"image/png, image/jpg, image/jpeg\"\r\n              hidden\r\n              onChange={e => handleChangeMediasImg(e, number)}\r\n            />\r\n          </Button>\r\n        )}\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  const audioLayout = (number, valueDefault = \"\", valueRecordDefault = \"\") => {\r\n    return (\r\n      <Stack\r\n        sx={{\r\n          border: \"1px solid #0000FF\",\r\n          borderRadius: \"7px\",\r\n          padding: \"6px\",\r\n          position: \"relative\"\r\n        }}\r\n        className={`stackAudio${number}`}\r\n        key={`stackAudio${number}`}\r\n      >\r\n        <Stack\r\n          sx={{ position: \"absolute\", right: 6 }}\r\n          direction={\"row\"}\r\n          gap={1}\r\n        >\r\n          {/* <KeyboardArrowUp\r\n            onClick={() => moveElementUp(`audio${number}`)}\r\n            sx={{ cursor: \"pointer\" }}\r\n          />\r\n          <KeyboardArrowDown\r\n            onClick={() => moveElementDown(`audio${number}`)}\r\n            sx={{ cursor: \"pointer\" }}\r\n          /> */}\r\n          <Delete\r\n            sx={{ cursor: \"pointer\" }}\r\n            onClick={() => deleteElementsTypeOne(number, \"audio\")}\r\n          />\r\n        </Stack>\r\n        <Typography textAlign={\"center\"}>Audio</Typography>\r\n        <div\r\n          className={`audio${number}`}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\"\r\n          }}\r\n        >\r\n          {valueDefault.length > 0 && (\r\n            <audio controls=\"controls\">\r\n              <source\r\n                src={\r\n                  process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault\r\n                }\r\n                type=\"audio/mp3\"\r\n              />\r\n              seu navegador não suporta HTML5\r\n            </audio>\r\n          )}\r\n        </div>\r\n        {valueDefault.length === 0 && (\r\n          <Button\r\n            variant=\"contained\"\r\n            component=\"label\"\r\n            className={`btnAudio${number}`}\r\n          >\r\n            Enviar audio\r\n            <input\r\n              type=\"file\"\r\n              accept=\"audio/ogg, audio/mp3, audio/opus\"\r\n              hidden\r\n              onChange={e => handleChangeAudios(e, number)}\r\n            />\r\n          </Button>\r\n        )}\r\n        <Stack direction={\"row\"} justifyContent={\"center\"}>\r\n          <Checkbox\r\n            className={`checkaudio${number}`}\r\n            defaultChecked={valueRecordDefault === \"ok\" ? false : true}\r\n          />\r\n          <Stack justifyContent={\"center\"}>\r\n            <Typography>Enviar como audio gravado na hora</Typography>\r\n          </Stack>\r\n        </Stack>\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  const videoLayout = (number, valueDefault = \"\") => {\r\n    return (\r\n      <Stack\r\n        sx={{\r\n          border: \"1px solid #0000FF\",\r\n          borderRadius: \"7px\",\r\n          padding: \"6px\",\r\n          position: \"relative\"\r\n        }}\r\n        className={`stackVideo${number}`}\r\n        key={`stackVideo${number}`}\r\n      >\r\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\r\n          <Delete onClick={() => deleteElementsTypeOne(number, \"video\")} />\r\n        </Stack>\r\n        <Typography textAlign={\"center\"}>Video</Typography>\r\n        <div\r\n          className={`video${number}`}\r\n          style={{\r\n            display: \"flex\",\r\n            flexDirection: \"row\",\r\n            justifyContent: \"center\"\r\n          }}\r\n        >\r\n          {valueDefault.length > 0 && (\r\n            <video controls=\"controls\" style={{width: '200px'}}>\r\n              <source\r\n                src={process.env.REACT_APP_BACKEND_URL + \"/public/\" + valueDefault}\r\n                type=\"video/mp4\"\r\n              />\r\n              seu navegador não suporta HTML5\r\n            </video>\r\n          )}\r\n        </div>\r\n        {valueDefault.length === 0 && (\r\n          <Button\r\n            variant=\"contained\"\r\n            component=\"label\"\r\n            className={`btnVideo${number}`}\r\n          >\r\n            Enviar video\r\n            <input\r\n              type=\"file\"\r\n              accept=\"video/mp4\"\r\n              hidden\r\n              onChange={e => handleChangeVideos(e, number)}\r\n            />\r\n          </Button>\r\n        )}\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  const messageLayout = (number, valueDefault = \"\") => {\r\n    return (\r\n      <Stack\r\n        sx={{\r\n          border: \"1px solid #0000FF\",\r\n          borderRadius: \"7px\",\r\n          padding: \"6px\",\r\n          position: \"relative\"\r\n        }}\r\n        className={`stackMessage${number}`}\r\n        key={`stackMessage${number}`}\r\n      >\r\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\r\n          <Delete onClick={() => deleteElementsTypeOne(number, \"message\")} />\r\n        </Stack>\r\n        <Typography textAlign={\"center\"}>Texto</Typography>\r\n        <TextField\r\n          label={\"Mensagem\"}\r\n          defaultValue={valueDefault}\r\n          multiline\r\n          rows={7}\r\n          className={`message${number}`}\r\n          name=\"text\"\r\n          variant=\"outlined\"\r\n          margin=\"dense\"\r\n          style={{ width: \"100%\" }}\r\n        />\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n  const intervalLayout = (number, valueDefault = 0) => {\r\n    return (\r\n      <Stack\r\n        sx={{\r\n          border: \"1px solid #0000FF\",\r\n          borderRadius: \"7px\",\r\n          padding: \"6px\",\r\n          position: \"relative\"\r\n        }}\r\n        className={`stackInterval${number}`}\r\n        key={`stackInterval${number}`}\r\n      >\r\n        <Stack sx={{ position: \"absolute\", right: 6 }}>\r\n          <Delete onClick={() => deleteElementsTypeOne(number, \"interval\")} />\r\n        </Stack>\r\n        <Typography textAlign={\"center\"}>Intervalo</Typography>\r\n        <TextField\r\n          label={\"Tempo em segundos\"}\r\n          className={`interval${number}`}\r\n          defaultValue={valueDefault}\r\n          type=\"number\"\r\n          InputProps={{ inputProps: { min: 0, max: 120 } }}\r\n          variant=\"outlined\"\r\n          margin=\"dense\"\r\n          style={{ width: \"100%\" }}\r\n        />\r\n      </Stack>\r\n    );\r\n  };\r\n\r\n \r\n\r\n  useEffect(() => {\r\n    if (open === \"edit\") {\r\n      setLabels({\r\n        title: \"Editar conteúdo\",\r\n        btn: \"Salvar\"\r\n      });\r\n\r\n      setElementsSeq(data.data.seq);\r\n\r\n    setElementsSeqEdit(data.data.seq);\r\n    setElementsEdit(data.data.elements);\r\n    if (data) {\r\n      const elementsEditLoc = data.data.elements;\r\n      const sequence = data.data.seq;\r\n\r\n      sequence.map(item => {\r\n        const itemNode = elementsEditLoc.filter(inode => inode.number === item)[0];\r\n        if (itemNode.type === \"message\") {\r\n          const numberLoc = parseInt(item.replace(\"message\", \"\"));\r\n          setElements(elm => [\r\n            ...elm,\r\n            messageLayout(numberLoc, itemNode.value)\r\n          ]);\r\n          setNumberMessages(old => {\r\n            const arsOnly = sequence.filter(item => item.includes(\"message\"));\r\n            const arrNumberMax = arsOnly.map(item =>\r\n              parseInt(item.replace(\"message\", \"\"))\r\n            );\r\n            setNumberMessagesLast(Math.max.apply(null, arrNumberMax) + 1);\r\n            return old + 1;\r\n          });\r\n        }\r\n        if (itemNode.type === \"interval\") {\r\n          const numberLoc = parseInt(item.replace(\"interval\", \"\"));\r\n          setElements(elm => [\r\n            ...elm,\r\n            intervalLayout(numberLoc, itemNode.value)\r\n          ]);\r\n          setNumberInterval(old => {\r\n            const arsOnly = sequence.filter(item => item.includes(\"interval\"));\r\n            const arrNumberMax = arsOnly.map(item =>\r\n              parseInt(item.replace(\"interval\", \"\"))\r\n            );\r\n            setNumberIntervalLast(Math.max.apply(null, arrNumberMax) + 1);\r\n            return old + 1;\r\n          });\r\n        }\r\n        if (itemNode.type === \"audio\") {\r\n          const numberLoc = parseInt(item.replace(\"audio\", \"\"));\r\n          setElements(elm => [\r\n            ...elm,\r\n            audioLayout(numberLoc, itemNode.value, itemNode.record ? \"\" : \"ok\")\r\n          ]);\r\n          setNumberAudio(old => {\r\n            const arsOnly = sequence.filter(item => item.includes(\"audio\"));\r\n            const arrNumberMax = arsOnly.map(item =>\r\n              parseInt(item.replace(\"audio\", \"\"))\r\n            );\r\n            setNumberAudioLast(Math.max.apply(null, arrNumberMax) + 1);\r\n            return old + 1;\r\n          });\r\n        }\r\n        if (itemNode.type === \"img\") {\r\n          const numberLoc = parseInt(item.replace(\"img\", \"\"));\r\n          setElements(elm => [...elm, imgLayout(numberLoc, itemNode.value)]);\r\n          setNumberImg(old => {\r\n            const arsOnly = sequence.filter(item => item.includes(\"img\"));\r\n            const arrNumberMax = arsOnly.map(item =>\r\n              parseInt(item.replace(\"img\", \"\"))\r\n            );\r\n            setNumberImgLast(Math.max.apply(null, arrNumberMax) + 1);\r\n            return old + 1;\r\n          });\r\n        }\r\n        if (itemNode.type === \"video\") {\r\n          const numberLoc = parseInt(item.replace(\"video\", \"\"));\r\n          setElements(elm => [...elm, videoLayout(numberLoc, itemNode.value)]);\r\n          setNumberVideo(old => {\r\n            const arsOnly = sequence.filter(item => item.includes(\"video\"));\r\n            const arrNumberMax = arsOnly.map(item =>\r\n              parseInt(item.replace(\"video\", \"\"))\r\n            );\r\n            setNumberVideoLast(Math.max.apply(null, arrNumberMax) + 1);\r\n            return old + 1;\r\n          });\r\n        }\r\n      });\r\n    }\r\n    setActiveModal(true);\r\n    }\r\n    if (open === \"create\") {\r\n      setLabels({\r\n        title: \"Adicionar menu ao fluxo\",\r\n        btn: \"Adicionar\"\r\n      });\r\n      setTextDig();\r\n      setArrayOption([]);\r\n      setActiveModal(true);\r\n    }\r\n  }, [open]);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      isMounted.current = false;\r\n    };\r\n  }, []);\r\n\r\n  const handleClose = async () => {\r\n    close(null);\r\n    setActiveModal(false);\r\n    setTimeout(() => {\r\n      setMedias([]);\r\n      setPreviewImg([]);\r\n      setPreviewAudios([]);\r\n      setPreviewVideos([]);\r\n      setArrayOption([]);\r\n      setElements([]);\r\n      setElementsSeq([]);\r\n      setElementsEdit([]);\r\n      setElementsSeqEdit([]);\r\n      setNumberMessages(0);\r\n      setNumberMessagesLast(0);\r\n      setNumberInterval(0);\r\n      setNumberIntervalLast(0);\r\n      setNumberAudio(0);\r\n      setNumberAudioLast(0);\r\n      setNumberVideo(0);\r\n      setNumberVideoLast(0);\r\n      setNumberImg(0);\r\n      setNumberImgLast(0);\r\n    }, 500);\r\n  };\r\n\r\n  const verifyButtonsUpload = () => {\r\n    const newArrImg = elementsSeq.filter(item => item.includes(\"img\"));\r\n    const newArrAudio = elementsSeq.filter(item => item.includes(\"audio\"));\r\n    const newArrVideo = elementsSeq.filter(item => item.includes(\"video\"));\r\n\r\n    for (let i = 0; i < numberImg; i++) {\r\n      const imgVerify = document.querySelector(\r\n        `.btn${capitalize(newArrImg[i])}`\r\n      );\r\n      if (imgVerify) {\r\n        return true;\r\n      }\r\n    }\r\n    for (let i = 0; i < numberAudio; i++) {\r\n      const audioVerify = document.querySelector(\r\n        `.btn${capitalize(newArrAudio[i])}`\r\n      );\r\n      if (audioVerify) {\r\n        return true;\r\n      }\r\n    }\r\n    for (let i = 0; i < numberVideo; i++) {\r\n      const videoVerify = document.querySelector(\r\n        `.btn${capitalize(newArrVideo[i])}`\r\n      );\r\n      if (videoVerify) {\r\n        return true;\r\n      }\r\n    }\r\n  };\r\n\r\n  const handleSaveNode = async () => {\r\n    if (open === \"edit\") {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n\r\n      medias.forEach(async (media, idx) => {\r\n        const file = media;\r\n\r\n        if (!file) {\r\n          return;\r\n        }\r\n\r\n        if (media?.type.split(\"/\")[0] == \"image\") {\r\n          new Compressor(file, {\r\n            quality: 0.7,\r\n\r\n            async success(media) {\r\n              formData.append(\"medias\", media);\r\n              formData.append(\"body\", media.name);\r\n            },\r\n            error(err) {\r\n              alert(\"erro\");\r\n              console.log(err.message);\r\n            }\r\n          });\r\n        } else {\r\n          formData.append(\"medias\", media);\r\n          formData.append(\"body\", media.name);\r\n        }\r\n      });\r\n\r\n      setTimeout(async () => {\r\n        if (\r\n          (numberAudio === 0 && numberVideo === 0 && numberImg === 0) ||\r\n          medias.length === 0\r\n        ) {\r\n          try {\r\n            const mountData = {\r\n              seq: elementsSeq,\r\n              elements: handleElements(null)\r\n            };\r\n            onUpdate({\r\n              ...data,\r\n              data: mountData\r\n            });\r\n            toast.success(\"Conteúdo adicionada com sucesso!\");\r\n            handleClose();\r\n            setLoading(false);\r\n\r\n            return;\r\n          } catch (e) {\r\n            console.log(e)\r\n            setLoading(false);\r\n          }\r\n          return;\r\n        }\r\n        const verify = verifyButtonsUpload();\r\n        if (verify) {\r\n          setLoading(false);\r\n          return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");\r\n        }\r\n        await api\r\n          .post(\"/flowbuilder/content\", formData)\r\n          .then(async (res) => {\r\n            const mountData = {\r\n              seq: elementsSeq,\r\n              elements: handleElements(res.data)\r\n            };\r\n            onUpdate({\r\n              ...data,\r\n              data: mountData\r\n            });\r\n            toast.success(\"Conteúdo adicionada com sucesso!\");\r\n            await handleClose();\r\n            setLoading(false);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          });\r\n      }, 1500);\r\n    } else if (open === \"create\") {\r\n      setLoading(true);\r\n      const formData = new FormData();\r\n\r\n      medias.forEach(async (media, idx) => {\r\n        const file = media;\r\n\r\n        if (!file) {\r\n          return;\r\n        }\r\n\r\n        if (media?.type.split(\"/\")[0] == \"image\") {\r\n          new Compressor(file, {\r\n            quality: 0.7,\r\n\r\n            async success(media) {\r\n              formData.append(\"medias\", media);\r\n              formData.append(\"body\", media.name);\r\n            },\r\n            error(err) {\r\n              alert(\"erro\");\r\n              console.log(err.message);\r\n            }\r\n          });\r\n        } else {\r\n          formData.append(\"medias\", media);\r\n          formData.append(\"body\", media.name);\r\n        }\r\n      });\r\n\r\n      setTimeout(async () => {\r\n        if (numberAudio === 0 && numberVideo === 0 && numberImg === 0) {\r\n          try {\r\n            const mountData = {\r\n              seq: elementsSeq,\r\n              elements: handleElements(null)\r\n            };\r\n            onSave({\r\n              ...mountData\r\n            });\r\n            toast.success(\"Conteúdo adicionada com sucesso!\");\r\n            handleClose();\r\n            setLoading(false);\r\n\r\n            return;\r\n          } catch (e) {\r\n            setLoading(false);\r\n          }\r\n        }\r\n        const verify = verifyButtonsUpload();\r\n        if (verify) {\r\n          setLoading(false);\r\n          return toast.error(\"Delete os cards vazios(Imagem, Audio e Video)\");\r\n        }\r\n        await api\r\n          .post(\"/flowbuilder/content\", formData)\r\n          .then(res => {\r\n            const mountData = {\r\n              seq: elementsSeq,\r\n              elements: handleElements(res.data)\r\n            };\r\n            onSave({\r\n              ...mountData\r\n            });\r\n            toast.success(\"Conteúdo adicionada com sucesso!\");\r\n            handleClose();\r\n            setLoading(false);\r\n          })\r\n          .catch(error => {\r\n            console.log(error);\r\n          });\r\n      }, 1500);\r\n    }\r\n  };\r\n\r\n  const scrollToBottom = className => {\r\n    const element = document.querySelector(className);\r\n    element.scrollTop = element.scrollHeight;\r\n  };\r\n\r\n  return (\r\n    <div>\r\n      <Dialog open={activeModal} fullWidth=\"md\" scroll=\"paper\">\r\n        {!loading && (\r\n          <DialogTitle id=\"form-dialog-title\">\r\n            Adicionar conteúdo ao fluxo\r\n          </DialogTitle>\r\n        )}\r\n        <Stack>\r\n          <Stack\r\n            className=\"body-card\"\r\n            style={{\r\n              gap: \"8px\",\r\n              padding: \"16px\",\r\n              overflow: \"auto\",\r\n              height: \"70vh\",\r\n              scrollBehavior: \"smooth\",\r\n              display: loading && \"none\"\r\n            }}\r\n          >\r\n            {elements.map(item => (\r\n              <>{item}</>\r\n            ))}\r\n            <Stack direction={\"row\"} gap={1}>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setElements(old => [\r\n                    ...old,\r\n                    messageLayout(numberMessagesLast)\r\n                  ]);\r\n                  setNumberMessages(old => {\r\n                    setElementsSeq(oldEleme => [\r\n                      ...oldEleme,\r\n                      `message${numberMessagesLast}`\r\n                    ]);\r\n                    return old + 1;\r\n                  });\r\n                  setNumberMessagesLast(old => old + 1);\r\n                  setTimeout(() => {\r\n                    scrollToBottom(\".body-card\");\r\n                  }, 100);\r\n                }}\r\n              >\r\n                <Message\r\n                  sx={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    marginRight: \"4px\"\r\n                  }}\r\n                />\r\n                Texto\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setElements(old => [\r\n                    ...old,\r\n                    intervalLayout(numberIntervalLast)\r\n                  ]);\r\n                  setNumberInterval(old => {\r\n                    setElementsSeq(oldEleme => [\r\n                      ...oldEleme,\r\n                      `interval${numberIntervalLast}`\r\n                    ]);\r\n                    return old + 1;\r\n                  });\r\n                  setNumberIntervalLast(old => old + 1);\r\n                  setTimeout(() => {\r\n                    scrollToBottom(\".body-card\");\r\n                  }, 100);\r\n                }}\r\n              >\r\n                <AccessTime\r\n                  sx={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    marginRight: \"4px\"\r\n                  }}\r\n                />\r\n                Intervalo\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setElements(old => [...old, imgLayout(numberImgLast)]);\r\n                  setNumberImg(old => {\r\n                    setElementsSeq(oldEleme => [\r\n                      ...oldEleme,\r\n                      `img${numberImgLast}`\r\n                    ]);\r\n                    return old + 1;\r\n                  });\r\n                  setNumberImgLast(old => old + 1);\r\n                  setTimeout(() => {\r\n                    scrollToBottom(\".body-card\");\r\n                  }, 100);\r\n                }}\r\n              >\r\n                <Image\r\n                  sx={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    marginRight: \"4px\"\r\n                  }}\r\n                />\r\n                Imagem\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setElements(old => [...old, audioLayout(numberAudioLast)]);\r\n                  setNumberAudio(old => {\r\n                    setElementsSeq(oldEleme => [\r\n                      ...oldEleme,\r\n                      `audio${numberAudioLast}`\r\n                    ]);\r\n                    return old + 1;\r\n                  });\r\n                  setNumberAudioLast(old => old + 1);\r\n                  setTimeout(() => {\r\n                    scrollToBottom(\".body-card\");\r\n                  }, 100);\r\n                }}\r\n              >\r\n                <MicNone\r\n                  sx={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    marginRight: \"4px\"\r\n                  }}\r\n                />\r\n                Audio\r\n              </Button>\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={() => {\r\n                  setElements(old => [...old, videoLayout(numberVideoLast)]);\r\n                  setNumberVideo(old => {\r\n                    setElementsSeq(oldEleme => [\r\n                      ...oldEleme,\r\n                      `video${numberVideoLast}`\r\n                    ]);\r\n                    return old + 1;\r\n                  });\r\n                  setNumberVideoLast(old => old + 1);\r\n                  setTimeout(() => {\r\n                    scrollToBottom(\".body-card\");\r\n                  }, 100);\r\n                }}\r\n              >\r\n                <Videocam\r\n                  sx={{\r\n                    width: \"16px\",\r\n                    height: \"16px\",\r\n                    marginRight: \"4px\"\r\n                  }}\r\n                />\r\n                Video\r\n              </Button>\r\n            </Stack>\r\n          </Stack>\r\n\r\n          <DialogActions>\r\n            <Button\r\n              onClick={handleClose}\r\n              color=\"secondary\"\r\n              variant=\"outlined\"\r\n              style={{ display: loading && \"none\" }}\r\n            >\r\n              {i18n.t(\"contactModal.buttons.cancel\")}\r\n            </Button>\r\n            <Button\r\n              type=\"submit\"\r\n              color=\"primary\"\r\n              variant=\"contained\"\r\n              onClick={() => handleSaveNode()}\r\n              style={{ display: loading && \"none\" }}\r\n            >\r\n              {`${labels.btn}`}\r\n            </Button>\r\n          </DialogActions>\r\n        </Stack>\r\n        {loading && (\r\n          <Stack\r\n            style={{\r\n              gap: \"8px\",\r\n              padding: \"16px\",\r\n              height: \"70vh\",\r\n              alignSelf: \"center\",\r\n              justifyContent: \"center\"\r\n            }}\r\n          >\r\n            <Stack>\r\n              <Typography>\r\n                Subindo os arquivos e criando o conteúdo...\r\n              </Typography>\r\n              <Stack style={{ alignSelf: \"center\", marginTop: \"12px\" }}>\r\n                <CircularProgress />\r\n              </Stack>\r\n            </Stack>\r\n          </Stack>\r\n        )}\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FlowBuilderSingleBlockModal;\r\n","import {\r\n  AccessTime,\r\n  ArrowForwardIos,\r\n  ContentCopy,\r\n  Delete,\r\n  Image,\r\n  LibraryBooks,\r\n  Message,\r\n  MicNone,\r\n  Videocam\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\n\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\nimport { Typography } from \"@mui/material\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#FEFAFA\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        border: \"1px solid rgba(236, 88, 88, 0.25)\",\r\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\"\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        onConnect={params => console.log(\"handle onConnect\", params)}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"3.5px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#EC5858\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#EC5858\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <LibraryBooks\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#EC5858\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>Conteúdo</div>\r\n      </div>\r\n      <div style={{ color: \"#232323\", fontSize: \"12px\", width: 180 }}>\r\n        {data.seq.map(item => (\r\n          <div\r\n            style={{\r\n              backgroundColor: \"#F6EEEE\",\r\n              marginBottom: \"3px\",\r\n              borderRadius: \"5px\"\r\n            }}\r\n          >\r\n            {item.includes(\"message\") && (\r\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    position: \"relative\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"center\"\r\n                  }}\r\n                >\r\n                  <Message sx={{ color: \"#EC5858\" }} />\r\n                </div>\r\n                <Typography\r\n                  textAlign={\"center\"}\r\n                  sx={{\r\n                    textOverflow: \"ellipsis\",\r\n                    fontSize: \"10px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    overflow: \"hidden\"\r\n                  }}\r\n                >\r\n                  {\r\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\r\n                      .value\r\n                  }\r\n                </Typography>\r\n              </div>\r\n            )}\r\n            {item.includes(\"interval\") && (\r\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    position: \"relative\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"center\"\r\n                  }}\r\n                >\r\n                  <AccessTime sx={{ color: \"#EC5858\" }} />\r\n                </div>\r\n                <Typography\r\n                  textAlign={\"center\"}\r\n                  sx={{\r\n                    textOverflow: \"ellipsis\",\r\n                    fontSize: \"10px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    overflow: \"hidden\"\r\n                  }}\r\n                >\r\n                  {\r\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\r\n                      .value\r\n                  }{\" \"}\r\n                  segundos\r\n                </Typography>\r\n              </div>\r\n            )}\r\n            {item.includes(\"img\") && (\r\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    position: \"relative\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"center\"\r\n                  }}\r\n                >\r\n                  <Image sx={{ color: \"#EC5858\" }} />\r\n                </div>\r\n                <Typography\r\n                  textAlign={\"center\"}\r\n                  sx={{\r\n                    textOverflow: \"ellipsis\",\r\n                    fontSize: \"10px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    overflow: \"hidden\"\r\n                  }}\r\n                >\r\n                  {\r\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\r\n                      .original\r\n                  }\r\n                </Typography>\r\n              </div>\r\n            )}\r\n            {item.includes(\"audio\") && (\r\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    position: \"relative\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"center\"\r\n                  }}\r\n                >\r\n                  <MicNone sx={{ color: \"#EC5858\" }} />\r\n                </div>\r\n                <Typography\r\n                  textAlign={\"center\"}\r\n                  sx={{\r\n                    textOverflow: \"ellipsis\",\r\n                    fontSize: \"10px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    overflow: \"hidden\"\r\n                  }}\r\n                >\r\n                  {\r\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\r\n                      .original\r\n                  }\r\n                </Typography>\r\n              </div>\r\n            )}\r\n            {item.includes(\"video\") && (\r\n              <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n                <div\r\n                  style={{\r\n                    display: \"flex\",\r\n                    position: \"relative\",\r\n                    flexDirection: \"row\",\r\n                    justifyContent: \"center\"\r\n                  }}\r\n                >\r\n                  <Videocam sx={{ color: \"#EC5858\" }} />\r\n                </div>\r\n                <Typography\r\n                  textAlign={\"center\"}\r\n                  sx={{\r\n                    textOverflow: \"ellipsis\",\r\n                    fontSize: \"10px\",\r\n                    whiteSpace: \"nowrap\",\r\n                    overflow: \"hidden\"\r\n                  }}\r\n                >\r\n                  {\r\n                    data.elements.filter(itemLoc => itemLoc.number === item)[0]\r\n                      .original\r\n                  }\r\n                </Typography>\r\n              </div>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#0000FF\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"90%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import {\r\n  ArrowForwardIos, ContentCopy,\r\n  Delete, ConfirmationNumber\r\n} from \"@mui/icons-material\";\r\nimport React, { memo } from \"react\";\r\nimport TextField from '@mui/material/TextField';\r\nimport { useNodeStorage } from \"../../../stores/useNodeStorage\";\r\nimport { Handle } from \"react-flow-renderer\";\r\nimport { Typography } from \"@material-ui/core\";\r\n\r\nexport default memo(({ data, isConnectable, id }) => {\r\n  const storageItems = useNodeStorage();\r\n  return (\r\n    <div\r\n      style={{\r\n        backgroundColor: \"#ffffff\",\r\n        padding: \"8px\",\r\n        borderRadius: \"8px\",\r\n        boxShadow: \"rgba(0, 0, 0, 0.05) 0px 3px 5px\",\r\n        border: '1px solid rgba(33, 94, 151, 0.25)'\r\n      }}\r\n    >\r\n      <Handle\r\n        type=\"target\"\r\n        position=\"left\"\r\n        style={{\r\n          background: \"#0872b9\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"20px\",\r\n          left: \"-12px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        onConnect={params => console.log(\"handle onConnect\", params)}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: 'none'\r\n          }}\r\n        />\r\n      </Handle>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          position: \"absolute\",\r\n          right: 5,\r\n          top: 5,\r\n          cursor: \"pointer\",\r\n          gap: 6\r\n        }}\r\n      >\r\n        <ContentCopy\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"duplicate\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n\r\n        <Delete\r\n          onClick={() => {\r\n            storageItems.setNodesStorage(id);\r\n            storageItems.setAct(\"delete\");\r\n          }}\r\n          sx={{ width: \"12px\", height: \"12px\", color: \"#F7953B\" }}\r\n        />\r\n      </div>\r\n      <div\r\n        style={{\r\n          color: \"#ededed\",\r\n          fontSize: \"16px\",\r\n          flexDirection: \"row\",\r\n          display: \"flex\"\r\n        }}\r\n      >\r\n        <ConfirmationNumber\r\n          sx={{\r\n            width: \"16px\",\r\n            height: \"16px\",\r\n            marginRight: \"4px\",\r\n            marginTop: \"4px\",\r\n            color: \"#3aba38\"\r\n          }}\r\n        />\r\n        <div style={{ color: \"#232323\", fontSize: \"16px\" }}>\r\n          Ticket\r\n        </div>\r\n      </div>\r\n      <div style={{ color: \"#232323\", fontSize: \"12px\", width: 180 }}>\r\n        <div\r\n          style={{\r\n            backgroundColor: \"#F6EEEE\",\r\n            marginBottom: \"3px\",\r\n            borderRadius: \"5px\"\r\n          }}\r\n        >\r\n          <div style={{ gap: \"5px\", padding: \"6px\" }}>\r\n            <div style={{ textAlign: \"center\" }}>\r\n              {Object.keys(data)[0] === \"data\" ? (\r\n                data.data.name\r\n              ) : (\r\n                data.name\r\n              )\r\n              }\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <Handle\r\n        type=\"source\"\r\n        position=\"right\"\r\n        id=\"a\"\r\n        style={{\r\n          background: \"#0872b9\",\r\n          width: \"18px\",\r\n          height: \"18px\",\r\n          top: \"70%\",\r\n          right: \"-11px\",\r\n          cursor: 'pointer'\r\n        }}\r\n        isConnectable={isConnectable}\r\n      >\r\n        <ArrowForwardIos\r\n          sx={{\r\n            color: \"#ffff\",\r\n            width: \"10px\",\r\n            height: \"10px\",\r\n            marginLeft: \"2.9px\",\r\n            marginBottom: \"1px\",\r\n            pointerEvents: \"none\"\r\n          }}\r\n        />\r\n      </Handle>\r\n    </div>\r\n  );\r\n});\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useContext,\r\n  useCallback\r\n} from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport api from \"../../services/api\";\r\n\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport {\r\n  SpeedDial,\r\n  SpeedDialAction,\r\n  SpeedDialIcon,\r\n  Stack,\r\n  Typography\r\n} from \"@mui/material\";\r\nimport { useParams } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\nimport messageNode from \"./nodes/messageNode.js\";\r\n\r\nimport \"reactflow/dist/style.css\";\r\n\r\nimport ReactFlow, {\r\n  MiniMap,\r\n  Controls,\r\n  Background,\r\n  useNodesState,\r\n  useEdgesState,\r\n  addEdge,\r\n  onElementsRemove,\r\n  useReactFlow\r\n} from \"react-flow-renderer\";\r\nimport FlowBuilderAddTextModal from \"../../components/FlowBuilderAddTextModal\";\r\nimport FlowBuilderIntervalModal from \"../../components/FlowBuilderIntervalModal\";\r\nimport startNode from \"./nodes/startNode\";\r\nimport conditionNode from \"./nodes/conditionNode\";\r\nimport menuNode from \"./nodes/menuNode\";\r\nimport intervalNode from \"./nodes/intervalNode\";\r\nimport imgNode from \"./nodes/imgNode\";\r\nimport randomizerNode from \"./nodes/randomizerNode\";\r\nimport videoNode from \"./nodes/videoNode\";\r\nimport FlowBuilderConditionModal from \"../../components/FlowBuilderConditionModal\";\r\nimport FlowBuilderMenuModal from \"../../components/FlowBuilderMenuModal\";\r\nimport {\r\n  AccessTime,\r\n  CallSplit,\r\n  DynamicFeed,\r\n  Image,\r\n  ImportExport,\r\n  LibraryBooks,\r\n  Message,\r\n  MicNone,\r\n  RocketLaunch,\r\n  Videocam\r\n} from \"@mui/icons-material\";\r\nimport RemoveEdge from \"./nodes/removeEdge\";\r\nimport FlowBuilderAddImgModal from \"../../components/FlowBuilderAddImgModal\";\r\nimport FlowBuilderTicketModal from \"../../components/FlowBuilderAddTicketModal\";\r\nimport FlowBuilderAddAudioModal from \"../../components/FlowBuilderAddAudioModal\";\r\nimport audioNode from \"./nodes/audioNode\";\r\nimport { useNodeStorage } from \"../../stores/useNodeStorage\";\r\nimport FlowBuilderRandomizerModal from \"../../components/FlowBuilderRandomizerModal\";\r\nimport FlowBuilderAddVideoModal from \"../../components/FlowBuilderAddVideoModal\";\r\nimport FlowBuilderSingleBlockModal from \"../../components/FlowBuilderSingleBlockModal\";\r\nimport singleBlockNode from \"./nodes/singleBlockNode\";\r\nimport { colorPrimary } from \"../../styles/styles\";\r\nimport ticketNode from \"./nodes/ticketNode\";\r\nimport { ConfirmationNumber } from \"@material-ui/icons\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    position: \"relative\",\r\n    backgroundColor: \"#F8F9FA\",\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles\r\n  },\r\n  speeddial: {\r\n    backgroundColor: \"red\"\r\n  }\r\n}));\r\n\r\nfunction geraStringAleatoria(tamanho) {\r\n  var stringAleatoria = \"\";\r\n  var caracteres =\r\n    \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\";\r\n  for (var i = 0; i < tamanho; i++) {\r\n    stringAleatoria += caracteres.charAt(\r\n      Math.floor(Math.random() * caracteres.length)\r\n    );\r\n  }\r\n  return stringAleatoria;\r\n}\r\n\r\nconst nodeTypes = {\r\n  message: messageNode,\r\n  start: startNode,\r\n  condition: conditionNode,\r\n  menu: menuNode,\r\n  interval: intervalNode,\r\n  img: imgNode,\r\n  audio: audioNode,\r\n  randomizer: randomizerNode,\r\n  video: videoNode,\r\n  singleBlock: singleBlockNode,\r\n  ticket: ticketNode\r\n};\r\n\r\nconst edgeTypes = {\r\n  buttonedge: RemoveEdge\r\n};\r\n\r\nconst initialNodes = [\r\n  {\r\n    id: \"1\",\r\n    position: { x: 250, y: 100 },\r\n    data: { label: \"Inicio do fluxo\" },\r\n    type: \"start\"\r\n  }\r\n];\r\n\r\nconst initialEdges = [];\r\n\r\nexport const FlowBuilderConfig = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n  const { id } = useParams();\r\n\r\n  const storageItems = useNodeStorage();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [dataNode, setDataNode] = useState(null);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [modalAddText, setModalAddText] = useState(null);\r\n  const [modalAddInterval, setModalAddInterval] = useState(false);\r\n  const [modalAddCondition, setModalAddCondition] = useState(null);\r\n  const [modalAddMenu, setModalAddMenu] = useState(null);\r\n  const [modalAddImg, setModalAddImg] = useState(null);\r\n  const [modalAddAudio, setModalAddAudio] = useState(null);\r\n  const [modalAddRandomizer, setModalAddRandomizer] = useState(null);\r\n  const [modalAddVideo, setModalAddVideo] = useState(null);\r\n  const [modalAddSingleBlock, setModalAddSingleBlock] = useState(null);\r\n  const [modalAddTicket, setModalAddTicket] = useState(null)\r\n\r\n  const connectionLineStyle = { stroke: \"#2b2b2b\", strokeWidth: \"6px\" };\r\n\r\n  const addNode = (type, data) => {\r\n    const posY = nodes[nodes.length - 1].position.y;\r\n    const posX =\r\n      nodes[nodes.length - 1].position.x + nodes[nodes.length - 1].width + 40;\r\n    if (type === \"start\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old.filter(item => item.id !== \"1\"),\r\n          {\r\n            id: \"1\",\r\n            position: { x: posX, y: posY },\r\n            data: { label: \"Inicio do fluxo\" },\r\n            type: \"start\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"text\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { label: data.text },\r\n            type: \"message\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"interval\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { label: `Intervalo ${data.sec} seg.`, sec: data.sec },\r\n            type: \"interval\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"condition\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: {\r\n              key: data.key,\r\n              condition: data.condition,\r\n              value: data.value\r\n            },\r\n            type: \"condition\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"menu\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: {\r\n              message: data.message,\r\n              arrayOption: data.arrayOption\r\n            },\r\n            type: \"menu\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"img\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { url: data.url },\r\n            type: \"img\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"audio\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { url: data.url, record: data.record },\r\n            type: \"audio\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"randomizer\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { percent: data.percent },\r\n            type: \"randomizer\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"video\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { url: data.url },\r\n            type: \"video\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n    if (type === \"singleBlock\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"singleBlock\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n\r\n    if (type === \"ticket\") {\r\n      return setNodes(old => {\r\n        return [\r\n          ...old,\r\n          {\r\n            id: geraStringAleatoria(30),\r\n            position: { x: posX, y: posY },\r\n            data: { ...data },\r\n            type: \"ticket\"\r\n          }\r\n        ];\r\n      });\r\n    }\r\n\r\n\r\n  };\r\n\r\n  const textAdd = data => {\r\n    addNode(\"text\", data);\r\n  };\r\n\r\n  const intervalAdd = data => {\r\n    addNode(\"interval\", data);\r\n  };\r\n\r\n  const conditionAdd = data => {\r\n    addNode(\"condition\", data);\r\n  };\r\n\r\n  const menuAdd = data => {\r\n    addNode(\"menu\", data);\r\n  };\r\n\r\n  const imgAdd = data => {\r\n    addNode(\"img\", data);\r\n  };\r\n\r\n  const audioAdd = data => {\r\n    addNode(\"audio\", data);\r\n  };\r\n\r\n  const randomizerAdd = data => {\r\n    addNode(\"randomizer\", data);\r\n  };\r\n\r\n  const videoAdd = data => {\r\n    addNode(\"video\", data);\r\n  };\r\n\r\n  const singleBlockAdd = data => {\r\n    addNode(\"singleBlock\", data);\r\n  };\r\n\r\n  const ticketAdd = data => {\r\n    addNode(\"ticket\", data)\r\n  }\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(`/flowbuilder/flow/${id}`);\r\n          if (data.flow.flow !== null) {\r\n            setNodes(data.flow.flow.nodes);\r\n            setEdges(data.flow.flow.connections);\r\n          }\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [id]);\r\n\r\n  useEffect(() => {\r\n    if (storageItems.action === \"delete\") {\r\n      setNodes(old => old.filter(item => item.id !== storageItems.node));\r\n      setEdges(old => {\r\n        const newData = old.filter(item => item.source !== storageItems.node);\r\n        const newClearTarget = newData.filter(\r\n          item => item.target !== storageItems.node\r\n        );\r\n        return newClearTarget;\r\n      });\r\n      storageItems.setNodesStorage(\"\");\r\n      storageItems.setAct(\"idle\");\r\n    }\r\n    if (storageItems.action === \"duplicate\") {\r\n      const nodeDuplicate = nodes.filter(\r\n        item => item.id === storageItems.node\r\n      )[0];\r\n      const maioresX = nodes.map(node => node.position.x);\r\n      const maiorX = Math.max(...maioresX);\r\n      const finalY = nodes[nodes.length - 1].position.y;\r\n      const nodeNew = {\r\n        ...nodeDuplicate,\r\n        id: geraStringAleatoria(30),\r\n        position: {\r\n          x: maiorX + 240,\r\n          y: finalY\r\n        },\r\n        selected: false,\r\n        style: { backgroundColor: \"#555555\", padding: 0, borderRadius: 8 }\r\n      };\r\n      setNodes(old => [...old, nodeNew]);\r\n      storageItems.setNodesStorage(\"\");\r\n      storageItems.setAct(\"idle\");\r\n    }\r\n  }, [storageItems.action]);\r\n\r\n  const loadMore = () => {\r\n    setPageNumber(prevState => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = e => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const [nodes, setNodes, onNodesChange] = useNodesState(initialNodes);\r\n  const [edges, setEdges, onEdgesChange] = useEdgesState(initialEdges);\r\n\r\n  const onConnect = useCallback(\r\n    params => setEdges(eds => addEdge(params, eds)),\r\n    [setEdges]\r\n  );\r\n\r\n  const saveFlow = async () => {\r\n    await api\r\n      .post(\"/flowbuilder/flow\", {\r\n        idFlow: id,\r\n        nodes: nodes,\r\n        connections: edges\r\n      })\r\n      .then(res => {\r\n        toast.success(\"Fluxo salvo com sucesso\");\r\n      });\r\n  };\r\n\r\n  const doubleClick = (event, node) => {\r\n    setDataNode(node);\r\n    if (node.type === \"message\") {\r\n      setModalAddText(\"edit\");\r\n    }\r\n    if (node.type === \"interval\") {\r\n      setModalAddInterval(\"edit\");\r\n    }\r\n    if (node.type === \"condition\") {\r\n      setModalAddCondition(\"edit\");\r\n    }\r\n    if (node.type === \"menu\") {\r\n      setModalAddMenu(\"edit\");\r\n    }\r\n    if (node.type === \"img\") {\r\n      setModalAddImg(\"edit\");\r\n    }\r\n    if (node.type === \"audio\") {\r\n      setModalAddAudio(\"edit\");\r\n    }\r\n    if (node.type === \"randomizer\") {\r\n      setModalAddRandomizer(\"edit\");\r\n    }\r\n    if (node.type === \"singleBlock\") {\r\n      setModalAddSingleBlock(\"edit\");\r\n    }\r\n    if (node.type === \"ticket\") {\r\n      setModalAddTicket(\"edit\")\r\n    }\r\n  };\r\n\r\n  const clickNode = (event, node) => {\r\n    setNodes(old =>\r\n      old.map(item => {\r\n        if (item.id === node.id) {\r\n          return {\r\n            ...item,\r\n            style: { backgroundColor: \"#0000FF\", padding: 1, borderRadius: 8 }\r\n          };\r\n        }\r\n        return {\r\n          ...item,\r\n          style: { backgroundColor: \"#13111C\", padding: 0, borderRadius: 8 }\r\n        };\r\n      })\r\n    );\r\n  };\r\n  const clickEdge = (event, node) => {\r\n    setNodes(old =>\r\n      old.map(item => {\r\n        return {\r\n          ...item,\r\n          style: { backgroundColor: \"#13111C\", padding: 0, borderRadius: 8 }\r\n        };\r\n      })\r\n    );\r\n  };\r\n\r\n  const updateNode = dataAlter => {\r\n    setNodes(old =>\r\n      old.map(itemNode => {\r\n        if (itemNode.id === dataAlter.id) {\r\n          return dataAlter;\r\n        }\r\n        return itemNode;\r\n      })\r\n    );\r\n    setModalAddText(null);\r\n    setModalAddInterval(null);\r\n    setModalAddMenu(null);\r\n  };\r\n\r\n  const actions = [\r\n    {\r\n      icon: (\r\n        <RocketLaunch\r\n          sx={{\r\n            color: \"#3ABA38\"\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Inicio\",\r\n      type: \"start\"\r\n    },\r\n    {\r\n      icon: (\r\n        <LibraryBooks\r\n          sx={{\r\n            color: \"#EC5858\"\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Conteúdo\",\r\n      type: \"content\"\r\n    },\r\n    {\r\n      icon: (\r\n        <DynamicFeed\r\n          sx={{\r\n            color: \"#683AC8\"\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Menu\",\r\n      type: \"menu\"\r\n    },\r\n    {\r\n      icon: (\r\n        <CallSplit\r\n          sx={{\r\n            color: \"#1FBADC\"\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Randomizador\",\r\n      type: \"random\"\r\n    },\r\n    {\r\n      icon: (\r\n        <AccessTime\r\n          sx={{\r\n            color: \"#F7953B\"\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Intervalo\",\r\n      type: \"interval\"\r\n    },\r\n    {\r\n      icon: (\r\n        <ConfirmationNumber\r\n          sx={{\r\n            color: \"#F7953B\"\r\n          }}\r\n        />\r\n      ),\r\n      name: \"Ticket\",\r\n      type: \"ticket\"\r\n    }\r\n  ];\r\n\r\n  const clickActions = type => {\r\n    switch (type) {\r\n      case \"start\":\r\n        addNode(\"start\");\r\n        break;\r\n      case \"menu\":\r\n        setModalAddMenu(\"create\");\r\n        break;\r\n      case \"content\":\r\n        setModalAddSingleBlock(\"create\");\r\n        break;\r\n      case \"random\":\r\n        setModalAddRandomizer(\"create\");\r\n        break;\r\n      case \"interval\":\r\n        setModalAddInterval(\"create\");\r\n        break;\r\n      case \"ticket\":\r\n        setModalAddTicket(\"create\")\r\n      default:\r\n    }\r\n  };\r\n\r\n  return (\r\n    <Stack sx={{ height: \"100vh\" }}>\r\n      <FlowBuilderAddTextModal\r\n        open={modalAddText}\r\n        onSave={textAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddText}\r\n      />\r\n      <FlowBuilderIntervalModal\r\n        open={modalAddInterval}\r\n        onSave={intervalAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddInterval}\r\n      />\r\n      <FlowBuilderConditionModal\r\n        open={modalAddCondition}\r\n        onSave={conditionAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddCondition}\r\n      />\r\n      <FlowBuilderMenuModal\r\n        open={modalAddMenu}\r\n        onSave={menuAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddMenu}\r\n      />\r\n      <FlowBuilderAddImgModal\r\n        open={modalAddImg}\r\n        onSave={imgAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddImg}\r\n      />\r\n      <FlowBuilderAddAudioModal\r\n        open={modalAddAudio}\r\n        onSave={audioAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddAudio}\r\n      />\r\n      <FlowBuilderRandomizerModal\r\n        open={modalAddRandomizer}\r\n        onSave={randomizerAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddRandomizer}\r\n      />\r\n      <FlowBuilderAddVideoModal\r\n        open={modalAddVideo}\r\n        onSave={videoAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddVideo}\r\n      />\r\n      <FlowBuilderSingleBlockModal\r\n        open={modalAddSingleBlock}\r\n        onSave={singleBlockAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddSingleBlock}\r\n      />\r\n      <FlowBuilderTicketModal\r\n        open={modalAddTicket}\r\n        onSave={ticketAdd}\r\n        data={dataNode}\r\n        onUpdate={updateNode}\r\n        close={setModalAddTicket}\r\n      />\r\n      <MainHeader>\r\n        <Title>Desenhe seu fluxo</Title>\r\n      </MainHeader>\r\n      {!loading && (\r\n        <Paper\r\n          className={classes.mainPaper}\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n        >\r\n          <Stack>\r\n            <SpeedDial\r\n              ariaLabel=\"SpeedDial basic example\"\r\n              sx={{\r\n                position: \"absolute\",\r\n                top: 16,\r\n                left: 16,\r\n                \".MuiSpeedDial-fab\": {\r\n                  backgroundColor: colorPrimary(),\r\n                  '&:hover': {\r\n                    backgroundColor: colorPrimary()\r\n                  }\r\n                }\r\n              }}\r\n              icon={<SpeedDialIcon />}\r\n              direction={\"down\"}\r\n            >\r\n              {actions.map(action => (\r\n                <SpeedDialAction\r\n                  key={action.name}\r\n                  icon={action.icon}\r\n                  tooltipTitle={action.name}\r\n                  tooltipOpen\r\n                  tooltipPlacement={\"right\"}\r\n                  onClick={() => clickActions(action.type)}\r\n                />\r\n              ))}\r\n            </SpeedDial>\r\n          </Stack>\r\n          <Stack\r\n            sx={{\r\n              position: \"absolute\",\r\n              justifyContent: \"center\",\r\n              flexDirection: \"row\",\r\n              width: \"100%\"\r\n            }}\r\n          >\r\n            <Typography\r\n              style={{ color: \"#010101\", textShadow: \"#010101 1px 0 10px\" }}\r\n            >\r\n              Não se esqueça de salvar seu fluxo!\r\n            </Typography>\r\n          </Stack>\r\n          <Stack direction={\"row\"} justifyContent={\"end\"}>\r\n            <Button\r\n              sx={{ textTransform: \"none\" }}\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={() => saveFlow()}\r\n            >\r\n              Salvar\r\n            </Button>\r\n          </Stack>\r\n\r\n          <Stack\r\n            direction={\"row\"}\r\n            style={{\r\n              width: \"100%\",\r\n              height: \"90%\",\r\n              position: \"relative\",\r\n              display: \"flex\"\r\n            }}\r\n          >\r\n            <ReactFlow\r\n              nodes={nodes}\r\n              edges={edges}\r\n              deleteKeyCode={[\"Backspace\", \"Delete\"]}\r\n              onNodesChange={onNodesChange}\r\n              onEdgesChange={onEdgesChange}\r\n              onNodeDoubleClick={doubleClick}\r\n              onNodeClick={clickNode}\r\n              onEdgeClick={clickEdge}\r\n              onConnect={onConnect}\r\n              nodeTypes={nodeTypes}\r\n              fitView\r\n              connectionLineStyle={connectionLineStyle}\r\n              style={{\r\n                //backgroundImage: `url(${imgBackground})`,\r\n                //backgroundSize: \"cover\"\r\n                backgroundColor: \"#F8F9FA\"\r\n              }}\r\n              edgeTypes={edgeTypes}\r\n              variant={\"cross\"}\r\n              defaultEdgeOptions={{\r\n                style: { color: \"#ff0000\", strokeWidth: \"6px\" },\r\n                animated: false\r\n              }}\r\n            >\r\n              <Controls />\r\n              <MiniMap />\r\n              <Background variant=\"dots\" gap={12} size={-1} />\r\n            </ReactFlow>\r\n\r\n            <Stack\r\n              style={{\r\n                backgroundColor: \"#FAFAFA\",\r\n                height: \"20px\",\r\n                width: \"58px\",\r\n                position: \"absolute\",\r\n                bottom: 0,\r\n                right: 0,\r\n                zIndex: 1111\r\n              }}\r\n            />\r\n            {/* <Stack\r\n                style={{\r\n                  backgroundColor: \"#1B1B1B\",\r\n                  height: \"70%\",\r\n                  width: \"150px\",\r\n                  position: \"absolute\",\r\n                  left: 0,\r\n                  top: 0,\r\n                  zIndex: 1111,\r\n                  borderRadius: 3,\r\n                  padding: 8\r\n                }}\r\n                spacing={1}\r\n              >\r\n                <Typography style={{ color: \"#ffffff\", textAlign: \"center\" }}>\r\n                  Adicionar\r\n                </Typography>\r\n                <Button\r\n                  onClick={() => addNode(\"start\")}\r\n                  variant=\"contained\"\r\n                  style={{\r\n                    backgroundColor: \"#3ABA38\",\r\n                    color: \"#ffffff\",\r\n                    padding: 8,\r\n                    \"&:hover\": {\r\n                      backgroundColor: \"#3e3b7f\"\r\n                    },\r\n                    textTransform: \"none\"\r\n                  }}\r\n                >\r\n                  <RocketLaunch\r\n                    sx={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\"\r\n                    }}\r\n                  />\r\n                  Inicio\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setModalAddText(\"create\")}\r\n                  variant=\"contained\"\r\n                  style={{\r\n                    backgroundColor: \"#6865A5\",\r\n                    color: \"#ffffff\",\r\n                    padding: 8,\r\n                    textTransform: \"none\"\r\n                  }}\r\n                >\r\n                  <Message\r\n                    sx={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\"\r\n                    }}\r\n                  />\r\n                  Texto\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setModalAddInterval(\"create\")}\r\n                  variant=\"contained\"\r\n                  style={{\r\n                    backgroundColor: \"#F7953B\",\r\n                    color: \"#ffffff\",\r\n                    padding: 8,\r\n                    textTransform: \"none\"\r\n                  }}\r\n                >\r\n                  <AccessTime\r\n                    sx={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\"\r\n                    }}\r\n                  />\r\n                  Intervalo\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setModalAddCondition(\"create\")}\r\n                  variant=\"contained\"\r\n                  disabled\r\n                  style={{\r\n                    backgroundColor: \"#524d4d\",\r\n                    color: \"#cccaed\",\r\n                    padding: 8,\r\n                    textTransform: \"none\"\r\n                  }}\r\n                >\r\n                  <ImportExport\r\n                    sx={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\"\r\n                    }}\r\n                  />\r\n                  Condição\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setModalAddMenu(\"create\")}\r\n                  variant=\"contained\"\r\n                  style={{\r\n                    backgroundColor: \"#683AC8\",\r\n                    color: \"#ffffff\",\r\n                    padding: 8,\r\n                    textTransform: \"none\"\r\n                  }}\r\n                >\r\n                  <DynamicFeed\r\n                    sx={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\"\r\n                    }}\r\n                  />\r\n                  Menu\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setModalAddAudio(\"create\")}\r\n                  variant=\"contained\"\r\n                  style={{\r\n                    backgroundColor: \"#6865A5\",\r\n                    color: \"#ffffff\",\r\n                    padding: 8,\r\n                    textTransform: \"none\"\r\n                  }}\r\n                >\r\n                  <MicNone\r\n                    sx={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\"\r\n                    }}\r\n                  />\r\n                  Audio\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setModalAddVideo(\"create\")}\r\n                  variant=\"contained\"\r\n                  style={{\r\n                    backgroundColor: \"#6865A5\",\r\n                    color: \"#ffffff\",\r\n                    padding: 8,\r\n                    textTransform: \"none\"\r\n                  }}\r\n                >\r\n                  <Videocam\r\n                    sx={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\"\r\n                    }}\r\n                  />\r\n                  Video\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setModalAddImg(\"create\")}\r\n                  variant=\"contained\"\r\n                  style={{\r\n                    backgroundColor: \"#6865A5\",\r\n                    color: \"#ffffff\",\r\n                    padding: 8,\r\n                    textTransform: \"none\"\r\n                  }}\r\n                >\r\n                  <Image\r\n                    sx={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\"\r\n                    }}\r\n                  />\r\n                  Imagem\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setModalAddRandomizer(\"create\")}\r\n                  variant=\"contained\"\r\n                  style={{\r\n                    backgroundColor: \"#1FBADC\",\r\n                    color: \"#ffffff\",\r\n                    padding: 8,\r\n                    textTransform: \"none\"\r\n                  }}\r\n                >\r\n                  <CallSplit\r\n                    sx={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\"\r\n                    }}\r\n                  />\r\n                  Randomizador\r\n                </Button>\r\n                <Button\r\n                  onClick={() => setModalAddSingleBlock(\"create\")}\r\n                  variant=\"contained\"\r\n                  style={{\r\n                    backgroundColor: \"#EC5858\",\r\n                    color: \"#ffffff\",\r\n                    padding: 8,\r\n                    textTransform: \"none\"\r\n                  }}\r\n                >\r\n                  <LibraryBooks\r\n                    sx={{\r\n                      width: \"16px\",\r\n                      height: \"16px\",\r\n                      marginRight: \"4px\"\r\n                    }}\r\n                  />\r\n                  Conteúdo\r\n                </Button>\r\n              </Stack> */}\r\n          </Stack>\r\n        </Paper>\r\n      )}\r\n      {loading && (\r\n        <Stack justifyContent={\"center\"} alignItems={\"center\"} height={\"70vh\"}>\r\n          <CircularProgress />\r\n        </Stack>\r\n      )}\r\n    </Stack>\r\n  );\r\n};","import React, { useContext } from \"react\";\r\nimport {\r\n  getBezierPath,\r\n  getEdgeCenter,\r\n  getMarkerEnd\r\n} from \"react-flow-renderer\";\r\n\r\nimport \"./css/buttonedge.css\";\r\nimport { Delete } from \"@mui/icons-material\";\r\n\r\nconst onEdgeClick = (evt, id) => {\r\n  evt.stopPropagation();\r\n  //removeEdgeList(id);\r\n};\r\n\r\nexport default function removeEdge({\r\n  id,\r\n  sourceX,\r\n  sourceY,\r\n  targetX,\r\n  targetY,\r\n  sourcePosition,\r\n  targetPosition,\r\n  style = {},\r\n  data,\r\n  arrowHeadType,\r\n  markerEndId\r\n}) {\r\n  const edgePath = getBezierPath({\r\n    sourceX,\r\n    sourceY,\r\n    sourcePosition,\r\n    targetX,\r\n    targetY,\r\n    targetPosition\r\n  });\r\n  const markerEnd = getMarkerEnd(arrowHeadType, markerEndId);\r\n  const [edgeCenterX, edgeCenterY] = getEdgeCenter({\r\n    sourceX,\r\n    sourceY,\r\n    targetX,\r\n    targetY\r\n  });\r\n\r\n  const foreignObjectSize = 40;\r\n\r\n  return (\r\n    <>\r\n      <path\r\n        id={id}\r\n        style={style}\r\n        className=\"react-flow__edge-path\"\r\n        d={edgePath}\r\n        markerEnd={markerEnd}\r\n      />\r\n      <foreignObject\r\n        width={foreignObjectSize}\r\n        height={foreignObjectSize}\r\n        x={edgeCenterX - foreignObjectSize / 2}\r\n        y={edgeCenterY - foreignObjectSize / 2}\r\n        className=\"edgebutton-foreignobject\"\r\n        requiredExtensions=\"http://www.w3.org/1999/xhtml\"\r\n      >\r\n        <body>\r\n          {/* <button\r\n            className=\"edgebutton\"\r\n            onClick={event => onEdgeClick(event, id)}\r\n          >\r\n            <Delete sx={{ width: \"12px\", height: \"12px\", color: \"#0000FF\" }} />\r\n          </button> */}\r\n        </body>\r\n      </foreignObject>\r\n    </>\r\n  );\r\n}\r\n","export const colorBack = () => {\r\n\r\n  return \"#0000FF\";\r\n};\r\n\r\nexport const colorPrimary = () => {\r\n\r\n  return \"#0000FF\";\r\n};\r\n\r\nexport const colorIconesMenu = () => {\r\n\r\n  return \"#07074a\";\r\n};\r\n\r\nexport const colorTitleTable = () => {\r\n\r\n  return \"#e5e5e5\";\r\n};\r\n\r\nexport const colorTopTable = () => {\r\n\r\n  return \"#ededed\";\r\n};\r\n\r\nexport const colorBackgroundTable = () => {\r\n\r\n  return \"#2a273b\";\r\n};\r\n\r\nexport const colorLineTable = () => {\r\n\r\n  return \"#0000FF\";\r\n};\r\n\r\nexport const colorLineTableHover = () => {\r\n\r\n  return '#07074a';\r\n};\r\n\r\nexport const colorTopbar = () => {\r\n\r\n  return \"#141414\";\r\n};\r\n\r\n\r\n","import React, { useState, useEffect, useRef } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, FieldArray, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n\troot: {\r\n\t\tdisplay: \"flex\",\r\n\t\tflexWrap: \"wrap\",\r\n\t},\r\n\ttextField: {\r\n\t\tmarginRight: theme.spacing(1),\r\n\t\tflex: 1,\r\n\t},\r\n\r\n\textraAttr: {\r\n\t\tdisplay: \"flex\",\r\n\t\tjustifyContent: \"center\",\r\n\t\talignItems: \"center\",\r\n\t},\r\n\r\n\tbtnWrapper: {\r\n\t\tposition: \"relative\",\r\n\t},\r\n\r\n\tbuttonProgress: {\r\n\t\tcolor: green[500],\r\n\t\tposition: \"absolute\",\r\n\t\ttop: \"50%\",\r\n\t\tleft: \"50%\",\r\n\t\tmarginTop: -12,\r\n\t\tmarginLeft: -12,\r\n\t},\r\n}));\r\n\r\nconst ContactSchema = Yup.object().shape({\r\n\tname: Yup.string()\r\n\t\t.min(2, \"Muito curto!\")\r\n\t\t.max(50, \"Muito longo!\")\r\n\t\t.required(\"Digite um nome!\"),\r\n});\r\n\r\nconst FlowBuilderModal = ({ open, onClose, flowId, nameWebhook = \"\", initialValues, onSave }) => {\r\n\tconst classes = useStyles();\r\n\tconst isMounted = useRef(true);\r\n\r\n\tconst [contact, setContact] = useState({\r\n\t\tname: nameWebhook,\r\n\t});\r\n\r\n\tuseEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tisMounted.current = false;\r\n\t\t};\r\n\t}, []);\r\n\r\n\tconst handleClose = () => {\r\n\t\tonClose();\r\n\t\tsetContact({\r\n\t\t\tname: \"\",\r\n\t\t});\r\n\t};\r\n\r\n\tconst handleSaveContact = async values => {\r\n\t\tif(flowId){\r\n\t\t\ttry {\r\n\t\t\t\tawait api.put(\"/flowbuilder\", {\r\n\t\t\t\t\tname: values.name,\r\n\t\t\t\t\tflowId\r\n\t\t\t\t  });\r\n\t\t\t\t  onSave(values.name)\r\n\t\t\t\t  handleClose()\r\n\t\t\t\ttoast.success(i18n.t(\"webhookModal.toasts.update\"));\r\n\t\t\t} catch (err) {\r\n\t\t\t\ttoastError(err);\r\n\t\t\t}\r\n\t\t} else {\r\n\t\ttry {\r\n\t\t\tawait api.post(\"/flowbuilder\", {\r\n\t\t\t\tname: values.name,\r\n\t\t\t  });\r\n\t\t\t  onSave(values.name)\r\n\t\t\t  handleClose()\r\n\t\t\ttoast.success(i18n.t(\"webhookModal.saveSuccess\"));\r\n\t\t} catch (err) {\r\n\t\t\ttoastError(err);\r\n\t\t}\r\n\t}\r\n\t};\r\n\t\r\n\treturn (\r\n\t\t<div className={classes.root}>\r\n\t\t\t<Dialog open={open} onClose={handleClose} fullWidth=\"md\" scroll=\"paper\">\r\n\t\t\t\t<DialogTitle id=\"form-dialog-title\">\r\n\t\t\t\t\t{flowId\r\n\t\t\t\t\t\t? `Editar Fluxo`\r\n\t\t\t\t\t\t: `Adicionar Fluxo`}\r\n\t\t\t\t</DialogTitle>\r\n\t\t\t\t<Formik\r\n\t\t\t\t\tinitialValues={contact}\r\n\t\t\t\t\tenableReinitialize={true}\r\n\t\t\t\t\tvalidationSchema={ContactSchema}\r\n\t\t\t\t\tonSubmit={(values, actions) => {\r\n\t\t\t\t\t\tsetTimeout(() => {\r\n\t\t\t\t\t\t\thandleSaveContact(values);\r\n\t\t\t\t\t\t\tactions.setSubmitting(false);\r\n\t\t\t\t\t\t}, 400);\r\n\t\t\t\t\t}}\r\n\t\t\t\t>\r\n\t\t\t\t\t{({ values, errors, touched, isSubmitting }) => (\r\n\t\t\t\t\t\t<Form>\r\n\t\t\t\t\t\t\t<DialogContent dividers>\r\n\t\t\t\t\t\t\t\t<Field\r\n\t\t\t\t\t\t\t\t\tas={TextField}\r\n\t\t\t\t\t\t\t\t\tlabel={i18n.t(\"contactModal.form.name\")}\r\n\t\t\t\t\t\t\t\t\tname=\"name\"\r\n\t\t\t\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\t\t\t\tdefaultValue={contact.name}\r\n\t\t\t\t\t\t\t\t\terror={Boolean(errors.name)}\r\n\t\t\t\t\t\t\t\t\thelperText={errors.name}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t\tmargin=\"dense\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.textField}\r\n\t\t\t\t\t\t\t\t\tstyle={{width: '95%'}}\r\n\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t</DialogContent>\r\n\t\t\t\t\t\t\t<DialogActions>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\tonClick={handleClose}\r\n\t\t\t\t\t\t\t\t\tcolor=\"secondary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"outlined\"\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{i18n.t(\"contactModal.buttons.cancel\")}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t\t<Button\r\n\t\t\t\t\t\t\t\t\ttype=\"submit\"\r\n\t\t\t\t\t\t\t\t\tcolor=\"primary\"\r\n\t\t\t\t\t\t\t\t\tdisabled={isSubmitting}\r\n\t\t\t\t\t\t\t\t\tvariant=\"contained\"\r\n\t\t\t\t\t\t\t\t\tclassName={classes.btnWrapper}\r\n\t\t\t\t\t\t\t\t>\r\n\t\t\t\t\t\t\t\t\t{flowId\r\n\t\t\t\t\t\t\t\t\t\t? `${i18n.t(\"contactModal.buttons.okEdit\")}`\r\n\t\t\t\t\t\t\t\t\t\t: `${i18n.t(\"contactModal.buttons.okAdd\")}`}\r\n\t\t\t\t\t\t\t\t\t{isSubmitting && (\r\n\t\t\t\t\t\t\t\t\t\t<CircularProgress\r\n\t\t\t\t\t\t\t\t\t\t\tsize={24}\r\n\t\t\t\t\t\t\t\t\t\t\tclassName={classes.buttonProgress}\r\n\t\t\t\t\t\t\t\t\t\t/>\r\n\t\t\t\t\t\t\t\t\t)}\r\n\t\t\t\t\t\t\t\t</Button>\r\n\t\t\t\t\t\t\t</DialogActions>\r\n\t\t\t\t\t\t</Form>\r\n\t\t\t\t\t)}\r\n\t\t\t\t</Formik>\r\n\t\t\t</Dialog>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default FlowBuilderModal;\r\n","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport api from \"../../services/api\";\r\n\r\nimport { AddCircle, DevicesFold, MoreVert } from \"@mui/icons-material\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport NewTicketModal from \"../../components/NewTicketModal\";\r\nimport Title from \"../../components/Title\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport {\r\n  Button,\r\n  CircularProgress,\r\n  Grid,\r\n  Menu,\r\n  MenuItem,\r\n  Stack,\r\n} from \"@mui/material\";\r\n\r\nimport FlowBuilderModal from \"../../components/FlowBuilderModal\";\r\n\r\nimport {\r\n  colorBackgroundTable,\r\n  colorLineTable,\r\n  colorLineTableHover,\r\n  colorPrimary,\r\n  colorTitleTable,\r\n  colorTopTable,\r\n} from \"../../styles/styles\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTS\") {\r\n    const contacts = action.payload;\r\n    const newContacts = [];\r\n\r\n    contacts.forEach((contact) => {\r\n      const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n      if (contactIndex !== -1) {\r\n        state[contactIndex] = contact;\r\n      } else {\r\n        newContacts.push(contact);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContacts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTS\") {\r\n    const contact = action.payload;\r\n    const contactIndex = state.findIndex((c) => c.id === contact.id);\r\n\r\n    if (contactIndex !== -1) {\r\n      state[contactIndex] = contact;\r\n      return [...state];\r\n    } else {\r\n      return [contact, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACT\") {\r\n    const contactId = action.payload;\r\n\r\n    const contactIndex = state.findIndex((c) => c.id === contactId);\r\n    if (contactIndex !== -1) {\r\n      state.splice(contactIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    backgroundColor: colorBackgroundTable(),\r\n    borderRadius: 12,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst FlowBuilder = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contacts, dispatch] = useReducer(reducer, []);\r\n  const [webhooks, setWebhooks] = useState([]);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [selectedWebhookName, setSelectedWebhookName] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n  const [contactTicket, setContactTicket] = useState({});\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [confirmDuplicateOpen, setConfirmDuplicateOpen] = useState(false);\r\n\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [reloadData, setReloadData] = useState(false);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/flowbuilder\");\r\n          setWebhooks(data.flows);\r\n          dispatch({ type: \"LOAD_CONTACTS\", payload: data.flows });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchContacts();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber, reloadData]);\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n\r\n    const onContact = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\r\n      }\r\n    };\r\n\r\n    socket.on(`company-${companyId}-contact`, onContact);\r\n\r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleOpenContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const handleCloseOrOpenTicket = (ticket) => {\r\n    setNewTicketModalOpen(false);\r\n    if (ticket !== undefined && ticket.uuid !== undefined) {\r\n      history.push(`/tickets/${ticket.uuid}`);\r\n    }\r\n  };\r\n\r\n  const hadleEditContact = () => {\r\n    setSelectedContactId(deletingContact.id);\r\n    setSelectedWebhookName(deletingContact.name);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteWebhook = async (webhookId) => {\r\n    try {\r\n      await api.delete(`/flowbuilder/${webhookId}`).then((res) => {\r\n        setDeletingContact(null);\r\n        setReloadData((old) => !old);\r\n      });\r\n      toast.success(\"Fluxo excluído com sucesso\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleDuplicateFlow = async (flowId) => {\r\n    try {\r\n      await api\r\n        .post(`/flowbuilder/duplicate`, { flowId: flowId })\r\n        .then((res) => {\r\n          setDeletingContact(null);\r\n          setReloadData((old) => !old);\r\n        });\r\n      toast.success(\"Fluxo duplicado com sucesso\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const [anchorEl, setAnchorEl] = useState(null);\r\n\r\n  const open = Boolean(anchorEl);\r\n\r\n  const handleClick = (event) => {\r\n    setAnchorEl(event.currentTarget);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setAnchorEl(null);\r\n  };\r\n\r\n  const exportLink = () => {\r\n    history.push(`/flowbuilder/${deletingContact.id}`);\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <NewTicketModal\r\n        modalOpen={newTicketModalOpen}\r\n        initialContact={contactTicket}\r\n        onClose={(ticket) => {\r\n          handleCloseOrOpenTicket(ticket);\r\n        }}\r\n      />\r\n      <FlowBuilderModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        flowId={selectedContactId}\r\n        nameWebhook={selectedWebhookName}\r\n        onSave={() => setReloadData((old) => !old)}\r\n      ></FlowBuilderModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${\r\n                deletingContact.name\r\n              }?`\r\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmOpen}\r\n        onClose={setConfirmOpen}\r\n        onConfirm={(e) =>\r\n          deletingContact ? handleDeleteWebhook(deletingContact.id) : () => {}\r\n        }\r\n      >\r\n        {deletingContact\r\n          ? `Tem certeza que deseja deletar este fluxo? Todas as integrações relacionados serão perdidos.`\r\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\r\n      </ConfirmationModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `Deseja duplicar o fluxo ${deletingContact.name}?`\r\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmDuplicateOpen}\r\n        onClose={setConfirmDuplicateOpen}\r\n        onConfirm={(e) =>\r\n          deletingContact ? handleDuplicateFlow(deletingContact.id) : () => {}\r\n        }\r\n      >\r\n        {deletingContact\r\n          ? `Tem certeza que deseja duplicar este fluxo?`\r\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\r\n      </ConfirmationModal>\r\n      <MainHeader>\r\n        <Title>Fluxos de conversa</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              style: {\r\n                color: colorTitleTable(),\r\n              },\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            onClick={handleOpenContactModal}\r\n            style={{\r\n              textTransform: \"none\",\r\n              backgroundColor: colorPrimary(),\r\n              borderRadius: \"22px\",\r\n            }}\r\n          >\r\n            <Stack direction={\"row\"} gap={1}>\r\n              <AddCircle />\r\n              {\"Adicionar Fluxo\"}\r\n            </Stack>\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Stack>\r\n          <Grid container style={{ padding: \"8px\" }}>\r\n            <Grid item xs={4} style={{ color: colorTopTable() }}>\r\n              {i18n.t(\"contacts.table.name\")}\r\n            </Grid>\r\n            <Grid item xs={4} style={{ color: colorTopTable() }} align=\"center\">\r\n              Status\r\n            </Grid>\r\n            <Grid item xs={4} align=\"end\" style={{ color: colorTopTable() }}>\r\n              {i18n.t(\"contacts.table.actions\")}\r\n            </Grid>\r\n          </Grid>\r\n          <>\r\n            {webhooks.map((contact) => (\r\n              <Grid\r\n                container\r\n                key={contact.id}\r\n                sx={{\r\n                  padding: \"8px\",\r\n                  backgroundColor: colorLineTable(),\r\n                  borderRadius: 2,\r\n                  marginTop: 0.5,\r\n                  \"&:hover\": {\r\n                    backgroundColor: colorLineTableHover(),\r\n                  },\r\n                }}\r\n              >\r\n                <Grid\r\n                  item\r\n                  xs={4}\r\n                  onClick={() => history.push(`/flowbuilder/${contact.id}`)}\r\n                >\r\n                  <Stack\r\n                    justifyContent={\"center\"}\r\n                    height={\"100%\"}\r\n                    style={{ color: \"#ededed\" }}\r\n                  >\r\n                    <Stack direction={\"row\"}>\r\n                      <DevicesFold />\r\n                      <Stack justifyContent={\"center\"} marginLeft={1}>\r\n                        {contact.name}\r\n                      </Stack>\r\n                    </Stack>\r\n                  </Stack>\r\n                </Grid>\r\n                <Grid\r\n                  item\r\n                  xs={4}\r\n                  align=\"center\"\r\n                  style={{ color: \"#ededed\" }}\r\n                  onClick={() => history.push(`/flowbuilder/${contact.id}`)}\r\n                >\r\n                  <Stack justifyContent={\"center\"} height={\"100%\"}>\r\n                    {contact.active ? \"Ativo\" : \"Desativado\"}\r\n                  </Stack>\r\n                </Grid>\r\n                <Grid item xs={4} align=\"end\">\r\n                  <Button\r\n                    id=\"basic-button\"\r\n                    aria-controls={open ? \"basic-menu\" : undefined}\r\n                    aria-haspopup=\"true\"\r\n                    aria-expanded={open ? \"true\" : undefined}\r\n                    onClick={(e) => {\r\n                      handleClick(e);\r\n                      setDeletingContact(contact);\r\n                    }}\r\n                    sx={{ borderRadius: \"36px\", minWidth: \"24px\" }}\r\n                  >\r\n                    <MoreVert\r\n                      sx={{ color: \"#ededed\", width: \"21px\", height: \"21px\" }}\r\n                    />\r\n                  </Button>\r\n                  {/* <IconButton\r\n                    size=\"small\"\r\n                    onClick={() => hadleEditContact(contact.id, contact.name)}\r\n                  >\r\n                    <EditIcon style={{ color: \"#ededed\" }} />\r\n                  </IconButton>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={e => {\r\n                      setConfirmDuplicateOpen(true);\r\n                      setDeletingContact(contact);\r\n                    }}\r\n                  >\r\n                    <ContentCopy style={{ color: \"#ededed\" }} />\r\n                  </IconButton>\r\n                  <IconButton\r\n                    size=\"small\"\r\n                    onClick={() => history.push(`/flowbuilder/${contact.id}`)}\r\n                  >\r\n                    <Stack sx={{ width: 24 }}>\r\n                      <Build sx={{ width: 20, color: \"#ededed\" }} />\r\n                    </Stack>\r\n                  </IconButton>\r\n                  <Can\r\n                    role={user.profile}\r\n                    perform=\"contacts-page:deleteContact\"\r\n                    yes={() => (\r\n                      <IconButton\r\n                        size=\"small\"\r\n                        onClick={e => {\r\n                          setConfirmOpen(true);\r\n                          setDeletingContact(contact);\r\n                        }}\r\n                      >\r\n                        <DeleteOutlineIcon style={{ color: \"#ededed\" }} />\r\n                      </IconButton>\r\n                    )}\r\n                  /> */}\r\n                </Grid>\r\n              </Grid>\r\n            ))}\r\n            <Menu\r\n              id=\"basic-menu\"\r\n              anchorEl={anchorEl}\r\n              open={open}\r\n              sx={{ borderRadius: \"40px\" }}\r\n              onClose={handleClose}\r\n              MenuListProps={{\r\n                \"aria-labelledby\": \"basic-button\",\r\n              }}\r\n            >\r\n              <MenuItem\r\n                onClick={() => {\r\n                  handleClose();\r\n                  hadleEditContact();\r\n                }}\r\n              >\r\n                Editar nome\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={() => {\r\n                  handleClose();\r\n                  exportLink();\r\n                }}\r\n              >\r\n                Editar fluxo\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={() => {\r\n                  handleClose();\r\n                  setConfirmDuplicateOpen(true);\r\n                }}\r\n              >\r\n                Duplicar\r\n              </MenuItem>\r\n              <MenuItem\r\n                onClick={() => {\r\n                  handleClose();\r\n                  setConfirmOpen(true);\r\n                }}\r\n              >\r\n                Excluir\r\n              </MenuItem>\r\n            </Menu>\r\n            {loading && (\r\n              <Stack\r\n                justifyContent={\"center\"}\r\n                alignItems={\"center\"}\r\n                minHeight={\"50vh\"}\r\n              >\r\n                <CircularProgress />\r\n              </Stack>\r\n            )}\r\n          </>\r\n        </Stack>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default FlowBuilder;\r\n","import { createContext } from \"react\";\r\nimport openSocket from \"socket.io-client\";\r\n// import config from \"../../services/config\";\r\n\r\nconst socketManager = {\r\n\tcurrentSocket: null,\r\n\r\n\tGetSocket: function () {\r\n\t\tconst publicToken = localStorage.getItem(\"public-token\");\r\n\r\n\t\tif (publicToken !== this.currentToken) {\r\n\t\t\tif (this.currentSocket) {\r\n\t\t\t\tthis.currentSocket.disconnect();\r\n\t\t\t}\r\n\r\n\t\t\tthis.currentToken = publicToken;\r\n\t\t\tthis.currentSocket = openSocket(process.env.REACT_APP_BACKEND_URL, {\r\n\t\t\t\ttransports: [\"websocket\"],\r\n\t\t\t\tpingTimeout: 18000,\r\n\t\t\t\tpingInterval: 18000,\r\n\t\t\t\tquery: publicToken ? { token: publicToken } : {},\r\n\t\t\t\t// auth: publicToken ? { token: publicToken } : {},\r\n\t\t\t});\r\n\t\t}\r\n\t\treturn this.currentSocket;\r\n\t},\r\n\r\n\tonConnect: function (callbackConnect) {\r\n\t\tif (this.currentSocket && this.currentSocket.connected) {\r\n\t\t\tcallbackConnect();\r\n\t\t}\r\n\t\tthis.currentSocket.on(\"connect\", callbackConnect);\r\n\t},\r\n};\r\n\r\nconst SocketContext = createContext()\r\n\r\nexport { SocketContext, socketManager };\r\n","import React, { useState, useEffect, useReducer, useContext } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\n\r\nimport api from \"../../services/api\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport NewTicketModal from \"../../components/NewTicketModal\";\r\nimport { SocketContext } from \"../../context/Socket/SocketContext\";\r\n\r\nimport {\r\n  AddCircle,\r\n  Build,\r\n  ContentCopy,\r\n  DevicesFold,\r\n  MoreVert,\r\n  WebhookOutlined\r\n} from \"@mui/icons-material\";\r\nimport {\r\n  Autocomplete,\r\n  Button,\r\n  Chip,\r\n  CircularProgress,\r\n  Grid,\r\n  Menu,\r\n  MenuItem,\r\n  Stack,\r\n  Typography\r\n} from \"@mui/material\";\r\nimport FlowBuilderModal from \"../../components/FlowBuilderModal\";\r\nimport {\r\n  colorBackgroundTable,\r\n  colorLineTable,\r\n  colorLineTableHover,\r\n  colorPrimary,\r\n  colorTitleTable,\r\n  colorTopTable\r\n} from \"../../styles/styles\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CONTACTS\") {\r\n    const contacts = action.payload;\r\n    const newContacts = [];\r\n\r\n    contacts.forEach(contact => {\r\n      const contactIndex = state.findIndex(c => c.id === contact.id);\r\n      if (contactIndex !== -1) {\r\n        state[contactIndex] = contact;\r\n      } else {\r\n        newContacts.push(contact);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newContacts];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CONTACTS\") {\r\n    const contact = action.payload;\r\n    const contactIndex = state.findIndex(c => c.id === contact.id);\r\n\r\n    if (contactIndex !== -1) {\r\n      state[contactIndex] = contact;\r\n      return [...state];\r\n    } else {\r\n      return [contact, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CONTACT\") {\r\n    const contactId = action.payload;\r\n\r\n    const contactIndex = state.findIndex(c => c.id === contactId);\r\n    if (contactIndex !== -1) {\r\n      state.splice(contactIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    backgroundColor: \"#ffff\",\r\n    borderRadius: 12,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles\r\n  }\r\n}));\r\n\r\nconst FlowDefault = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory();\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [contacts, dispatch] = useReducer(reducer, []);\r\n  const [webhooks, setWebhooks] = useState([]);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [selectedWebhookName, setSelectedWebhookName] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [newTicketModalOpen, setNewTicketModalOpen] = useState(false);\r\n  const [contactTicket, setContactTicket] = useState({});\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [confirmDuplicateOpen, setConfirmDuplicateOpen] = useState(false);\r\n\r\n  const [configExist, setConfigExist] = useState(false)\r\n\r\n  const [flowsData, setFlowsData] = useState([]);\r\n  const [flowsDataObj, setFlowsDataObj] = useState([]);\r\n\r\n  const [flowSelectedWelcome, setFlowSelectedWelcome] = useState(null);\r\n\r\n  const [flowSelectedPhrase, setFlowSelectedPhrase] = useState(null);\r\n\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [reloadData, setReloadData] = useState(false);\r\n\r\n const { user, socket } = useContext(AuthContext);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  const getFlows = async () => {\r\n    return await api.get(\"/flowbuilder\").then(res => {\r\n      setFlowsData(res.data.flows.map(flow => flow.name));\r\n      setFlowsDataObj(res.data.flows);\r\n      return res.data.flows\r\n    });\r\n  };\r\n\r\n  const getFlowsDefault = async (flowData) => {\r\n    await api.get(\"/flowdefault\").then(res => {\r\n      if (res.data.flow?.companyId) {\r\n        setConfigExist(true)\r\n      }\r\n      if (res.data.flow?.flowIdWelcome) {\r\n        const flowName = flowData.filter(item => item.id === res.data.flow.flowIdWelcome)\r\n        if (flowName.length > 0) {\r\n          setFlowSelectedWelcome(flowName[0].name);\r\n        } else {\r\n          setFlowSelectedWelcome()\r\n        }\r\n\r\n      }\r\n      if (res.data.flow?.flowIdNotPhrase) {\r\n        const flowName = flowData.filter(item => item.id === res.data.flow.flowIdNotPhrase)\r\n        if (flowName.length > 0) {\r\n          setFlowSelectedPhrase(flowName[0].name);\r\n        } else {\r\n          setFlowSelectedPhrase();\r\n        }\r\n\r\n      }\r\n      setLoading(false)\r\n    });\r\n  };\r\n\r\n  useEffect(() => {\r\n    const companyId = localStorage.getItem(\"companyId\");\r\n\r\n    const onContact = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_CONTACTS\", payload: data.contact });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_CONTACT\", payload: +data.contactId });\r\n      }\r\n    }\r\n\r\n    socket.on(`company-${companyId}-contact`, onContact);\r\n\r\n    getFlows().then(res => {\r\n      getFlowsDefault(res)\r\n    })\r\n    \r\n    return () => {\r\n      socket.disconnect();\r\n    };\r\n  }, []);\r\n\r\n\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const handleCloseOrOpenTicket = ticket => {\r\n    setNewTicketModalOpen(false);\r\n    if (ticket !== undefined && ticket.uuid !== undefined) {\r\n      history.push(`/tickets/${ticket.uuid}`);\r\n    }\r\n  };\r\n\r\n  const handleDeleteWebhook = async webhookId => {\r\n    try {\r\n      await api.delete(`/flowbuilder/${webhookId}`).then(res => {\r\n        setDeletingContact(null);\r\n        setReloadData(old => !old);\r\n      });\r\n      toast.success(\"Fluxo excluído com sucesso\");\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSaveDefault = async () => {\r\n\r\n    let idWelcome = flowsDataObj.filter(item => item.name === flowSelectedWelcome)\r\n    let idPhrase = flowsDataObj.filter(item => item.name === flowSelectedPhrase)\r\n    if (idWelcome.length === 0) {\r\n      idWelcome = null\r\n    } else {\r\n      idWelcome = idWelcome[0].id\r\n    }\r\n    if (idPhrase.length === 0) {\r\n      idPhrase = null\r\n    } else {\r\n      idPhrase = idPhrase[0].id\r\n    }\r\n\r\n    if (configExist) {\r\n      try {\r\n        await api.put(`/flowdefault`, { flowIdWelcome: idWelcome, flowIdPhrase: idPhrase }).then(res => {\r\n          setDeletingContact(null);\r\n          setReloadData(old => !old);\r\n        });\r\n        toast.success(\"Fluxos padrões atualizados\");\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    } else {\r\n      try {\r\n        await api.post(`/flowdefault`, { flowIdWelcome: idWelcome, flowIdPhrase: idPhrase }).then(res => {\r\n          setDeletingContact(null);\r\n          setReloadData(old => !old);\r\n        });\r\n        toast.success(\"Fluxos padrões atualizados\");\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    }\r\n\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber(prevState => prevState + 1);\r\n  };\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <NewTicketModal\r\n        modalOpen={newTicketModalOpen}\r\n        initialContact={contactTicket}\r\n        onClose={ticket => {\r\n          handleCloseOrOpenTicket(ticket);\r\n        }}\r\n      />\r\n      <FlowBuilderModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        flowId={selectedContactId}\r\n        nameWebhook={selectedWebhookName}\r\n        onSave={() => setReloadData(old => !old)}\r\n      ></FlowBuilderModal>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingContact\r\n            ? `${i18n.t(\"contacts.confirmationModal.deleteTitle\")} ${deletingContact.name\r\n            }?`\r\n            : `${i18n.t(\"contacts.confirmationModal.importTitlte\")}`\r\n        }\r\n        open={confirmOpen}\r\n        onClose={setConfirmOpen}\r\n        onConfirm={e =>\r\n          deletingContact ? handleDeleteWebhook(deletingContact.id) : () => { }\r\n        }\r\n      >\r\n        {deletingContact\r\n          ? `Tem certeza que deseja deletar este fluxo? Todas as integrações relacionados serão perdidos.`\r\n          : `${i18n.t(\"contacts.confirmationModal.importMessage\")}`}\r\n      </ConfirmationModal>\r\n      <MainHeader>\r\n        <Title>Fluxo padrão</Title>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n      >\r\n        <Stack sx={{ padding: '12px', position: 'relative' }}>\r\n          <Stack sx={{ position: 'absolute', right: 0 }}>\r\n            <Button onClick={() => handleSaveDefault()} variant=\"contained\" sx={{\r\n              backgroundColor: colorPrimary(), '&:hover': {\r\n                backgroundColor: `${colorPrimary()}90`\r\n              }\r\n            }}>Salvar</Button>\r\n          </Stack>\r\n          <Stack gap={'12px'}>\r\n            <Typography fontSize={18} fontWeight={700}>Fluxo de boas vindas</Typography>\r\n            <Typography fontSize={12}>\r\n              Este fluxo é disparado apenas para novos contatos, pessoas que voce\r\n              não possui em sua lista de contatos e que mandaram uma mensagem\r\n            </Typography>\r\n            {!loading && (<Autocomplete\r\n              disablePortal\r\n              id=\"combo-box-demo\"\r\n              value={flowSelectedWelcome}\r\n              options={flowsData}\r\n              onChange={(event, newValue) => {\r\n                setFlowSelectedWelcome(newValue);\r\n              }}\r\n              sx={{ width: \"100%\" }}\r\n              renderInput={params => (\r\n                <TextField\r\n                  {...params}\r\n                  variant=\"outlined\"\r\n                  placeholder=\"Escolha um fluxo\"\r\n                />\r\n              )}\r\n              renderTags={(value, getTagProps) =>\r\n                value.map((option, index) => (\r\n                  <Chip\r\n                    variant=\"outlined\"\r\n                    label={option}\r\n                    {...getTagProps({ index })}\r\n                    style={{ borderRadius: \"8px\" }}\r\n                  />\r\n                ))\r\n              }\r\n            />)}\r\n            {loading && (<Stack alignSelf={'center'}>\r\n              <CircularProgress sx={{ color: colorPrimary() }} />\r\n            </Stack>)}\r\n          </Stack>\r\n\r\n          <Stack gap={'12px'} marginTop={4}>\r\n            <Typography fontSize={18} fontWeight={700}>Fluxo de resposta padrão</Typography>\r\n            <Typography fontSize={12}>\r\n              Resposta Padrão é enviada com qualquer caractere diferente de uma palavra chave. ATENÇÃO! Será disparada se o atendimento ja estiver fechado e passado 6 horas do seu fechamento.\r\n            </Typography>\r\n            {!loading && (<Autocomplete\r\n              disablePortal\r\n              id=\"combo-box-demo\"\r\n              value={flowSelectedPhrase}\r\n              options={flowsData}\r\n              onChange={(event, newValue) => {\r\n                setFlowSelectedPhrase(newValue);\r\n              }}\r\n              sx={{ width: \"100%\" }}\r\n              renderInput={params => (\r\n                <TextField\r\n                  {...params}\r\n                  variant=\"outlined\"\r\n                  placeholder=\"Escolha um fluxo\"\r\n                />\r\n              )}\r\n              renderTags={(value, getTagProps) =>\r\n                value.map((option, index) => (\r\n                  <Chip\r\n                    variant=\"outlined\"\r\n                    label={option}\r\n                    {...getTagProps({ index })}\r\n                    style={{ borderRadius: \"8px\" }}\r\n                  />\r\n                ))\r\n              }\r\n            />)}\r\n            {loading && (<Stack alignSelf={'center'}>\r\n              <CircularProgress sx={{ color: colorPrimary() }} />\r\n            </Stack>)}\r\n          </Stack>\r\n\r\n        </Stack>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default FlowDefault;\r\n","import React, { useState, useEffect, useRef, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\nimport { head } from \"lodash\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport moment from \"moment\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport {\r\n  Box,\r\n  FormControl,\r\n  Grid,\r\n  InputLabel,\r\n  ListItemText,\r\n  MenuItem,\r\n  Select,\r\n  Tab,\r\n  Tabs,\r\n  Typography\r\n} from \"@material-ui/core\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport ConfirmationModal from \"../ConfirmationModal\";\r\nimport { Autocomplete, Checkbox, Chip, Stack } from \"@mui/material\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\"\r\n  },\r\n\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1\r\n  },\r\n\r\n  extraAttr: {\r\n    display: \"flex\",\r\n    justifyContent: \"center\",\r\n    alignItems: \"center\"\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\"\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12\r\n  }\r\n}));\r\n\r\nconst CampaignModalPhrase = ({ open, onClose, FlowCampaignId, onSave }) => {\r\n  const classes = useStyles();\r\n  const isMounted = useRef(true);\r\n  const { user } = useContext(AuthContext);\r\n  const { companyId } = user;\r\n\r\n  const [campaignEditable, setCampaignEditable] = useState(true);\r\n  const attachmentFile = useRef(null);\r\n\r\n  const [dataItem, setDataItem] = useState({\r\n    name: \"\",\r\n    phrase: \"\"\r\n  });\r\n\r\n  const [dataItemError, setDataItemError] = useState({\r\n    name: false,\r\n    flowId: false,\r\n    phrase: false\r\n  });\r\n\r\n  const [flowSelected, setFlowSelected] = useState();\r\n  const [flowsData, setFlowsData] = useState([]);\r\n  const [flowsDataComplete, setFlowsDataComplete] = useState([]);\r\n\r\n  const [selectedWhatsapp, setSelectedWhatsapp] = useState(\"\")\r\n  const [whatsAppNames, setWhatsAppNames] = useState([])\r\n  const [whatsApps, setWhatsApps] = useState([])\r\n  const [whatsAppSelected, setWhatsAppSelected] = useState({})\r\n\r\n  const [active, setActive] = useState(true)\r\n\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  const getFlows = async () => {\r\n    const flows = await api.get(\"/flowbuilder\");\r\n    setFlowsDataComplete(flows.data.flows);\r\n    setFlowsData(flows.data.flows.map(flow => flow.name));\r\n    return flows.data.flows;\r\n  };\r\n\r\n  const detailsPhrase = async flows => {\r\n    setLoading(true);\r\n    await api.get(`/flowcampaign/${FlowCampaignId}`).then(res => {\r\n      setDataItem({\r\n        name: res.data.details.name,\r\n        phrase: res.data.details.phrase\r\n      });\r\n      setActive(res.data.details.status)\r\n      const nameFlow = flows.filter(\r\n        itemFlows => itemFlows.id === res.data.details.flowId\r\n      );\r\n      if (nameFlow.length > 0) {\r\n        setFlowSelected(nameFlow[0].name);\r\n      }\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n  };\r\n\r\n  const openModal = async () => {\r\n    const flows = await getFlows();\r\n    if (FlowCampaignId) {\r\n      await detailsPhrase(flows);\r\n    } else {\r\n      clearData();\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchContacts = async () => {\r\n        api\r\n          .get(`/whatsapp`, { params: { companyId, session: 0 } })\r\n          .then(({ data }) => {\r\n            setWhatsApps(data)\r\n          })\r\n      }\r\n      fetchContacts();\r\n      setLoading(false)\r\n    }, 500)\r\n    return () => clearTimeout(delayDebounceFn)\r\n  }, [])\r\n\r\n\r\n  useEffect(() => {\r\n    setLoading(true)\r\n    if (open === true) {\r\n      openModal();\r\n    }\r\n  }, [open]);\r\n\r\n  const clearErrors = () => {\r\n    setDataItemError({\r\n      name: false,\r\n      flowId: false,\r\n      whatsappId: false,\r\n      phrase: false\r\n    });\r\n  };\r\n\r\n  const clearData = () => {\r\n    setFlowSelected();\r\n    setDataItem({\r\n      name: \"\",\r\n      phrase: \"\"\r\n    });\r\n  };\r\n\r\n  const applicationSaveAndEdit = () => {\r\n    let error = 0;\r\n    if (dataItem.name === \"\" || dataItem.name.length === 0) {\r\n      setDataItemError(old => ({ ...old, name: true }));\r\n      error++;\r\n    }\r\n    if (!flowSelected) {\r\n      setDataItemError(old => ({ ...old, flowId: true }));\r\n      error++;\r\n    }\r\n    if (dataItem.phrase === \"\" || dataItem.phrase.length === 0) {\r\n      setDataItemError(old => ({ ...old, phrase: true }));\r\n      error++;\r\n    }\r\n    if(!selectedWhatsapp){\r\n      setDataItemError(old => ({ ...old, whatsappId: true }))\r\n    }\r\n\r\n    if (error !== 0) {\r\n      return;\r\n    }\r\n\r\n    const idFlow = flowsDataComplete.filter(\r\n      item => item.name === flowSelected\r\n    )[0].id;\r\n\r\n    const whatsappId = selectedWhatsapp !== \"\" ? selectedWhatsapp : null\r\n\r\n    if (FlowCampaignId) {\r\n      api.put(\"/flowcampaign\", {\r\n        id: FlowCampaignId,\r\n        name: dataItem.name,\r\n        flowId: idFlow,\r\n        whatsappId: whatsappId,\r\n        phrase: dataItem.phrase,\r\n        status: active\r\n      })\r\n      onClose();\r\n      onSave('ok');\r\n      toast.success(\"Frase alterada com sucesso!\");\r\n      clearData();\r\n    } else {\r\n      api.post(\"/flowcampaign\", {\r\n        name: dataItem.name,\r\n        flowId: idFlow,\r\n        whatsappId: whatsappId,\r\n        phrase: dataItem.phrase\r\n      });\r\n      onClose();\r\n      onSave('ok');\r\n      toast.success(\"Frase criada com sucesso!\");\r\n      clearData();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        fullWidth\r\n        maxWidth=\"md\"\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {campaignEditable ? (\r\n            <>\r\n              {FlowCampaignId\r\n                ? `Editar campanha com fluxo por frase`\r\n                : `Nova campanha com fluxo por frase`}\r\n            </>\r\n          ) : (\r\n            <>{`${i18n.t(\"campaigns.dialog.readonly\")}`}</>\r\n          )}\r\n        </DialogTitle>\r\n        <div style={{ display: \"none\" }}>\r\n          <input type=\"file\" ref={attachmentFile} />\r\n        </div>\r\n        {!loading && (\r\n          <Stack sx={{ padding: \"52px\" }}>\r\n            <Stack sx={{ gap: \"14px\" }}>\r\n              <Stack gap={1}>\r\n                <Typography>Nome do disparo por frase</Typography>\r\n                <TextField\r\n                  label={\"\"}\r\n                  name=\"text\"\r\n                  variant=\"outlined\"\r\n                  error={dataItemError.name}\r\n                  defaultValue={dataItem.name}\r\n                  margin=\"dense\"\r\n                  onChange={e => {\r\n                    setDataItem(old => {\r\n                      let newValue = old;\r\n                      newValue.name = e.target.value;\r\n                      return newValue;\r\n                    });\r\n                  }}\r\n                  className={classes.textField}\r\n                  style={{ width: \"100%\" }}\r\n                />\r\n              </Stack>\r\n              <Stack gap={1}>\r\n                <Typography>Escolha um fluxo</Typography>\r\n                <Autocomplete\r\n                  disablePortal\r\n                  id=\"combo-box-demo\"\r\n                  value={flowSelected}\r\n                  error={dataItemError.flowId}\r\n                  defaultValue={flowSelected}\r\n                  options={flowsData}\r\n                  onChange={(event, newValue) => {\r\n                    setFlowSelected(newValue);\r\n                  }}\r\n                  sx={{ width: \"100%\" }}\r\n                  renderInput={params => (\r\n                    <TextField\r\n                      {...params}\r\n                      error={dataItemError.flowId}\r\n                      variant=\"outlined\"\r\n                      style={{ width: \"100%\" }}\r\n                      placeholder=\"Escolha um fluxo\"\r\n                    />\r\n                  )}\r\n                  renderTags={(value, getTagProps) =>\r\n                    value.map((option, index) => (\r\n                      <Chip\r\n                        variant=\"outlined\"\r\n                        label={option}\r\n                        {...getTagProps({ index })}\r\n                        style={{ borderRadius: \"8px\" }}\r\n                      />\r\n                    ))\r\n                  }\r\n                />\r\n              </Stack>\r\n              <Stack gap={1}>\r\n                <Select\r\n                  required\r\n                  fullWidth\r\n                  displayEmpty\r\n                  variant=\"outlined\"\r\n                  value={selectedWhatsapp}\r\n                  onChange={(e) => {\r\n                    setSelectedWhatsapp(e.target.value)\r\n                  }}\r\n                  MenuProps={{\r\n                    anchorOrigin: {\r\n                      vertical: \"bottom\",\r\n                      horizontal: \"left\"\r\n                    },\r\n                    transformOrigin: {\r\n                      vertical: \"top\",\r\n                      horizontal: \"left\"\r\n                    },\r\n                    getContentAnchorEl: null,\r\n                  }}\r\n                  renderValue={() => {\r\n                    if (selectedWhatsapp === \"\") {\r\n                      return \"Selecione uma Conexão\"\r\n                    }\r\n                    const whatsapp = whatsApps.find(w => w.id === selectedWhatsapp)\r\n                    return whatsapp.name\r\n                  }}\r\n                >\r\n\r\n                  {whatsApps?.length > 0 &&\r\n                    whatsApps.map((whatsapp, key) => (\r\n                      <MenuItem dense key={key} value={whatsapp.id}>\r\n                        <ListItemText\r\n                          primary={\r\n                            <>\r\n                              <Typography component=\"span\" style={{ fontSize: 14, marginLeft: \"10px\", display: \"inline-flex\", alignItems: \"center\", lineHeight: \"2\" }}>\r\n                                {whatsapp.name} &nbsp; <p className={(whatsapp.status) === 'CONNECTED' ? classes.online : classes.offline} >({whatsapp.status})</p>\r\n                              </Typography>\r\n                            </>\r\n                          }\r\n                        />\r\n                      </MenuItem>\r\n                    ))\r\n                  }\r\n                </Select>\r\n              </Stack>\r\n              <Stack gap={1}>\r\n                <Typography>Qual frase dispara o fluxo?</Typography>\r\n                <TextField\r\n                  label={\"\"}\r\n                  name=\"text\"\r\n                  variant=\"outlined\"\r\n                  error={dataItemError.phrase}\r\n                  defaultValue={dataItem.phrase}\r\n                  margin=\"dense\"\r\n                  onChange={e => {\r\n                    setDataItem(old => {\r\n                      let newValue = old;\r\n                      newValue.phrase = e.target.value;\r\n                      return newValue;\r\n                    });\r\n                  }}\r\n                  className={classes.textField}\r\n                  style={{ width: \"100%\" }}\r\n                />\r\n              </Stack>\r\n              <Stack direction={'row'} gap={2}>\r\n                <Stack justifyContent={'center'}>\r\n                  <Typography>Status</Typography>\r\n                </Stack>\r\n                <Checkbox checked={active} onChange={() => setActive(old => !old)} />\r\n              </Stack>\r\n            </Stack>\r\n            <Stack\r\n              direction={\"row\"}\r\n              spacing={2}\r\n              alignSelf={\"end\"}\r\n              marginTop={\"16px\"}\r\n            >\r\n              <Button\r\n                variant=\"outlined\"\r\n                onClick={() => {\r\n                  onClose();\r\n                  clearErrors();\r\n                }}\r\n              >\r\n                Cancelar\r\n              </Button>\r\n              {FlowCampaignId ? (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => applicationSaveAndEdit()}\r\n                >\r\n                  Salvar campanha\r\n                </Button>\r\n              ) : (\r\n                <Button\r\n                  variant=\"contained\"\r\n                  color=\"primary\"\r\n                  onClick={() => applicationSaveAndEdit()}\r\n                >\r\n                  Criar campanha\r\n                </Button>\r\n              )}\r\n            </Stack>\r\n          </Stack>\r\n        )}\r\n        {loading && (\r\n          <Stack\r\n            justifyContent={\"center\"}\r\n            alignItems={\"center\"}\r\n            minHeight={\"10vh\"}\r\n            sx={{ padding: \"52px\" }}\r\n          >\r\n            <CircularProgress />\r\n          </Stack>\r\n        )}\r\n      </Dialog>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CampaignModalPhrase;\r\n","/* eslint-disable no-unused-vars */\r\n\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport { AddCircle, TextFields } from \"@mui/icons-material\";\r\nimport { CircularProgress, Grid, Stack } from \"@mui/material\";\r\nimport { isArray } from \"lodash\";\r\nimport CampaignModalPhrase from \"../../components/CampaignModalPhrase\";\r\nimport { Can } from \"../../components/Can\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport {\r\n  colorBackgroundTable,\r\n  colorLineTable,\r\n  colorLineTableHover,\r\n  colorTopTable,\r\n} from \"../../styles/styles\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_CAMPAIGNS\") {\r\n    const campaigns = action.payload;\r\n    const newCampaigns = [];\r\n\r\n    if (isArray(campaigns)) {\r\n      campaigns.forEach((campaign) => {\r\n        const campaignIndex = state.findIndex((u) => u.id === campaign.id);\r\n        if (campaignIndex !== -1) {\r\n          state[campaignIndex] = campaign;\r\n        } else {\r\n          newCampaigns.push(campaign);\r\n        }\r\n      });\r\n    }\r\n\r\n    return [...state, ...newCampaigns];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_CAMPAIGNS\") {\r\n    const campaign = action.payload;\r\n    const campaignIndex = state.findIndex((u) => u.id === campaign.id);\r\n\r\n    if (campaignIndex !== -1) {\r\n      state[campaignIndex] = campaign;\r\n      return [...state];\r\n    } else {\r\n      return [campaign, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_CAMPAIGN\") {\r\n    const campaignId = action.payload;\r\n\r\n    const campaignIndex = state.findIndex((u) => u.id === campaignId);\r\n    if (campaignIndex !== -1) {\r\n      state.splice(campaignIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    backgroundColor: colorBackgroundTable(),\r\n    borderRadius: 12,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst CampaignsPhrase = () => {\r\n  const classes = useStyles();\r\n\r\n  const history = useHistory();\r\n\r\n  const { user } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(true);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedCampaign, setSelectedCampaign] = useState(null);\r\n  const [deletingCampaign, setDeletingCampaign] = useState(null);\r\n  const [campaignModalOpen, setCampaignModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [confirmOpen, setConfirmOpen] = useState(false);\r\n  const [deletingContact, setDeletingContact] = useState(null);\r\n\r\n  const [campaignflows, setCampaignFlows] = useState([]);\r\n  const [ModalOpenPhrase, setModalOpenPhrase] = useState(false);\r\n  const [campaignflowSelected, setCampaignFlowSelected] = useState();\r\n\r\n  const handleDeleteCampaign = async (campaignId) => {\r\n    try {\r\n      await api.delete(`/flowcampaign/${campaignId}`);\r\n      toast.success(\"Frase deletada\");\r\n      getCampaigns();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const getCampaigns = async () => {\r\n    setLoading(true);\r\n    await api.get(\"/flowcampaign\").then((res) => {\r\n      setCampaignFlows(res.data.flow);\r\n      setLoading(false);\r\n    });\r\n  };\r\n\r\n  const onSaveModal = () => {\r\n    getCampaigns();\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    getCampaigns();\r\n  }, []);\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingCampaign &&\r\n          `${i18n.t(\"campaigns.confirmationModal.deleteTitle\")} ${\r\n            deletingCampaign.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteCampaign(deletingContact.id)}\r\n      >\r\n        {i18n.t(\"campaigns.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <CampaignModalPhrase\r\n        open={ModalOpenPhrase}\r\n        onClose={() => setModalOpenPhrase(false)}\r\n        FlowCampaignId={campaignflowSelected}\r\n        onSave={onSaveModal}\r\n      />\r\n      <MainHeader>\r\n        <Grid style={{ width: \"99.6%\" }} container>\r\n          <Grid xs={12} sm={8} item>\r\n            <Title>Campanhas</Title>\r\n          </Grid>\r\n          <Grid xs={12} sm={4} item>\r\n            <Grid spacing={2} container>\r\n              <Grid xs={6} sm={6} item>\r\n                {/* <TextField\r\n                  fullWidth\r\n                  placeholder={i18n.t(\"campaigns.searchPlaceholder\")}\r\n                  type=\"search\"\r\n                  value={searchParam}\r\n                  onChange={handleSearch}\r\n                  InputProps={{\r\n                    startAdornment: (\r\n                      <InputAdornment position=\"start\">\r\n                        <SearchIcon style={{ color: \"gray\" }} />\r\n                      </InputAdornment>\r\n                    ),\r\n                  }}\r\n                /> */}\r\n              </Grid>\r\n              <Grid xs={6} sm={6} item>\r\n                <Button\r\n                  fullWidth\r\n                  variant=\"contained\"\r\n                  onClick={() => {\r\n                    setCampaignFlowSelected();\r\n                    setModalOpenPhrase(true);\r\n                  }}\r\n                  color=\"primary\"\r\n                  style={{ textTransform: \"none\", borderRadius: \"22px\" }}\r\n                >\r\n                  <Stack direction={\"row\"} gap={1}>\r\n                    <AddCircle />\r\n                    {\"Campanha\"}\r\n                  </Stack>\r\n                </Button>\r\n              </Grid>\r\n            </Grid>\r\n          </Grid>\r\n        </Grid>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Stack>\r\n          <Grid container style={{ padding: \"8px\" }}>\r\n            <Grid item xs={4} style={{ color: colorTopTable() }}>\r\n              Nome\r\n            </Grid>\r\n            <Grid item xs={4} style={{ color: colorTopTable() }} align=\"center\">\r\n              Status\r\n            </Grid>\r\n            <Grid item xs={4} align=\"end\" style={{ color: colorTopTable() }}>\r\n              {i18n.t(\"contacts.table.actions\")}\r\n            </Grid>\r\n          </Grid>\r\n          <>\r\n            {!loading &&\r\n              campaignflows.map((flow) => (\r\n                <Grid\r\n                  container\r\n                  key={flow.id}\r\n                  sx={{\r\n                    padding: \"8px\",\r\n                    backgroundColor: colorLineTable(),\r\n                    borderRadius: 4,\r\n                    marginTop: 0.5,\r\n                    \"&:hover\": {\r\n                      backgroundColor: colorLineTableHover(),\r\n                    },\r\n                  }}\r\n                >\r\n                  <Grid item xs={4}>\r\n                    <Stack\r\n                      justifyContent={\"center\"}\r\n                      height={\"100%\"}\r\n                      style={{ color: \"#ededed\" }}\r\n                    >\r\n                      <Stack direction={\"row\"}>\r\n                        <TextFields />\r\n                        <Stack justifyContent={\"center\"} marginLeft={1}>\r\n                          {flow.name}\r\n                        </Stack>\r\n                      </Stack>\r\n                    </Stack>\r\n                  </Grid>\r\n                  <Grid item xs={4} align=\"center\" style={{ color: \"#ededed\" }}>\r\n                    <Stack justifyContent={\"center\"} height={\"100%\"}>\r\n                      {flow.status ? \"Ativo\" : \"Desativado\"}\r\n                    </Stack>\r\n                  </Grid>\r\n                  <Grid item xs={4} align=\"end\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => {\r\n                        setCampaignFlowSelected(flow.id);\r\n                        setModalOpenPhrase(true);\r\n                      }}\r\n                    >\r\n                      <EditIcon style={{ color: \"#ededed\" }} />\r\n                    </IconButton>\r\n                    <Can\r\n                      role={user.profile}\r\n                      perform=\"contacts-page:deleteContact\"\r\n                      yes={() => (\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            setConfirmModalOpen(true);\r\n                            setDeletingContact(flow);\r\n                          }}\r\n                        >\r\n                          <DeleteOutlineIcon style={{ color: \"#ededed\" }} />\r\n                        </IconButton>\r\n                      )}\r\n                    />\r\n                  </Grid>\r\n                </Grid>\r\n              ))}\r\n            {loading && (\r\n              <Stack\r\n                justifyContent={\"center\"}\r\n                alignItems={\"center\"}\r\n                minHeight={\"50vh\"}\r\n              >\r\n                <CircularProgress />\r\n              </Stack>\r\n            )}\r\n          </>\r\n        </Stack>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default CampaignsPhrase;\r\n","import React, { useState, useContext, useEffect } from \"react\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Grid from '@material-ui/core/Grid';\r\nimport TextField from '@material-ui/core/TextField';\r\n\r\nimport SubscriptionModal from \"../../components/SubscriptionModal\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport Title from \"../../components/Title\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport moment from \"moment\";\r\nimport { useDate } from \"../../hooks/useDate\";\r\n\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Contacts = () => {\r\n  const classes = useStyles();\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [loading,] = useState(false);\r\n  const [, setPageNumber] = useState(1);\r\n  const [selectedContactId, setSelectedContactId] = useState(null);\r\n  const [contactModalOpen, setContactModalOpen] = useState(false);\r\n  const [hasMore,] = useState(false);\r\n  const [dueDate, setDueDate] = useState(\"\");\r\n  const { returnDays } = useDate();\r\n\r\n  const handleOpenContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(true);\r\n  };\r\n\r\n  const handleCloseContactModal = () => {\r\n    setSelectedContactId(null);\r\n    setContactModalOpen(false);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const currentDueDate = localStorage.getItem(\"dueDate\");\r\n    if (currentDueDate !== \"\" && currentDueDate !== \"null\") {\r\n      setDueDate(moment(currentDueDate).format(\"DD/MM/YYYY\"));\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <MainContainer className={classes.mainContainer}>\r\n      <SubscriptionModal\r\n        open={contactModalOpen}\r\n        onClose={handleCloseContactModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        contactId={selectedContactId}\r\n      ></SubscriptionModal>\r\n\r\n      <MainHeader>\r\n        <Title>Assinatura</Title>\r\n      </MainHeader>\r\n      <Grid item xs={12} sm={4}>\r\n        <Paper\r\n          className={classes.mainPaper}\r\n          variant=\"outlined\"\r\n          onScroll={handleScroll}\r\n        >\r\n\r\n          <div>\r\n            <TextField\r\n              id=\"outlined-full-width\"\r\n              label=\"Período de Licença\"\r\n              // defaultValue={`Sua licença vence em ${returnDays(user?.company?.dueDate)} dias!`}\r\n              defaultValue={returnDays(user?.company?.dueDate) === 0 ? `Sua licença vence em hoje!` : `Sua licença vence em ${returnDays(user?.company?.dueDate)} dias!`}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              InputLabelProps={{ shrink: true, }}\r\n              InputProps={{ readOnly: true, }}\r\n              variant=\"outlined\"\r\n            />\r\n\r\n          </div>\r\n\r\n          <div>\r\n            <TextField\r\n              id=\"outlined-full-width\"\r\n              label=\"Email de cobrança\"\r\n              defaultValue={user?.email}\r\n              fullWidth\r\n              margin=\"normal\"\r\n              InputLabelProps={{\r\n                shrink: true,\r\n              }}\r\n              InputProps={{\r\n                readOnly: true,\r\n              }}\r\n              variant=\"outlined\"\r\n            />\r\n\r\n          </div>\r\n\r\n          <div>\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={handleOpenContactModal}\r\n              fullWidth\r\n            >\r\n              Assine Agora!\r\n            </Button>\r\n          </div>\r\n\r\n        </Paper>\r\n      </Grid>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Contacts;\r\n","export default __webpack_public_path__ + \"static/media/flowbuilders.5301f11e.png\";","export default __webpack_public_path__ + \"static/media/n8n.55dcf941.png\";","export default __webpack_public_path__ + \"static/media/webhook.20ba7126.png\";","import React, { useState, useEffect } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field } from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n  Typography,\r\n  Button,\r\n  Dialog,\r\n  DialogActions,\r\n  DialogContent,\r\n  DialogTitle,\r\n  CircularProgress,\r\n  Select,\r\n  InputLabel,\r\n  MenuItem,\r\n  FormControl,\r\n  TextField,\r\n  Grid,\r\n  Paper,\r\n} from \"@material-ui/core\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    gap: 4\r\n  },\r\n  textField: {\r\n    marginRight: theme.spacing(1),\r\n    flex: 1,\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  btnLeft: {\r\n    display: \"flex\",\r\n    marginRight: \"auto\",\r\n    marginLeft: 12,\r\n  },\r\n  colorAdorment: {\r\n    width: 20,\r\n    height: 20,\r\n  },\r\n}));\r\n\r\nconst DialogflowSchema = Yup.object().shape({\r\n  name: Yup.string()\r\n    .min(2, \"Too Short!\")\r\n    .max(50, \"Too Long!\")\r\n    .required(\"Required\"),\r\n  // projectName: Yup.string()\r\n  //   .min(3, \"Too Short!\")\r\n  //   .max(100, \"Too Long!\")\r\n  //   .required(),\r\n  // jsonContent: Yup.string().min(3, \"Too Short!\").required(),\r\n  // language: Yup.string().min(2, \"Too Short!\").max(50, \"Too Long!\").required(),\r\n});\r\n\r\n\r\n\r\nconst QueueIntegration = ({ open, onClose, integrationId }) => {\r\n  const classes = useStyles();\r\n\r\n  const initialState = {\r\n    type: \"typebot\",\r\n    name: \"\",\r\n    projectName: \"\",\r\n    jsonContent: \"\",\r\n    language: \"\",\r\n    urlN8N: \"\",\r\n    typebotDelayMessage: 1000,\r\n    typebotExpires: 1,\r\n    typebotKeywordFinish: \"\",\r\n    typebotKeywordRestart: \"\",\r\n    typebotRestartMessage: \"\",\r\n    typebotSlug: \"\",\r\n    typebotUnknownMessage: \"\",\r\n\r\n  };\r\n\r\n  const [integration, setIntegration] = useState(initialState);\r\n\r\n  useEffect(() => {\r\n    (async () => {\r\n      if (!integrationId) return;\r\n      try {\r\n        const { data } = await api.get(`/queueIntegration/${integrationId}`);\r\n        setIntegration((prevState) => {\r\n          return { ...prevState, ...data };\r\n        });\r\n      } catch (err) {\r\n        toastError(err);\r\n      }\r\n    })();\r\n\r\n    return () => {\r\n      setIntegration({\r\n        type: \"dialogflow\",\r\n        name: \"\",\r\n        projectName: \"\",\r\n        jsonContent: \"\",\r\n        language: \"\",\r\n        urlN8N: \"\",\r\n        typebotDelayMessage: 1000\r\n      });\r\n    };\r\n\r\n  }, [integrationId, open]);\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setIntegration(initialState);\r\n  };\r\n\r\n  const handleTestSession = async (event, values) => {\r\n    try {\r\n      const { projectName, jsonContent, language } = values;\r\n\r\n      await api.post(`/queueIntegration/testSession`, {\r\n        projectName,\r\n        jsonContent,\r\n        language,\r\n      });\r\n\r\n      toast.success(i18n.t(\"queueIntegrationModal.messages.testSuccess\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  };\r\n\r\n  const handleSaveDialogflow = async (values) => {\r\n\r\n    try {\r\n      if (values.type === 'n8n' || values.type === 'webhook' || values.type === 'typebot' || values.type === \"flowbuilder\") values.projectName = values.name\r\n      if (integrationId) {\r\n        await api.put(`/queueIntegration/${integrationId}`, values);\r\n        toast.success(i18n.t(\"queueIntegrationModal.messages.editSuccess\"));\r\n      } else {\r\n        await api.post(\"/queueIntegration\", values);\r\n        toast.success(i18n.t(\"queueIntegrationModal.messages.addSuccess\"));\r\n      }\r\n      handleClose();\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n\r\n\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog open={open} onClose={handleClose} fullWidth maxWidth=\"md\" scroll=\"paper\">\r\n        <DialogTitle>\r\n          {integrationId\r\n            ? `${i18n.t(\"queueIntegrationModal.title.edit\")}`\r\n            : `${i18n.t(\"queueIntegrationModal.title.add\")}`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={integration}\r\n          enableReinitialize={true}\r\n          validationSchema={DialogflowSchema}\r\n          onSubmit={(values, actions, event) => {\r\n            setTimeout(() => {\r\n              handleSaveDialogflow(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, values }) => (\r\n            <Form>\r\n              <Paper square className={classes.mainPaper} elevation={1}>\r\n                <DialogContent dividers>\r\n                  <Grid container spacing={1}>\r\n                    <Grid item xs={12} md={6} xl={6}>\r\n                      <FormControl\r\n                        variant=\"outlined\"\r\n                        className={classes.formControl}\r\n                        margin=\"dense\"\r\n                        fullWidth\r\n                      >\r\n                        <InputLabel id=\"type-selection-input-label\">\r\n                          {i18n.t(\"queueIntegrationModal.form.type\")}\r\n                        </InputLabel>\r\n\r\n                        <Field\r\n                          as={Select}\r\n                          label={i18n.t(\"queueIntegrationModal.form.type\")}\r\n                          name=\"type\"\r\n                          labelId=\"profile-selection-label\"\r\n                          error={touched.type && Boolean(errors.type)}\r\n                          helpertext={touched.type && errors.type}\r\n                          id=\"type\"\r\n                          required\r\n                        >\r\n                          <MenuItem value=\"dialogflow\">DialogFlow</MenuItem>\r\n                          <MenuItem value=\"n8n\">N8N</MenuItem>\r\n                          <MenuItem value=\"webhook\">WebHooks</MenuItem>\r\n                          <MenuItem value=\"typebot\">Typebot</MenuItem>\r\n                          <MenuItem value=\"flowbuilder\">Flowbuilder</MenuItem>\r\n                        </Field>\r\n                      </FormControl>\r\n                    </Grid>\r\n                    {values.type === \"dialogflow\" && (\r\n                      <>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                            autoFocus\r\n                            name=\"name\"\r\n                            fullWidth\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helpertext={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <FormControl\r\n                            variant=\"outlined\"\r\n                            className={classes.formControl}\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                          >\r\n                            <InputLabel id=\"language-selection-input-label\">\r\n                              {i18n.t(\"queueIntegrationModal.form.language\")}\r\n                            </InputLabel>\r\n\r\n                            <Field\r\n                              as={Select}\r\n                              label={i18n.t(\"queueIntegrationModal.form.language\")}\r\n                              name=\"language\"\r\n                              labelId=\"profile-selection-label\"\r\n                              fullWidth\r\n                              error={touched.language && Boolean(errors.language)}\r\n                              helpertext={touched.language && errors.language}\r\n                              id=\"language-selection\"\r\n                              required\r\n                            >\r\n                              <MenuItem value=\"pt-BR\">Portugues</MenuItem>\r\n                              <MenuItem value=\"en\">Inglês</MenuItem>\r\n                              <MenuItem value=\"es\">Español</MenuItem>\r\n                            </Field>\r\n                          </FormControl>\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.projectName\")}\r\n                            name=\"projectName\"\r\n                            error={touched.projectName && Boolean(errors.projectName)}\r\n                            helpertext={touched.projectName && errors.projectName}\r\n                            fullWidth\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.jsonContent\")}\r\n                            type=\"jsonContent\"\r\n                            multiline\r\n                            //inputRef={greetingRef}\r\n                            maxRows={5}\r\n                            minRows={5}\r\n                            fullWidth\r\n                            name=\"jsonContent\"\r\n                            error={touched.jsonContent && Boolean(errors.jsonContent)}\r\n                            helpertext={touched.jsonContent && errors.jsonContent}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                          />\r\n                        </Grid>\r\n                      </>\r\n                    )}\r\n\r\n                    {(values.type === \"n8n\" || values.type === \"webhook\") && (\r\n                      <>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                            autoFocus\r\n                            required\r\n                            name=\"name\"\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helpertext={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\r\n                            name=\"urlN8N\"\r\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\r\n                            helpertext={touched.urlN8N && errors.urlN8N}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            required\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                      </>\r\n                    )}\r\n\r\n                    {(values.type === \"flowbuilder\") && (\r\n                      <Grid item xs={12} md={6} xl={6} >\r\n                        <Field\r\n                          as={TextField}\r\n                          label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                          autoFocus\r\n                          name=\"name\"\r\n                          fullWidth\r\n                          error={touched.name && Boolean(errors.name)}\r\n                          helpertext={touched.name && errors.name}\r\n                          variant=\"outlined\"\r\n                          margin=\"dense\"\r\n                          className={classes.textField}\r\n                        />\r\n                      </Grid>\r\n                    )}\r\n                    {(values.type === \"typebot\") && (\r\n                      <>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.name\")}\r\n                            autoFocus\r\n                            name=\"name\"\r\n                            error={touched.name && Boolean(errors.name)}\r\n                            helpertext={touched.name && errors.name}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            required\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.urlN8N\")}\r\n                            name=\"urlN8N\"\r\n                            error={touched.urlN8N && Boolean(errors.urlN8N)}\r\n                            helpertext={touched.urlN8N && errors.urlN8N}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            required\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotSlug\")}\r\n                            name=\"typebotSlug\"\r\n                            error={touched.typebotSlug && Boolean(errors.typebotSlug)}\r\n                            helpertext={touched.typebotSlug && errors.typebotSlug}\r\n                            required\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotExpires\")}\r\n                            name=\"typebotExpires\"\r\n                            error={touched.typebotExpires && Boolean(errors.typebotExpires)}\r\n                            helpertext={touched.typebotExpires && errors.typebotExpires}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotDelayMessage\")}\r\n                            name=\"typebotDelayMessage\"\r\n                            error={touched.typebotDelayMessage && Boolean(errors.typebotDelayMessage)}\r\n                            helpertext={touched.typebotDelayMessage && errors.typebotDelayMessage}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordFinish\")}\r\n                            name=\"typebotKeywordFinish\"\r\n                            error={touched.typebotKeywordFinish && Boolean(errors.typebotKeywordFinish)}\r\n                            helpertext={touched.typebotKeywordFinish && errors.typebotKeywordFinish}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotKeywordRestart\")}\r\n                            name=\"typebotKeywordRestart\"\r\n                            error={touched.typebotKeywordRestart && Boolean(errors.typebotKeywordRestart)}\r\n                            helpertext={touched.typebotKeywordRestart && errors.typebotKeywordRestart}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={6} xl={6} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotUnknownMessage\")}\r\n                            name=\"typebotUnknownMessage\"\r\n                            error={touched.typebotUnknownMessage && Boolean(errors.typebotUnknownMessage)}\r\n                            helpertext={touched.typebotUnknownMessage && errors.typebotUnknownMessage}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n                        <Grid item xs={12} md={12} xl={12} >\r\n                          <Field\r\n                            as={TextField}\r\n                            label={i18n.t(\"queueIntegrationModal.form.typebotRestartMessage\")}\r\n                            name=\"typebotRestartMessage\"\r\n                            error={touched.typebotRestartMessage && Boolean(errors.typebotRestartMessage)}\r\n                            helpertext={touched.typebotRestartMessage && errors.typebotRestartMessage}\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                            fullWidth\r\n                            className={classes.textField}\r\n                          />\r\n                        </Grid>\r\n\r\n                      </>\r\n                    )}\r\n                  </Grid>\r\n                </DialogContent>\r\n              </Paper>\r\n\r\n              <DialogActions>\r\n                {values.type === \"dialogflow\" && (\r\n                  <Button\r\n                    //type=\"submit\"\r\n                    onClick={(e) => handleTestSession(e, values)}\r\n                    color=\"inherit\"\r\n                    disabled={isSubmitting}\r\n                    name=\"testSession\"\r\n                    variant=\"outlined\"\r\n                    className={classes.btnLeft}\r\n                  >\r\n                    {i18n.t(\"queueIntegrationModal.buttons.test\")}\r\n                  </Button>\r\n                )}\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"queueIntegrationModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                  className={classes.btnWrapper}\r\n                >\r\n                  {integrationId\r\n                    ? `${i18n.t(\"queueIntegrationModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"queueIntegrationModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                      className={classes.buttonProgress}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div >\r\n  );\r\n};\r\n\r\nexport default QueueIntegration;","import React, { useContext, useEffect, useReducer, useState } from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport dialogflow from \"../../assets/dialogflow.png\";\r\nimport flowbuilder from \"../../assets/flowbuilders.png\";\r\nimport n8n from \"../../assets/n8n.png\";\r\nimport typebot from \"../../assets/typebot.jpg\";\r\nimport webhooks from \"../../assets/webhook.png\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\n\r\nimport {\r\n  Avatar,\r\n  Button,\r\n  IconButton,\r\n  InputAdornment,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  TextField,\r\n} from \"@material-ui/core\";\r\n\r\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\r\n\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport IntegrationModal from \"../../components/QueueIntegrationModal\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport { useHistory } from \"react-router-dom/cjs/react-router-dom.min\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport usePlans from \"../../hooks/usePlans\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_INTEGRATIONS\") {\r\n    const queueIntegration = action.payload;\r\n    const newIntegrations = [];\r\n\r\n    queueIntegration.forEach((integration) => {\r\n      const integrationIndex = state.findIndex((u) => u.id === integration.id);\r\n      if (integrationIndex !== -1) {\r\n        state[integrationIndex] = integration;\r\n      } else {\r\n        newIntegrations.push(integration);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newIntegrations];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_INTEGRATIONS\") {\r\n    const queueIntegration = action.payload;\r\n    const integrationIndex = state.findIndex(\r\n      (u) => u.id === queueIntegration.id\r\n    );\r\n\r\n    if (integrationIndex !== -1) {\r\n      state[integrationIndex] = queueIntegration;\r\n      return [...state];\r\n    } else {\r\n      return [queueIntegration, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_INTEGRATION\") {\r\n    const integrationId = action.payload;\r\n\r\n    const integrationIndex = state.findIndex((u) => u.id === integrationId);\r\n    if (integrationIndex !== -1) {\r\n      state.splice(integrationIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(2),\r\n    margin: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  avatar: {\r\n    width: \"140px\",\r\n    height: \"40px\",\r\n    borderRadius: 4,\r\n  },\r\n}));\r\n\r\nconst QueueIntegration = () => {\r\n  const classes = useStyles();\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedIntegration, setSelectedIntegration] = useState(null);\r\n  const [deletingUser, setDeletingUser] = useState(null);\r\n  const [userModalOpen, setUserModalOpen] = useState(false);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [queueIntegration, dispatch] = useReducer(reducer, []);\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const { getPlanCompany } = usePlans();\r\n  const companyId = user.companyId;\r\n  const history = useHistory();\r\n\r\n  useEffect(() => {\r\n    async function fetchData() {\r\n      const planConfigs = await getPlanCompany(undefined, companyId);\r\n      if (!planConfigs.plan.useIntegrations) {\r\n        toast.error(\r\n          \"Esta empresa não possui permissão para acessar essa página! Estamos lhe redirecionando.\"\r\n        );\r\n        setTimeout(() => {\r\n          history.push(`/`);\r\n        }, 1000);\r\n      }\r\n    }\r\n    fetchData();\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchIntegrations = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/queueIntegration/\", {\r\n            params: { searchParam, pageNumber },\r\n          });\r\n          dispatch({\r\n            type: \"LOAD_INTEGRATIONS\",\r\n            payload: data.queueIntegrations,\r\n          });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchIntegrations();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket();\r\n\r\n    const onQueueEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({\r\n          type: \"UPDATE_INTEGRATIONS\",\r\n          payload: data.queueIntegration,\r\n        });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_INTEGRATION\", payload: +data.integrationId });\r\n      }\r\n    };\r\n\r\n    socket.on(`company-${companyId}-queueIntegration`, onQueueEvent);\r\n    return () => {\r\n      socket.off(`company-${companyId}-queueIntegration`, onQueueEvent);\r\n    };\r\n  }, []);\r\n\r\n  const handleOpenUserModal = () => {\r\n    setSelectedIntegration(null);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleCloseIntegrationModal = () => {\r\n    setSelectedIntegration(null);\r\n    setUserModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditIntegration = (queueIntegration) => {\r\n    setSelectedIntegration(queueIntegration);\r\n    setUserModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteIntegration = async (integrationId) => {\r\n    try {\r\n      await api.delete(`/queueIntegration/${integrationId}`);\r\n      toast.success(i18n.t(\"queueIntegration.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingUser(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingUser &&\r\n          `${i18n.t(\"queueIntegration.confirmationModal.deleteTitle\")} ${\r\n            deletingUser.name\r\n          }?`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteIntegration(deletingUser.id)}\r\n      >\r\n        {i18n.t(\"queueIntegration.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <IntegrationModal\r\n        open={userModalOpen}\r\n        onClose={handleCloseIntegrationModal}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        integrationId={selectedIntegration && selectedIntegration.id}\r\n      />\r\n      {user.profile === \"user\" ? (\r\n        <ForbiddenPage />\r\n      ) : (\r\n        <>\r\n          <MainHeader>\r\n            <Title>\r\n              {i18n.t(\"queueIntegration.title\")} ({queueIntegration.length})\r\n            </Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <TextField\r\n                placeholder={i18n.t(\"queueIntegration.searchPlaceholder\")}\r\n                type=\"search\"\r\n                value={searchParam}\r\n                onChange={handleSearch}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon color=\"secondary\" />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenUserModal}\r\n                style={{ borderRadius: \"22px\" }}\r\n              >\r\n                {i18n.t(\"queueIntegration.buttons.add\")}\r\n              </Button>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\"\r\n            onScroll={handleScroll}\r\n          >\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell padding=\"checkbox\"></TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queueIntegration.table.id\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"queueIntegration.table.name\")}\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {queueIntegration.map((integration) => (\r\n                    <TableRow key={integration.id}>\r\n                      <TableCell>\r\n                        {integration.type === \"dialogflow\" && (\r\n                          <Avatar src={dialogflow} className={classes.avatar} />\r\n                        )}\r\n                        {integration.type === \"n8n\" && (\r\n                          <Avatar src={n8n} className={classes.avatar} />\r\n                        )}\r\n                        {integration.type === \"webhook\" && (\r\n                          <Avatar src={webhooks} className={classes.avatar} />\r\n                        )}\r\n                        {integration.type === \"typebot\" && (\r\n                          <Avatar src={typebot} className={classes.avatar} />\r\n                        )}\r\n                        {integration.type === \"flowbuilder\" && (\r\n                          <Avatar\r\n                            src={flowbuilder}\r\n                            className={classes.avatar}\r\n                          />\r\n                        )}\r\n                      </TableCell>\r\n\r\n                      <TableCell align=\"center\">{integration.id}</TableCell>\r\n                      <TableCell align=\"center\">{integration.name}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleEditIntegration(integration)}\r\n                        >\r\n                          <Edit color=\"secondary\" />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            setConfirmModalOpen(true);\r\n                            setDeletingUser(integration);\r\n                          }}\r\n                        >\r\n                          <DeleteOutline color=\"secondary\" />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  {loading && <TableRowSkeleton columns={7} />}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>\r\n      )}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default QueueIntegration;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport {\r\n    Formik,\r\n    Form,\r\n    Field,\r\n    FieldArray\r\n} from \"formik\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport {\r\n    Button,\r\n    CircularProgress,\r\n    Dialog,\r\n    DialogActions,\r\n    DialogContent,\r\n    DialogTitle,\r\n    Grid,\r\n    makeStyles,\r\n    TextField\r\n} from \"@material-ui/core\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport Typography from \"@material-ui/core/Typography\";\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport AttachFileIcon from \"@material-ui/icons/AttachFile\";\r\n\r\nimport { green } from \"@material-ui/core/colors\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n    root: {\r\n        display: \"flex\",\r\n        flexWrap: \"wrap\",\r\n        gap: 4\r\n    },\r\n    multFieldLine: {\r\n        display: \"flex\",\r\n        \"& > *:not(:last-child)\": {\r\n            marginRight: theme.spacing(1),\r\n        },\r\n    },\r\n    textField: {\r\n        marginRight: theme.spacing(1),\r\n        flex: 1,\r\n    },\r\n\r\n    extraAttr: {\r\n        display: \"flex\",\r\n        justifyContent: \"center\",\r\n        alignItems: \"center\",\r\n    },\r\n\r\n    btnWrapper: {\r\n        position: \"relative\",\r\n    },\r\n\r\n    buttonProgress: {\r\n        color: green[500],\r\n        position: \"absolute\",\r\n        top: \"50%\",\r\n        left: \"50%\",\r\n        marginTop: -12,\r\n        marginLeft: -12,\r\n    },\r\n    formControl: {\r\n        margin: theme.spacing(1),\r\n        minWidth: 2000,\r\n    },\r\n    colorAdorment: {\r\n        width: 20,\r\n        height: 20,\r\n    },\r\n}));\r\n\r\nconst FileListSchema = Yup.object().shape({\r\n    name: Yup.string()\r\n        .min(3, \"nome muito curto\")\r\n        .required(\"Obrigatório\"),\r\n    message: Yup.string()\r\n        .required(\"Obrigatório\")\r\n});\r\n\r\nconst FilesModal = ({ open, onClose, fileListId, reload }) => {\r\n    const classes = useStyles();\r\n    const { user } = useContext(AuthContext);\r\n\r\n    const [files, setFiles] = useState([]);\r\n    const [selectedFileNames, setSelectedFileNames] = useState([]);\r\n\r\n\r\n    const initialState = {\r\n        name: \"\",\r\n        message: \"\",\r\n        options: [{ name: \"\", path: \"\", mediaType: \"\" }],\r\n    };\r\n\r\n    const [fileList, setFileList] = useState(initialState);\r\n\r\n    useEffect(() => {\r\n        try {\r\n            (async () => {\r\n                if (!fileListId) return;\r\n\r\n                const { data } = await api.get(`/files/${fileListId}`);\r\n                setFileList(data);\r\n            })()\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n    }, [fileListId, open]);\r\n\r\n    const handleClose = () => {\r\n        setFileList(initialState);\r\n        setFiles([]);\r\n        onClose();\r\n    };\r\n\r\n    const handleSaveFileList = async (values) => {\r\n\r\n        const uploadFiles = async (options, filesOptions, id) => {\r\n            const formData = new FormData();\r\n            formData.append(\"fileId\", id);\r\n            formData.append(\"typeArch\", \"fileList\")\r\n            filesOptions.forEach((fileOption, index) => {\r\n                if (fileOption.file) {\r\n                    formData.append(\"files\", fileOption.file);\r\n                    formData.append(\"mediaType\", fileOption.file.type)\r\n                    formData.append(\"name\", options[index].name);\r\n                    formData.append(\"id\", options[index].id);\r\n                }\r\n            });\r\n\r\n            try {\r\n                const { data } = await api.post(`/files/uploadList/${id}`, formData);\r\n                setFiles([]);\r\n                return data;\r\n            } catch (err) {\r\n                toastError(err);\r\n            }\r\n            return null;\r\n        }\r\n\r\n        const fileData = { ...values, userId: user.id };\r\n\r\n        try {\r\n            if (fileListId) {\r\n                const { data } = await api.put(`/files/${fileListId}`, fileData)\r\n                if (data.options.length > 0)\r\n                    // console.log(values.options)\r\n                    uploadFiles(data.options, values.options, fileListId)\r\n            } else {\r\n                const { data } = await api.post(\"/files\", fileData);\r\n                if (data.options.length > 0)\r\n                    uploadFiles(data.options, values.options, data.id)\r\n            }\r\n            toast.success(i18n.t(\"fileModal.success\"));\r\n            if (typeof reload == 'function') {\r\n                reload();\r\n            }\r\n        } catch (err) {\r\n            toastError(err);\r\n        }\r\n        handleClose();\r\n    };\r\n\r\n    return (\r\n        <div className={classes.root}>\r\n            <Dialog\r\n                open={open}\r\n                onClose={handleClose}\r\n                maxWidth=\"md\"\r\n                fullWidth\r\n                scroll=\"paper\">\r\n                <DialogTitle id=\"form-dialog-title\">\r\n                    {(fileListId ? `${i18n.t(\"fileModal.title.edit\")}` : `${i18n.t(\"fileModal.title.add\")}`)}\r\n                </DialogTitle>\r\n                <Formik\r\n                    initialValues={fileList}\r\n                    enableReinitialize={true}\r\n                    validationSchema={FileListSchema}\r\n                    onSubmit={(values, actions) => {\r\n                        setTimeout(() => {\r\n                            handleSaveFileList(values);\r\n                            actions.setSubmitting(false);\r\n                        }, 400);\r\n                    }}\r\n                >\r\n                    {({ touched, errors, isSubmitting, values }) => (\r\n                        <Form>\r\n                            <DialogContent dividers>\r\n                                <div className={classes.multFieldLine}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"fileModal.form.name\")}\r\n                                        name=\"name\"\r\n                                        error={touched.name && Boolean(errors.name)}\r\n                                        helperText={touched.name && errors.name}\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                        fullWidth\r\n                                    />\r\n                                </div>\r\n                                <br />\r\n                                <div className={classes.multFieldLine}>\r\n                                    <Field\r\n                                        as={TextField}\r\n                                        label={i18n.t(\"fileModal.form.message\")}\r\n                                        type=\"message\"\r\n                                        multiline\r\n                                        minRows={5}\r\n                                        fullWidth\r\n                                        name=\"message\"\r\n                                        error={\r\n                                            touched.message && Boolean(errors.message)\r\n                                        }\r\n                                        helperText={\r\n                                            touched.message && errors.message\r\n                                        }\r\n                                        variant=\"outlined\"\r\n                                        margin=\"dense\"\r\n                                    />\r\n                                </div>\r\n                                <Typography\r\n                                    style={{ marginBottom: 8, marginTop: 12 }}\r\n                                    variant=\"subtitle1\"\r\n                                >\r\n                                    {i18n.t(\"fileModal.form.fileOptions\")}\r\n                                </Typography>\r\n\r\n                                <FieldArray name=\"options\">\r\n                                    {({ push, remove }) => (\r\n                                        <>\r\n                                            {values.options &&\r\n                                                values.options.length > 0 &&\r\n                                                values.options.map((info, index) => (\r\n                                                    <div\r\n                                                        className={classes.extraAttr}\r\n                                                        key={`${index}-info`}\r\n                                                    >\r\n                                                        <Grid container spacing={0}>\r\n                                                            <Grid xs={6} md={10} item>\r\n                                                                <Field\r\n                                                                    as={TextField}\r\n                                                                    label={i18n.t(\"fileModal.form.extraName\")}\r\n                                                                    name={`options[${index}].name`}\r\n                                                                    variant=\"outlined\"\r\n                                                                    margin=\"dense\"\r\n                                                                    multiline\r\n                                                                    fullWidth\r\n                                                                    minRows={2}\r\n                                                                    className={classes.textField}\r\n                                                                />\r\n                                                            </Grid>\r\n                                                            <Grid xs={2} md={2} item style={{ display: 'flex', alignItems: 'center', justifyContent: 'flex-end' }}>\r\n                                                                <input\r\n                                                                    type=\"file\"\r\n                                                                    onChange={(e) => {\r\n                                                                        const selectedFile = e.target.files[0];\r\n                                                                        const updatedOptions = [...values.options];\r\n                                                                        updatedOptions[index].file = selectedFile;\r\n                                                                        setFiles('options', updatedOptions);\r\n\r\n                                                                        // Atualize a lista selectedFileNames para o campo específico\r\n                                                                        const updatedFileNames = [...selectedFileNames];\r\n                                                                        updatedFileNames[index] = selectedFile ? selectedFile.name : '';\r\n                                                                        setSelectedFileNames(updatedFileNames);\r\n                                                                    }}\r\n                                                                    style={{ display: 'none' }}\r\n                                                                    name={`options[${index}].file`}\r\n                                                                    id={`file-upload-${index}`}\r\n                                                                />\r\n                                                                <label htmlFor={`file-upload-${index}`}>\r\n                                                                    <IconButton component=\"span\">\r\n                                                                        <AttachFileIcon />\r\n                                                                    </IconButton>\r\n                                                                </label>\r\n                                                                <IconButton\r\n                                                                    size=\"small\"\r\n                                                                    onClick={() => remove(index)}\r\n                                                                >\r\n                                                                    <DeleteOutlineIcon />\r\n                                                                </IconButton>\r\n                                                            </Grid>\r\n                                                            <Grid xs={12} md={12} item>\r\n                                                                {info.path ? info.path : selectedFileNames[index]}\r\n                                                            </Grid>\r\n                                                        </Grid>\r\n                                                    </div>\r\n\r\n                                                ))}\r\n                                            <div className={classes.extraAttr}>\r\n                                                <Button\r\n                                                    style={{ flex: 1, marginTop: 8 }}\r\n                                                    variant=\"outlined\"\r\n                                                    color=\"primary\"\r\n                                                    onClick={() => {\r\n                                                        push({ name: \"\", path: \"\" });\r\n                                                        setSelectedFileNames([...selectedFileNames, \"\"]);\r\n                                                    }}\r\n                                                >\r\n                                                    {`+ ${i18n.t(\"fileModal.buttons.fileOptions\")}`}\r\n                                                </Button>\r\n                                            </div>\r\n                                        </>\r\n                                    )}\r\n                                </FieldArray>\r\n                            </DialogContent>\r\n                            <DialogActions>\r\n                                <Button\r\n                                    onClick={handleClose}\r\n                                    color=\"secondary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"outlined\"\r\n                                >\r\n                                    {i18n.t(\"fileModal.buttons.cancel\")}\r\n                                </Button>\r\n                                <Button\r\n                                    type=\"submit\"\r\n                                    color=\"primary\"\r\n                                    disabled={isSubmitting}\r\n                                    variant=\"contained\"\r\n                                    className={classes.btnWrapper}\r\n                                >\r\n                                    {fileListId\r\n                                        ? `${i18n.t(\"fileModal.buttons.okEdit\")}`\r\n                                        : `${i18n.t(\"fileModal.buttons.okAdd\")}`}\r\n                                    {isSubmitting && (\r\n                                        <CircularProgress\r\n                                            size={24}\r\n                                            className={classes.buttonProgress}\r\n                                        />\r\n                                    )}\r\n                                </Button>\r\n                            </DialogActions>\r\n                        </Form>\r\n                    )}\r\n                </Formik>\r\n            </Dialog>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default FilesModal;","import React, {\r\n  useCallback,\r\n  useContext,\r\n  useEffect,\r\n  useReducer,\r\n  useState,\r\n} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\n\r\nimport Button from \"@material-ui/core/Button\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport FileModal from \"../../components/FileModal\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport ForbiddenPage from \"../../components/ForbiddenPage\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_FILES\") {\r\n    const files = action.payload;\r\n    const newFiles = [];\r\n\r\n    files.forEach((fileList) => {\r\n      const fileListIndex = state.findIndex((s) => s.id === fileList.id);\r\n      if (fileListIndex !== -1) {\r\n        state[fileListIndex] = fileList;\r\n      } else {\r\n        newFiles.push(fileList);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newFiles];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_FILES\") {\r\n    const fileList = action.payload;\r\n    const fileListIndex = state.findIndex((s) => s.id === fileList.id);\r\n\r\n    if (fileListIndex !== -1) {\r\n      state[fileListIndex] = fileList;\r\n      return [...state];\r\n    } else {\r\n      return [fileList, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_FILE\") {\r\n    const fileListId = action.payload;\r\n\r\n    const fileListIndex = state.findIndex((s) => s.id === fileListId);\r\n    if (fileListIndex !== -1) {\r\n      state.splice(fileListIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst FileLists = () => {\r\n  const classes = useStyles();\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedFileList, setSelectedFileList] = useState(null);\r\n  const [deletingFileList, setDeletingFileList] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [files, dispatch] = useReducer(reducer, []);\r\n  const [fileListModalOpen, setFileListModalOpen] = useState(false);\r\n\r\n  const fetchFileLists = useCallback(async () => {\r\n    try {\r\n      const { data } = await api.get(\"/files/\", {\r\n        params: { searchParam, pageNumber },\r\n      });\r\n      dispatch({ type: \"LOAD_FILES\", payload: data.files });\r\n      setHasMore(data.hasMore);\r\n      setLoading(false);\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      fetchFileLists();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber, fetchFileLists]);\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\r\n\r\n    const onFileEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_FILES\", payload: data.files });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_FILE\", payload: +data.fileId });\r\n      }\r\n    };\r\n\r\n    socket.on(`company-${user.companyId}-file`, onFileEvent);\r\n    return () => {\r\n      socket.off(`company-${user.companyId}-file`, onFileEvent);\r\n    };\r\n  }, [socket]);\r\n\r\n  const handleOpenFileListModal = () => {\r\n    setSelectedFileList(null);\r\n    setFileListModalOpen(true);\r\n  };\r\n\r\n  const handleCloseFileListModal = () => {\r\n    setSelectedFileList(null);\r\n    setFileListModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditFileList = (fileList) => {\r\n    setSelectedFileList(fileList);\r\n    setFileListModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteFileList = async (fileListId) => {\r\n    try {\r\n      await api.delete(`/files/${fileListId}`);\r\n      toast.success(i18n.t(\"files.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingFileList(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n    await fetchFileLists();\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={\r\n          deletingFileList && `${i18n.t(\"files.confirmationModal.deleteTitle\")}`\r\n        }\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteFileList(deletingFileList.id)}\r\n      >\r\n        {i18n.t(\"files.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      <FileModal\r\n        open={fileListModalOpen}\r\n        onClose={handleCloseFileListModal}\r\n        reload={fetchFileLists}\r\n        aria-labelledby=\"form-dialog-title\"\r\n        fileListId={selectedFileList && selectedFileList.id}\r\n      />\r\n      {user.profile === \"user\" ? (\r\n        <ForbiddenPage />\r\n      ) : (\r\n        <>\r\n          <MainHeader>\r\n            <Title>\r\n              {i18n.t(\"files.title\")} ({files.length})\r\n            </Title>\r\n            <MainHeaderButtonsWrapper>\r\n              <TextField\r\n                placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n                type=\"search\"\r\n                value={searchParam}\r\n                onChange={handleSearch}\r\n                InputProps={{\r\n                  startAdornment: (\r\n                    <InputAdornment position=\"start\">\r\n                      <SearchIcon style={{ color: \"gray\" }} />\r\n                    </InputAdornment>\r\n                  ),\r\n                }}\r\n              />\r\n              <Button\r\n                variant=\"contained\"\r\n                color=\"primary\"\r\n                onClick={handleOpenFileListModal}\r\n                style={{ borderRadius: \"22px\" }}\r\n              >\r\n                {i18n.t(\"files.buttons.add\")}\r\n              </Button>\r\n            </MainHeaderButtonsWrapper>\r\n          </MainHeader>\r\n          <Paper\r\n            className={classes.mainPaper}\r\n            variant=\"outlined\"\r\n            onScroll={handleScroll}\r\n          >\r\n            <Table size=\"small\">\r\n              <TableHead>\r\n                <TableRow>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"files.table.name\")}\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">\r\n                    {i18n.t(\"files.table.actions\")}\r\n                  </TableCell>\r\n                </TableRow>\r\n              </TableHead>\r\n              <TableBody>\r\n                <>\r\n                  {files.map((fileList) => (\r\n                    <TableRow key={fileList.id}>\r\n                      <TableCell align=\"center\">{fileList.name}</TableCell>\r\n                      <TableCell align=\"center\">\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={() => handleEditFileList(fileList)}\r\n                        >\r\n                          <EditIcon />\r\n                        </IconButton>\r\n\r\n                        <IconButton\r\n                          size=\"small\"\r\n                          onClick={(e) => {\r\n                            setConfirmModalOpen(true);\r\n                            setDeletingFileList(fileList);\r\n                          }}\r\n                        >\r\n                          <DeleteOutlineIcon />\r\n                        </IconButton>\r\n                      </TableCell>\r\n                    </TableRow>\r\n                  ))}\r\n                  {loading && <TableRowSkeleton columns={4} />}\r\n                </>\r\n              </TableBody>\r\n            </Table>\r\n          </Paper>\r\n        </>\r\n      )}\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default FileLists;\r\n","import React, { useState, useEffect } from 'react';\r\nimport { makeStyles } from '@material-ui/core/styles';\r\nimport TextField from '@material-ui/core/TextField';\r\nimport Button from '@material-ui/core/Button';\r\nimport List from '@material-ui/core/List';\r\nimport ListItem from '@material-ui/core/ListItem';\r\nimport ListItemText from '@material-ui/core/ListItemText';\r\nimport ListItemSecondaryAction from '@material-ui/core/ListItemSecondaryAction';\r\nimport IconButton from '@material-ui/core/IconButton';\r\nimport DeleteIcon from '@material-ui/icons/Delete';\r\nimport EditIcon from '@material-ui/icons/Edit';\r\n\r\nconst useStyles = makeStyles((theme)=> ({\r\n  root: {\r\n    display: 'flex',\r\n    flexDirection: 'column',\r\n    alignItems: 'center',\r\n    margin: '2rem'\r\n  },\r\n  inputContainer: {\r\n    display: 'flex',\r\n    width: '100%',\r\n    marginBottom: '1rem'\r\n  },\r\n  input: {\r\n    flexGrow: 1,\r\n    marginRight: '1rem'\r\n  },\r\n  listContainer: {\r\n    width: '100%',\r\n    height: '100%',\r\n    marginTop: '1rem',\r\n    backgroundColor: theme.palette.background.primary,\r\n    borderRadius: '5px',\r\n  },\r\n  list: {\r\n    marginBottom: '5px',\r\n    color: theme.palette.text.primary\r\n  }\r\n}));\r\n\r\nconst ToDoList = () => {\r\n  const classes = useStyles();\r\n\r\n  const [task, setTask] = useState('');\r\n  const [tasks, setTasks] = useState([]);\r\n  const [editIndex, setEditIndex] = useState(-1);\r\n\r\n  useEffect(() => {\r\n    const savedTasks = localStorage.getItem('tasks');\r\n    if (savedTasks) {\r\n      setTasks(JSON.parse(savedTasks));\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    localStorage.setItem('tasks', JSON.stringify(tasks));\r\n  }, [tasks]);\r\n\r\n  const handleTaskChange = (event) => {\r\n    setTask(event.target.value);\r\n  };\r\n\r\n  const handleAddTask = () => {\r\n    if (!task.trim()) {\r\n      // Impede que o usuário crie uma tarefa sem texto\r\n      return;\r\n    }\r\n\r\n    const now = new Date();\r\n    if (editIndex >= 0) {\r\n      // Editar tarefa existente\r\n      const newTasks = [...tasks];\r\n      newTasks[editIndex] = {text: task, updatedAt: now, createdAt: newTasks[editIndex].createdAt};\r\n      setTasks(newTasks);\r\n      setTask('');\r\n      setEditIndex(-1);\r\n    } else {\r\n      // Adicionar nova tarefa\r\n      setTasks([...tasks, {text: task, createdAt: now, updatedAt: now}]);\r\n      setTask('');\r\n    }\r\n  };\r\n\r\n  const handleEditTask = (index) => {\r\n    setTask(tasks[index].text);\r\n    setEditIndex(index);\r\n  };\r\n\r\n  const handleDeleteTask = (index) => {\r\n    const newTasks = [...tasks];\r\n    newTasks.splice(index, 1);\r\n    setTasks(newTasks);\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div className={classes.inputContainer}>\r\n        <TextField\r\n          className={classes.input}\r\n          label=\"Nova tarefa\"\r\n          value={task}\r\n          onChange={handleTaskChange}\r\n          variant=\"outlined\"\r\n        />\r\n        <Button variant=\"contained\" color=\"primary\" onClick={handleAddTask}>\r\n          {editIndex >= 0 ? 'Salvar' : 'Adicionar'}\r\n        </Button>\r\n      </div>\r\n      <div className={classes.listContainer}>\r\n        <List>\r\n          {tasks.map((task, index) => (\r\n            <ListItem key={index} className={classes.list}>\r\n              <ListItemText primary={task.text} secondary={task.updatedAt.toLocaleString()} />\r\n              <ListItemSecondaryAction>\r\n                <IconButton onClick={() => handleEditTask(index)}>\r\n                  <EditIcon />\r\n                </IconButton>\r\n                <IconButton onClick={() => handleDeleteTask(index)}>\r\n                  <DeleteIcon />\r\n                </IconButton>\r\n              </ListItemSecondaryAction>\r\n            </ListItem>\r\n          ))}\r\n        </List>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\n\r\nexport default ToDoList;\r\n","import {\r\n  Badge,\r\n  Box,\r\n  Button,\r\n  TextField,\r\n  Tooltip,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { makeStyles, useTheme } from \"@material-ui/core/styles\";\r\nimport { Facebook, Instagram, WhatsApp } from \"@material-ui/icons\";\r\nimport { format, isSameDay, parseISO } from \"date-fns\";\r\nimport React, { useContext, useEffect, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { toast } from \"react-toastify\";\r\nimport Board from \"react-trello\";\r\nimport { Can } from \"../../components/Can\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexDirection: \"column\",\r\n    alignItems: \"center\",\r\n    padding: theme.spacing(1),\r\n    marginTop: theme.spacing(2),\r\n  },\r\n  kanbanContainer: {\r\n    width: \"100%\",\r\n    maxWidth: \"1200px\",\r\n    margin: \"0 auto\",\r\n  },\r\n  connectionTag: {\r\n    background: \"green\",\r\n    color: \"#FFF\",\r\n    marginRight: 1,\r\n    padding: 1,\r\n    fontWeight: \"bold\",\r\n    borderRadius: 3,\r\n    fontSize: \"0.6em\",\r\n  },\r\n  lastMessageTime: {\r\n    justifySelf: \"flex-end\",\r\n    textAlign: \"right\",\r\n    position: \"relative\",\r\n    marginLeft: \"auto\",\r\n    color: theme.palette.text.secondary,\r\n  },\r\n  lastMessageTimeUnread: {\r\n    justifySelf: \"flex-end\",\r\n    textAlign: \"right\",\r\n    position: \"relative\",\r\n    color: theme.palette.success.main,\r\n    fontWeight: \"bold\",\r\n    marginLeft: \"auto\",\r\n  },\r\n  cardButton: {\r\n    marginRight: theme.spacing(1),\r\n    color: theme.palette.common.white,\r\n    backgroundColor: theme.palette.primary.main,\r\n    \"&:hover\": {\r\n      backgroundColor: theme.palette.primary.dark,\r\n    },\r\n  },\r\n  dateInput: {\r\n    marginRight: theme.spacing(2),\r\n  },\r\n}));\r\n\r\nconst Kanban = () => {\r\n  const classes = useStyles();\r\n  const theme = useTheme(); // Obter o tema atual\r\n  const history = useHistory();\r\n  const { user, socket } = useContext(AuthContext);\r\n  const [tags, setTags] = useState([]);\r\n  const { isHorizontal } = useContext(AuthContext);\r\n  const [tickets, setTickets] = useState([]);\r\n  const [ticketNot, setTicketNot] = useState(0);\r\n  const [file, setFile] = useState({ lanes: [] });\r\n  const [startDate, setStartDate] = useState(format(new Date(), \"yyyy-MM-dd\"));\r\n  const [endDate, setEndDate] = useState(format(new Date(), \"yyyy-MM-dd\"));\r\n\r\n  const jsonString = user.queues.map((queue) => queue.UserQueue.queueId);\r\n\r\n  useEffect(() => {\r\n    fetchTags();\r\n  }, [user]);\r\n\r\n  const fetchTags = async () => {\r\n    try {\r\n      const response = await api.get(\"/tag/kanban/\");\r\n      const fetchedTags = response.data.lista || [];\r\n      setTags(fetchedTags);\r\n      fetchTickets();\r\n    } catch (error) {\r\n      console.log(error);\r\n    }\r\n  };\r\n\r\n  const fetchTickets = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/ticket/kanban\", {\r\n        params: {\r\n          queueIds: JSON.stringify(jsonString),\r\n          startDate: startDate,\r\n          endDate: endDate,\r\n        },\r\n      });\r\n      setTickets(data.tickets);\r\n    } catch (err) {\r\n      console.log(err);\r\n      setTickets([]);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const companyId = user.companyId;\r\n    const onAppMessage = (data) => {\r\n      if (\r\n        data.action === \"create\" ||\r\n        data.action === \"update\" ||\r\n        data.action === \"delete\"\r\n      ) {\r\n        fetchTickets();\r\n      }\r\n    };\r\n    socket.on(`company-${companyId}-ticket`, onAppMessage);\r\n    socket.on(`company-${companyId}-appMessage`, onAppMessage);\r\n\r\n    return () => {\r\n      socket.off(`company-${companyId}-ticket`, onAppMessage);\r\n      socket.off(`company-${companyId}-appMessage`, onAppMessage);\r\n    };\r\n  }, [socket, startDate, endDate]);\r\n\r\n  const handleSearchClick = () => {\r\n    fetchTickets();\r\n  };\r\n\r\n  const handleStartDateChange = (event) => {\r\n    setStartDate(event.target.value);\r\n  };\r\n\r\n  const handleEndDateChange = (event) => {\r\n    setEndDate(event.target.value);\r\n  };\r\n\r\n  const IconChannel = (channel) => {\r\n    switch (channel) {\r\n      case \"facebook\":\r\n        return (\r\n          <Facebook\r\n            style={{\r\n              color: \"#3b5998\",\r\n              verticalAlign: \"middle\",\r\n              fontSize: \"16px\",\r\n            }}\r\n          />\r\n        );\r\n      case \"instagram\":\r\n        return (\r\n          <Instagram\r\n            style={{\r\n              color: \"#e1306c\",\r\n              verticalAlign: \"middle\",\r\n              fontSize: \"16px\",\r\n            }}\r\n          />\r\n        );\r\n      case \"whatsapp\":\r\n        return (\r\n          <WhatsApp\r\n            style={{\r\n              color: \"#25d366\",\r\n              verticalAlign: \"middle\",\r\n              fontSize: \"16px\",\r\n            }}\r\n          />\r\n        );\r\n      default:\r\n        return \"error\";\r\n    }\r\n  };\r\n\r\n  const popularCards = (jsonString) => {\r\n    const filteredTickets = tickets.filter(\r\n      (ticket) => ticket.tags.length === 0\r\n    );\r\n\r\n    const lanes = [\r\n      {\r\n        id: \"lane0\",\r\n        title: i18n.t(\"tagsKanban.laneDefault\"),\r\n        label: filteredTickets.length.toString(),\r\n        cards: filteredTickets.map((ticket) => ({\r\n          id: ticket.id.toString(),\r\n          label: \"Ticket nº \" + ticket.id.toString(),\r\n          description: (\r\n            <div>\r\n              <div style={{ display: \"flex\", justifyContent: \"space-between\" }}>\r\n                <span>{ticket.contact.number}</span>\r\n                <Typography\r\n                  className={\r\n                    Number(ticket.unreadMessages) > 0\r\n                      ? classes.lastMessageTimeUnread\r\n                      : classes.lastMessageTime\r\n                  }\r\n                  component=\"span\"\r\n                  variant=\"body2\"\r\n                >\r\n                  {isSameDay(parseISO(ticket.updatedAt), new Date()) ? (\r\n                    <>{format(parseISO(ticket.updatedAt), \"HH:mm\")}</>\r\n                  ) : (\r\n                    <>{format(parseISO(ticket.updatedAt), \"dd/MM/yyyy\")}</>\r\n                  )}\r\n                </Typography>\r\n              </div>\r\n              <div style={{ textAlign: \"left\" }}>\r\n                {ticket.lastMessage || \" \"}\r\n              </div>\r\n              <Button\r\n                className={`${classes.button} ${classes.cardButton}`}\r\n                onClick={() => {\r\n                  handleCardClick(ticket.uuid);\r\n                }}\r\n                style={{ borderRadius: \"22px\" }}\r\n              >\r\n                Ver Ticket\r\n              </Button>\r\n              <span style={{ marginRight: \"8px\" }} />\r\n              {ticket?.user && (\r\n                <Badge\r\n                  style={{ backgroundColor: \"#000000\" }}\r\n                  className={classes.connectionTag}\r\n                >\r\n                  {ticket.user?.name.toUpperCase()}\r\n                </Badge>\r\n              )}\r\n            </div>\r\n          ),\r\n          title: (\r\n            <>\r\n              <Tooltip title={ticket.whatsapp?.name}>\r\n                {IconChannel(ticket.channel)}\r\n              </Tooltip>{\" \"}\r\n              {ticket.contact.name}\r\n            </>\r\n          ),\r\n          draggable: true,\r\n          href: \"/tickets/\" + ticket.uuid,\r\n        })),\r\n      },\r\n      ...tags.map((tag) => {\r\n        const filteredTickets = tickets.filter((ticket) => {\r\n          const tagIds = ticket.tags.map((tag) => tag.id);\r\n          return tagIds.includes(tag.id);\r\n        });\r\n\r\n        return {\r\n          id: tag.id.toString(),\r\n          title: tag.name,\r\n          label: filteredTickets?.length.toString(),\r\n          cards: filteredTickets.map((ticket) => ({\r\n            id: ticket.id.toString(),\r\n            label: \"Ticket nº \" + ticket.id.toString(),\r\n            description: (\r\n              <div>\r\n                <p>\r\n                  {ticket.contact.number}\r\n                  <br />\r\n                  {ticket.lastMessage || \" \"}\r\n                </p>\r\n                <Button\r\n                  className={`${classes.button} ${classes.cardButton}`}\r\n                  onClick={() => {\r\n                    handleCardClick(ticket.uuid);\r\n                  }}\r\n                >\r\n                  Ver Ticket\r\n                </Button>\r\n                <span style={{ marginRight: \"8px\" }} />\r\n                <p>\r\n                  {ticket?.user && (\r\n                    <Badge\r\n                      style={{ backgroundColor: \"#000000\" }}\r\n                      className={classes.connectionTag}\r\n                    >\r\n                      {ticket.user?.name.toUpperCase()}\r\n                    </Badge>\r\n                  )}\r\n                </p>\r\n              </div>\r\n            ),\r\n            title: (\r\n              <>\r\n                <Tooltip title={ticket.whatsapp?.name}>\r\n                  {IconChannel(ticket.channel)}\r\n                </Tooltip>{\" \"}\r\n                {ticket.contact.name}\r\n              </>\r\n            ),\r\n            draggable: true,\r\n            href: \"/tickets/\" + ticket.uuid,\r\n          })),\r\n          style: { backgroundColor: tag.color, color: \"white\" },\r\n        };\r\n      }),\r\n    ];\r\n\r\n    setFile({ lanes });\r\n  };\r\n\r\n  const handleCardClick = (uuid) => {\r\n    history.push(\"/tickets/\" + uuid);\r\n  };\r\n\r\n  useEffect(() => {\r\n    popularCards(jsonString);\r\n  }, [tags, tickets]);\r\n\r\n  const handleCardMove = async (cardId, sourceLaneId, targetLaneId) => {\r\n    try {\r\n      await api.delete(`/ticket-tags/${targetLaneId}`);\r\n      toast.success(\"Ticket Tag Removido!\");\r\n      await api.put(`/ticket-tags/${targetLaneId}/${sourceLaneId}`);\r\n      toast.success(\"Ticket Tag Adicionado com Sucesso!\");\r\n      await fetchTickets(jsonString);\r\n      popularCards(jsonString);\r\n    } catch (err) {\r\n      console.log(err);\r\n    }\r\n  };\r\n\r\n  const handleAddConnectionClick = () => {\r\n    history.push(\"/tagsKanban\");\r\n  };\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <div\r\n        style={{\r\n          display: \"flex\",\r\n          alignItems: \"center\",\r\n          justifyContent: \"space-between\",\r\n          marginBottom: \"20px\",\r\n          width: \"100%\",\r\n          maxWidth: \"1200px\",\r\n        }}\r\n      >\r\n        <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n          <TextField\r\n            label=\"Data de início\"\r\n            type=\"date\"\r\n            value={startDate}\r\n            onChange={handleStartDateChange}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n            variant=\"outlined\"\r\n            className={classes.dateInput}\r\n          />\r\n          <Box mx={1} />\r\n          <TextField\r\n            label=\"Data de fim\"\r\n            type=\"date\"\r\n            value={endDate}\r\n            onChange={handleEndDateChange}\r\n            InputLabelProps={{\r\n              shrink: true,\r\n            }}\r\n            variant=\"outlined\"\r\n            className={classes.dateInput}\r\n          />\r\n          <Box mx={1} />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleSearchClick}\r\n            style={{ borderRadius: \"22px\" }}\r\n          >\r\n            Buscar\r\n          </Button>\r\n        </div>\r\n        <Can\r\n          role={user.profile}\r\n          perform=\"dashboard:view\"\r\n          yes={() => (\r\n            <Button\r\n              variant=\"contained\"\r\n              color=\"primary\"\r\n              onClick={handleAddConnectionClick}\r\n              style={{ borderRadius: \"22px\" }}\r\n            >\r\n              {\"+ Adicionar colunas\"}\r\n            </Button>\r\n          )}\r\n        />\r\n      </div>\r\n      <div className={classes.kanbanContainer}>\r\n        <Board\r\n          data={file}\r\n          onCardMoveAcrossLanes={handleCardMove}\r\n          style={{ backgroundColor: \"rgba(252, 252, 252, 0.03)\" }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Kanban;\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useReducer,\r\n  useCallback,\r\n  useContext,\r\n} from \"react\";\r\nimport { toast } from \"react-toastify\";\r\nimport { useHistory } from \"react-router-dom\"; // Importe o useHistory\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport Table from \"@material-ui/core/Table\";\r\nimport TableBody from \"@material-ui/core/TableBody\";\r\nimport TableCell from \"@material-ui/core/TableCell\";\r\nimport TableHead from \"@material-ui/core/TableHead\";\r\nimport TableRow from \"@material-ui/core/TableRow\";\r\nimport IconButton from \"@material-ui/core/IconButton\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport InputAdornment from \"@material-ui/core/InputAdornment\";\r\n\r\nimport DeleteOutlineIcon from \"@material-ui/icons/DeleteOutline\";\r\nimport EditIcon from \"@material-ui/icons/Edit\";\r\n\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { i18n } from \"../../translate/i18n\";\r\nimport TableRowSkeleton from \"../../components/TableRowSkeleton\";\r\nimport TagModal from \"../../components/TagModal\";\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport toastError from \"../../errors/toastError\";\r\nimport { Chip } from \"@material-ui/core\";\r\n// import { SocketContext } from \"../../context/Socket/SocketContext\";\r\nimport { AuthContext } from \"../../context/Auth/AuthContext\";\r\nimport { CheckCircle } from \"@material-ui/icons\";\r\n\r\nconst reducer = (state, action) => {\r\n  if (action.type === \"LOAD_TAGS\") {\r\n    const tags = action.payload;\r\n    const newTags = [];\r\n\r\n    tags.forEach((tag) => {\r\n      const tagIndex = state.findIndex((s) => s.id === tag.id);\r\n      if (tagIndex !== -1) {\r\n        state[tagIndex] = tag;\r\n      } else {\r\n        newTags.push(tag);\r\n      }\r\n    });\r\n\r\n    return [...state, ...newTags];\r\n  }\r\n\r\n  if (action.type === \"UPDATE_TAGS\") {\r\n    const tag = action.payload;\r\n    const tagIndex = state.findIndex((s) => s.id === tag.id);\r\n\r\n    if (tagIndex !== -1) {\r\n      state[tagIndex] = tag;\r\n      return [...state];\r\n    } else {\r\n      return [tag, ...state];\r\n    }\r\n  }\r\n\r\n  if (action.type === \"DELETE_TAGS\") {\r\n    const tagId = action.payload;\r\n\r\n    const tagIndex = state.findIndex((s) => s.id === tagId);\r\n    if (tagIndex !== -1) {\r\n      state.splice(tagIndex, 1);\r\n    }\r\n    return [...state];\r\n  }\r\n\r\n  if (action.type === \"RESET\") {\r\n    return [];\r\n  }\r\n};\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n}));\r\n\r\nconst Tags = () => {\r\n  const classes = useStyles();\r\n  const history = useHistory(); // Inicialize o useHistory\r\n\r\n  //   const socketManager = useContext(SocketContext);\r\n  const { user, socket } = useContext(AuthContext);\r\n\r\n\r\n  const [loading, setLoading] = useState(false);\r\n  const [pageNumber, setPageNumber] = useState(1);\r\n  const [hasMore, setHasMore] = useState(false);\r\n  const [selectedTag, setSelectedTag] = useState(null);\r\n  const [deletingTag, setDeletingTag] = useState(null);\r\n  const [confirmModalOpen, setConfirmModalOpen] = useState(false);\r\n  const [searchParam, setSearchParam] = useState(\"\");\r\n  const [tags, dispatch] = useReducer(reducer, []);\r\n  const [tagModalOpen, setTagModalOpen] = useState(false);\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    const delayDebounceFn = setTimeout(() => {\r\n      const fetchTags = async () => {\r\n        try {\r\n          const { data } = await api.get(\"/tags/\", {\r\n            params: { searchParam, pageNumber, kanban: 1 },\r\n          });\r\n          dispatch({ type: \"LOAD_TAGS\", payload: data.tags });\r\n          setHasMore(data.hasMore);\r\n          setLoading(false);\r\n        } catch (err) {\r\n          toastError(err);\r\n        }\r\n      };\r\n      fetchTags();\r\n    }, 500);\r\n    return () => clearTimeout(delayDebounceFn);\r\n  }, [searchParam, pageNumber]);\r\n\r\n  useEffect(() => {\r\n    dispatch({ type: \"RESET\" });\r\n    setPageNumber(1);\r\n  }, [searchParam]);\r\n\r\n  useEffect(() => {\r\n    // const socket = socketManager.GetSocket(user.companyId, user.id);\r\n\r\n    const onTagsEvent = (data) => {\r\n      if (data.action === \"update\" || data.action === \"create\") {\r\n        dispatch({ type: \"UPDATE_TAGS\", payload: data.tag });\r\n      }\r\n\r\n      if (data.action === \"delete\") {\r\n        dispatch({ type: \"DELETE_TAGS\", payload: +data.tagId });\r\n      }\r\n    };\r\n    socket.on(`company${user.companyId}-tag`, onTagsEvent);\r\n\r\n    return () => {\r\n      socket.off(`company${user.companyId}-tag`, onTagsEvent);\r\n    };\r\n  }, [socket]);\r\n\r\n  const handleOpenTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleCloseTagModal = () => {\r\n    setSelectedTag(null);\r\n    setTagModalOpen(false);\r\n  };\r\n\r\n  const handleSearch = (event) => {\r\n    setSearchParam(event.target.value.toLowerCase());\r\n  };\r\n\r\n  const handleEditTag = (tag) => {\r\n    setSelectedTag(tag);\r\n    setTagModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteTag = async (tagId) => {\r\n    try {\r\n      await api.delete(`/tags/${tagId}`);\r\n      toast.success(i18n.t(\"tags.toasts.deleted\"));\r\n    } catch (err) {\r\n      toastError(err);\r\n    }\r\n    setDeletingTag(null);\r\n    setSearchParam(\"\");\r\n    setPageNumber(1);\r\n  };\r\n\r\n  const loadMore = () => {\r\n    setPageNumber((prevState) => prevState + 1);\r\n  };\r\n\r\n  const handleScroll = (e) => {\r\n    if (!hasMore || loading) return;\r\n    const { scrollTop, scrollHeight, clientHeight } = e.currentTarget;\r\n    if (scrollHeight - (scrollTop + 100) < clientHeight) {\r\n      loadMore();\r\n    }\r\n  };\r\n\r\n  const handleReturnToKanban = () => {\r\n    history.push(\"/kanban\");\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ConfirmationModal\r\n        title={deletingTag && `${i18n.t(\"tagsKanban.confirmationModal.deleteTitle\")}`}\r\n        open={confirmModalOpen}\r\n        onClose={setConfirmModalOpen}\r\n        onConfirm={() => handleDeleteTag(deletingTag.id)}\r\n      >\r\n        {i18n.t(\"tagsKanban.confirmationModal.deleteMessage\")}\r\n      </ConfirmationModal>\r\n      {tagModalOpen && (\r\n        <TagModal\r\n          open={tagModalOpen}\r\n          onClose={handleCloseTagModal}\r\n          aria-labelledby=\"form-dialog-title\"\r\n          tagId={selectedTag && selectedTag.id}\r\n          kanban={1}\r\n        />\r\n      )}\r\n      <MainHeader>\r\n        <Title>{i18n.t(\"tagsKanban.title\")} ({tags.length})</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <TextField\r\n            placeholder={i18n.t(\"contacts.searchPlaceholder\")}\r\n            type=\"search\"\r\n            value={searchParam}\r\n            onChange={handleSearch}\r\n            InputProps={{\r\n              startAdornment: (\r\n                <InputAdornment position=\"start\">\r\n                  <SearchIcon style={{ color: \"gray\" }} />\r\n                </InputAdornment>\r\n              ),\r\n            }}\r\n          />\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleOpenTagModal}\r\n          >\r\n            {i18n.t(\"tagsKanban.buttons.add\")}\r\n          </Button>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={handleReturnToKanban}\r\n          >\r\n            {'Voltar para o Kanban'}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n      <Paper\r\n        className={classes.mainPaper}\r\n        variant=\"outlined\"\r\n        onScroll={handleScroll}\r\n      >\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">{i18n.t(\"tagsKanban.table.name\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"tagsKanban.table.tickets\")}</TableCell>\r\n              <TableCell align=\"center\">{i18n.t(\"tagsKanban.table.actions\")}</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            <>\r\n              {tags.map((tag) => (\r\n                <TableRow key={tag.id}>\r\n                  <TableCell align=\"center\">\r\n                    <Chip\r\n                      variant=\"outlined\"\r\n                      style={{\r\n                        backgroundColor: tag.color,\r\n                        textShadow: \"1px 1px 1px #000\",\r\n                        color: \"white\",\r\n                      }}\r\n                      label={tag.name}\r\n                      size=\"small\"\r\n                    />\r\n                  </TableCell>\r\n                  <TableCell align=\"center\">{tag?.ticketTags ? (<span>{tag?.ticketTags?.length}</span>) : <span>0</span>}</TableCell>\r\n                  <TableCell align=\"center\">\r\n                    <IconButton size=\"small\" onClick={() => handleEditTag(tag)}>\r\n                      <EditIcon />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        setConfirmModalOpen(true);\r\n                        setDeletingTag(tag);\r\n                      }}\r\n                    >\r\n                      <DeleteOutlineIcon />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n              {loading && <TableRowSkeleton columns={4} />}\r\n            </>\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n\r\nexport default Tags;\r\n","import React, { useState, useEffect, useContext } from \"react\";\r\n\r\nimport * as Yup from \"yup\";\r\nimport { Formik, Form, Field, FastField, FieldArray } from \"formik\";\r\n\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport Button from \"@material-ui/core/Button\";\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport Dialog from \"@material-ui/core/Dialog\";\r\nimport DialogActions from \"@material-ui/core/DialogActions\";\r\nimport DialogContent from \"@material-ui/core/DialogContent\";\r\nimport DialogTitle from \"@material-ui/core/DialogTitle\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport Select from \"@material-ui/core/Select\";\r\nimport InputLabel from \"@material-ui/core/InputLabel\";\r\nimport MenuItem from \"@material-ui/core/MenuItem\";\r\nimport FormControl from \"@material-ui/core/FormControl\";\r\n\r\nimport { i18n } from \"../../translate/i18n\";\r\n\r\nimport api from \"../../services/api\";\r\nimport { FormHelperText, Grid, Tooltip, Typography } from \"@material-ui/core\";\r\nimport NumberFormat from \"react-number-format\";\r\nimport toastError from \"../../errors/toastError\";\r\n\r\nconst useStyles = makeStyles(theme => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n  },\r\n  multFieldLine: {\r\n    display: \"flex\",\r\n    \"& > *:not(:last-child)\": {\r\n      marginRight: theme.spacing(1),\r\n    },\r\n  },\r\n\r\n  btnWrapper: {\r\n    position: \"relative\",\r\n  },\r\n\r\n  buttonProgress: {\r\n    color: green[500],\r\n    position: \"absolute\",\r\n    top: \"50%\",\r\n    left: \"50%\",\r\n    marginTop: -12,\r\n    marginLeft: -12,\r\n  },\r\n  formControl: {\r\n    margin: theme.spacing(1),\r\n    minWidth: 120,\r\n  },\r\n  selectDaysModal: {\r\n    height: '24px',\r\n    width: '24px',\r\n    borderRadius: '50%',\r\n    border: '1px solid black',\r\n    fontSize: '10px',\r\n    fontWeight: '500',\r\n    display: 'inline-flex',\r\n    alignItems: 'center',\r\n    justifyContent: 'center',\r\n    marginRight: '8px',\r\n    backgroundColor: theme.palette.primary.main,\r\n    color: 'white',\r\n    cursor: 'pointer'\r\n  }\r\n}));\r\n\r\n\r\nconst initialValues = {\r\n  userId: '',\r\n  phone: '',\r\n  interval: 1,\r\n  days: [\r\n    { weekday: \"Segunda-feira\", weekdayEn: \"Monday\", startTime: null, endTime: null, },\r\n    { weekday: \"Terça-feira\", weekdayEn: \"Tuesday\", startTime: null, endTime: null, },\r\n    { weekday: \"Quarta-feira\", weekdayEn: \"Wednesday\", startTime: null, endTime: null, },\r\n    { weekday: \"Quinta-feira\", weekdayEn: \"Thursday\", startTime: null, endTime: null, },\r\n    { weekday: \"Sexta-feira\", weekdayEn: \"Friday\", startTime: null, endTime: null },\r\n    { weekday: \"Sábado\", weekdayEn: \"Saturday\", startTime: null, endTime: null },\r\n    { weekday: \"Domingo\", weekdayEn: \"Sunday\", startTime: null, endTime: null },\r\n  ]\r\n};\r\n\r\n\r\nconst validationSchema = Yup.object().shape({\r\n  userId: Yup.string().required('Informe o usuário'),\r\n  phone: Yup.string().required('Informe o telefone'),\r\n  interval: Yup.number().required('Informe o intervalo entre notificações'),\r\n\r\n  days: Yup.array()\r\n    .of(\r\n      Yup.object().shape({\r\n        startTime: Yup.string()\r\n          .nullable()\r\n          .test(\r\n            'startTime-required-if-endTime',\r\n            'Informe o Periodo de inicio do envio da notificação',\r\n            function (value) {\r\n              const { endTime } = this.parent;\r\n              if (endTime) {\r\n                return !!value;\r\n              }\r\n              return true;\r\n            }\r\n          ),\r\n        endTime: Yup.string()\r\n          .nullable()\r\n          .test(\r\n            'endTime-required-if-startTime',\r\n            'Informe o Periodo de encerramento do envio da notificação',\r\n            function (value) {\r\n              const { startTime } = this.parent;\r\n              if (startTime) {\r\n                return !!value;\r\n              }\r\n              return true;\r\n            }\r\n          ),\r\n      })\r\n    )\r\n    .test(\r\n      'at-least-one-day-filled',\r\n      'Pelo menos um dia da semana deve ter o horário de início e fim preenchido',\r\n      function (days) {\r\n        return days.some(day => day.startTime && day.endTime);\r\n      }\r\n    ),\r\n});\r\n\r\nexport const ModalPlantao = ({ open, onClose, plantaoId, callback }) => {\r\n\r\n  const classes = useStyles();\r\n  const [plantao, setPlantao] = useState(initialValues);\r\n\r\n  useEffect(() => {\r\n\r\n    if (plantaoId) {\r\n      handleGetPlantaoDetails();\r\n    }\r\n  }, [plantaoId]);\r\n\r\n\r\n  const handleClose = () => {\r\n    onClose();\r\n    setPlantao(initialValues);\r\n  };\r\n\r\n  const handleSave = async (values) => {\r\n\r\n    try {\r\n      const { data } = await api.post('/plantao', values);\r\n      handleClose();\r\n      callback();\r\n    } catch (error) {\r\n      console.log('erro ao salvar configuração da notificação', error);\r\n      toastError(error);\r\n    }\r\n\r\n  }\r\n\r\n  const handleGetPlantaoDetails = async () => {\r\n    try {\r\n      const { data } = await api.get(`/plantao/${plantaoId}`);\r\n      setPlantao(data);\r\n    } catch (error) {\r\n      console.log('erro ao buscar dados de notificação do usuário', error);\r\n    }\r\n  }\r\n\r\n  const handleUpdatePlantao = async (values) => {\r\n    try {\r\n      const { data } = await api.put(`/plantao/${plantaoId}`, values);\r\n      handleClose();\r\n      callback();\r\n    } catch (error) {\r\n      console.log('erro ao atualizar dados de notificação do usuário', error);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <div className={classes.root}>\r\n      <Dialog\r\n        open={open}\r\n        onClose={handleClose}\r\n        maxWidth=\"sm\"\r\n        fullWidth\r\n        scroll=\"paper\"\r\n      >\r\n        <DialogTitle id=\"form-dialog-title\">\r\n          {plantaoId\r\n            ? `Editar configuração de notificação do usuário`\r\n            : `Adicionar configuração de notificação do usuário`}\r\n        </DialogTitle>\r\n        <Formik\r\n          initialValues={plantao}\r\n          validationSchema={validationSchema}\r\n          enableReinitialize={true}\r\n          onSubmit={(values, actions) => {\r\n            setTimeout(() => {\r\n              plantaoId\r\n                ? handleUpdatePlantao(values)\r\n                : handleSave(values);\r\n              actions.setSubmitting(false);\r\n            }, 400);\r\n          }}\r\n        >\r\n          {({ touched, errors, isSubmitting, values, setFieldValue }) => (\r\n            <Form>\r\n              <DialogContent dividers>\r\n                <Grid container spacing={1}>\r\n\r\n                  <Grid item xs={4}>\r\n                    <UsersContainer\r\n                      value={values.userId}\r\n                      setFieldValue={setFieldValue}\r\n                      error={touched.userId && Boolean(errors.userId)}\r\n                      helperText={touched.userId && errors.userId}\r\n                    />\r\n                  </Grid>\r\n\r\n\r\n\r\n                  <Grid item xs={4}>\r\n                    <TextField\r\n                      value={values.phone}\r\n                      style={{ marginTop: 0 }}\r\n                      margin=\"dense\"\r\n                      label=\"Telefone\"\r\n                      placeholder=\"5513912344321\"\r\n                      variant=\"outlined\" fullWidth\r\n                      onChange={(e) => setFieldValue('phone', e.target.value)}\r\n                      error={touched.phone && Boolean(errors.phone)}\r\n                      helperText={touched.phone && errors.phone}\r\n                    />\r\n\r\n                  </Grid>\r\n\r\n                  <Grid item xs={4}>\r\n                    <TextField\r\n                      value={values.interval.toString()}\r\n                      style={{ marginTop: 0 }}\r\n                      margin=\"dense\"\r\n                      label=\"Intervalo\"\r\n                      placeholder=\"\"\r\n                      variant=\"outlined\" fullWidth\r\n                      onChange={(e) => setFieldValue('interval', e.target.value)}\r\n                      error={touched.interval && Boolean(errors.interval)}\r\n                      helperText={touched.interval ? errors.interval : 'Intervalo entre notificações'}\r\n                    />\r\n\r\n                  </Grid>\r\n\r\n                  <Grid item xs={12}>\r\n                    <Typography variant=\"subtitle1\" gutterBottom> Dias da semana</Typography>\r\n                  </Grid>\r\n\r\n                  {/* Exibir erro global do array days */}\r\n\r\n\r\n                  {values.days.map((item, index) => {\r\n\r\n                    const startTimeError = errors?.days?.[index]?.startTime;\r\n                    const endTimeError = errors?.days?.[index]?.endTime;\r\n                    const startTimeTouched = touched?.days?.[index]?.startTime;\r\n                    const endTimeTouched = touched?.days?.[index]?.endTime;\r\n\r\n                    return (\r\n                      <Grid container spacing={1} key={index}>\r\n\r\n                        <Grid item xs={4}>\r\n                          <FastField\r\n                            as={TextField}\r\n                            label=\"Dia da Semana\"\r\n                            name={`days[${index}].weekday`}\r\n                            disabled\r\n                            variant=\"outlined\"\r\n                            margin=\"dense\"\r\n                          />\r\n                        </Grid>\r\n\r\n                        <Grid item xs={4}>\r\n                          <FastField name={`days[${index}].startTime`}>\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                label=\"Inicio do expediente\"\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                error={startTimeTouched && Boolean(startTimeError)}\r\n                                helperText={startTimeTouched && startTimeError}\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                        </Grid>\r\n\r\n                        <Grid item xs={4}>\r\n                          <FastField name={`days[${index}].endTime`}>\r\n                            {({ field }) => (\r\n                              <NumberFormat\r\n                                label=\"Fim do expediente\"\r\n                                {...field}\r\n                                variant=\"outlined\"\r\n                                margin=\"dense\"\r\n                                customInput={TextField}\r\n                                format=\"##:##\"\r\n                                error={endTimeTouched && Boolean(endTimeError)}\r\n                                helperText={endTimeTouched && endTimeError}\r\n\r\n                              />\r\n                            )}\r\n                          </FastField>\r\n                        </Grid>\r\n                      </Grid>\r\n                    );\r\n                  })}\r\n\r\n                  {errors.days && typeof errors.days === 'string' && (\r\n                    <Grid item xs={12}>\r\n                      <Typography color=\"error\" variant=\"body2\">\r\n                        {errors.days}\r\n                      </Typography>\r\n                    </Grid>\r\n                  )}\r\n\r\n\r\n                </Grid>\r\n\r\n\r\n              </DialogContent>\r\n              <DialogActions>\r\n                <Button\r\n                  onClick={handleClose}\r\n                  color=\"secondary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"outlined\"\r\n                >\r\n                  {i18n.t(\"userModal.buttons.cancel\")}\r\n                </Button>\r\n                <Button\r\n                  type=\"submit\"\r\n                  color=\"primary\"\r\n                  disabled={isSubmitting}\r\n                  variant=\"contained\"\r\n                >\r\n                  {plantaoId\r\n                    ? `${i18n.t(\"userModal.buttons.okEdit\")}`\r\n                    : `${i18n.t(\"userModal.buttons.okAdd\")}`}\r\n                  {isSubmitting && (\r\n                    <CircularProgress\r\n                      size={24}\r\n                    />\r\n                  )}\r\n                </Button>\r\n              </DialogActions>\r\n            </Form>\r\n          )}\r\n        </Formik>\r\n      </Dialog>\r\n    </div>\r\n\r\n  );\r\n}\r\n\r\nexport const UsersContainer = (props) => {\r\n\r\n  const { value, setFieldValue, error, helperText } = props;\r\n\r\n  const [listUsersAttendance, setListUsersAttendance] = React.useState([]);\r\n\r\n  useEffect(() => {\r\n    fetchUsersAttendance();\r\n  }, [])\r\n\r\n  const fetchUsersAttendance = async () => {\r\n\r\n    try {\r\n      const { data } = await api.get(`/users/list`);\r\n\r\n      setListUsersAttendance(data);\r\n\r\n    } catch (error) {\r\n      console.log('erro buscar usuarios', error);\r\n    }\r\n\r\n  };\r\n\r\n  const handleChange = (event) => {\r\n\r\n    const { value: selectedUser } = event.target;\r\n\r\n    setFieldValue('userId', selectedUser);\r\n  };\r\n\r\n\r\n  return (\r\n    <FormControl\r\n      error={error}\r\n      helperText={helperText}\r\n      fullWidth size=\"small\" variant=\"outlined\" >\r\n      <InputLabel  >Usuário</InputLabel>\r\n      <Select\r\n        variant=\"outlined\"\r\n        value={value}\r\n        label=\"Usuário\"\r\n        onChange={handleChange}\r\n        MenuProps={MenuProps}\r\n\r\n      >\r\n        {listUsersAttendance.map((user) => (\r\n          <MenuItem key={user.id} value={user.id}>{user.name}</MenuItem>\r\n        ))}\r\n      </Select>\r\n      <FormHelperText>{helperText}</FormHelperText>\r\n    </FormControl>\r\n  )\r\n\r\n}\r\n\r\n\r\n\r\nconst ITEM_HEIGHT = 48;\r\nconst ITEM_PADDING_TOP = 8;\r\nexport const MenuProps = {\r\n  PaperProps: {\r\n    style: {\r\n      maxHeight: ITEM_HEIGHT * 4.5 + ITEM_PADDING_TOP,\r\n      width: 200,\r\n    },\r\n  },\r\n};","import React, { useEffect } from \"react\";\r\n\r\nimport { toast } from \"react-toastify\";\r\nimport api from \"../../services/api\";\r\n\r\nimport ConfirmationModal from \"../../components/ConfirmationModal\";\r\nimport MainContainer from \"../../components/MainContainer\";\r\nimport MainHeader from \"../../components/MainHeader\";\r\nimport MainHeaderButtonsWrapper from \"../../components/MainHeaderButtonsWrapper\";\r\nimport { ModalPlantao } from \"../../components/ModalPlantao\";\r\nimport Title from \"../../components/Title\";\r\n\r\nimport {\r\n  Button,\r\n  IconButton,\r\n  makeStyles,\r\n  Paper,\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableRow,\r\n  Typography,\r\n} from \"@material-ui/core\";\r\nimport { green } from \"@material-ui/core/colors\";\r\nimport { DeleteOutline, Edit } from \"@material-ui/icons\";\r\nimport { Stack } from \"react-bootstrap\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  mainPaper: {\r\n    flex: 1,\r\n    padding: theme.spacing(1),\r\n    overflowY: \"scroll\",\r\n    ...theme.scrollbarStyles,\r\n  },\r\n  customTableCell: {\r\n    display: \"flex\",\r\n    alignItems: \"center\",\r\n    justifyContent: \"center\",\r\n  },\r\n  tooltip: {\r\n    backgroundColor: \"#f5f5f9\",\r\n    color: \"rgba(0, 0, 0, 0.87)\",\r\n    fontSize: theme.typography.pxToRem(14),\r\n    border: \"1px solid #dadde9\",\r\n    maxWidth: 450,\r\n  },\r\n  tooltipPopper: {\r\n    textAlign: \"center\",\r\n  },\r\n  buttonProgress: {\r\n    color: green[500],\r\n  },\r\n}));\r\n\r\nexport const Plantao = () => {\r\n  const classes = useStyles();\r\n\r\n  const [openModal, setOpenModal] = React.useState(false);\r\n  const [plantaoId, setPlantaoId] = React.useState(null);\r\n  const [listPlantao, setListPlantao] = React.useState([]);\r\n  const [modalConfirmationOpen, setModalConfirmationOpen] =\r\n    React.useState(false);\r\n\r\n  useEffect(() => {\r\n    handleGetPlantao();\r\n  }, []);\r\n\r\n  const handleGetPlantao = async () => {\r\n    try {\r\n      const { data } = await api.get(\"/plantao\");\r\n      setListPlantao(data);\r\n    } catch (error) {\r\n      console.log(\"lista Notificaco\", error);\r\n    }\r\n  };\r\n\r\n  const handleEditPlantao = (plantao) => {\r\n    setPlantaoId(plantao.id);\r\n    setOpenModal(true);\r\n  };\r\n\r\n  const handleClose = () => {\r\n    setOpenModal(false);\r\n    setPlantaoId(null);\r\n  };\r\n\r\n  const handleDeletePlantao = async () => {\r\n    try {\r\n      const { data } = await api.delete(`/plantao/${plantaoId}`);\r\n      handleGetPlantao();\r\n      toast.success(\"Notificação do Usuário removida com sucesso\");\r\n    } catch (error) {\r\n      console.log(\"Notificação do Usuário\", error);\r\n    }\r\n  };\r\n\r\n  const handleOpenConfirmationModal = (plantaoId) => {\r\n    setModalConfirmationOpen(true);\r\n    setPlantaoId(plantaoId);\r\n  };\r\n\r\n  return (\r\n    <MainContainer>\r\n      <ModalPlantao\r\n        plantaoId={plantaoId}\r\n        onClose={handleClose}\r\n        open={openModal}\r\n        callback={handleGetPlantao}\r\n      />\r\n\r\n      <ConfirmationModal\r\n        title={\"Remover Notificação do usuário\"}\r\n        open={modalConfirmationOpen}\r\n        onClose={setModalConfirmationOpen}\r\n        onConfirm={handleDeletePlantao}\r\n      >\r\n        {\"Deseja realmente excluir este Notificação do usuário?\"}\r\n      </ConfirmationModal>\r\n\r\n      <MainHeader>\r\n        <Title>{\"Notificação do usuário\"}</Title>\r\n        <MainHeaderButtonsWrapper>\r\n          <Button\r\n            variant=\"contained\"\r\n            color=\"primary\"\r\n            onClick={() => setOpenModal(true)}\r\n            style={{ borderRadius: \"22px\" }}\r\n          >\r\n            {\"Adicionar Notificação\"}\r\n          </Button>\r\n        </MainHeaderButtonsWrapper>\r\n      </MainHeader>\r\n\r\n      <Paper className={classes.mainPaper} variant=\"outlined\">\r\n        <Table size=\"small\">\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell align=\"center\">id</TableCell>\r\n              <TableCell align=\"center\">Usuário</TableCell>\r\n              <TableCell align=\"center\">Telefone</TableCell>\r\n              <TableCell align=\"center\">Horarios</TableCell>\r\n              <TableCell align=\"center\">Ações</TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {listPlantao?.length > 0 &&\r\n              listPlantao.map((users) => (\r\n                <TableRow key={users.id}>\r\n                  <TableCell align=\"center\">{users?.id}</TableCell>\r\n\r\n                  <TableCell align=\"center\">{users?.user?.name}</TableCell>\r\n\r\n                  <TableCell align=\"center\">{users?.phone}</TableCell>\r\n\r\n                  <TableCell align=\"center\">\r\n                    <Stack>\r\n                      {users?.days.map((dia, index) => {\r\n                        if (dia.startTime && dia.endTime) {\r\n                          return (\r\n                            <Typography\r\n                              key={index}\r\n                              variant=\"body2\"\r\n                              color=\"textSecondary\"\r\n                            >\r\n                              {`${dia.weekday} - ${dia.startTime} às ${dia.endTime}`}\r\n                            </Typography>\r\n                          );\r\n                        }\r\n                      })}\r\n                    </Stack>\r\n                  </TableCell>\r\n\r\n                  <TableCell align=\"center\">\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={() => handleEditPlantao(users)}\r\n                    >\r\n                      <Edit />\r\n                    </IconButton>\r\n\r\n                    <IconButton\r\n                      size=\"small\"\r\n                      onClick={(e) => {\r\n                        handleOpenConfirmationModal(users.id);\r\n                      }}\r\n                    >\r\n                      <DeleteOutline />\r\n                    </IconButton>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n          </TableBody>\r\n        </Table>\r\n      </Paper>\r\n    </MainContainer>\r\n  );\r\n};\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { BrowserRouter, Switch } from \"react-router-dom\";\r\nimport { ToastContainer } from \"react-toastify\";\r\n\r\nimport LoggedInLayout from \"../layout\";\r\nimport Dashboard from \"../pages/Dashboard\";\r\nimport TicketResponsiveContainer from \"../pages/TicketResponsiveContainer\";\r\nimport Signup from \"../pages/Signup\";\r\nimport Login from \"../pages/Login\";\r\nimport Connections from \"../pages/Connections\";\r\nimport SettingsCustom from \"../pages/SettingsCustom\";\r\nimport Financeiro from \"../pages/Financeiro\";\r\nimport Users from \"../pages/Users\";\r\nimport Contacts from \"../pages/Contacts\";\r\nimport ContactImportPage from \"../pages/Contacts/import\";\r\nimport ChatMoments from \"../pages/Moments\"\r\nimport Queues from \"../pages/Queues\";\r\nimport Tags from \"../pages/Tags\";\r\nimport MessagesAPI from \"../pages/MessagesAPI\";\r\nimport Helps from \"../pages/Helps\";\r\nimport ContactLists from \"../pages/ContactLists\";\r\nimport ContactListItems from \"../pages/ContactListItems\";\r\nimport Companies from \"../pages/Companies\";\r\nimport QuickMessages from \"../pages/QuickMessages\";\r\nimport { AuthProvider } from \"../context/Auth/AuthContext\";\r\nimport { TicketsContextProvider } from \"../context/Tickets/TicketsContext\";\r\nimport { WhatsAppsProvider } from \"../context/WhatsApp/WhatsAppsContext\";\r\nimport Route from \"./Route\";\r\nimport Schedules from \"../pages/Schedules\";\r\nimport Campaigns from \"../pages/Campaigns\";\r\nimport CampaignsConfig from \"../pages/CampaignsConfig\";\r\nimport CampaignReport from \"../pages/CampaignReport\";\r\nimport Annoucements from \"../pages/Annoucements\";\r\nimport Chat from \"../pages/Chat\";\r\nimport Prompts from \"../pages/Prompts\";\r\nimport AllConnections from \"../pages/AllConnections\";\r\nimport Reports from \"../pages/Reports\";\r\nimport { FlowBuilderConfig } from \"../pages/FlowBuilderConfig\";\r\n// import Integrations from '../pages/Integrations';\r\n// import GoogleCalendarComponent from '../pages/Integrations/components/GoogleCalendarComponent';\r\nimport FlowBuilder from \"../pages/FlowBuilder\";\r\nimport FlowDefault from \"../pages/FlowDefault\"\r\nimport CampaignsPhrase from \"../pages/CampaignsPhrase\";\r\nimport Subscription from \"../pages/Subscription\";\r\nimport QueueIntegration from \"../pages/QueueIntegration\";\r\nimport Files from \"../pages/Files\";\r\nimport ToDoList from \"../pages/ToDoList\";\r\nimport Kanban from \"../pages/Kanban\";\r\nimport TagsKanban from \"../pages/TagsKanban\";\r\nimport { Plantao } from '../pages/Plantao';\r\nconst Routes = () => {\r\n  const [showCampaigns, setShowCampaigns] = useState(false);\r\n\r\n  useEffect(() => {\r\n    const cshow = localStorage.getItem(\"cshow\");\r\n    if (cshow !== undefined) {\r\n      setShowCampaigns(true);\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <BrowserRouter>\r\n      <AuthProvider>\r\n        <TicketsContextProvider>\r\n          <Switch>\r\n            <Route exact path=\"/login\" component={Login} />\r\n            <Route exact path=\"/signup\" component={Signup} />\r\n            <WhatsAppsProvider>\r\n              <LoggedInLayout>\r\n                <Route exact path=\"/financeiro\" component={Financeiro} isPrivate />\r\n\r\n                <Route exact path=\"/companies\" component={Companies} isPrivate />\r\n                <Route exact path=\"/\" component={Dashboard} isPrivate />\r\n                <Route exact path=\"/tickets/:ticketId?\" component={TicketResponsiveContainer} isPrivate />\r\n                <Route exact path=\"/connections\" component={Connections} isPrivate />\r\n                <Route exact path=\"/quick-messages\" component={QuickMessages} isPrivate />\r\n                <Route exact path=\"/todolist\" component={ToDoList} isPrivate />\r\n                <Route exact path=\"/schedules\" component={Schedules} isPrivate />\r\n                <Route exact path=\"/tags\" component={Tags} isPrivate />\r\n                <Route exact path=\"/contacts\" component={Contacts} isPrivate />\r\n                <Route exact path=\"/contacts/import\" component={ContactImportPage} isPrivate />\r\n                <Route exact path=\"/helps\" component={Helps} isPrivate />\r\n                <Route exact path=\"/users\" component={Users} isPrivate />\r\n                <Route exact path=\"/messages-api\" component={MessagesAPI} isPrivate />\r\n                <Route exact path=\"/settings\" component={SettingsCustom} isPrivate />\r\n                <Route exact path=\"/queues\" component={Queues} isPrivate />\r\n                <Route exact path=\"/reports\" component={Reports} isPrivate />\r\n                <Route exact path=\"/queue-integration\" component={QueueIntegration} isPrivate />\r\n                <Route exact path=\"/announcements\" component={Annoucements} isPrivate />\r\n                <Route\r\n                  exact\r\n                  path=\"/phrase-lists\"\r\n                  component={CampaignsPhrase}\r\n                  isPrivate\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/flowbuilders\"\r\n                  component={FlowBuilder}\r\n                  isPrivate\r\n                />\r\n                <Route\r\n                  exact\r\n                  path=\"/flowbuilder/:id?\"\r\n                  component={FlowBuilderConfig}\r\n                  isPrivate\r\n                />\r\n                <Route exact path=\"/chats/:id?\" component={Chat} isPrivate />\r\n                <Route exact path=\"/notifyMe\" component={Plantao} isPrivate />\r\n                <Route exact path=\"/files\" component={Files} isPrivate />\r\n                <Route exact path=\"/moments\" component={ChatMoments} isPrivate />\r\n                <Route exact path=\"/Kanban\" component={Kanban} isPrivate />\r\n                <Route exact path=\"/TagsKanban\" component={TagsKanban} isPrivate />\r\n                <Route exact path=\"/prompts\" component={Prompts} isPrivate />\r\n                <Route exact path=\"/allConnections\" component={AllConnections} isPrivate />\r\n                {showCampaigns && (\r\n                  <>\r\n                    <Route exact path=\"/contact-lists\" component={ContactLists} isPrivate />\r\n                    <Route exact path=\"/contact-lists/:contactListId/contacts\" component={ContactListItems} isPrivate />\r\n                    <Route exact path=\"/campaigns\" component={Campaigns} isPrivate />\r\n                    <Route exact path=\"/campaign/:campaignId/report\" component={CampaignReport} isPrivate />\r\n                    <Route exact path=\"/campaigns-config\" component={CampaignsConfig} isPrivate />\r\n                  </>\r\n                )}\r\n              </LoggedInLayout>\r\n            </WhatsAppsProvider>\r\n          </Switch>\r\n          <ToastContainer position=\"top-center\" autoClose={3000} />\r\n        </TicketsContextProvider>\r\n      </AuthProvider>\r\n    </BrowserRouter>\r\n  );\r\n};\r\n\r\nexport default Routes;\r\n","import React, { useState, useEffect, useMemo } from \"react\";\r\nimport api from \"./services/api\";\r\nimport \"react-toastify/dist/ReactToastify.css\";\r\nimport { QueryClient, QueryClientProvider } from \"react-query\";\r\nimport { ptBR } from \"@material-ui/core/locale\";\r\nimport { createTheme, ThemeProvider } from \"@material-ui/core/styles\";\r\nimport { useMediaQuery } from \"@material-ui/core\";\r\nimport ColorModeContext from \"./layout/themeContext\";\r\nimport { ActiveMenuProvider } from \"./context/ActiveMenuContext\";\r\nimport Favicon from \"react-favicon\";\r\nimport { getBackendUrl } from \"./config\";\r\nimport Routes from \"./routes\";\r\nimport defaultLogoLight from \"./assets/logo.png\";\r\nimport defaultLogoDark from \"./assets/logo-black.png\";\r\nimport defaultLogoFavicon from \"./assets/favicon.ico\";\r\nimport useSettings from \"./hooks/useSettings\";\r\n\r\nconst queryClient = new QueryClient();\r\n\r\nconst App = () => {\r\n  const [locale, setLocale] = useState();\r\n  const appColorLocalStorage = localStorage.getItem(\"primaryColorLight\") || localStorage.getItem(\"primaryColorDark\") || \"#065183\";\r\n  const appNameLocalStorage = localStorage.getItem(\"appName\") || \"\";\r\n  const prefersDarkMode = useMediaQuery(\"(prefers-color-scheme: dark)\");\r\n  const preferredTheme = window.localStorage.getItem(\"preferredTheme\");\r\n  const [mode, setMode] = useState(preferredTheme ? preferredTheme : prefersDarkMode ? \"dark\" : \"light\");\r\n  const [primaryColorLight, setPrimaryColorLight] = useState(appColorLocalStorage);\r\n  const [primaryColorDark, setPrimaryColorDark] = useState(appColorLocalStorage);\r\n  const [appLogoLight, setAppLogoLight] = useState(defaultLogoLight);\r\n  const [appLogoDark, setAppLogoDark] = useState(defaultLogoDark);\r\n  const [appLogoFavicon, setAppLogoFavicon] = useState(defaultLogoFavicon);\r\n  const [appName, setAppName] = useState(appNameLocalStorage);\r\n  const { getPublicSetting } = useSettings();\r\n\r\n  const colorMode = useMemo(\r\n    () => ({\r\n      toggleColorMode: () => {\r\n        setMode((prevMode) => {\r\n          const newMode = prevMode === \"light\" ? \"dark\" : \"light\";\r\n          window.localStorage.setItem(\"preferredTheme\", newMode); // Persistindo o tema no localStorage\r\n          return newMode;\r\n        });\r\n      },\r\n      setPrimaryColorLight,\r\n      setPrimaryColorDark,\r\n      setAppLogoLight,\r\n      setAppLogoDark,\r\n      setAppLogoFavicon,\r\n      setAppName,\r\n      appLogoLight,\r\n      appLogoDark,\r\n      appLogoFavicon,\r\n      appName,\r\n      mode,\r\n    }),\r\n    [appLogoLight, appLogoDark, appLogoFavicon, appName, mode]\r\n  );\r\n\r\n  const theme = useMemo(\r\n    () =>\r\n      createTheme(\r\n        {\r\n          scrollbarStyles: {\r\n            \"&::-webkit-scrollbar\": {\r\n              width: \"8px\",\r\n              height: \"8px\",\r\n            },\r\n            \"&::-webkit-scrollbar-thumb\": {\r\n              boxShadow: \"inset 0 0 6px rgba(0, 0, 0, 0.3)\",\r\n              backgroundColor: mode === \"light\" ? primaryColorLight : primaryColorDark,\r\n            },\r\n          },\r\n          scrollbarStylesSoft: {\r\n            \"&::-webkit-scrollbar\": {\r\n              width: \"8px\",\r\n            },\r\n            \"&::-webkit-scrollbar-thumb\": {\r\n              backgroundColor: mode === \"light\" ? \"#F3F3F3\" : \"#333333\",\r\n            },\r\n          },\r\n          palette: {\r\n            type: mode,\r\n            primary: { main: mode === \"light\" ? primaryColorLight : primaryColorDark },\r\n            textPrimary: mode === \"light\" ? primaryColorLight : primaryColorDark,\r\n            borderPrimary: mode === \"light\" ? primaryColorLight : primaryColorDark,\r\n            dark: { main: mode === \"light\" ? \"#333333\" : \"#F3F3F3\" },\r\n            light: { main: mode === \"light\" ? \"#F3F3F3\" : \"#333333\" },\r\n            fontColor: mode === \"light\" ? primaryColorLight : primaryColorDark,\r\n            tabHeaderBackground: mode === \"light\" ? \"#EEE\" : \"#666\",\r\n            optionsBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\r\n            fancyBackground: mode === \"light\" ? \"#fafafa\" : \"#333\",\r\n            total: mode === \"light\" ? \"#fff\" : \"#222\",\r\n            messageIcons: mode === \"light\" ? \"grey\" : \"#F3F3F3\",\r\n            inputBackground: mode === \"light\" ? \"#FFFFFF\" : \"#333\",\r\n            barraSuperior: mode === \"light\" ? primaryColorLight : \"#666\",\r\n          },\r\n          mode,\r\n          appLogoLight,\r\n          appLogoDark,\r\n          appLogoFavicon,\r\n          appName,\r\n          calculatedLogoDark: () => {\r\n            if (appLogoDark === defaultLogoDark && appLogoLight !== defaultLogoLight) {\r\n              return appLogoLight;\r\n            }\r\n            return appLogoDark;\r\n          },\r\n          calculatedLogoLight: () => {\r\n            if (appLogoDark !== defaultLogoDark && appLogoLight === defaultLogoLight) {\r\n              return appLogoDark;\r\n            }\r\n            return appLogoLight;\r\n          },\r\n        },\r\n        locale\r\n      ),\r\n    [appLogoLight, appLogoDark, appLogoFavicon, appName, locale, mode, primaryColorDark, primaryColorLight]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const i18nlocale = localStorage.getItem(\"i18nextLng\");\r\n    const browserLocale = i18nlocale.substring(0, 2) + i18nlocale.substring(3, 5);\r\n\r\n    if (browserLocale === \"ptBR\") {\r\n      setLocale(ptBR);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    window.localStorage.setItem(\"preferredTheme\", mode);\r\n  }, [mode]);\r\n\r\n  useEffect(() => {\r\n    console.log(\"|=========== handleSaveSetting ==========|\")\r\n    console.log(\"APP START\")\r\n    console.log(\"|========================================|\")\r\n   \r\n    \r\n    getPublicSetting(\"primaryColorLight\")\r\n      .then((color) => {\r\n        setPrimaryColorLight(color || \"#0000FF\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error reading setting\", error);\r\n      });\r\n    getPublicSetting(\"primaryColorDark\")\r\n      .then((color) => {\r\n        setPrimaryColorDark(color || \"#39ACE7\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error reading setting\", error);\r\n      });\r\n    getPublicSetting(\"appLogoLight\")\r\n      .then((file) => {\r\n        setAppLogoLight(file ? getBackendUrl() + \"/public/\" + file : defaultLogoLight);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error reading setting\", error);\r\n      });\r\n    getPublicSetting(\"appLogoDark\")\r\n      .then((file) => {\r\n        setAppLogoDark(file ? getBackendUrl() + \"/public/\" + file : defaultLogoDark);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error reading setting\", error);\r\n      });\r\n    getPublicSetting(\"appLogoFavicon\")\r\n      .then((file) => {\r\n        setAppLogoFavicon(file ? getBackendUrl() + \"/public/\" + file : defaultLogoFavicon);\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"Error reading setting\", error);\r\n      });\r\n    getPublicSetting(\"appName\")\r\n      .then((name) => {\r\n        setAppName(name || \"PLATAFORMA_CHAT\");\r\n      })\r\n      .catch((error) => {\r\n        console.log(\"!==== Erro ao carregar temas: ====!\", error);\r\n        setAppName(\"PLATAFORMA_CHAT\");\r\n      });\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const root = document.documentElement;\r\n    root.style.setProperty(\"--primaryColor\", mode === \"light\" ? primaryColorLight : primaryColorDark);\r\n  }, [primaryColorLight, primaryColorDark, mode]);\r\n\r\n  useEffect(() => {\r\n    async function fetchVersionData() {\r\n      try {\r\n        const response = await api.get(\"/version\");\r\n        const { data } = response;\r\n        window.localStorage.setItem(\"frontendVersion\", data.version);\r\n      } catch (error) {\r\n        console.log(\"Error fetching data\", error);\r\n      }\r\n    }\r\n    fetchVersionData();\r\n  }, []);\r\n\r\n  return (\r\n    <>\r\n      <Favicon url={appLogoFavicon ? getBackendUrl() + \"/public/\" + appLogoFavicon : defaultLogoFavicon} />\r\n      <ColorModeContext.Provider value={{ colorMode }}>\r\n        <ThemeProvider theme={theme}>\r\n          <QueryClientProvider client={queryClient}>\r\n            <ActiveMenuProvider>\r\n              <Routes />\r\n            </ActiveMenuProvider>\r\n          </QueryClientProvider>\r\n        </ThemeProvider>\r\n      </ColorModeContext.Provider>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import React from \"react\";\r\nimport ReactDOM from \"react-dom\";\r\nimport CssBaseline from \"@material-ui/core/CssBaseline\";\r\nimport * as serviceworker from './serviceWorker'\r\n\r\nimport App from \"./App\";\r\n\r\nReactDOM.render(\r\n\t<CssBaseline>\r\n\t\t<App />\r\n\t</CssBaseline>,\r\n\tdocument.getElementById(\"root\"),\r\n\t() => {\r\n\t\twindow.finishProgress();\r\n\t}\r\n);\r\n\r\nserviceworker.register()","export function register() {\r\n  console.log(\"Registrando service worker\", navigator)\r\n  if ('serviceWorker' in navigator) {\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      navigator.serviceWorker.register(swUrl)\r\n        .then((registration) => {\r\n          console.log('Service worker registrado com sucesso!', registration);\r\n        })\r\n        .catch((error) => {\r\n          console.error('Erro durante o registro do service worker:', error);\r\n        });\r\n    });\r\n  }\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready\r\n      .then((registration) => {\r\n        registration.unregister();\r\n      })\r\n      .catch((error) => {\r\n        console.error('Erro durante o desregistro do service worker:', error);\r\n      });\r\n  }\r\n}\r\n","module.exports = __webpack_public_path__ + \"static/media/favicon.26bbeae4.ico\";","module.exports = \"data:image/png;base64,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\"","module.exports = __webpack_public_path__ + \"static/media/planilha.549edeba.xlsx\";","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAABO1JREFUWIXFl2tsFGUUht9vdqZ76Wy3WboFWmiXUisiKPxQsVLlbg0SRCFppAQMf5AIBEmJgiLGgAgGJAG1UQFLsAYVopEIyC3UAoJosZYtFLq0S7fTli4ze+nsZWY+fzRbumXpLUDfP5Occ77zPpk5OfmGoJdav79qyI1GeU2zFJnqbJEzPf6IUWpTGaE4NwJABHADQAUh5EQ4HD5ks9l8velLeipY8+1/k8/Xil+eq/E/4g8qZEHeYOwta+rIi7smxjvWBqCUEPKJxWKp6a4/c6+Ey+Uylv17s/iPK+LxY5ViTlaqnhTNGo4P5tqx4qVhSLfqu+trArCYUloliuJmSqnhXoVsvGD5ZWGM2Wwoddd6xpRflQAAla4AlkxPR4qZA6UUDZ4QAMC3fmd3IByAIknyzXctXjtn+DcbzvcIULTn0mulZY0l15pk04TsJKgaBQBQCtTfCmLutipkpRo76gOflXQHEFWazmY941r58bzh29492DkRMwPv7XVM+vz3uuO3AwqTZGThlRVQ2qmYAF3j1QdW9QYAAKAblKzqZ0+bkLFrw1/RWMcMbNp/3XLgfOMhj19hKAXefzUTevbuEflwnj0Gqi9SW0Vd5M+KU9c3FVuisY5PcFP0/nClUTalW/XYvjAbzz9mwZQxyVjzvROHKzzIzUnCp4XZeDTNiJyhJqzYU4MaQYbhlal95UjkKN0JoLAD4HSl64lpH1VOV7X24fr6ZCPG2XlcrPXjcIUHAHDmqhenLotItXAoLW9CjSADAJL3bOzPy5jtX1Y4hOd5gQGAfWUtX1n5O/Pok1WMLbqA/eeaY06dqLqN0asuwNUa6o9pZ/GKoqwDANLa2po0atVFscUbjhnIJzN5XKrz33Wya/wei6g3CkQikaEsy7IzC3Jt5LRDQmV9AFaexbBBemwsyMLGg3VoksKoEWTYbQakmDlsKRyJlSXXIIhhCGIYkYrq/gIkanLodZZSOmX1rAw4GqqhUQpfUMWCvMHIzUnC5vkjUbjDAQAIRjRsKBiB8XYey/PTsWz3NQBA66SF/QWAPn/icvbXvz15Vp5F+ZX2jReKaPjH6cc+rgkGjkFtc/uwCWIYVa4AHA1tcDYHEQip/TaOSnUJGcS26IgqtamMgSPwyu1NU8wcbvkiHc+o4sX7soi6ikm1aqzUpjBhhSKs3ElEm3c27y7eX2mSnyGiKIYAJNyXjn1XiAHgHSBzAJAYAM4BBKhlAFQMIMAlNrB1tzv4y6kBcTfMfMHNkiTTDvW6a53mC/R4P7yfYngTZRLZLwgA3JjxhiN49MyohwlgmPGcw35012gGAHTPjF+CBO6hmZMEDrrHs98EOl3JGj/fV0pMhoKHAaD55e/S3iqcHwNAKTVIknQSwIQH7H/WYrFMJoSEgE53QkJIkGXZOQBcD8qZEOJWFGVe1DwGAAB4nhc0TXsZwM0H4O9SVTU/JSWlIQYqXqXP57MFfjxyXK1zj70fzow93WGe++IUnueFrrm4f0Zms7lFKDnyrFLt/Fn+6ehURJR4ZT2KsDok5Oed442JM3iej/uz2uPyqV/0zlOa118cOnZ2HPX6e7WsmEQjTZj0dBUzOntpxpbVZd1C9qYhADiXrh/CULyt1bvz1Tr3CCr6jJpH1AEAY01WSbJZ1mWmOdnMtN8iHLc1a/vapp56AsD/o4kZCk0YxLwAAAAASUVORK5CYII=\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAnBJREFUWIXFl81LVFEYh5/33BklRiUozEg3NY7aEC4q+8IIQm0h9A/UfxCEQhuhRVQUBCPUn1D7Fm1KN31AX7ZIY2pmtLJSSyko8ZLNeO/bohmxyZrbcGfub3fveTnPc87iPecIHpOirR44Jmi3IvuArcCm/PAXReYEfQI8cAjdjpNc8jKvlCpIEo9arAwCJ4B6j76LwA0LJ9HK1OuyBD7QvMEmMgScAWo9gouzDFyJYF9qYea7Z4FJos0O1k1gT5ng4oy7mOM7efWupECaWKciI0CjT/BCPinS20HqxV8F8it/BDT7DC9kzsUcXLsTqwKTRGsdrDFgV4XghYw7hLriJLMApvDXwTpbBThAp8EZKnwIQIbYdhdJAeEqCADkFIl1kJo2AA5msIpwgLDBHQQQTR6pW0jYo+LqRqmVOqmRBglLBFHLV6SKozm1NauL+kOX1JKvjQORHtHM0X6QW77CvKffgPQGBAe0x+BftyuDb/YaoCkwAdEmg/8t93+yxZSuqWjUAPMBCswHK6Ayb4BngQmIO2ZARwITQEZD5Jy7Cwn7cUCt+J4ApIldU+SUr8DSudpO+rQBEBgGclWEZxUZhvyFJEbmDXC5WnRBL3aQml4VAHAIXQAmqsB/vkJ4dbHrXUofAi0Vgs+6mENrL6W/teJWpmaAfkEr0Zw+Olh9xW+DP86CdtITwG78bVDjDqH9cV4miwfWPYzayMxGsA8D5/n1vCo3y4qci2AfiJN8v15BycfpJNEdK4QGBD0JNHgEfxP0uiKJdtJv/1VYUqCQJPE6g9MnaDfQBWwDNueHPwOzwFNF7mepudPJhO1l3p856tXcLIkKCgAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAACXBIWXMAAADsAAAA7AF5KHG9AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAA6hJREFUWIW9l09sFFUcxz9vZtrZ/sliDZjWrIatW7btilVJGyFIgNhiWi5STTQmHtR4hJugh8aoUcuBgFfRm3oQOCEpFyFaQwNEsHbdLUvamiKs2lIK7brbnZnnYWfXaXea3e62/Z7e/N683+c7yZvf+z1BkYoR8BpoPQK5F2gDNgMP2dP3gAmJuK5g/SAR3zcz+qCYvKLQCxGatwjkYeBVoLpIvwngWwulv5VIrCQDk/iqElR/JBGHAK1I8FKlgeM6qT4/E8miDfxOS5OCdQZ4skTwEogcMlEPtBK5U9BAjMAzJup5YNNqwB26BfQ0Mzq8rAH7y39eA3jOhInWHiIczwaU7GCczR4F67s1hAP4VIyzk/iq8gwsUPkxmd9rrbVtjtoj2QcBuV8tTOm7faWaM9GaQoTjSsaFPLyOcIBaFaMPQMQIeE3UO7gUGVGlo+/bidb6BAiBER0nNfATcv7f1TAxDzRodnnNg+v7duI98R5q/UZkaoHUwCBYFlqjj+TZixiRsXIN1Ahkt2bX9sXwzh3UfXMUVBVjJMbM6+9i/nG7XKCb9ios3fkenQ2fvw+qinV3lpneQ8vC9e5d5Rp4SgP8i5K+sB2lIVMKEl+dwfxretnVVb2daI83YCWSyL+nSQ4MroguEY0a4HUGK0KB3Dh9ZcR1oVq/EX3/birat+Lp7cIYHmW68+0VwW1tUAq/U1hSlr5WAe47A+mR/4/vio6trovM+BSJk6dIXx3hwZFjJL48TeXujlL4syJK8DLQno0Ij86mX06hPPoI1sx9pre/hhmfcl2td+8ide7HUsAZFnJIkYjrzqBMppg9+AmYJkqdl7rTJ1D9PtcE5cABJOJX9SAP14B42Tlhjt0ifS2C/vw21MbHqH7zAJVtQbSgn8rn2rDuzmJN3SsLbuuoCBOqVTHiQE3etEfH07UDLRTIlOLIGKnzg8iEa3e1Us2baPUCIErwJPDWamQtVhLxRQvRdxQAC6WfTAO5XlpQsT4DuyGxW+fj60WXiGNbuDGWMwCgk+oTyKF14F/SMD7IPuQM+JlIGlS8BEyuIfy2QL7SxM1UngEAu1vdT6aFXm1NSsSLQW786QzmnQXNjA6rmM9KRHlVZrEumWgdLUR/Wzrhehg1cfMfDaNLIj4k0zqVqgWB/FTF3OO8CzhV8HIaJlRvN5Bv4Fas3DUvkF8L6M/u9uVU0IDDSK1Gukci9kjE0wLpx3E9l4hxgbwGXDDRzoUIzxWT9z8sAjFZ82XkMQAAAABJRU5ErkJggg==\"","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAgAAAAIACAMAAADDpiTIAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAABFWAAARVgEAHlmhAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAtxQTFRF////R1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTR1mTULm9ygAAAPN0Uk5TAAECAwQFBgcICQoLDA0ODxAREhQVFhcZGhscHR4fICEiIyQlJigpKissLS4vMDEzNDU3ODo7PD0+P0FCQ0RGR0hJSktMTU5QUVJTVFVWV1hZWltcXV5fYWJlZmdoaWprbG1ub3BxcnN0dXZ3eHl6e3x9fn+AgYKDhIWGh4iJiouMjY6PkJGSk5SVlpeYmZqbnJ2en6ChoqOkpaanqKmqq6ytrq+wsbKztLW2t7i5uru8vb6/wMHCw8TFxsfIycrLzM3Oz9DR0tPU1dbX2Nna29zd3t/g4eLj5OXm5+jp6uvs7e7v8PHy8/T19vf4+fr7/P3+Oq6zpQAADphJREFUeNrtnX1wVNUZh9+9WUKwG74cLQkhKCBERFFAEwq0YoE6wRqIAoKtFAa1zlB1/ENErFhmFK2UqkWHQaV+VKifEAcQBQXJxCSAEkzEACYGjIQJGooJIWCS7R8gAmazd8Pu9d7zPs/ojGM29+59z3N+7zmb3bs+aSu+lF6905ICgcRAYiBewHmO1dXW1dbVVZWWlVcG2zyMbfqlARnp/fqewxC4hvpdOwsLSoKOCJCWMfLqrpTchdRs3FBQGmMBBkyYnESlXUzV8jeKYybAL8fdchkldj3FL6/YHwsBfjNzdBzV9QTN7y/6IMoC+MbcN4TCeohtj73THD0B4n4/awA19Rif/31lY5QEGPPoRdTTg5TPXhMNAXo+eh219Chr7/0ybLqH+Xn7O1+6hEJ6lT7Tmj5pOqsEGPEk6e9tvrgzt+0J4J/z9LmU0Nt0ndIur7mNCZC8dBgFNID86ZWhf2iF/tHIjxh/IxiaN7oNLcC6fxF/7jOEDpMScoMRtoD2i2+kcAaRM6MhIgES/3MNRTOKTVMORSDAeW9eQckMY3t2tW0BLljRh4IZR9m4CpsCXPAeb/owkaoxFbYEOP+93hTLzAwYU23jdYBObzH+htL7rU7hBUhYNpBKmcrAZQln/q8zXwiK+/fvqJO59OyXE2xdgIemUSWTSYvf2OoicPRb1Mhwste1IkBKHh/5MJ2aYZUhF4H+pYy/8XRd6g+5BnhgEvUxnx5xH4ZoASNW+yiPAoJjc1sUoH0+7//Twe6hR1tqATMnUBodnPtdYQsJkLq1A6VRwpEhe3+6C5jP+Kuhw/yfbgNHXU9d9HD9qDNbgFWYRlkUUZrefHoCZDL+qkjLPCMBci+nKKooGnFaAoxi/JVx+ajTBJhFRbQx61QBhmVQEG1kDDtFgJnUQx8zf1wEnrfLTz3U0dj3wA8JkMX4K8SfdbIFTKUaGpn6gwD92QPq3An2PyHARGqhk4knFoE7k6mFSvb1E7FE0hh/pSSniVgivAiklgwRS2QkhdDKSBGf+Cr4MIBWai4IWjKA8VdL1wFisQTQvQiwJJ0y6CVdLOlHGfTST3y+/dwQVC/13awUxl8x56RYvaiCZnpZ3BJMNb0tPg+gmjSLm4KqJskKUATNBBBAuwCJFEEziSQACQAkAOhNgHiKoJl4ixroBgEQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQAAyDuwTHgsaD9fWHT/zTFOHvdhx0RUcE8Cj1e/fs2VP59ddVTWdzFF/vIX9z7N6NvlqGLRoEd27eUrznm2gdrsv8mxHAM3y1eUtR8XdRPui1S7oggAc4uHrVluqYHDnzVQRw/dTPWV3QGLOjL5mMAG6mZOXa7TE9QdfCbgjgVv639KWymJ/k5sVsA91J8aKV9Q6c5hNagBtpXLkk35kzxVV1IAHcxoElL+1z6lxNRUMRwF3U/+OZOgdPtw0BXEXTC4/ud/SETrRnBLDNmrmlBl4VAthdkt+fZ+R1IYAtDt3zelAQQC0b76g09dJ4R1B4jt2bZez4kwDh+ezWYoOvjgQIQ/Cpq00efxIgDNXTNpl9gQjQKruzKwy/QlpAaxSMNn38EaA13s76VhBAL4tvqTf/IlkDhGTOUxquEgFC0HTr6yqukxYQgtt1jD8ChGD2q4IAinlikSCAYpY9KAigmHdnBhFAMZunfi8IoJeyiYcFAfTy/bRvBQEUM3ebIIBiNj4tCKCYg7c3I4Bm7tgnCKCYpasFARSze44ggGZuq0MAzby6VRBAMQ3zBAE088ReBNBM9b8EATTz4HcIoJmS/woCaGZWEwJo5t1NggCa+acggOoVQB4CqOYpQQDN1KxEANU8ewQBNNP0giCAZlZUIoBqFgsCaKaoEAFUs0wQQDXvIoBqSspd+sQSEMCZPYBbn9hlCOAIa136vHyDEMAJ9nzq0id2YScEUN0BBrIIdAS3fhosYTYCOMGBLS59YrMuRgAnWOXS9wJeeQ+vAzjCR+58WgOetxDAEba78Un57950oUNn0j7+dTvd95zaDXx8iGOqaRdgq6O3hPElduycGLBEfHLy31P+U3wigUGDL23vYNZoF2CzI2dJvjK9e+fOnbt0cl3LVS/AxzGf9GmDhw/v6drrVy9AUWzX2Jl/+FUXV1+/dgGqYnlXMCvrvv5uL4B2AWK4BPCPv6+v+wuAALHixr/28kIBtAtQEqv0n3eXNwqgXYCvY3PY9otvFATwArH5REiXV0YIAniBb2Ly3RApb/YXBPAEe2Jx0IScvt6pgIUAUeduD40/AkSfi+8VBFAsgPVkOwTQvAn441BBAM9QFfUjnjtfEEBzAmQmIoB3OFwT9UPeJAjgHaJ/e+huwxHAQ0T/3mDXWQjgIeqjfsRJggCaBeiRgQCqBUgXBFAtQB8E0C1AGgLoFqAfAqgWwLoIAVQLkNoeAVQL0EsQwFNE+5XA7gjgLaL90fAAAujmFwiAAAiAAAiAAAiAAAiAAAigjAQE0I0PAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABAAEAAQABwBZ+ky7m4NZ9kf3C51F+AmsronKY83v0ceyrJ3y1poz+8jWflhujcuC3069BgEjYd8cHhmXzbY+2Yw1gm1cyTBt/WTKqggSwy4pbTFyfdV59GQLY4purDhi5Qs9YRwuwxUwzx18KXicBbG2+Jpi6Se/xcQcSIDzvmzr+8tXztAAbfGqsAJKPAOEJfmauAJ8hQHjKDpkrwGEECM+35o6/xCGAjY2MwQIEEEC3AEkIoFuAZATQsZMNRU+qpzsBUhEAARAAARBAqQBWCgKoFqCbHwFUCxD7XSACuJruCKBbgBQE0C1AKgIgAAIgAAKYfgkIQAK0RMfOCKBaAAd2gQjgZpIQQLcAyQigW4CeCKBbgFQEQAAEQAAEUCpAHNtA3QIkxSGAagGc2AXytwAX053q6U6AFATQLUAqAiAAAiAAAiAAAmgUoHNHBFAtgCO7QARwL0kIoFuAZATQLUBPBNAtQCoCqLkEBCABEAABTsfPIlC3AMkWAugWgBWUbgG6I4BuAVIQQLcAqQiAAAiAAAiAAAigUYCuAQRQbYBDu0AEcCtJCKBbgGQE0C1ATwTQLUAqAiAAAiAAArioVk4Szy7APpcaKEB/HwLY5goDBcgUBLDNYAMFGI8A9rnyQuPGv28aAtgn4RnjPhowRxAgAobPMGz8/5zt3B661oSCNfxmh0njn/GOnwSIrAl8MM2gV4Oyljs3/oYkgIh8+JcvzbiQixZc4+TpjBFA6nO3FpVUevsaki6+ZFBWO0GANnMsGNHDC8dG9/R/WnB2gxHvfMX8Ro2/xMf04eGr2d5zFTP4S/dsEIzy8Ty4EtUtACAAAtACaAFAApAAJACQACQACQAkAAlAAgAJAAhAC6AFAAlAApAAQAKQACQAkACAALQAWgCQACQACQAkAAlAAgAJQAKQAEACAALQAhAAEIAEQABAABIAAQABAAFoAQgACEACIAAgAAmAAIAAJAACAAIAAtACEAAQgARAAEAAEgABAAEAAWgBCAAIQAIgACAACYAAgAAkAAIAAgAC0AIQABCABEAAQAASAAEAAQABaAEIAAhAAiAAIAAJgACAAD8fJIDyFkACAAKwCEQAQAASAAEAAUgABAAEAASgBSAAIAAJgACAACQAAgACAALQAhAAEIAEQABAABIAAQABSAAEAAQABKAFIAAgAAmAAIAAJAACAAIAAtACEAAQgARAAEAAEgABICoCHCMBNCfAMauOSaCZOquWImimVncC0AJIABKABNCdACwClS8Cq0gAzQlQZZUyCzRTapVRBM2UWeW0AM0toNyqrGca6KW+0gruIgH0JsCuoCU7mQd62SmWFJIAehOgUCwpYB7opUAsKakhAbQmQE2JWBLcyETQysagWCIbKIRWNohYonkRoL0FFIhYIqX7mAo62Vd6/F3By0kAnQmwXI4L8BpzQSevnRBgRxEJoDEBinacEEBeZDJo5EX5QYCcRqqhj8ackwIcWEsL0NcC1h44KYAsYj7o4/igHxcgr4AE0JYABXmnCCCPMSG0cWLITwiwvogE0JUARetPE4AIUBoAJwVYU0oCaEqA0jVnCNA8m0mhidnNZwgg69+mKnp4e72cKYDMPkIL0NICjvyY9z8KsPdhJoYWHt7bggCyeDcJoCMBdi+WlgQ4eleQuaFC+7uOtiiA5C4gATQkwIJcaVkAeSSf6WE++Y9IKAEap9dQH9Opmd4YUgCpnEELML0FzKiU0ALIuoVMEbNZuE5aE0Dm5ZAAJidAzjxpXYCmGZuYJeayaUZTGAGkYcp2EsDUBNg+pUHCCSCHsrlxmKGUZR+S8AJI9bgqEsDEBKgaVy12BJCKMWSAifN/TIXYE0AqxmynXqaxvcXxD/GdQdVjdewFFLWATWOrxb4AcuiGHOaMSeTccEgiEUAapi4kAcxJgIVTGyQyAaRpbjZ/GTKEmuy5TRKpACLrhuWTACYkQP6wdaF/2NoXR1ZmPs57hLwv+eOZldI2AaRx3tjdVNDbfDF2Xqt3fwjz1bG5Qx8w+d3ixreAhrkZua0/Itx3Bx99cgifGPEsa69aeFTOTgCRvTePLyUBvJgA5ZMmfBn2QXa+PXx9+uQiZpPX+Hza4DU2Hmbr6+ObV40YX0ACeCkBtt2U8YatW39ZNg+4fvS1q7iXmEdoXpf169XN9h7rt33UvLzzsqZeTgK4PgGKX16x3/6j/REc+cBzz/WfODmZGeZiqpa/URzRL/gjO/6Ohx5Kyxh5dVcq7UJqNm4oiHjD5o/4NKWlL/gGZKT363sOLcA1LaB+187CgpK2XI6/TXUrLn5WfCm9eqclBQKJgcRAPNPvZ+BYXW1dbV1dVWlZeWWbVf4/O3cEtZePVasAAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/sound.9fd5812c.mp3\";","module.exports = __webpack_public_path__ + \"static/media/chat_notify.2529c259.mp3\";","module.exports = \"data:image/png;base64,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\"","module.exports = \"data:image/jpeg;base64,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\""],"sourceRoot":""}